var GSVPANO=GSVPANO||{};GSVPANO.PanoLoader=function(e){"use strict";var t,i,a=e||{},r=new google.maps.StreetViewService,n=0,o=0,s=[],l=[],h=0,c=0,f=0,u="",d=[1,2,4,7,13,26],p=[1,1,2,4,7,13],m=[416,832,1664,3328,6656],E=[416,416,832,1664,3328],v=null;try{var g=document.createElement("canvas");v=g.getContext("experimental-webgl"),null==v&&(v=g.getContext("webgl"))}catch(y){}var T=1024,x=1024;if(v){var R=v.getParameter(v.MAX_TEXTURE_SIZE);console.log("MAX_TEXTURE_SIZE "+R),T=x=R}this.setProgress=function(e){this.onProgress&&this.onProgress(e)},this.throwError=function(e){this.onError?this.onError(e):console.error(e)},this.adaptTextureToZoom=function(){var e=416*d[t],i=416*p[t];e=m[t],i=E[t],h=Math.ceil(e/T),c=Math.ceil(i/x),s=[],l=[];for(var a=0,r=0;c>r;r++)for(var n=0;h>n;n++){var o=document.createElement("canvas");o.width=h-1>n?T:e-T*n,o.height=c-1>r?x:i-x*r,console.log("New canvas of "+o.width+"x"+o.height),s.push(o),l.push(o.getContext("2d")),a++}},this.composeFromTile=function(e,t,i){e*=512,t*=512;var a=Math.floor(e/T),r=Math.floor(t/x);e-=a*T,t-=r*x,l[r*h+a].drawImage(i,0,0,i.width,i.height,e,t,512,512),this.progress()},this.progress=function(){n++;var e=Math.round(100*n/o);this.setProgress(e),n===o&&(this.canvas=s,this.panoId=i,this.zoom=t,this.onPanoramaLoad&&this.onPanoramaLoad())},this.loadFromId=function(e){i=e,this.composePanorama()},this.composePanorama=function(){this.setProgress(0);var e,r,s,l=d[t],h=p[t],c=this;n=0,o=l*h;for(var c=this,s=0;h>s;s++)for(var r=0;l>r;r++){var e="https://cbks2.google.com/cbk?panoid="+i+"&output=tile&zoom="+t+"&x="+r+"&y="+s+"&"+Date.now();e="https://geo0.ggpht.com/cbk?panoid="+i+"&output=tile&x="+r+"&y="+s+"&zoom="+t+"&nbt&fover=2",function(t,i){if(a.useWebGL)var r=THREE.ImageUtils.loadTexture(e,null,function(){c.composeFromTile(t,i,r)});else{var n=new Image;n.addEventListener("load",function(){c.composeFromTile(t,i,this)}),n.crossOrigin="",n.src=e}}(r,s)}},this.load=function(e){var t=this,i="https://maps.google.com/cbk?output=json&hl=x-local&ll="+e.lat()+","+e.lng()+"&cb_client=maps_sv&v=3";i="https://maps.google.com/cbk?output=polygon&it=1%3A1&rank=closest&ll="+e.lat()+","+e.lng()+"&radius=350";var a=new XMLHttpRequest;a.open("GET",i,!0),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var i=JSON.parse(a.responseText);t.loadPano(e,i.result[0].id)}},a.send(null)},this.loadPano=function(e,t){var a=this;r.getPanoramaById(t,function(t,r){if(r===google.maps.StreetViewStatus.OK){a.result=t,a.onPanoramaData&&a.onPanoramaData(t);var n=google.maps.geometry.spherical.computeHeading(e,t.location.latLng);f=(t.tiles.centerHeading-n)*Math.PI/180,u=t.copyright,a.copyright=t.copyright,i=t.location.pano,a.location=e,a.composePanorama()}else a.onNoPanoramaData&&a.onNoPanoramaData(r),a.throwError("Could not retrieve panorama for the following reason: "+r)})},this.setZoom=function(e){t=e,console.log(e),this.adaptTextureToZoom()},this.setZoom(a.zoom||1)};var GSVPANO=GSVPANO||{};GSVPANO.PanoDepthLoader=function(e){"use strict";this.load=function(e){var t,i=this;t="http://maps.google.com/cbk?output=json&cb_client=maps_sv&v=4&dm=1&pm=1&ph=1&hl=en&panoid="+e,$.ajax({url:t,dataType:"jsonp"}).done(function(t){var a,r;try{a=i.decode(t.model.depth_map),r=i.parse(a)}catch(n){console.error("Error loading depth map for pano "+e+"\n"+n.message+"\nAt "+n.filename+"("+n.lineNumber+")"),r=i.createEmptyDepthMap()}i.onDepthLoad&&(i.depthMap=r,i.onDepthLoad())}).fail(function(e,a,r){console.error("Request failed: "+t+"\n"+a+"\n"+r);var n=i.createEmptyDepthMap();i.onDepthLoad&&(i.depthMap=n,i.onDepthLoad())})},this.decode=function(e){for(var t,i,a,r;e.length%4!=0;)e+="=";for(e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/"),i=$.base64.decode(e),r=zpipe.inflate(i),a=new Uint8Array(r.length),t=0;t<r.length;++t)a[t]=r.charCodeAt(t);return a},this.parseHeader=function(e){return{headerSize:e.getUint8(0),numberOfPlanes:e.getUint16(1,!0),width:e.getUint16(3,!0),height:e.getUint16(5,!0),offset:e.getUint16(7,!0)}},this.parsePlanes=function(e,t){var i,a,r,n=[],o=[],s=[0,0,0];for(i=0;i<e.width*e.height;++i)o.push(t.getUint8(e.offset+i));for(i=0;i<e.numberOfPlanes;++i)r=e.offset+e.width*e.height+4*i*4,s[0]=t.getFloat32(r,!0),s[1]=t.getFloat32(r+4,!0),s[2]=t.getFloat32(r+8,!0),a=t.getFloat32(r+12,!0),n.push({n:s.slice(0),d:a});return{planes:n,indices:o}},this.computeDepthMap=function(e,t,i){var a,r,n,o,s,l,h,c=null,f=[0,0,0],u=e.width,d=e.height;for(c=new Float32Array(u*d),r=0;d>r;++r)for(a=0;u>a;++a)n=t[r*u+a],o=(u-a-1)/(u-1)*2*Math.PI+Math.PI/2,s=(d-r-1)/(d-1)*Math.PI,f[0]=Math.sin(s)*Math.cos(o),f[1]=Math.sin(s)*Math.sin(o),f[2]=Math.cos(s),n>0?(l=i[n],h=l.d/(f[0]*l.n[0]+f[1]*l.n[1]+f[2]*l.n[2]),f[0]*=h,f[1]*=h,f[2]*=h,c[r*u+(u-a-1)]=Math.sqrt(f[0]*f[0]+f[1]*f[1]+f[2]*f[2])):c[r*u+(u-a-1)]=1e19;return{width:u,height:d,depthMap:c}},this.parse=function(e){var t,i,a,e,r=this;return t=new DataView(e.buffer),i=r.parseHeader(t),a=r.parsePlanes(i,t),e=r.computeDepthMap(i,a.indices,a.planes)},this.createEmptyDepthMap=function(){for(var e={width:512,height:256,depthMap:new Float32Array(131072)},t=0;131072>t;++t)e.depthMap[t]=1e19;return e}},!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=rt.type(e);return"function"===i||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,i){if(rt.isFunction(t))return rt.grep(e,function(e,a){return!!t.call(e,a,e)!==i});if(t.nodeType)return rt.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ut.test(t))return rt.filter(t,e,i);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==i})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function n(e){var t=Tt[e]={};return rt.each(e.match(yt)||[],function(e,i){t[i]=!0}),t}function o(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(o(),rt.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var a="data-"+t.replace(wt,"-$1").toLowerCase();if(i=e.getAttribute(a),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:_t.test(i)?rt.parseJSON(i):i}catch(r){}rt.data(e,t,i)}else i=void 0}return i}function h(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,i,a){if(rt.acceptData(e)){var r,n,o=rt.expando,s=e.nodeType,l=s?rt.cache:e,h=s?e[o]:e[o]&&o;if(h&&l[h]&&(a||l[h].data)||void 0!==i||"string"!=typeof t)return h||(h=s?e[o]=Y.pop()||rt.guid++:o),l[h]||(l[h]=s?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(a?l[h]=rt.extend(l[h],t):l[h].data=rt.extend(l[h].data,t)),n=l[h],a||(n.data||(n.data={}),n=n.data),void 0!==i&&(n[rt.camelCase(t)]=i),"string"==typeof t?(r=n[t],null==r&&(r=n[rt.camelCase(t)])):r=n,r}}function f(e,t,i){if(rt.acceptData(e)){var a,r,n=e.nodeType,o=n?rt.cache:e,s=n?e[rt.expando]:rt.expando;if(o[s]){if(t&&(a=i?o[s]:o[s].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in a?t=[t]:(t=rt.camelCase(t),t=t in a?[t]:t.split(" ")),r=t.length;for(;r--;)delete a[t[r]];if(i?!h(a):!rt.isEmptyObject(a))return}(i||(delete o[s].data,h(o[s])))&&(n?rt.cleanData([e],!0):it.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function u(){return!0}function d(){return!1}function p(){try{return pt.activeElement}catch(e){}}function m(e){var t=zt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function E(e,t){var i,a,r=0,n=typeof e.getElementsByTagName!==bt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==bt?e.querySelectorAll(t||"*"):void 0;if(!n)for(n=[],i=e.childNodes||e;null!=(a=i[r]);r++)!t||rt.nodeName(a,t)?n.push(a):rt.merge(n,E(a,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],n):n}function v(e){At.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function T(e){var t=qt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,a=0;null!=(i=e[a]);a++)rt._data(i,"globalEval",!t||rt._data(t[a],"globalEval"))}function R(e,t){if(1===t.nodeType&&rt.hasData(e)){var i,a,r,n=rt._data(e),o=rt._data(t,n),s=n.events;if(s){delete o.handle,o.events={};for(i in s)for(a=0,r=s[i].length;r>a;a++)rt.event.add(t,i,s[i][a])}o.data&&(o.data=rt.extend({},o.data))}}function b(e,t){var i,a,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[rt.expando]){r=rt._data(t);for(a in r.events)rt.removeEvent(t,a,r.handle);t.removeAttribute(rt.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,T(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&At.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function _(t,i){var a,r=rt(i.createElement(t)).appendTo(i.body),n=e.getDefaultComputedStyle&&(a=e.getDefaultComputedStyle(r[0]))?a.display:rt.css(r[0],"display");return r.detach(),n}function w(e){var t=pt,i=Jt[e];return i||(i=_(e,t),"none"!==i&&i||($t=($t||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=($t[0].contentWindow||$t[0].contentDocument).document,t.write(),t.close(),i=_(e,t),$t.detach()),Jt[e]=i),i}function H(e,t){return{get:function(){var i=e();return null!=i?i?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function M(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),a=t,r=ui.length;r--;)if(t=ui[r]+i,t in e)return t;return a}function S(e,t){for(var i,a,r,n=[],o=0,s=e.length;s>o;o++)a=e[o],a.style&&(n[o]=rt._data(a,"olddisplay"),i=a.style.display,t?(n[o]||"none"!==i||(a.style.display=""),""===a.style.display&&St(a)&&(n[o]=rt._data(a,"olddisplay",w(a.nodeName)))):(r=St(a),(i&&"none"!==i||!r)&&rt._data(a,"olddisplay",r?i:rt.css(a,"display"))));for(o=0;s>o;o++)a=e[o],a.style&&(t&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=t?n[o]||"":"none"));return e}function C(e,t,i){var a=li.exec(t);return a?Math.max(0,a[1]-(i||0))+(a[2]||"px"):t}function A(e,t,i,a,r){for(var n=i===(a?"border":"content")?4:"width"===t?1:0,o=0;4>n;n+=2)"margin"===i&&(o+=rt.css(e,i+Mt[n],!0,r)),a?("content"===i&&(o-=rt.css(e,"padding"+Mt[n],!0,r)),"margin"!==i&&(o-=rt.css(e,"border"+Mt[n]+"Width",!0,r))):(o+=rt.css(e,"padding"+Mt[n],!0,r),"padding"!==i&&(o+=rt.css(e,"border"+Mt[n]+"Width",!0,r)));return o}function L(e,t,i){var a=!0,r="width"===t?e.offsetWidth:e.offsetHeight,n=ei(e),o=it.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,n);if(0>=r||null==r){if(r=ti(e,t,n),(0>r||null==r)&&(r=e.style[t]),ai.test(r))return r;a=o&&(it.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+A(e,t,i||(o?"border":"content"),a,n)+"px"}function k(e,t,i,a,r){return new k.prototype.init(e,t,i,a,r)}function D(){return setTimeout(function(){di=void 0}),di=rt.now()}function P(e,t){var i,a={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Mt[r],a["margin"+i]=a["padding"+i]=e;return t&&(a.opacity=a.width=e),a}function F(e,t,i){for(var a,r=(yi[t]||[]).concat(yi["*"]),n=0,o=r.length;o>n;n++)if(a=r[n].call(i,t,e))return a}function z(e,t,i){var a,r,n,o,s,l,h,c,f=this,u={},d=e.style,p=e.nodeType&&St(e),m=rt._data(e,"fxshow");i.queue||(s=rt._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,rt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],h=rt.css(e,"display"),c="none"===h?rt._data(e,"olddisplay")||w(e.nodeName):h,"inline"===c&&"none"===rt.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==w(e.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",it.shrinkWrapBlocks()||f.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(a in t)if(r=t[a],mi.exec(r)){if(delete t[a],n=n||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[a])continue;p=!0}u[a]=m&&m[a]||rt.style(e,a)}else h=void 0;if(rt.isEmptyObject(u))"inline"===("none"===h?w(e.nodeName):h)&&(d.display=h);else{m?"hidden"in m&&(p=m.hidden):m=rt._data(e,"fxshow",{}),n&&(m.hidden=!p),p?rt(e).show():f.done(function(){rt(e).hide()}),f.done(function(){var t;rt._removeData(e,"fxshow");for(t in u)rt.style(e,t,u[t])});for(a in u)o=F(p?m[a]:0,a,f),a in m||(m[a]=o.start,p&&(o.end=o.start,o.start="width"===a||"height"===a?1:0))}}function N(e,t){var i,a,r,n,o;for(i in e)if(a=rt.camelCase(i),r=t[a],n=e[i],rt.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==a&&(e[a]=n,delete e[i]),o=rt.cssHooks[a],o&&"expand"in o){n=o.expand(n),delete e[a];for(i in n)i in e||(e[i]=n[i],t[i]=r)}else t[a]=r}function U(e,t,i){var a,r,n=0,o=gi.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=di||D(),i=Math.max(0,h.startTime+h.duration-t),a=i/h.duration||0,n=1-a,o=0,l=h.tweens.length;l>o;o++)h.tweens[o].run(n);return s.notifyWith(e,[h,n,i]),1>n&&l?i:(s.resolveWith(e,[h]),!1)},h=s.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:di||D(),duration:i.duration,tweens:[],createTween:function(t,i){var a=rt.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(a),a},stop:function(t){var i=0,a=t?h.tweens.length:0;if(r)return this;for(r=!0;a>i;i++)h.tweens[i].run(1);return t?s.resolveWith(e,[h,t]):s.rejectWith(e,[h,t]),this}}),c=h.props;for(N(c,h.opts.specialEasing);o>n;n++)if(a=gi[n].call(h,e,c,h.opts))return a;return rt.map(c,F,h),rt.isFunction(h.opts.start)&&h.opts.start.call(e,h),rt.fx.timer(rt.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function B(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var a,r=0,n=t.toLowerCase().match(yt)||[];if(rt.isFunction(i))for(;a=n[r++];)"+"===a.charAt(0)?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(i)):(e[a]=e[a]||[]).push(i)}}function V(e,t,i,a){function r(s){var l;return n[s]=!0,rt.each(e[s]||[],function(e,s){var h=s(t,i,a);return"string"!=typeof h||o||n[h]?o?!(l=h):void 0:(t.dataTypes.unshift(h),r(h),!1)}),l}var n={},o=e===Ii;return r(t.dataTypes[0])||!n["*"]&&r("*")}function O(e,t){var i,a,r=rt.ajaxSettings.flatOptions||{};for(a in t)void 0!==t[a]&&((r[a]?e:i||(i={}))[a]=t[a]);return i&&rt.extend(!0,e,i),e}function j(e,t,i){for(var a,r,n,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in i)n=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){n=o;break}a||(a=o)}n=n||a}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}function I(e,t,i,a){var r,n,o,s,l,h={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)h[o.toLowerCase()]=e.converters[o];for(n=c.shift();n;)if(e.responseFields[n]&&(i[e.responseFields[n]]=t),!l&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=n,n=c.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(o=h[l+" "+n]||h["* "+n],!o)for(r in h)if(s=r.split(" "),s[1]===n&&(o=h[l+" "+s[0]]||h["* "+s[0]])){o===!0?o=h[r]:h[r]!==!0&&(n=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(f){return{state:"parsererror",error:o?f:"No conversion from "+l+" to "+n}}}return{state:"success",data:t}}function G(e,t,i,a){var r;if(rt.isArray(t))rt.each(t,function(t,r){i||qi.test(e)?a(e,r):G(e+"["+("object"==typeof r?t:"")+"]",r,i,a)});else if(i||"object"!==rt.type(t))a(e,t);else for(r in t)G(e+"["+r+"]",t[r],i,a)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function X(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function q(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y=[],K=Y.slice,Z=Y.concat,Q=Y.push,$=Y.indexOf,J={},et=J.toString,tt=J.hasOwnProperty,it={},at="1.11.1",rt=function(e,t){return new rt.fn.init(e,t)},nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:at,constructor:rt,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:Y.sort,splice:Y.splice},rt.extend=rt.fn.extend=function(){var e,t,i,a,r,n,o=arguments[0]||{},s=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[s]||{},s++),"object"==typeof o||rt.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(a in r)e=o[a],i=r[a],o!==i&&(h&&i&&(rt.isPlainObject(i)||(t=rt.isArray(i)))?(t?(t=!1,n=e&&rt.isArray(e)?e:[]):n=e&&rt.isPlainObject(e)?e:{},o[a]=rt.extend(h,n,i)):void 0!==i&&(o[a]=i));return o},rt.extend({expando:"jQuery"+(at+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!rt.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(st,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,a){var r,n=0,o=e.length,s=i(e);if(a){if(s)for(;o>n&&(r=t.apply(e[n],a),r!==!1);n++);else for(n in e)if(r=t.apply(e[n],a),r===!1)break}else if(s)for(;o>n&&(r=t.call(e[n],n,e[n]),r!==!1);n++);else for(n in e)if(r=t.call(e[n],n,e[n]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(i(Object(e))?rt.merge(a,"string"==typeof e?[e]:e):Q.call(a,e)),a},inArray:function(e,t,i){var a;if(t){if($)return $.call(t,e,i);for(a=t.length,i=i?0>i?Math.max(0,a+i):i:0;a>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,a=0,r=e.length;i>a;)e[r++]=t[a++];if(i!==i)for(;void 0!==t[a];)e[r++]=t[a++];return e.length=r,e},grep:function(e,t,i){for(var a,r=[],n=0,o=e.length,s=!i;o>n;n++)a=!t(e[n],n),a!==s&&r.push(e[n]);return r},map:function(e,t,a){var r,n=0,o=e.length,s=i(e),l=[];if(s)for(;o>n;n++)r=t(e[n],n,a),null!=r&&l.push(r);else for(n in e)r=t(e[n],n,a),null!=r&&l.push(r);return Z.apply([],l)},guid:1,proxy:function(e,t){var i,a,r;return"string"==typeof t&&(r=e[t],t=e,e=r),rt.isFunction(e)?(i=K.call(arguments,2),a=function(){return e.apply(t||this,i.concat(K.call(arguments)))},a.guid=e.guid=e.guid||rt.guid++,a):void 0},now:function(){return+new Date},support:it}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ht=function(e){function t(e,t,i,a){var r,n,o,s,l,h,f,d,p,m;if((t?t.ownerDocument||t:V)!==k&&L(t),t=t||k,i=i||[],!e||"string"!=typeof e)return i;if(1!==(s=t.nodeType)&&9!==s)return[];if(P&&!a){if(r=gt.exec(e))if(o=r[1]){if(9===s){if(n=t.getElementById(o),!n||!n.parentNode)return i;if(n.id===o)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(o))&&U(t,n)&&n.id===o)return i.push(n),i}else{if(r[2])return J.apply(i,t.getElementsByTagName(e)),i;if((o=r[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(o)),i}if(x.qsa&&(!F||!F.test(e))){if(d=f=B,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(h=w(e),(f=t.getAttribute("id"))?d=f.replace(Tt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=h.length;l--;)h[l]=d+u(h[l]);p=yt.test(e)&&c(t.parentNode)||t,m=h.join(",")}if(m)try{return J.apply(i,p.querySelectorAll(m)),i}catch(E){}finally{f||t.removeAttribute("id")}}}return M(e.replace(lt,"$1"),t,i,a)}function i(){function e(i,a){return t.push(i+" ")>R.cacheLength&&delete e[t.shift()],e[i+" "]=a}var t=[];return e}function a(e){return e[B]=!0,e}function r(e){var t=k.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function n(e,t){for(var i=e.split("|"),a=e.length;a--;)R.attrHandle[i[a]]=t}function o(e,t){var i=t&&e,a=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(a)return a;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function h(e){return a(function(t){return t=+t,a(function(i,a){for(var r,n=e([],i.length,t),o=n.length;o--;)i[r=n[o]]&&(i[r]=!(a[r]=i[r]))})})}function c(e){return e&&typeof e.getElementsByTagName!==q&&e}function f(){}function u(e){for(var t=0,i=e.length,a="";i>t;t++)a+=e[t].value;return a}function d(e,t,i){var a=t.dir,r=i&&"parentNode"===a,n=j++;return t.first?function(t,i,n){for(;t=t[a];)if(1===t.nodeType||r)return e(t,i,n)}:function(t,i,o){var s,l,h=[O,n];if(o){for(;t=t[a];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[a];)if(1===t.nodeType||r){if(l=t[B]||(t[B]={}),(s=l[a])&&s[0]===O&&s[1]===n)return h[2]=s[2];if(l[a]=h,h[2]=e(t,i,o))return!0}}}function p(e){return e.length>1?function(t,i,a){for(var r=e.length;r--;)if(!e[r](t,i,a))return!1;return!0}:e[0]}function m(e,i,a){for(var r=0,n=i.length;n>r;r++)t(e,i[r],a);return a}function E(e,t,i,a,r){for(var n,o=[],s=0,l=e.length,h=null!=t;l>s;s++)(n=e[s])&&(!i||i(n,a,r))&&(o.push(n),h&&t.push(s));return o}function v(e,t,i,r,n,o){return r&&!r[B]&&(r=v(r)),n&&!n[B]&&(n=v(n,o)),a(function(a,o,s,l){var h,c,f,u=[],d=[],p=o.length,v=a||m(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?v:E(v,u,e,s,l),y=i?n||(a?e:p||r)?[]:o:g;if(i&&i(g,y,s,l),r)for(h=E(y,d),r(h,[],s,l),c=h.length;c--;)(f=h[c])&&(y[d[c]]=!(g[d[c]]=f));if(a){if(n||e){if(n){for(h=[],c=y.length;c--;)(f=y[c])&&h.push(g[c]=f);n(null,y=[],h,l)}for(c=y.length;c--;)(f=y[c])&&(h=n?tt.call(a,f):u[c])>-1&&(a[h]=!(o[h]=f))}}else y=E(y===o?y.splice(p,y.length):y),n?n(null,o,y,l):J.apply(o,y)})}function g(e){for(var t,i,a,r=e.length,n=R.relative[e[0].type],o=n||R.relative[" "],s=n?1:0,l=d(function(e){return e===t},o,!0),h=d(function(e){return tt.call(t,e)>-1},o,!0),c=[function(e,i,a){return!n&&(a||i!==S)||((t=i).nodeType?l(e,i,a):h(e,i,a))}];r>s;s++)if(i=R.relative[e[s].type])c=[d(p(c),i)];else{if(i=R.filter[e[s].type].apply(null,e[s].matches),i[B]){for(a=++s;r>a&&!R.relative[e[a].type];a++);return v(s>1&&p(c),s>1&&u(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),i,a>s&&g(e.slice(s,a)),r>a&&g(e=e.slice(a)),r>a&&u(e))}c.push(i)}return p(c)}function y(e,i){var r=i.length>0,n=e.length>0,o=function(a,o,s,l,h){var c,f,u,d=0,p="0",m=a&&[],v=[],g=S,y=a||n&&R.find.TAG("*",h),T=O+=null==g?1:Math.random()||.1,x=y.length;for(h&&(S=o!==k&&o);p!==x&&null!=(c=y[p]);p++){if(n&&c){for(f=0;u=e[f++];)if(u(c,o,s)){l.push(c);break}h&&(O=T)}r&&((c=!u&&c)&&d--,a&&m.push(c))}if(d+=p,r&&p!==d){for(f=0;u=i[f++];)u(m,v,o,s);if(a){if(d>0)for(;p--;)m[p]||v[p]||(v[p]=Q.call(l));v=E(v)}J.apply(l,v),h&&!a&&v.length>0&&d+i.length>1&&t.uniqueSort(l)}return h&&(O=T,S=g),m};return r?a(o):o}var T,x,R,b,_,w,H,M,S,C,A,L,k,D,P,F,z,N,U,B="sizzle"+-new Date,V=e.document,O=0,j=0,I=i(),G=i(),W=i(),X=function(e,t){return e===t&&(A=!0),0},q="undefined",Y=1<<31,K={}.hasOwnProperty,Z=[],Q=Z.pop,$=Z.push,J=Z.push,et=Z.slice,tt=Z.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",at="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=rt.replace("w","w#"),ot="\\["+at+"*("+rt+")(?:"+at+"*([*^$|!~]?=)"+at+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+at+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",lt=new RegExp("^"+at+"+|((?:^|[^\\\\])(?:\\\\.)*)"+at+"+$","g"),ht=new RegExp("^"+at+"*,"+at+"*"),ct=new RegExp("^"+at+"*([>+~]|"+at+")"+at+"*"),ft=new RegExp("="+at+"*([^\\]'\"]*?)"+at+"*\\]","g"),ut=new RegExp(st),dt=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+at+"*(even|odd|(([+-]|)(\\d*)n|)"+at+"*(?:([+-]|)"+at+"*(\\d+)|))"+at+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+at+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+at+"*((?:-\\d)?\\d*)"+at+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,Et=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,Tt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+at+"?|("+at+")|.)","ig"),Rt=function(e,t,i){var a="0x"+t-65536;return a!==a||i?t:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{J.apply(Z=et.call(V.childNodes),V.childNodes),Z[V.childNodes.length].nodeType}catch(bt){J={apply:Z.length?function(e,t){$.apply(e,et.call(t))}:function(e,t){for(var i=e.length,a=0;e[i++]=t[a++];);e.length=i-1}}}x=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:V,a=i.defaultView;return i!==k&&9===i.nodeType&&i.documentElement?(k=i,D=i.documentElement,P=!_(i),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){L()},!1):a.attachEvent&&a.attachEvent("onunload",function(){L()})),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(i.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=r(function(e){return D.appendChild(e).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),x.getById?(R.find.ID=function(e,t){if(typeof t.getElementById!==q&&P){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},R.filter.ID=function(e){var t=e.replace(xt,Rt);return function(e){return e.getAttribute("id")===t}}):(delete R.find.ID,R.filter.ID=function(e){var t=e.replace(xt,Rt);return function(e){var i=typeof e.getAttributeNode!==q&&e.getAttributeNode("id");return i&&i.value===t}}),R.find.TAG=x.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==q?t.getElementsByTagName(e):void 0}:function(e,t){var i,a=[],r=0,n=t.getElementsByTagName(e);if("*"===e){for(;i=n[r++];)1===i.nodeType&&a.push(i);return a}return n},R.find.CLASS=x.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==q&&P?t.getElementsByClassName(e):void 0},z=[],F=[],(x.qsa=vt.test(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&F.push("[*^$]="+at+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+at+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+at+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(x.matchesSelector=vt.test(N=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(e){x.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),z.push("!=",st)}),F=F.length&&new RegExp(F.join("|")),z=z.length&&new RegExp(z.join("|")),t=vt.test(D.compareDocumentPosition),U=t||vt.test(D.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return A=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a?a:(a=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&a||!x.sortDetached&&t.compareDocumentPosition(e)===a?e===i||e.ownerDocument===V&&U(V,e)?-1:t===i||t.ownerDocument===V&&U(V,t)?1:C?tt.call(C,e)-tt.call(C,t):0:4&a?-1:1)}:function(e,t){if(e===t)return A=!0,0;var a,r=0,n=e.parentNode,s=t.parentNode,l=[e],h=[t];if(!n||!s)return e===i?-1:t===i?1:n?-1:s?1:C?tt.call(C,e)-tt.call(C,t):0;if(n===s)return o(e,t);for(a=e;a=a.parentNode;)l.unshift(a);for(a=t;a=a.parentNode;)h.unshift(a);for(;l[r]===h[r];)r++;return r?o(l[r],h[r]):l[r]===V?-1:h[r]===V?1:0},i):k},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==k&&L(e),i=i.replace(ft,"='$1']"),!(!x.matchesSelector||!P||z&&z.test(i)||F&&F.test(i)))try{var a=N.call(e,i);if(a||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(r){}return t(i,k,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==k&&L(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==k&&L(e);var i=R.attrHandle[t.toLowerCase()],a=i&&K.call(R.attrHandle,t.toLowerCase())?i(e,t,!P):void 0;return void 0!==a?a:x.attributes||!P?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],a=0,r=0;if(A=!x.detectDuplicates,C=!x.sortStable&&e.slice(0),e.sort(X),A){for(;t=e[r++];)t===e[r]&&(a=i.push(r));for(;a--;)e.splice(i[a],1)}return C=null,e},b=t.getText=function(e){var t,i="",a=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=b(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[a++];)i+=b(t);return i},R=t.selectors={cacheLength:50,createPseudo:a,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Rt),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,Rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)
},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ut.test(i)&&(t=w(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,Rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|"+at+")"+e+"("+at+"|$)"))&&I(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==q&&e.getAttribute("class")||"")})},ATTR:function(e,i,a){return function(r){var n=t.attr(r,e);return null==n?"!="===i:i?(n+="","="===i?n===a:"!="===i?n!==a:"^="===i?a&&0===n.indexOf(a):"*="===i?a&&n.indexOf(a)>-1:"$="===i?a&&n.slice(-a.length)===a:"~="===i?(" "+n+" ").indexOf(a)>-1:"|="===i?n===a||n.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,t,i,a,r){var n="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===a&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var h,c,f,u,d,p,m=n!==o?"nextSibling":"previousSibling",E=t.parentNode,v=s&&t.nodeName.toLowerCase(),g=!l&&!s;if(E){if(n){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?E.firstChild:E.lastChild],o&&g){for(c=E[B]||(E[B]={}),h=c[e]||[],d=h[0]===O&&h[1],u=h[0]===O&&h[2],f=d&&E.childNodes[d];f=++d&&f&&f[m]||(u=d=0)||p.pop();)if(1===f.nodeType&&++u&&f===t){c[e]=[O,d,u];break}}else if(g&&(h=(t[B]||(t[B]={}))[e])&&h[0]===O)u=h[1];else for(;(f=++d&&f&&f[m]||(u=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++u||(g&&((f[B]||(f[B]={}))[e]=[O,u]),f!==t)););return u-=r,u===a||u%a===0&&u/a>=0}}},PSEUDO:function(e,i){var r,n=R.pseudos[e]||R.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return n[B]?n(i):n.length>1?(r=[e,e,"",i],R.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a,r=n(e,i),o=r.length;o--;)a=tt.call(e,r[o]),e[a]=!(t[a]=r[o])}):function(e){return n(e,0,r)}):n}},pseudos:{not:a(function(e){var t=[],i=[],r=H(e.replace(lt,"$1"));return r[B]?a(function(e,t,i,a){for(var n,o=r(e,null,a,[]),s=e.length;s--;)(n=o[s])&&(e[s]=!(t[s]=n))}):function(e,a,n){return t[0]=e,r(t,null,n,i),!i.pop()}}),has:a(function(e){return function(i){return t(e,i).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),lang:a(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,Rt).toLowerCase(),function(t){var i;do if(i=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!R.pseudos.empty(e)},header:function(e){return Et.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,i){return[0>i?i+t:i]}),even:h(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:h(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:h(function(e,t,i){for(var a=0>i?i+t:i;--a>=0;)e.push(a);return e}),gt:h(function(e,t,i){for(var a=0>i?i+t:i;++a<t;)e.push(a);return e})}},R.pseudos.nth=R.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[T]=s(T);for(T in{submit:!0,reset:!0})R.pseudos[T]=l(T);return f.prototype=R.filters=R.pseudos,R.setFilters=new f,w=t.tokenize=function(e,i){var a,r,n,o,s,l,h,c=G[e+" "];if(c)return i?0:c.slice(0);for(s=e,l=[],h=R.preFilter;s;){(!a||(r=ht.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(n=[])),a=!1,(r=ct.exec(s))&&(a=r.shift(),n.push({value:a,type:r[0].replace(lt," ")}),s=s.slice(a.length));for(o in R.filter)!(r=pt[o].exec(s))||h[o]&&!(r=h[o](r))||(a=r.shift(),n.push({value:a,type:o,matches:r}),s=s.slice(a.length));if(!a)break}return i?s.length:s?t.error(e):G(e,l).slice(0)},H=t.compile=function(e,t){var i,a=[],r=[],n=W[e+" "];if(!n){for(t||(t=w(e)),i=t.length;i--;)n=g(t[i]),n[B]?a.push(n):r.push(n);n=W(e,y(r,a)),n.selector=e}return n},M=t.select=function(e,t,i,a){var r,n,o,s,l,h="function"==typeof e&&e,f=!a&&w(e=h.selector||e);if(i=i||[],1===f.length){if(n=f[0]=f[0].slice(0),n.length>2&&"ID"===(o=n[0]).type&&x.getById&&9===t.nodeType&&P&&R.relative[n[1].type]){if(t=(R.find.ID(o.matches[0].replace(xt,Rt),t)||[])[0],!t)return i;h&&(t=t.parentNode),e=e.slice(n.shift().value.length)}for(r=pt.needsContext.test(e)?0:n.length;r--&&(o=n[r],!R.relative[s=o.type]);)if((l=R.find[s])&&(a=l(o.matches[0].replace(xt,Rt),yt.test(n[0].type)&&c(t.parentNode)||t))){if(n.splice(r,1),e=a.length&&u(n),!e)return J.apply(i,a),i;break}}return(h||H(e,f))(a,t,!P,i,yt.test(e)&&c(t.parentNode)||t),i},x.sortStable=B.split("").sort(X).join("")===B,x.detectDuplicates=!!A,L(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(k.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||n("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||n("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||n(it,function(e,t,i){var a;return i?void 0:e[t]===!0?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);rt.find=ht,rt.expr=ht.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ht.uniqueSort,rt.text=ht.getText,rt.isXMLDoc=ht.isXML,rt.contains=ht.contains;var ct=rt.expr.match.needsContext,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ut=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,i){var a=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?rt.find.matchesSelector(a,e)?[a]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,i=[],a=this,r=a.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;r>t;t++)if(rt.contains(a[t],this))return!0}));for(t=0;r>t;t++)rt.find(e,a[t],i);return i=this.pushStack(r>1?rt.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&ct.test(e)?rt(e):e||[],!1).length}});var dt,pt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Et=rt.fn.init=function(e,t){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||dt).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),ft.test(i[1])&&rt.isPlainObject(t))for(i in t)rt.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(a=pt.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return dt.find(e);this.length=1,this[0]=a}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof dt.ready?dt.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};Et.prototype=rt.fn,dt=rt(pt);var vt=/^(?:parents|prev(?:Until|All))/,gt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,i){for(var a=[],r=e[t];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!rt(r).is(i));)1===r.nodeType&&a.push(r),r=r[t];return a},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),rt.fn.extend({has:function(e){var t,i=rt(e,this),a=i.length;return this.filter(function(){for(t=0;a>t;t++)if(rt.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,a=0,r=this.length,n=[],o=ct.test(e)||"string"!=typeof e?rt(e,t||this.context):0;r>a;a++)for(i=this[a];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&rt.find.matchesSelector(i,e))){n.push(i);break}return this.pushStack(n.length>1?rt.unique(n):n)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return rt.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return rt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return rt.dir(e,"previousSibling",i)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(i,a){var r=rt.map(this,t,i);return"Until"!==e.slice(-5)&&(a=i),a&&"string"==typeof a&&(r=rt.filter(a,r)),this.length>1&&(gt[e]||(r=rt.unique(r)),vt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var yt=/\S+/g,Tt={};rt.Callbacks=function(e){e="string"==typeof e?Tt[e]||n(e):rt.extend({},e);var t,i,a,r,o,s,l=[],h=!e.once&&[],c=function(n){for(i=e.memory&&n,a=!0,o=s||0,s=0,r=l.length,t=!0;l&&r>o;o++)if(l[o].apply(n[0],n[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(h?h.length&&c(h.shift()):i?l=[]:f.disable())},f={add:function(){if(l){var a=l.length;!function n(t){rt.each(t,function(t,i){var a=rt.type(i);"function"===a?e.unique&&f.has(i)||l.push(i):i&&i.length&&"string"!==a&&n(i)})}(arguments),t?r=l.length:i&&(s=a,c(i))}return this},remove:function(){return l&&rt.each(arguments,function(e,i){for(var a;(a=rt.inArray(i,l,a))>-1;)l.splice(a,1),t&&(r>=a&&r--,o>=a&&o--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=h=i=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,i||f.disable(),this},locked:function(){return!h},fireWith:function(e,i){return!l||a&&!h||(i=i||[],i=[e,i.slice?i.slice():i],t?h.push(i):c(i)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(i){rt.each(t,function(t,n){var o=rt.isFunction(e[t])&&e[t];r[n[1]](function(){var e=o&&o.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[n[0]+"With"](this===a?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,a):a}},r={};return a.pipe=a.then,rt.each(t,function(e,n){var o=n[2],s=n[3];a[n[1]]=o.add,s&&o.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[n[0]]=function(){return r[n[0]+"With"](this===r?a:this,arguments),this},r[n[0]+"With"]=o.fireWith}),a.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,a,r=0,n=K.call(arguments),o=n.length,s=1!==o||e&&rt.isFunction(e.promise)?o:0,l=1===s?e:rt.Deferred(),h=function(e,i,a){return function(r){i[e]=this,a[e]=arguments.length>1?K.call(arguments):r,a===t?l.notifyWith(i,a):--s||l.resolveWith(i,a)}};if(o>1)for(t=new Array(o),i=new Array(o),a=new Array(o);o>r;r++)n[r]&&rt.isFunction(n[r].promise)?n[r].promise().done(h(r,a,n)).fail(l.reject).progress(h(r,i,t)):--s;return s||l.resolveWith(a,n),l.promise()}});var xt;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!pt.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(xt.resolveWith(pt,[rt]),rt.fn.triggerHandler&&(rt(pt).triggerHandler("ready"),rt(pt).off("ready")))}}}),rt.ready.promise=function(t){if(!xt)if(xt=rt.Deferred(),"complete"===pt.readyState)setTimeout(rt.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{i=null==e.frameElement&&pt.documentElement}catch(a){}i&&i.doScroll&&!function r(){if(!rt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}o(),rt.ready()}}()}return xt.promise(t)};var Rt,bt="undefined";for(Rt in rt(it))break;it.ownLast="0"!==Rt,it.inlineBlockNeedsLayout=!1,rt(function(){var e,t,i,a;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),a=pt.createElement("div"),a.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(a).appendChild(t),typeof t.style.zoom!==bt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(a))}),function(){var e=pt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!h(e)},data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return f(e,t)},_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){return f(e,t,!0)}}),rt.fn.extend({data:function(e,t){var i,a,r,n=this[0],o=n&&n.attributes;if(void 0===e){if(this.length&&(r=rt.data(n),1===n.nodeType&&!rt._data(n,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(a=o[i].name,0===a.indexOf("data-")&&(a=rt.camelCase(a.slice(5)),l(n,a,r[a])));rt._data(n,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):n?l(n,e,rt.data(n,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,i){var a;return e?(t=(t||"fx")+"queue",a=rt._data(e,t),i&&(!a||rt.isArray(i)?a=rt._data(e,t,rt.makeArray(i)):a.push(i)),a||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=rt.queue(e,t),a=i.length,r=i.shift(),n=rt._queueHooks(e,t),o=function(){rt.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),a--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,o,n)),!a&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return rt._data(e,i)||rt._data(e,i,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,i)})})}}),rt.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?rt.queue(this[0],e):void 0===t?this:this.each(function(){var i=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,a=1,r=rt.Deferred(),n=this,o=this.length,s=function(){--a||r.resolveWith(n,[n])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=rt._data(n[o],e+"queueHooks"),i&&i.empty&&(a++,i.empty.add(s));return s(),r.promise(t)}});var Ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=["Top","Right","Bottom","Left"],St=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},Ct=rt.access=function(e,t,i,a,r,n,o){var s=0,l=e.length,h=null==i;if("object"===rt.type(i)){r=!0;for(s in i)rt.access(e,t,s,i[s],!0,n,o)}else if(void 0!==a&&(r=!0,rt.isFunction(a)||(o=!0),h&&(o?(t.call(e,a),t=null):(h=t,t=function(e,t,i){return h.call(rt(e),i)})),t))for(;l>s;s++)t(e[s],i,o?a:a.call(e[s],s,t(e[s],i)));return r?e:h?t.call(e):l?t(e[0],i):n},At=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),i=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),it.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(a){it.deleteExpando=!1}}}(),function(){var t,i,a=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(it[t+"Bubbles"]=i in e)||(a.setAttribute(i,"t"),it[t+"Bubbles"]=a.attributes[i].expando===!1);a=null}();var Lt=/^(?:input|select|textarea)$/i,kt=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Ft=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,i,a,r){var n,o,s,l,h,c,f,u,d,p,m,E=rt._data(e);if(E){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=rt.guid++),(o=E.events)||(o=E.events={}),(c=E.handle)||(c=E.handle=function(e){return typeof rt===bt||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(yt)||[""],s=t.length;s--;)n=Ft.exec(t[s])||[],d=m=n[1],p=(n[2]||"").split(".").sort(),d&&(h=rt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=rt.event.special[d]||{},f=rt.extend({type:d,origType:m,data:a,handler:i,guid:i.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:p.join(".")},l),(u=o[d])||(u=o[d]=[],u.delegateCount=0,h.setup&&h.setup.call(e,a,p,c)!==!1||(e.addEventListener?e.addEventListener(d,c,!1):e.attachEvent&&e.attachEvent("on"+d,c))),h.add&&(h.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),r?u.splice(u.delegateCount++,0,f):u.push(f),rt.event.global[d]=!0);e=null}},remove:function(e,t,i,a,r){var n,o,s,l,h,c,f,u,d,p,m,E=rt.hasData(e)&&rt._data(e);if(E&&(c=E.events)){for(t=(t||"").match(yt)||[""],h=t.length;h--;)if(s=Ft.exec(t[h])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d){for(f=rt.event.special[d]||{},d=(a?f.delegateType:f.bindType)||d,u=c[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=n=u.length;n--;)o=u[n],!r&&m!==o.origType||i&&i.guid!==o.guid||s&&!s.test(o.namespace)||a&&a!==o.selector&&("**"!==a||!o.selector)||(u.splice(n,1),o.selector&&u.delegateCount--,f.remove&&f.remove.call(e,o));l&&!u.length&&(f.teardown&&f.teardown.call(e,p,E.handle)!==!1||rt.removeEvent(e,d,E.handle),delete c[d])}else for(d in c)rt.event.remove(e,d+t[h],i,a,!0);rt.isEmptyObject(c)&&(delete E.handle,rt._removeData(e,"events"))}},trigger:function(t,i,a,r){var n,o,s,l,h,c,f,u=[a||pt],d=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=a=a||pt,3!==a.nodeType&&8!==a.nodeType&&!Pt.test(d+rt.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),o=d.indexOf(":")<0&&"on"+d,t=t[rt.expando]?t:new rt.Event(d,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),i=null==i?[t]:rt.makeArray(i,[t]),h=rt.event.special[d]||{},r||!h.trigger||h.trigger.apply(a,i)!==!1)){if(!r&&!h.noBubble&&!rt.isWindow(a)){for(l=h.delegateType||d,Pt.test(l+d)||(s=s.parentNode);s;s=s.parentNode)u.push(s),c=s;c===(a.ownerDocument||pt)&&u.push(c.defaultView||c.parentWindow||e)}for(f=0;(s=u[f++])&&!t.isPropagationStopped();)t.type=f>1?l:h.bindType||d,n=(rt._data(s,"events")||{})[t.type]&&rt._data(s,"handle"),n&&n.apply(s,i),n=o&&s[o],n&&n.apply&&rt.acceptData(s)&&(t.result=n.apply(s,i),t.result===!1&&t.preventDefault());if(t.type=d,!r&&!t.isDefaultPrevented()&&(!h._default||h._default.apply(u.pop(),i)===!1)&&rt.acceptData(a)&&o&&a[d]&&!rt.isWindow(a)){c=a[o],c&&(a[o]=null),rt.event.triggered=d;try{a[d]()}catch(m){}rt.event.triggered=void 0,c&&(a[o]=c)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,i,a,r,n,o=[],s=K.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],h=rt.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,e)!==!1){for(o=rt.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((rt.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,a,r,n,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;s>n;n++)a=t[n],i=a.selector+" ",void 0===r[i]&&(r[i]=a.needsContext?rt(i,this).index(l)>=0:rt.find(i,this,null,[l]).length),r[i]&&r.push(a);r.length&&o.push({elem:l,handlers:r})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[rt.expando])return e;var t,i,a,r=e.type,n=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Dt.test(r)?this.mouseHooks:kt.test(r)?this.keyHooks:{}),a=o.props?this.props.concat(o.props):this.props,e=new rt.Event(n),t=a.length;t--;)i=a[t],e[i]=n[i];return e.target||(e.target=n.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,n):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,a,r,n=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(a=e.target.ownerDocument||pt,r=a.documentElement,i=a.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,a){var r=rt.extend(new rt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});a?rt.event.trigger(r,null,t):rt.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},rt.removeEvent=pt.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var a="on"+t;e.detachEvent&&(typeof e[a]===bt&&(e[a]=null),e.detachEvent(a,i))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:d):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,a=this,r=e.relatedTarget,n=e.handleObj;return(!r||r!==a&&!rt.contains(a,r))&&(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}}),it.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;i&&!rt._data(i,"submitBubbles")&&(rt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),it.changeBubbles||(rt.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Lt.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),it.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var a=this.ownerDocument||this,r=rt._data(a,t);r||a.addEventListener(e,i,!0),rt._data(a,t,(r||0)+1)},teardown:function(){var a=this.ownerDocument||this,r=rt._data(a,t)-1;r?rt._data(a,t,r):(a.removeEventListener(e,i,!0),rt._removeData(a,t))}}}),rt.fn.extend({on:function(e,t,i,a,r){var n,o;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(n in e)this.on(n,t,i,e[n],r);return this}if(null==i&&null==a?(a=t,i=t=void 0):null==a&&("string"==typeof t?(a=i,i=void 0):(a=i,i=t,t=void 0)),a===!1)a=d;else if(!a)return this;return 1===r&&(o=a,a=function(e){return rt().off(e),o.apply(this,arguments)},a.guid=o.guid||(o.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,a,i,t)})},one:function(e,t,i,a){return this.on(e,t,i,a,1)},off:function(e,t,i){var a,r;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,rt(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=d),this.each(function(){rt.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?rt.event.trigger(e,t,i,!0):void 0}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Nt=/ jQuery\d+="(?:null|\d+)"/g,Ut=new RegExp("<(?:"+zt+")[\\s/>]","i"),Bt=/^\s+/,Vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,jt=/<tbody/i,It=/<|&#?\w+;/,Gt=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/^$|\/(?:java|ecma)script/i,qt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Zt=m(pt),Qt=Zt.appendChild(pt.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,rt.extend({clone:function(e,t,i){var a,r,n,o,s,l=rt.contains(e.ownerDocument,e);if(it.html5Clone||rt.isXMLDoc(e)||!Ut.test("<"+e.nodeName+">")?n=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(n=Qt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(a=E(n),s=E(e),o=0;null!=(r=s[o]);++o)a[o]&&b(r,a[o]);if(t)if(i)for(s=s||E(e),a=a||E(n),o=0;null!=(r=s[o]);o++)R(r,a[o]);else R(e,n);return a=E(n,"script"),a.length>0&&x(a,!l&&E(e,"script")),a=s=r=null,n},buildFragment:function(e,t,i,a){for(var r,n,o,s,l,h,c,f=e.length,u=m(t),d=[],p=0;f>p;p++)if(n=e[p],n||0===n)if("object"===rt.type(n))rt.merge(d,n.nodeType?[n]:n);else if(It.test(n)){for(s=s||u.appendChild(t.createElement("div")),l=(Ot.exec(n)||["",""])[1].toLowerCase(),c=Kt[l]||Kt._default,s.innerHTML=c[1]+n.replace(Vt,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!it.leadingWhitespace&&Bt.test(n)&&d.push(t.createTextNode(Bt.exec(n)[0])),!it.tbody)for(n="table"!==l||jt.test(n)?"<table>"!==c[1]||jt.test(n)?0:s:s.firstChild,r=n&&n.childNodes.length;r--;)rt.nodeName(h=n.childNodes[r],"tbody")&&!h.childNodes.length&&n.removeChild(h);for(rt.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);
s=u.lastChild}else d.push(t.createTextNode(n));for(s&&u.removeChild(s),it.appendChecked||rt.grep(E(d,"input"),v),p=0;n=d[p++];)if((!a||-1===rt.inArray(n,a))&&(o=rt.contains(n.ownerDocument,n),s=E(u.appendChild(n),"script"),o&&x(s),i))for(r=0;n=s[r++];)Xt.test(n.type||"")&&i.push(n);return s=null,u},cleanData:function(e,t){for(var i,a,r,n,o=0,s=rt.expando,l=rt.cache,h=it.deleteExpando,c=rt.event.special;null!=(i=e[o]);o++)if((t||rt.acceptData(i))&&(r=i[s],n=r&&l[r])){if(n.events)for(a in n.events)c[a]?rt.event.remove(i,a):rt.removeEvent(i,a,n.handle);l[r]&&(delete l[r],h?delete i[s]:typeof i.removeAttribute!==bt?i.removeAttribute(s):i[s]=null,Y.push(r))}}}),rt.fn.extend({text:function(e){return Ct(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,a=e?rt.filter(e,this):this,r=0;null!=(i=a[r]);r++)t||1!==i.nodeType||rt.cleanData(E(i)),i.parentNode&&(t&&rt.contains(i.ownerDocument,i)&&x(E(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(E(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return Ct(this,function(e){var t=this[0]||{},i=0,a=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Nt,""):void 0;if(!("string"!=typeof e||Gt.test(e)||!it.htmlSerialize&&Ut.test(e)||!it.leadingWhitespace&&Bt.test(e)||Kt[(Ot.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Vt,"<$1></$2>");try{for(;a>i;i++)t=this[i]||{},1===t.nodeType&&(rt.cleanData(E(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(E(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Z.apply([],e);var i,a,r,n,o,s,l=0,h=this.length,c=this,f=h-1,u=e[0],d=rt.isFunction(u);if(d||h>1&&"string"==typeof u&&!it.checkClone&&Wt.test(u))return this.each(function(i){var a=c.eq(i);d&&(e[0]=u.call(this,i,a.html())),a.domManip(e,t)});if(h&&(s=rt.buildFragment(e,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(n=rt.map(E(s,"script"),y),r=n.length;h>l;l++)a=s,l!==f&&(a=rt.clone(a,!0,!0),r&&rt.merge(n,E(a,"script"))),t.call(this[l],a,l);if(r)for(o=n[n.length-1].ownerDocument,rt.map(n,T),l=0;r>l;l++)a=n[l],Xt.test(a.type||"")&&!rt._data(a,"globalEval")&&rt.contains(o,a)&&(a.src?rt._evalUrl&&rt._evalUrl(a.src):rt.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Yt,"")));s=i=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var i,a=0,r=[],n=rt(e),o=n.length-1;o>=a;a++)i=a===o?this:this.clone(!0),rt(n[a])[t](i),Q.apply(r,i.get());return this.pushStack(r)}});var $t,Jt={};!function(){var e;it.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,a;return i=pt.getElementsByTagName("body")[0],i&&i.style?(t=pt.createElement("div"),a=pt.createElement("div"),a.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(a).appendChild(t),typeof t.style.zoom!==bt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(a),e):void 0}}();var ei,ti,ii=/^margin/,ai=new RegExp("^("+Ht+")(?!px)[a-z%]+$","i"),ri=/^(top|right|bottom|left)$/;e.getComputedStyle?(ei=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},ti=function(e,t,i){var a,r,n,o,s=e.style;return i=i||ei(e),o=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==o||rt.contains(e.ownerDocument,e)||(o=rt.style(e,t)),ai.test(o)&&ii.test(t)&&(a=s.width,r=s.minWidth,n=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=a,s.minWidth=r,s.maxWidth=n)),void 0===o?o:o+""}):pt.documentElement.currentStyle&&(ei=function(e){return e.currentStyle},ti=function(e,t,i){var a,r,n,o,s=e.style;return i=i||ei(e),o=i?i[t]:void 0,null==o&&s&&s[t]&&(o=s[t]),ai.test(o)&&!ri.test(t)&&(a=s.left,r=e.runtimeStyle,n=r&&r.left,n&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=a,n&&(r.left=n)),void 0===o?o:o+""||"auto"}),!function(){function t(){var t,i,a,r;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),a=pt.createElement("div"),a.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(a).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",n=o=!1,l=!0,e.getComputedStyle&&(n="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(pt.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),i.removeChild(a))}var i,a,r,n,o,s,l;i=pt.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=i.getElementsByTagName("a")[0],(a=r&&r.style)&&(a.cssText="float:left;opacity:.5",it.opacity="0.5"===a.opacity,it.cssFloat=!!a.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===a.boxSizing||""===a.MozBoxSizing||""===a.WebkitBoxSizing,rt.extend(it,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==l&&t(),l}}))}(),rt.swap=function(e,t,i,a){var r,n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];r=i.apply(e,a||[]);for(n in t)e.style[n]=o[n];return r};var ni=/alpha\([^)]*\)/i,oi=/opacity\s*=\s*([^)]*)/,si=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+Ht+")(.*)$","i"),hi=new RegExp("^([+-])=("+Ht+")","i"),ci={position:"absolute",visibility:"hidden",display:"block"},fi={letterSpacing:"0",fontWeight:"400"},ui=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ti(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,n,o,s=rt.camelCase(t),l=e.style;if(t=rt.cssProps[s]||(rt.cssProps[s]=M(l,s)),o=rt.cssHooks[t]||rt.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,a))?r:l[t];if(n=typeof i,"string"===n&&(r=hi.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(rt.css(e,t)),n="number"),null!=i&&i===i&&("number"!==n||rt.cssNumber[s]||(i+="px"),it.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(i=o.set(e,i,a)))))try{l[t]=i}catch(h){}}},css:function(e,t,i,a){var r,n,o,s=rt.camelCase(t);return t=rt.cssProps[s]||(rt.cssProps[s]=M(e.style,s)),o=rt.cssHooks[t]||rt.cssHooks[s],o&&"get"in o&&(n=o.get(e,!0,i)),void 0===n&&(n=ti(e,t,a)),"normal"===n&&t in fi&&(n=fi[t]),""===i||i?(r=parseFloat(n),i===!0||rt.isNumeric(r)?r||0:n):n}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,i,a){return i?si.test(rt.css(e,"display"))&&0===e.offsetWidth?rt.swap(e,ci,function(){return L(e,t,a)}):L(e,t,a):void 0},set:function(e,i,a){var r=a&&ei(e);return C(e,i,a?A(e,t,a,it.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,r),r):0)}}}),it.opacity||(rt.cssHooks.opacity={get:function(e,t){return oi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,a=e.currentStyle,r=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=a&&a.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===rt.trim(n.replace(ni,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||a&&!a.filter)||(i.filter=ni.test(n)?n.replace(ni,r):n+" "+r)}}),rt.cssHooks.marginRight=H(it.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},ti,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(i){for(var a=0,r={},n="string"==typeof i?i.split(" "):[i];4>a;a++)r[e+Mt[a]+t]=n[a]||n[a-2]||n[0];return r}},ii.test(e)||(rt.cssHooks[e+t].set=C)}),rt.fn.extend({css:function(e,t){return Ct(this,function(e,t,i){var a,r,n={},o=0;if(rt.isArray(t)){for(a=ei(e),r=t.length;r>o;o++)n[t[o]]=rt.css(e,t[o],!1,a);return n}return void 0!==i?rt.style(e,t,i):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){St(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=k,k.prototype={constructor:k,init:function(e,t,i,a,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=n||(rt.cssNumber[i]?"":"px")},cur:function(){var e=k.propHooks[this.prop];return e&&e.get?e.get(this):k.propHooks._default.get(this)},run:function(e){var t,i=k.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=k.prototype.init,rt.fx.step={};var di,pi,mi=/^(?:toggle|show|hide)$/,Ei=new RegExp("^(?:([+-])=|)("+Ht+")([a-z%]*)$","i"),vi=/queueHooks$/,gi=[z],yi={"*":[function(e,t){var i=this.createTween(e,t),a=i.cur(),r=Ei.exec(t),n=r&&r[3]||(rt.cssNumber[e]?"":"px"),o=(rt.cssNumber[e]||"px"!==n&&+a)&&Ei.exec(rt.css(i.elem,e)),s=1,l=20;if(o&&o[3]!==n){n=n||o[3],r=r||[],o=+a||1;do s=s||".5",o/=s,rt.style(i.elem,e,o+n);while(s!==(s=i.cur()/a)&&1!==s&&--l)}return r&&(o=i.start=+o||+a||0,i.unit=n,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};rt.Animation=rt.extend(U,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,a=0,r=e.length;r>a;a++)i=e[a],yi[i]=yi[i]||[],yi[i].unshift(t)},prefilter:function(e,t){t?gi.unshift(e):gi.push(e)}}),rt.speed=function(e,t,i){var a=e&&"object"==typeof e?rt.extend({},e):{complete:i||!i&&t||rt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!rt.isFunction(t)&&t};return a.duration=rt.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in rt.fx.speeds?rt.fx.speeds[a.duration]:rt.fx.speeds._default,(null==a.queue||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){rt.isFunction(a.old)&&a.old.call(this),a.queue&&rt.dequeue(this,a.queue)},a},rt.fn.extend({fadeTo:function(e,t,i,a){return this.filter(St).css("opacity",0).show().end().animate({opacity:t},e,i,a)},animate:function(e,t,i,a){var r=rt.isEmptyObject(e),n=rt.speed(t,i,a),o=function(){var t=U(this,rt.extend({},e),n);(r||rt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||n.queue===!1?this.each(o):this.queue(n.queue,o)},stop:function(e,t,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",n=rt.timers,o=rt._data(this);if(r)o[r]&&o[r].stop&&a(o[r]);else for(r in o)o[r]&&o[r].stop&&vi.test(r)&&a(o[r]);for(r=n.length;r--;)n[r].elem!==this||null!=e&&n[r].queue!==e||(n[r].anim.stop(i),t=!1,n.splice(r,1));(t||!i)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=rt._data(this),a=i[e+"queue"],r=i[e+"queueHooks"],n=rt.timers,o=a?a.length:0;for(i.finish=!0,rt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===e&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;o>t;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete i.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var i=rt.fn[t];rt.fn[t]=function(e,a,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(P(t,!0),e,a,r)}}),rt.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,i,a){return this.animate(t,e,i,a)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,i=0;for(di=rt.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||rt.fx.stop(),di=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){pi||(pi=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(pi),pi=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var a=setTimeout(t,e);i.stop=function(){clearTimeout(a)}})},function(){var e,t,i,a,r;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=t.getElementsByTagName("a")[0],i=pt.createElement("select"),r=i.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],a.style.cssText="top:1px",it.getSetAttribute="t"!==t.className,it.style=/top/.test(a.getAttribute("style")),it.hrefNormalized="/a"===a.getAttribute("href"),it.checkOn=!!e.value,it.optSelected=r.selected,it.enctype=!!pt.createElement("form").enctype,i.disabled=!0,it.optDisabled=!r.disabled,e=pt.createElement("input"),e.setAttribute("value",""),it.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),it.radioValue="t"===e.value}();var Ti=/\r/g;rt.fn.extend({val:function(e){var t,i,a,r=this[0];return arguments.length?(a=rt.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=a?e.call(this,i,rt(this).val()):e,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Ti,""):null==i?"":i)):void 0}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.trim(rt.text(e))}},select:{get:function(e){for(var t,i,a=e.options,r=e.selectedIndex,n="select-one"===e.type||0>r,o=n?null:[],s=n?r+1:a.length,l=0>r?s:n?r:0;s>l;l++)if(i=a[l],!(!i.selected&&l!==r||(it.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&rt.nodeName(i.parentNode,"optgroup"))){if(t=rt(i).val(),n)return t;o.push(t)}return o},set:function(e,t){for(var i,a,r=e.options,n=rt.makeArray(t),o=r.length;o--;)if(a=r[o],rt.inArray(rt.valHooks.option.get(a),n)>=0)try{a.selected=i=!0}catch(s){a.scrollHeight}else a.selected=!1;return i||(e.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},it.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xi,Ri,bi=rt.expr.attrHandle,_i=/^(?:checked|selected)$/i,wi=it.getSetAttribute,Hi=it.input;rt.fn.extend({attr:function(e,t){return Ct(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,i){var a,r,n=e.nodeType;return e&&3!==n&&8!==n&&2!==n?typeof e.getAttribute===bt?rt.prop(e,t,i):(1===n&&rt.isXMLDoc(e)||(t=t.toLowerCase(),a=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?Ri:xi)),void 0===i?a&&"get"in a&&null!==(r=a.get(e,t))?r:(r=rt.find.attr(e,t),null==r?void 0:r):null!==i?a&&"set"in a&&void 0!==(r=a.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void rt.removeAttr(e,t)):void 0},removeAttr:function(e,t){var i,a,r=0,n=t&&t.match(yt);if(n&&1===e.nodeType)for(;i=n[r++];)a=rt.propFix[i]||i,rt.expr.match.bool.test(i)?Hi&&wi||!_i.test(i)?e[a]=!1:e[rt.camelCase("default-"+i)]=e[a]=!1:rt.attr(e,i,""),e.removeAttribute(wi?i:a)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ri={set:function(e,t,i){return t===!1?rt.removeAttr(e,i):Hi&&wi||!_i.test(i)?e.setAttribute(!wi&&rt.propFix[i]||i,i):e[rt.camelCase("default-"+i)]=e[i]=!0,i}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var i=bi[t]||rt.find.attr;bi[t]=Hi&&wi||!_i.test(t)?function(e,t,a){var r,n;return a||(n=bi[t],bi[t]=r,r=null!=i(e,t,a)?t.toLowerCase():null,bi[t]=n),r}:function(e,t,i){return i?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),Hi&&wi||(rt.attrHooks.value={set:function(e,t,i){return rt.nodeName(e,"input")?void(e.defaultValue=t):xi&&xi.set(e,t,i)}}),wi||(xi={set:function(e,t,i){var a=e.getAttributeNode(i);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(i)),a.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},bi.id=bi.name=bi.coords=function(e,t,i){var a;return i?void 0:(a=e.getAttributeNode(t))&&""!==a.value?a.value:null},rt.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xi.set},rt.attrHooks.contenteditable={set:function(e,t,i){xi.set(e,""===t?!1:t,i)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),it.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Mi=/^(?:input|select|textarea|button|object)$/i,Si=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return Ct(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var a,r,n,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(n=1!==o||!rt.isXMLDoc(e),n&&(t=rt.propFix[t]||t,r=rt.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(a=r.set(e,i,t))?a:e[t]=i:r&&"get"in r&&null!==(a=r.get(e,t))?a:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):Mi.test(e.nodeName)||Si.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),it.enctype||(rt.propFix.enctype="encoding");var Ci=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,i,a,r,n,o,s=0,l=this.length,h="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(h)for(t=(e||"").match(yt)||[];l>s;s++)if(i=this[s],a=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ci," "):" ")){for(n=0;r=t[n++];)a.indexOf(" "+r+" ")<0&&(a+=r+" ");o=rt.trim(a),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,a,r,n,o,s=0,l=this.length,h=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(h)for(t=(e||"").match(yt)||[];l>s;s++)if(i=this[s],a=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ci," "):"")){for(n=0;r=t[n++];)for(;a.indexOf(" "+r+" ")>=0;)a=a.replace(" "+r+" "," ");o=e?rt.trim(a):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(i){rt(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,a=0,r=rt(this),n=e.match(yt)||[];t=n[a++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===bt||"boolean"===i)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,a=this.length;a>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ci," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,a){return this.on(t,e,i,a)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Ai=rt.now(),Li=/\?/,ki=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,a=null,r=rt.trim(t+"");return r&&!rt.trim(r.replace(ki,function(e,t,r,n){return i&&t&&(a=0),0===a?e:(i=r||t,a+=!n-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var i,a;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(a=new DOMParser,i=a.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(r){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),i};var Di,Pi,Fi=/#.*$/,zi=/([?&])_=[^&]*/,Ni=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ui=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bi=/^(?:GET|HEAD)$/,Vi=/^\/\//,Oi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ji={},Ii={},Gi="*/".concat("*");try{Pi=location.href}catch(Wi){Pi=pt.createElement("a"),Pi.href="",Pi=Pi.href}Di=Oi.exec(Pi.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pi,type:"GET",isLocal:Ui.test(Di[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,rt.ajaxSettings),t):O(rt.ajaxSettings,e)},ajaxPrefilter:B(ji),ajaxTransport:B(Ii),ajax:function(e,t){function i(e,t,i,a){var r,c,v,g,T,R=t;2!==y&&(y=2,s&&clearTimeout(s),h=void 0,o=a||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(g=j(f,x,i)),g=I(f,g,x,r),r?(f.ifModified&&(T=x.getResponseHeader("Last-Modified"),T&&(rt.lastModified[n]=T),T=x.getResponseHeader("etag"),T&&(rt.etag[n]=T)),204===e||"HEAD"===f.type?R="nocontent":304===e?R="notmodified":(R=g.state,c=g.data,v=g.error,r=!v)):(v=R,(e||!R)&&(R="error",0>e&&(e=0))),x.status=e,x.statusText=(t||R)+"",r?p.resolveWith(u,[c,R,x]):p.rejectWith(u,[x,R,v]),x.statusCode(E),E=void 0,l&&d.trigger(r?"ajaxSuccess":"ajaxError",[x,f,r?c:v]),m.fireWith(u,[x,R]),l&&(d.trigger("ajaxComplete",[x,f]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,r,n,o,s,l,h,c,f=rt.ajaxSetup({},t),u=f.context||f,d=f.context&&(u.nodeType||u.jquery)?rt(u):rt.event,p=rt.Deferred(),m=rt.Callbacks("once memory"),E=f.statusCode||{},v={},g={},y=0,T="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Ni.exec(o);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=g[i]=g[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)E[t]=[E[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||T;return h&&h.abort(t),i(0,t),this}};if(p.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||Pi)+"").replace(Fi,"").replace(Vi,Di[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=rt.trim(f.dataType||"*").toLowerCase().match(yt)||[""],null==f.crossDomain&&(a=Oi.exec(f.url.toLowerCase()),f.crossDomain=!(!a||a[1]===Di[1]&&a[2]===Di[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Di[3]||("http:"===Di[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=rt.param(f.data,f.traditional)),V(ji,f,t,x),2===y)return x;l=f.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bi.test(f.type),n=f.url,f.hasContent||(f.data&&(n=f.url+=(Li.test(n)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=zi.test(n)?n.replace(zi,"$1_="+Ai++):n+(Li.test(n)?"&":"?")+"_="+Ai++)),f.ifModified&&(rt.lastModified[n]&&x.setRequestHeader("If-Modified-Since",rt.lastModified[n]),rt.etag[n]&&x.setRequestHeader("If-None-Match",rt.etag[n])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Gi+"; q=0.01":""):f.accepts["*"]);for(r in f.headers)x.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(f.beforeSend.call(u,x,f)===!1||2===y))return x.abort();T="abort";for(r in{success:1,error:1,complete:1})x[r](f[r]);if(h=V(Ii,f,t,x)){x.readyState=1,l&&d.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},f.timeout));try{y=1,h.send(v,i)}catch(R){if(!(2>y))throw R;i(-1,R)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return rt.get(e,t,i,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,i,a,r){return rt.isFunction(i)&&(r=r||a,a=i,i=void 0),rt.ajax({url:e,type:t,dataType:r,data:i,success:a})}}),rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(i){rt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Xi=/%20/g,qi=/\[\]$/,Yi=/\r?\n/g,Ki=/^(?:submit|button|image|reset|file)$/i,Zi=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var i,a=[],r=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){r(this.name,this.value)});else for(i in e)G(i,e[i],t,r);return a.join("&").replace(Xi,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Zi.test(this.nodeName)&&!Ki.test(e)&&(this.checked||!At.test(e))}).map(function(e,t){var i=rt(this).val();return null==i?null:rt.isArray(i)?rt.map(i,function(e){return{name:t.name,value:e.replace(Yi,"\r\n")}}):{name:t.name,value:i.replace(Yi,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||X()}:W;var Qi=0,$i={},Ji=rt.ajaxSettings.xhr();e.ActiveXObject&&rt(e).on("unload",function(){for(var e in $i)$i[e](void 0,!0)}),it.cors=!!Ji&&"withCredentials"in Ji,Ji=it.ajax=!!Ji,Ji&&rt.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(i,a){var r,n=e.xhr(),o=++Qi;if(n.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)n[r]=e.xhrFields[r];e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)void 0!==i[r]&&n.setRequestHeader(r,i[r]+"");n.send(e.hasContent&&e.data||null),t=function(i,r){var s,l,h;if(t&&(r||4===n.readyState))if(delete $i[o],t=void 0,n.onreadystatechange=rt.noop,r)4!==n.readyState&&n.abort();else{h={},s=n.status,"string"==typeof n.responseText&&(h.text=n.responseText);try{l=n.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=h.text?200:404}h&&a(s,l,h,n.getAllResponseHeaders())},e.async?4===n.readyState?setTimeout(t):n.onreadystatechange=$i[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e
}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=pt.head||rt("head")[0]||pt.documentElement;return{send:function(a,r){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ea=[],ta=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ea.pop()||rt.expando+"_"+Ai++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,i,a){var r,n,o,s=t.jsonp!==!1&&(ta.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ta.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ta,"$1"+r):t.jsonp!==!1&&(t.url+=(Li.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||rt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",n=e[r],e[r]=function(){o=arguments},a.always(function(){e[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,ea.push(r)),o&&rt.isFunction(n)&&n(o[0]),o=n=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||pt;var a=ft.exec(e),r=!i&&[];return a?[t.createElement(a[1])]:(a=rt.buildFragment([e],t,r),r&&r.length&&rt(r).remove(),rt.merge([],a.childNodes))};var ia=rt.fn.load;rt.fn.load=function(e,t,i){if("string"!=typeof e&&ia)return ia.apply(this,arguments);var a,r,n,o=this,s=e.indexOf(" ");return s>=0&&(a=rt.trim(e.slice(s,e.length)),e=e.slice(0,s)),rt.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),o.length>0&&rt.ajax({url:e,type:n,dataType:"html",data:t}).done(function(e){r=arguments,o.html(a?rt("<div>").append(rt.parseHTML(e)).find(a):e)}).complete(i&&function(e,t){o.each(i,r||[e.responseText,t,e])}),this},rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var aa=e.document.documentElement;rt.offset={setOffset:function(e,t,i){var a,r,n,o,s,l,h,c=rt.css(e,"position"),f=rt(e),u={};"static"===c&&(e.style.position="relative"),s=f.offset(),n=rt.css(e,"top"),l=rt.css(e,"left"),h=("absolute"===c||"fixed"===c)&&rt.inArray("auto",[n,l])>-1,h?(a=f.position(),o=a.top,r=a.left):(o=parseFloat(n)||0,r=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(u.top=t.top-s.top+o),null!=t.left&&(u.left=t.left-s.left+r),"using"in t?t.using.call(e,u):f.css(u)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,i,a={top:0,left:0},r=this[0],n=r&&r.ownerDocument;return n?(t=n.documentElement,rt.contains(t,r)?(typeof r.getBoundingClientRect!==bt&&(a=r.getBoundingClientRect()),i=q(n),{top:a.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:a.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):a):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},a=this[0];return"fixed"===rt.css(a,"position")?t=a.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(i=e.offset()),i.top+=rt.css(e[0],"borderTopWidth",!0),i.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-rt.css(a,"marginTop",!0),left:t.left-i.left-rt.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||aa;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||aa})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);rt.fn[e]=function(a){return Ct(this,function(e,a,r){var n=q(e);return void 0===r?n?t in n?n[t]:n.document.documentElement[a]:e[a]:void(n?n.scrollTo(i?rt(n).scrollLeft():r,i?r:rt(n).scrollTop()):e[a]=r)},e,a,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=H(it.pixelPosition,function(e,i){return i?(i=ti(e,t),ai.test(i)?rt(e).position()[t]+"px":i):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,a){rt.fn[a]=function(a,r){var n=arguments.length&&(i||"boolean"!=typeof a),o=i||(a===!0||r===!0?"margin":"border");return Ct(this,function(t,i,a){var r;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===a?rt.css(t,i,o):rt.style(t,i,a,o)},t,n?a:void 0,n,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var ra=e.jQuery,na=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=na),t&&e.jQuery===rt&&(e.jQuery=ra),rt},typeof t===bt&&(e.jQuery=e.$=rt),rt}),jQuery.base64=function(){function e(e,t){var i=n.indexOf(e.charAt(t));if(-1===i)throw"Cannot decode base64";return i}function t(t){var i,a,n=0,o=t.length,s=[];if(t=String(t),0===o)return t;if(o%4!==0)throw"Cannot decode base64";for(t.charAt(o-1)===r&&(n=1,t.charAt(o-2)===r&&(n=2),o-=4),i=0;o>i;i+=4)a=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6|e(t,i+3),s.push(String.fromCharCode(a>>16,a>>8&255,255&a));switch(n){case 1:a=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6,s.push(String.fromCharCode(a>>16,a>>8&255));break;case 2:a=e(t,i)<<18|e(t,i+1)<<12,s.push(String.fromCharCode(a>>16))}return s.join("")}function i(e,t){var i=e.charCodeAt(t);if(i>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return i}function a(e){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";e=String(e);var t,a,o=[],s=e.length-e.length%3;if(0===e.length)return e;for(t=0;s>t;t+=3)a=i(e,t)<<16|i(e,t+1)<<8|i(e,t+2),o.push(n.charAt(a>>18)),o.push(n.charAt(a>>12&63)),o.push(n.charAt(a>>6&63)),o.push(n.charAt(63&a));switch(e.length-s){case 1:a=i(e,t)<<16,o.push(n.charAt(a>>18)+n.charAt(a>>12&63)+r+r);break;case 2:a=i(e,t)<<16|i(e,t+1)<<8,o.push(n.charAt(a>>18)+n.charAt(a>>12&63)+n.charAt(a>>6&63)+r)}return o.join("")}var r="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="1.0";return{decode:t,encode:a,VERSION:o}}(jQuery);var jsfeat=jsfeat||{REVISION:"ALPHA"};!function(e){"use strict";var t=1.192092896e-7,i=1e-37,a=256,r=512,n=1024,o=2048,s=4096,l=1,h=2,c=3,f=4,u=new Int32Array([-1,1,4,-1,4,-1,-1,-1,8,-1,-1,-1,-1,-1,-1,-1,8]),d=function(){return function(e){return 65280&e}}(),p=function(){return function(e){return 255&e}}(),m=function(){return function(e){return u[(65280&e)>>8]}}(),E=1,v=1,g=2,y=function(){function e(e,t){this.size=-8&(e+7|0),"undefined"==typeof t?this.buffer=new ArrayBuffer(this.size):(this.buffer=t,this.size=t.length),this.u8=new Uint8Array(this.buffer),this.i32=new Int32Array(this.buffer),this.f32=new Float32Array(this.buffer),this.f64=new Float64Array(this.buffer)}return e}(),T=function(){function e(e,t,i,o){this.type=0|d(i),this.channel=0|p(i),this.cols=0|e,this.rows=0|t,"undefined"==typeof o?this.allocate():(this.buffer=o,this.data=this.type&a?this.buffer.u8:this.type&r?this.buffer.i32:this.type&n?this.buffer.f32:this.buffer.f64)}return e.prototype.allocate=function(){delete this.data,delete this.buffer,this.buffer=new y(this.cols*m(this.type)*this.channel*this.rows),this.data=this.type&a?this.buffer.u8:this.type&r?this.buffer.i32:this.type&n?this.buffer.f32:this.buffer.f64},e.prototype.copy_to=function(e){for(var t=e.data,i=this.data,a=0,r=this.cols*this.rows*this.channel|0;r-4>a;a+=4)t[a]=i[a],t[a+1]=i[a+1],t[a+2]=i[a+2],t[a+3]=i[a+3];for(;r>a;++a)t[a]=i[a]},e.prototype.resize=function(e,t,i){"undefined"==typeof i&&(i=this.channel);var a=e*i*t;a>this.rows*this.cols*this.channel?(this.cols=e,this.rows=t,this.channel=i,this.allocate()):(this.cols=e,this.rows=t,this.channel=i)},e}(),x=function(){function e(e){this.levels=0|e,this.data=new Array(e),this.pyrdown=jsfeat.imgproc.pyrdown}return e.prototype.allocate=function(e,t,i){for(var a=this.levels;--a>=0;)this.data[a]=new T(e>>a,t>>a,i)},e.prototype.build=function(e,t){"undefined"==typeof t&&(t=!0);var i=2,a=e,r=this.data[0];if(!t)for(var n=e.cols*e.rows;--n>=0;)r.data[n]=e.data[n];for(r=this.data[1],this.pyrdown(a,r);i<this.levels;++i)a=r,r=this.data[i],this.pyrdown(a,r)},e}(),R=function(){function e(e,t,i,a){"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=0),"undefined"==typeof i&&(i=0),"undefined"==typeof a&&(a=0),this.x=e,this.y=t,this.score=i,this.level=a}return e}();e.U8_t=a,e.S32_t=r,e.F32_t=n,e.S64_t=o,e.F64_t=s,e.C1_t=l,e.C2_t=h,e.C3_t=c,e.C4_t=f,e.U8C1_t=a|l,e.U8C3_t=a|c,e.U8C4_t=a|f,e.F32C1_t=n|l,e.F32C2_t=n|h,e.S32C1_t=r|l,e.S32C2_t=r|h,e.EPSILON=t,e.FLT_MIN=i,e.BOX_BLUR_NOSCALE=E,e.SVD_U_T=v,e.SVD_V_T=g,e.get_data_type=d,e.get_channel=p,e.get_data_type_size=m,e.data_t=y,e.matrix_t=T,e.pyramid_t=x,e.point2d_t=R}(jsfeat),function(e){"use strict";var t=function(){var e,t,i=function(){function e(e){this.next=null,this.data=new jsfeat.data_t(e),this.size=this.data.size,this.buffer=this.data.buffer,this.u8=this.data.u8,this.i32=this.data.i32,this.f32=this.data.f32,this.f64=this.data.f64}return e.prototype.resize=function(e){delete this.data,this.data=new jsfeat.data_t(e),this.size=this.data.size,this.buffer=this.data.buffer,this.u8=this.data.u8,this.i32=this.data.i32,this.f32=this.data.f32,this.f64=this.data.f64},e}(),a=0;return{allocate:function(r,n){e=t=new i(n);for(var o=0;r>o;++o){var s=new i(n);t=t.next=s,a++}},get_buffer:function(t){var i=e;return e=e.next,a--,t>i.size&&i.resize(t),i},put_buffer:function(e){t=t.next=e,a++}}}();e.cache=t,t.allocate(30,2560)}(jsfeat),function(e){"use strict";var t=function(){var e=new Int32Array(96);return{get_gaussian_kernel:function(e,t,i,a){var r=0,n=0,o=0,s=0,l=0,h=0,c=jsfeat.cache.get_buffer(e<<2),f=c.f32;if(1==(1&e)&&7>=e&&0>=t)switch(e>>1){case 0:f[0]=1,h=1;break;case 1:f[0]=.25,f[1]=.5,f[2]=.25,h=1;break;case 2:f[0]=.0625,f[1]=.25,f[2]=.375,f[3]=.25,f[4]=.0625,h=1;break;case 3:f[0]=.03125,f[1]=.109375,f[2]=.21875,f[3]=.28125,f[4]=.21875,f[5]=.109375,f[6]=.03125,h=1}else for(s=t>0?t:.3*(.5*(e-1)-1)+.8,l=-.5/(s*s);e>r;++r)n=r-.5*(e-1),o=Math.exp(l*n*n),f[r]=o,h+=o;if(a&jsfeat.U8_t)for(h=256/h,r=0;e>r;++r)i[r]=f[r]*h+.5|0;else for(h=1/h,r=0;e>r;++r)i[r]=f[r]*h;jsfeat.cache.put_buffer(c)},perspective_4point_transform:function(e,t,i,a,r,n,o,s,l,h,c,f,u,d,p,m,E){var v=t,g=h,y=o,T=v*g*y,x=p,R=v*x,b=g*R,_=c,w=v*_,H=n,M=i,S=d,C=M*S,A=C*H,L=S*H*_,k=S*y,D=S*_,P=g*y,F=x*g,z=x*H,N=_*H,U=1/(k-D-P+F-z+N),B=v*S,V=M*H,O=y*v,j=x*O,I=M*g,G=C*_,W=M*_*H,X=y*x*g,q=x*M,Y=-(b-T+w*H-H*R-C*g+A-L+k*g)*U,K=(T-b-B*y+B*_+A-g*V+z*g-L)*U,Z=v,Q=(-_*R+j+I*y-C*y+G-W+z*_-X)*U,$=(-j+O*_-q*g+G-W+q*H+X-k*_)*U,J=M,et=(-w+O+I-V+D-k-F+z)*U,tt=(-R+w+C-I+z-N-k+P)*U;v=a,g=f,y=l,T=v*g*y,x=E,R=v*x,b=g*R,_=u,w=v*_,H=s,M=r,S=m,C=M*S,A=C*H,L=S*H*_,k=S*y,D=S*_,P=g*y,F=x*g,z=x*H,N=_*H,U=1/(k-D-P+F-z+N),B=v*S,V=M*H,O=y*v,j=x*O,I=M*g,G=C*_,W=M*_*H,X=y*x*g,q=x*M;var it=-(b-T+w*H-H*R-C*g+A-L+k*g)*U,at=(T-b-B*y+B*_+A-g*V+z*g-L)*U,rt=v,nt=(-_*R+j+I*y-C*y+G-W+z*_-X)*U,ot=(-j+O*_-q*g+G-W+q*H+X-k*_)*U,st=M,lt=(-w+O+I-V+D-k-F+z)*U,ht=(-R+w+C-I+z-N-k+P)*U;g=$-tt*J,y=Y*$,T=Y*J,R=Q*K,b=Z*Q,w=K*et;var ct=Z*et;S=1/(y-T*tt-R+b*tt+w*J-ct*$),A=-Q+J*et;var ft=-Q*tt+$*et;N=-K+Z*tt;var ut=Y-ct;V=Y*tt-w,O=-K*J+Z*$;var dt=T-b,pt=y-R;W=g*S;var mt=N*S,Et=O*S,vt=e.data;vt[0]=it*W+at*A*S-rt*ft*S,vt[1]=it*mt+at*ut*S-rt*V*S,vt[2]=-it*Et-at*dt*S+rt*pt*S,vt[3]=nt*W+ot*A*S-st*ft*S,vt[4]=nt*mt+ot*ut*S-st*V*S,vt[5]=-nt*Et-ot*dt*S+st*pt*S,vt[6]=lt*W+ht*A*S-ft*S,vt[7]=lt*mt+ht*ut*S-V*S,vt[8]=-lt*Et-ht*dt*S+pt*S},qsort:function(t,i,a,r){var n,o,s,l,h=7,c=0,f=0,u=0,d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0,M=0,S=e;if(!(1>=a-i+1))for(S[0]=i,S[1]=a;c>=0;)for(f=S[c<<1],u=S[(c<<1)+1],c--;;){if(p=u-f+1,h>=p){for(E=f+1;u>=E;E++)for(v=E;v>f&&r(t[v],t[v-1]);v--)n=t[v],t[v]=t[v-1],t[v-1]=n;break}for(M=0,y=f,x=u,b=f+(p>>1),p>40&&(g=p>>3,_=f,w=f+g,H=f+(g<<1),o=t[_],s=t[w],l=t[H],f=r(o,s)?r(s,l)?w:r(o,l)?H:_:r(l,s)?w:r(o,l)?_:H,_=b-g,w=b,H=b+g,o=t[_],s=t[w],l=t[H],b=r(o,s)?r(s,l)?w:r(o,l)?H:_:r(l,s)?w:r(o,l)?_:H,_=u-(g<<1),w=u-g,H=u,o=t[_],s=t[w],l=t[H],u=r(o,s)?r(s,l)?w:r(o,l)?H:_:r(l,s)?w:r(o,l)?_:H),_=f,w=b,H=u,o=t[_],s=t[w],l=t[H],b=r(o,s)?r(s,l)?w:r(o,l)?H:_:r(l,s)?w:r(o,l)?_:H,b!=y&&(n=t[b],t[b]=t[y],t[y]=n,b=y),f=T=y+1,u=R=x,o=t[b];;){for(;u>=f&&!r(o,t[f]);)r(t[f],o)||(f>T&&(n=t[T],t[T]=t[f],t[f]=n),M=1,T++),f++;for(;u>=f&&!r(t[u],o);)r(o,t[u])||(R>u&&(n=t[R],t[R]=t[u],t[u]=n),M=1,R--),u--;if(f>u)break;n=t[f],t[f]=t[u],t[u]=n,M=1,f++,u--}if(0==M){for(f=y,u=x,E=f+1;u>=E;E++)for(v=E;v>f&&r(t[v],t[v-1]);v--)n=t[v],t[v]=t[v-1],t[v-1]=n;break}for(p=Math.min(T-y,f-T),m=f-p|0,d=0;p>d;++d,++m)n=t[y+d],t[y+d]=t[m],t[m]=n;for(p=Math.min(x-R,R-u),m=x-p+1|0,d=0;p>d;++d,++m)n=t[f+d],t[f+d]=t[m],t[m]=n;if(p=f-T,m=R-u,p>1)m>1?p>m?(++c,S[c<<1]=y,S[(c<<1)+1]=y+p-1,f=x-m+1,u=x):(++c,S[c<<1]=x-m+1,S[(c<<1)+1]=x,f=y,u=y+p-1):(f=y,u=y+p-1);else{if(!(m>1))break;f=x-m+1,u=x}}},median:function(e,t,i){for(var a,r=0,n=0,o=0,s=t+i>>1;;){if(t>=i)return e[s];if(i==t+1)return e[t]>e[i]&&(a=e[t],e[t]=e[i],e[i]=a),e[s];for(r=t+i>>1,e[r]>e[i]&&(a=e[r],e[r]=e[i],e[i]=a),e[t]>e[i]&&(a=e[t],e[t]=e[i],e[i]=a),e[r]>e[t]&&(a=e[r],e[r]=e[t],e[t]=a),n=t+1,a=e[r],e[r]=e[n],e[n]=a,o=i;;){do++n;while(e[t]>e[n]);do--o;while(e[o]>e[t]);if(n>o)break;a=e[n],e[n]=e[o],e[o]=a}a=e[t],e[t]=e[o],e[o]=a,s>=o?t=n:o>=s&&(i=o-1)}return 0}}}();e.math=t}(jsfeat),function(e){"use strict";var t=function(){return{identity:function(e,t){"undefined"==typeof t&&(t=1);for(var i=e.data,a=e.rows,r=e.cols,n=r+1|0,o=a*r,s=o;--o>=0;)i[o]=0;for(o=s,s=0;o>s;)i[s]=t,s+=n},transpose:function(e,t){for(var i=0,a=0,r=t.rows,n=t.cols,o=0,s=0,l=0,h=t.data,c=e.data;r>i;s+=1,o+=n,i++)for(l=s,a=0;n>a;l+=r,a++)c[l]=h[o+a]},multiply:function(e,t,i){for(var a=0,r=0,n=0,o=0,s=0,l=0,h=0,c=0,f=t.cols,u=t.rows,d=i.cols,p=t.data,m=i.data,E=e.data,v=0;u>a;o+=f,a++)for(h=0,r=0;d>r;c++,h++,r++){for(l=h,s=o,v=0,n=0;f>n;s++,l+=d,n++)v+=p[s]*m[l];E[c]=v}},multiply_ABt:function(e,t,i){for(var a=0,r=0,n=0,o=0,s=0,l=0,h=0,c=t.cols,f=t.rows,u=i.rows,d=t.data,p=i.data,m=e.data,E=0;f>a;o+=c,a++)for(l=0,r=0;u>r;h++,r++){for(s=o,E=0,n=0;c>n;s++,l++,n++)E+=d[s]*p[l];m[h]=E}},multiply_AtB:function(e,t,i){for(var a=0,r=0,n=0,o=0,s=0,l=0,h=0,c=0,f=t.cols,u=t.rows,d=i.cols,p=t.data,m=i.data,E=e.data,v=0;f>a;o++,a++)for(h=0,r=0;d>r;c++,h++,r++){for(l=h,s=o,v=0,n=0;u>n;s+=f,l+=d,n++)v+=p[s]*m[l];E[c]=v}},multiply_AAt:function(e,t){for(var i=0,a=0,r=0,n=0,o=0,s=0,l=0,h=0,c=0,f=t.cols,u=t.rows,d=t.data,p=e.data,m=0;u>i;n+=u+1,o=s,i++)for(h=n,c=n,l=o,a=i;u>a;h++,c+=u,a++){for(s=o,m=0,r=0;f>r;r++)m+=d[s++]*d[l++];p[h]=m,p[c]=m}},multiply_AtA:function(e,t){for(var i=0,a=0,r=0,n=0,o=0,s=0,l=0,h=0,c=0,f=t.cols,u=t.rows,d=t.data,p=e.data,m=0;f>i;l+=f,i++)for(n=i,c=l+i,h=c,a=i;f>a;h++,c+=f,a++){for(o=n,s=a,m=0,r=0;u>r;o+=f,s+=f,r++)m+=d[o]*d[s];p[h]=m,p[c]=m}},identity_3x3:function(e,t){"undefined"==typeof t&&(t=1);var i=e.data;i[0]=i[4]=i[8]=t,i[1]=i[2]=i[3]=0,i[5]=i[6]=i[7]=0},invert_3x3:function(e,t){var i=e.data,a=t.data,r=i[4],n=i[8],o=i[5],s=i[7],l=i[0],h=l*r,c=l*o,f=i[3],u=i[1],d=f*u,p=i[2],m=f*p,E=i[6],v=E*u,g=E*p,y=1/(h*n-c*s-d*n+m*s+v*o-g*r);a[0]=(r*n-o*s)*y,a[1]=-(u*n-p*s)*y,a[2]=-(-u*o+p*r)*y,a[3]=-(f*n-o*E)*y,a[4]=(l*n-g)*y,a[5]=-(c-m)*y,a[6]=-(-f*s+r*E)*y,a[7]=-(l*s-v)*y,a[8]=(h-d)*y},multiply_3x3:function(e,t,i){var a=e.data,r=t.data,n=i.data,o=r[0],s=r[1],l=r[2],h=r[3],c=r[4],f=r[5],u=r[6],d=r[7],p=r[8],m=n[0],E=n[1],v=n[2],g=n[3],y=n[4],T=n[5],x=n[6],R=n[7],b=n[8];a[0]=o*m+s*g+l*x,a[1]=o*E+s*y+l*R,a[2]=o*v+s*T+l*b,a[3]=h*m+c*g+f*x,a[4]=h*E+c*y+f*R,a[5]=h*v+c*T+f*b,a[6]=u*m+d*g+p*x,a[7]=u*E+d*y+p*R,a[8]=u*v+d*T+p*b},mat3x3_determinant:function(e){var t=e.data;return t[0]*t[4]*t[8]-t[0]*t[5]*t[7]-t[3]*t[1]*t[8]+t[3]*t[2]*t[7]+t[6]*t[1]*t[5]-t[6]*t[2]*t[4]},determinant_3x3:function(e,t,i,a,r,n,o,s,l){return e*r*l-e*n*s-a*t*l+a*i*s+o*t*n-o*i*r}}}();e.matmath=t}(jsfeat),function(e){"use strict";var t=function(){var e=function(e,t,i,a){a=e[t],e[t]=e[i],e[i]=a},t=function(e,t){return e=Math.abs(e),t=Math.abs(t),e>t?(t/=e,e*Math.sqrt(1+t*t)):t>0?(e/=t,t*Math.sqrt(1+e*e)):0},i=function(i,a,r,n,o,s){var l=jsfeat.EPSILON,h=0,c=0,f=0,u=0,d=0,p=0,m=0,E=0,v=0,g=s*s*30,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0,M=0,S=jsfeat.cache.get_buffer(s<<2),C=jsfeat.cache.get_buffer(s<<2),A=S.i32,L=C.i32;if(n)for(;s>h;h++){for(f=h*o,c=0;s>c;c++)n[f+c]=0;n[f+h]=1}for(f=0;s>f;f++){if(r[f]=i[(a+1)*f],s-1>f){for(u=f+1,y=Math.abs(i[a*f+u]),h=f+2;s>h;h++)T=Math.abs(i[a*f+h]),T>y&&(y=T,u=h);A[f]=u}if(f>0){for(u=0,y=Math.abs(i[f]),h=1;f>h;h++)T=Math.abs(i[a*h+f]),T>y&&(y=T,u=h);L[f]=u}}if(s>1)for(;g>v;v++){for(f=0,y=Math.abs(i[A[0]]),h=1;s-1>h;h++)T=Math.abs(i[a*h+A[h]]),T>y&&(y=T,f=h);for(d=A[f],h=1;s>h;h++)T=Math.abs(i[a*L[h]+h]),T>y&&(y=T,f=L[h],d=h);if(x=i[a*f+d],Math.abs(x)<=l)break;for(R=.5*(r[d]-r[f]),b=Math.abs(R)+t(x,R),_=t(x,b),w=b/_,_=x/_,b=x/b*x,0>R&&(_=-_,b=-b),i[a*f+d]=0,r[f]-=b,r[d]+=b,h=0;f>h;h++)m=a*h+f,E=a*h+d,H=i[m],M=i[E],i[m]=H*w-M*_,i[E]=H*_+M*w;for(h=f+1;d>h;h++)m=a*f+h,E=a*h+d,H=i[m],M=i[E],i[m]=H*w-M*_,i[E]=H*_+M*w;for(h=d+1,m=a*f+h,E=a*d+h;s>h;h++,m++,E++)H=i[m],M=i[E],i[m]=H*w-M*_,i[E]=H*_+M*w;if(n)for(m=o*f,E=o*d,h=0;s>h;h++,m++,E++)H=n[m],M=n[E],n[m]=H*w-M*_,n[E]=H*_+M*w;for(c=0;2>c;c++){if(p=0==c?f:d,s-1>p){for(u=p+1,y=Math.abs(i[a*p+u]),h=p+2;s>h;h++)T=Math.abs(i[a*p+h]),T>y&&(y=T,u=h);A[p]=u}if(p>0){for(u=0,y=Math.abs(i[p]),h=1;p>h;h++)T=Math.abs(i[a*h+p]),T>y&&(y=T,u=h);L[p]=u}}}for(f=0;s-1>f;f++){for(u=f,h=f+1;s>h;h++)r[u]<r[h]&&(u=h);if(f!=u&&(e(r,u,f,y),n))for(h=0;s>h;h++)e(n,o*u+h,o*f+h,y)}jsfeat.cache.put_buffer(S),jsfeat.cache.put_buffer(C)},a=function(i,a,r,n,o,s,l,h){for(var c=2*jsfeat.EPSILON,f=jsfeat.FLT_MIN,u=0,d=0,p=0,m=0,E=Math.max(s,30),v=0,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0,M=0,S=0,C=0,A=0,L=0,k=0,D=0,P=4660,F=0,z=0,N=0,U=jsfeat.cache.get_buffer(l<<3),B=U.f64;l>u;u++){for(p=0,M=0;s>p;p++)_=i[u*a+p],M+=_*_;if(B[u]=M,n){for(p=0;l>p;p++)n[u*o+p]=0;n[u*o+u]=1}}for(;E>m;m++){for(x=0,u=0;l-1>u;u++)for(d=u+1;l>d;d++){for(v=u*a|0,g=d*a|0,L=B[u],k=0,D=B[d],p=2,k+=i[v]*i[g],k+=i[v+1]*i[g+1];s>p;p++)k+=i[v+p]*i[g+p];if(!(Math.abs(k)<=c*Math.sqrt(L*D))){for(k*=2,S=L-D,C=t(k,S),0>S?(A=.5*(C-S),b=Math.sqrt(A/C),R=k/(C*b*2)):(R=Math.sqrt((C+S)/(2*C)),b=k/(C*R*2)),L=0,D=0,p=2,w=R*i[v]+b*i[g],H=-b*i[v]+R*i[g],i[v]=w,i[g]=H,L+=w*w,D+=H*H,w=R*i[v+1]+b*i[g+1],H=-b*i[v+1]+R*i[g+1],i[v+1]=w,i[g+1]=H,L+=w*w,D+=H*H;s>p;p++)w=R*i[v+p]+b*i[g+p],H=-b*i[v+p]+R*i[g+p],i[v+p]=w,i[g+p]=H,L+=w*w,D+=H*H;if(B[u]=L,B[d]=D,x=1,n)for(y=u*o|0,T=d*o|0,p=2,w=R*n[y]+b*n[T],H=-b*n[y]+R*n[T],n[y]=w,n[T]=H,w=R*n[y+1]+b*n[T+1],H=-b*n[y+1]+R*n[T+1],n[y+1]=w,n[T+1]=H;l>p;p++)w=R*n[y+p]+b*n[T+p],H=-b*n[y+p]+R*n[T+p],n[y+p]=w,n[T+p]=H}}if(0==x)break}for(u=0;l>u;u++){for(p=0,M=0;s>p;p++)_=i[u*a+p],M+=_*_;B[u]=Math.sqrt(M)}for(u=0;l-1>u;u++){for(d=u,p=u+1;l>p;p++)B[d]<B[p]&&(d=p);if(u!=d&&(e(B,u,d,M),n)){for(p=0;s>p;p++)e(i,u*a+p,d*a+p,_);for(p=0;l>p;p++)e(n,u*o+p,d*o+p,_)}}for(u=0;l>u;u++)r[u]=B[u];if(!n)return void jsfeat.cache.put_buffer(U);for(u=0;h>u;u++){for(M=l>u?B[u]:0;f>=M;){for(z=1/s,p=0;s>p;p++)P=214013*P+2531011,F=0!=(P>>16&32767&256)?z:-z,i[u*a+p]=F;for(m=0;2>m;m++)for(d=0;u>d;d++){for(M=0,p=0;s>p;p++)M+=i[u*a+p]*i[d*a+p];for(N=0,p=0;s>p;p++)_=i[u*a+p]-M*i[d*a+p],i[u*a+p]=_,N+=Math.abs(_);for(N=N?1/N:0,p=0;s>p;p++)i[u*a+p]*=N}for(M=0,p=0;s>p;p++)_=i[u*a+p],M+=_*_;M=Math.sqrt(M)}for(b=1/M,p=0;s>p;p++)i[u*a+p]*=b}jsfeat.cache.put_buffer(U)};return{lu_solve:function(t,i){var a,r,n,o,s=0,l=0,h=0,c=1,f=t.cols,u=t.data,d=i.data;for(s=0;f>s;s++){for(h=s,l=s+1;f>l;l++)Math.abs(u[l*f+s])>Math.abs(u[h*f+s])&&(h=l);if(Math.abs(u[h*f+s])<jsfeat.EPSILON)return 0;if(h!=s){for(l=s;f>l;l++)e(u,s*f+l,h*f+l,a);e(d,s,h,a),c=-c}for(n=-1/u[s*f+s],l=s+1;f>l;l++){for(r=u[l*f+s]*n,h=s+1;f>h;h++)u[l*f+h]+=r*u[s*f+h];d[l]+=r*d[s]}u[s*f+s]=-n}for(s=f-1;s>=0;s--){for(o=d[s],h=s+1;f>h;h++)o-=u[s*f+h]*d[h];d[s]=o*u[s*f+s]}return 1},cholesky_solve:function(e,t){var i,a,r=0,n=0,o=0,s=0,l=0,h=0,c=0,f=e.cols,u=e.data,d=t.data;for(r=0;f>r;r++)for(a=1,s=r*f,l=s,n=r;f>n;n++){for(i=u[l+r],o=0;r>o;o++)i-=u[o*f+r]*u[l+o];if(n==r){if(u[l+r]=i,0==i)return 0;a=1/i}else u[s+n]=i,u[l+r]=i*a;l+=f}for(s=0,h=0;f>h;h++){for(i=d[h],c=0;h>c;c++)i-=u[s+c]*d[c];d[h]=i,s+=f}for(s=0,h=0;f>h;h++)d[h]/=u[s+h],s+=f;for(h=f-1;h>=0;h--){for(i=d[h],c=h+1,s=c*f;f>c;c++)i-=u[s+h]*d[c],s+=f;d[h]=i}return 1},svd_decompose:function(e,t,i,r,n){"undefined"==typeof n&&(n=0);var o=0,s=0,l=e.rows,h=e.cols,c=l,f=h,u=e.type|jsfeat.C1_t;f>c&&(o=1,s=c,c=f,f=s);var d=jsfeat.cache.get_buffer(c*c<<3),p=jsfeat.cache.get_buffer(f<<3),m=jsfeat.cache.get_buffer(f*f<<3),E=new jsfeat.matrix_t(c,c,u,d.data),v=new jsfeat.matrix_t(1,f,u,p.data),g=new jsfeat.matrix_t(f,f,u,m.data);if(0==o)jsfeat.matmath.transpose(E,e);else{for(s=0;h*l>s;s++)E.data[s]=e.data[s];for(;f*c>s;s++)E.data[s]=0}if(a(E.data,c,v.data,g.data,f,c,f,c),t){for(s=0;f>s;s++)t.data[s]=v.data[s];for(;h>s;s++)t.data[s]=0}if(0==o){if(i&&n&jsfeat.SVD_U_T)for(s=c*c;--s>=0;)i.data[s]=E.data[s];else i&&jsfeat.matmath.transpose(i,E);if(r&&n&jsfeat.SVD_V_T)for(s=f*f;--s>=0;)r.data[s]=g.data[s];else r&&jsfeat.matmath.transpose(r,g)}else{if(i&&n&jsfeat.SVD_U_T)for(s=f*f;--s>=0;)i.data[s]=g.data[s];else i&&jsfeat.matmath.transpose(i,g);if(r&&n&jsfeat.SVD_V_T)for(s=c*c;--s>=0;)r.data[s]=E.data[s];else r&&jsfeat.matmath.transpose(r,E)}jsfeat.cache.put_buffer(d),jsfeat.cache.put_buffer(p),jsfeat.cache.put_buffer(m)},svd_solve:function(e,t,i){var a=0,r=0,n=0,o=0,s=0,l=e.rows,h=e.cols,c=0,f=0,u=0,d=e.type|jsfeat.C1_t,p=jsfeat.cache.get_buffer(l*l<<3),m=jsfeat.cache.get_buffer(h<<3),E=jsfeat.cache.get_buffer(h*h<<3),v=new jsfeat.matrix_t(l,l,d,p.data),g=new jsfeat.matrix_t(1,h,d,m.data),y=new jsfeat.matrix_t(h,h,d,E.data),T=i.data,x=v.data,R=g.data,b=y.data;for(this.svd_decompose(e,g,v,y,0),u=jsfeat.EPSILON*R[0]*h;h>a;a++,s+=h){for(f=0,r=0;h>r;r++)if(R[r]>u){for(n=0,c=0,o=0;l>n;n++,o+=h)c+=x[o+r]*T[n];f+=c*b[s+r]/R[r]}t.data[a]=f}jsfeat.cache.put_buffer(p),jsfeat.cache.put_buffer(m),jsfeat.cache.put_buffer(E)},svd_invert:function(e,t){var i=0,a=0,r=0,n=0,o=0,s=0,l=t.rows,h=t.cols,c=0,f=0,u=t.type|jsfeat.C1_t,d=jsfeat.cache.get_buffer(l*l<<3),p=jsfeat.cache.get_buffer(h<<3),m=jsfeat.cache.get_buffer(h*h<<3),E=new jsfeat.matrix_t(l,l,u,d.data),v=new jsfeat.matrix_t(1,h,u,p.data),g=new jsfeat.matrix_t(h,h,u,m.data),y=e.data,T=E.data,x=v.data,R=g.data;for(this.svd_decompose(t,v,E,g,0),f=jsfeat.EPSILON*x[0]*h;h>i;i++,o+=h)for(a=0,n=0;l>a;a++,s++){for(r=0,c=0;h>r;r++,n++)x[r]>f&&(c+=R[o+r]*T[n]/x[r]);y[s]=c}jsfeat.cache.put_buffer(d),jsfeat.cache.put_buffer(p),jsfeat.cache.put_buffer(m)},eigenVV:function(e,t,a){for(var r=e.cols,n=r*r,o=e.type|jsfeat.C1_t,s=jsfeat.cache.get_buffer(r*r<<3),l=jsfeat.cache.get_buffer(r<<3),h=new jsfeat.matrix_t(r,r,o,s.data),c=new jsfeat.matrix_t(1,r,o,l.data);--n>=0;)h.data[n]=e.data[n];if(i(h.data,r,c.data,t?t.data:null,r,r),a)for(;--r>=0;)a.data[r]=c.data[r];jsfeat.cache.put_buffer(s),jsfeat.cache.put_buffer(l)}}}();e.linalg=t}(jsfeat),function(e){"use strict";var t=function(){var e=function(e){return e*e},t=function(e,t,i,a,r){for(var n=0,o=0,s=0,l=0,h=0,c=0,f=0,u=0,d=0,p=0,m=0;r>n;++n)o+=e[n].x,s+=e[n].y,c+=t[n].x,f+=t[n].y;for(o/=r,s/=r,c/=r,f/=r,n=0;r>n;++n)p=e[n].x-o,m=e[n].y-s,l+=Math.sqrt(p*p+m*m),p=t[n].x-c,m=t[n].y-f,u+=Math.sqrt(p*p+m*m);l/=r,u/=r,h=Math.SQRT2/l,d=Math.SQRT2/u,i[0]=i[4]=h,i[2]=-o*h,i[5]=-s*h,i[1]=i[3]=i[6]=i[7]=0,i[8]=1,a[0]=a[4]=d,a[2]=-c*d,a[5]=-f*d,a[1]=a[3]=a[6]=a[7]=0,a[8]=1},i=function(e,t){for(var i=0,a=0,r=t-1|0,n=0,o=0,s=0,l=0;r>i;++i)for(n=e[i].x-e[r].x,o=e[i].y-e[r].y,a=0;i>a;++a)if(s=e[a].x-e[r].x,l=e[a].y-e[r].y,Math.abs(s*o-l*n)<=jsfeat.EPSILON*(Math.abs(n)+Math.abs(o)+Math.abs(s)+Math.abs(l)))return!0;return!1},a=new jsfeat.matrix_t(3,3,jsfeat.F32_t|jsfeat.C1_t),r=new jsfeat.matrix_t(3,3,jsfeat.F32_t|jsfeat.C1_t),n=new jsfeat.matrix_t(6,6,jsfeat.F32_t|jsfeat.C1_t),o=new jsfeat.matrix_t(6,1,jsfeat.F32_t|jsfeat.C1_t),s=function(){function i(){}return i.prototype.run=function(e,i,s,l){var h,c,f=0,u=0,d=s.type|jsfeat.C1_t,p=s.data,m=a.data,E=r.data,v=0,g=0;t(e,i,m,E,l);for(var y=jsfeat.cache.get_buffer(2*l*6<<3),T=jsfeat.cache.get_buffer(2*l<<3),x=new jsfeat.matrix_t(6,2*l,d,y.data),R=new jsfeat.matrix_t(1,2*l,d,T.data),b=x.data,_=R.data;l>f;++f)h=e[f],c=i[f],v=m[0]*h.x+m[1]*h.y+m[2],g=m[3]*h.x+m[4]*h.y+m[5],u=2*f*6,b[u]=v,b[u+1]=g,b[u+2]=1,b[u+3]=0,b[u+4]=0,b[u+5]=0,u+=6,b[u]=0,b[u+1]=0,b[u+2]=0,b[u+3]=v,b[u+4]=g,b[u+5]=1,_[f<<1]=E[0]*c.x+E[1]*c.y+E[2],_[(f<<1)+1]=E[3]*c.x+E[4]*c.y+E[5];return jsfeat.matmath.multiply_AtA(n,x),jsfeat.matmath.multiply_AtB(o,x,R),jsfeat.linalg.lu_solve(n,o),p[0]=o.data[0],p[1]=o.data[1],p[2]=o.data[2],p[3]=o.data[3],p[4]=o.data[4],p[5]=o.data[5],p[6]=0,p[7]=0,p[8]=1,jsfeat.matmath.invert_3x3(r,r),jsfeat.matmath.multiply_3x3(s,r,s),jsfeat.matmath.multiply_3x3(s,s,a),jsfeat.cache.put_buffer(y),jsfeat.cache.put_buffer(T),1},i.prototype.error=function(t,i,a,r,n){for(var o,s,l=0,h=a.data;n>l;++l)o=t[l],s=i[l],r[l]=e(s.x-h[0]*o.x-h[1]*o.y-h[2])+e(s.y-h[3]*o.x-h[4]*o.y-h[5])},i.prototype.check_subset=function(){return!0},i}(),l=new jsfeat.matrix_t(9,9,jsfeat.F32_t|jsfeat.C1_t),h=new jsfeat.matrix_t(9,9,jsfeat.F32_t|jsfeat.C1_t),c=function(){function e(){}return e.prototype.run=function(e,t,i,n){for(var o=0,s=0,c=i.data,f=a.data,u=r.data,d=l.data,p=h.data,m=0,E=0,v=0,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0;n>o;++o)x+=t[o].x,R+=t[o].y,w+=e[o].x,H+=e[o].y;for(x/=n,R/=n,w/=n,H/=n,o=0;n>o;++o)y+=Math.abs(t[o].x-x),T+=Math.abs(t[o].y-R),b+=Math.abs(e[o].x-w),_+=Math.abs(e[o].y-H);if(Math.abs(y)<jsfeat.EPSILON||Math.abs(T)<jsfeat.EPSILON||Math.abs(b)<jsfeat.EPSILON||Math.abs(_)<jsfeat.EPSILON)return 0;for(y=n/y,T=n/T,b=n/b,_=n/_,f[0]=b,f[1]=0,f[2]=-w*b,f[3]=0,f[4]=_,f[5]=-H*_,f[6]=0,f[7]=0,f[8]=1,u[0]=1/y,u[1]=0,u[2]=x,u[3]=0,u[4]=1/T,u[5]=R,u[6]=0,u[7]=0,u[8]=1,o=81;--o>=0;)d[o]=0;for(o=0;n>o;++o)m=(t[o].x-x)*y,E=(t[o].y-R)*T,v=(e[o].x-w)*b,g=(e[o].y-H)*_,d[0]+=v*v,d[1]+=v*g,d[2]+=v,d[6]+=v*-m*v,d[7]+=v*-m*g,d[8]+=v*-m,d[10]+=g*g,d[11]+=g,d[15]+=g*-m*v,d[16]+=g*-m*g,d[17]+=g*-m,d[20]+=1,d[24]+=-m*v,d[25]+=-m*g,d[26]+=-m,d[30]+=v*v,d[31]+=v*g,d[32]+=v,d[33]+=v*-E*v,d[34]+=v*-E*g,d[35]+=v*-E,d[40]+=g*g,d[41]+=g,d[42]+=g*-E*v,d[43]+=g*-E*g,d[44]+=g*-E,d[50]+=1,d[51]+=-E*v,d[52]+=-E*g,d[53]+=-E,d[60]+=-m*v*-m*v+-E*v*-E*v,d[61]+=-m*v*-m*g+-E*v*-E*g,d[62]+=-m*v*-m+-E*v*-E,d[70]+=-m*g*-m*g+-E*g*-E*g,d[71]+=-m*g*-m+-E*g*-E,d[80]+=-m*-m+-E*-E;for(o=0;9>o;++o)for(s=0;o>s;++s)d[9*o+s]=d[9*s+o];return jsfeat.linalg.eigenVV(l,h),c[0]=p[72],c[1]=p[73],c[2]=p[74],c[3]=p[75],c[4]=p[76],c[5]=p[77],c[6]=p[78],c[7]=p[79],c[8]=p[80],jsfeat.matmath.multiply_3x3(i,r,i),jsfeat.matmath.multiply_3x3(i,i,a),m=1/c[8],c[0]*=m,c[1]*=m,c[2]*=m,c[3]*=m,c[4]*=m,c[5]*=m,c[6]*=m,c[7]*=m,c[8]=1,1},e.prototype.error=function(e,t,i,a,r){for(var n,o,s=0,l=0,h=0,c=0,f=i.data;r>s;++s)n=e[s],o=t[s],l=1/(f[6]*n.x+f[7]*n.y+1),h=(f[0]*n.x+f[1]*n.y+f[2])*l-o.x,c=(f[3]*n.x+f[4]*n.y+f[5])*l-o.y,a[s]=h*h+c*c},e.prototype.check_subset=function(e,t,a){if(i(e,a)||i(t,a))return!1;if(4==a){var r=0,n=e[0],o=e[1],s=e[2],l=e[3],h=t[0],c=t[1],f=t[2],u=t[3],d=n.x,p=n.y,m=1,E=o.x,v=o.y,g=1,y=s.x,T=s.y,x=1,R=h.x,b=h.y,_=1,w=c.x,H=c.y,M=1,S=f.x,C=f.y,A=1,L=jsfeat.matmath.determinant_3x3(d,p,m,E,v,g,y,T,x),k=jsfeat.matmath.determinant_3x3(R,b,_,w,H,M,S,C,A);if(0>L*k&&r++,d=o.x,p=o.y,E=s.x,v=s.y,y=l.x,T=l.y,R=c.x,b=c.y,w=f.x,H=f.y,S=u.x,C=u.y,L=jsfeat.matmath.determinant_3x3(d,p,m,E,v,g,y,T,x),k=jsfeat.matmath.determinant_3x3(R,b,_,w,H,M,S,C,A),0>L*k&&r++,d=n.x,p=n.y,E=s.x,v=s.y,y=l.x,T=l.y,R=h.x,b=h.y,w=f.x,H=f.y,S=u.x,C=u.y,L=jsfeat.matmath.determinant_3x3(d,p,m,E,v,g,y,T,x),k=jsfeat.matmath.determinant_3x3(R,b,_,w,H,M,S,C,A),0>L*k&&r++,d=n.x,p=n.y,E=o.x,v=o.y,y=l.x,T=l.y,R=h.x,b=h.y,w=c.x,H=c.y,S=u.x,C=u.y,L=jsfeat.matmath.determinant_3x3(d,p,m,E,v,g,y,T,x),k=jsfeat.matmath.determinant_3x3(R,b,_,w,H,M,S,C,A),0>L*k&&r++,0!=r&&4!=r)return!1}return!0},e}();return{affine2d:s,homography2d:c}}(),i=function(){function e(e,t,i,a){"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=.5),"undefined"==typeof i&&(i=.5),"undefined"==typeof a&&(a=.99),this.size=e,this.thresh=t,this.eps=i,this.prob=a}return e.prototype.update_iters=function(e,t){var i=Math.log(1-this.prob),a=Math.log(1-Math.pow(1-e,this.size));return 0|(a>=0||-i>=t*-a?t:Math.round(i/a))},e}(),a=function(){var e=function(e,t,i,a,r,n,o){for(var s=1e3,l=[],h=0,c=0,f=0,u=0,d=!1;s>f;++f){for(h=0;a>h&&s>f;){for(d=!1,u=0;!d;)for(d=!0,u=l[h]=0|Math.floor(Math.random()*r),c=0;h>c;++c)if(u==l[c]){d=!1;break}n[h]=t[u],o[h]=i[u],e.check_subset(n,o,h+1)?++h:f++}break}return h==a&&s>f},t=function(e,t,i,a,r,n,o,s){var l=0,h=0,c=0,f=n*n;for(e.error(i,a,t,o,r);r>h;++h)c=o[h]<=f,s[h]=c,l+=c;return l};return{ransac:function(i,a,r,n,o,s,l,h){if("undefined"==typeof h&&(h=1e3),o<i.size)return!1;var c=i.size,f=h,u=0,d=!1,p=[],m=[],E=!1,v=s.cols,g=s.rows,y=s.type|jsfeat.C1_t,T=jsfeat.cache.get_buffer(v*g<<3),x=jsfeat.cache.get_buffer(o),R=jsfeat.cache.get_buffer(o<<2),b=new jsfeat.matrix_t(v,g,y,T.data),_=new jsfeat.matrix_t(o,1,jsfeat.U8C1_t,x.data),w=-1,H=0,M=0,S=R.f32;if(o==c){if(a.run(r,n,b,o)<=0)return jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),!1;if(b.copy_to(s),l)for(;--o>=0;)l.data[o]=1;return jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),!0}for(;f>u;++u){if(E=e(a,r,n,c,o,p,m),!E){if(0==u)return jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),!1;break}M=a.run(p,m,b,c),0>=M||(H=t(a,b,r,n,o,i.thresh,S,_.data),H>Math.max(w,c-1)&&(b.copy_to(s),w=H,l&&_.copy_to(l),f=i.update_iters((o-H)/o,f),d=!0))}return jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),d},lmeds:function(i,a,r,n,o,s,l,h){if("undefined"==typeof h&&(h=1e3),o<i.size)return!1;var c=i.size,f=h,u=0,d=!1,p=[],m=[],E=!1,v=s.cols,g=s.rows,y=s.type|jsfeat.C1_t,T=jsfeat.cache.get_buffer(v*g<<3),x=jsfeat.cache.get_buffer(o),R=jsfeat.cache.get_buffer(o<<2),b=new jsfeat.matrix_t(v,g,y,T.data),_=new jsfeat.matrix_t(o,1,jsfeat.U8_t|jsfeat.C1_t,x.data),w=0,H=0,M=R.f32,S=1e9,C=0,A=0;if(i.eps=.45,f=i.update_iters(i.eps,f),o==c){if(a.run(r,n,b,o)<=0)return jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),!1;if(b.copy_to(s),l)for(;--o>=0;)l.data[o]=1;return jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),!0}for(;f>u;++u){if(E=e(a,r,n,c,o,p,m),!E){if(0==u)return jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),!1;break}H=a.run(p,m,b,c),0>=H||(a.error(r,n,b,M,o),A=jsfeat.math.median(M,0,o-1),S>A&&(S=A,b.copy_to(s),d=!0))}return d&&(C=2.5*1.4826*(1+5/(o-c))*Math.sqrt(S),C=Math.max(C,.001),w=t(a,s,r,n,o,C,M,_.data),l&&_.copy_to(l),d=w>=c),jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),d}}}();e.ransac_params_t=i,e.motion_model=t,e.motion_estimator=a}(jsfeat),function(e){"use strict";var t=function(){var e=function(e,t,i,a){for(var r=0,n=e.channel,o=e.cols,s=e.rows,l=e.data,h=t.data,c=o/i,f=s/a,u=c*f*65536|0,d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0,M=0,S=0,C=jsfeat.cache.get_buffer(i*n<<2),A=jsfeat.cache.get_buffer(i*n<<2),L=jsfeat.cache.get_buffer(2*o*3<<2),k=C.i32,D=A.i32,P=L.i32;i>d;d++){for(x=d*c,R=x+c,v=x+1-1e-6|0,g=0|R,v=Math.min(v,o-1),g=Math.min(g,o-1),v>x&&(P[T++]=d*n|0,P[T++]=(v-1)*n|0,P[T++]=256*(v-x)|0,r++),m=v;g>m;m++)r++,P[T++]=d*n|0,P[T++]=m*n|0,P[T++]=256;R-g>.001&&(r++,P[T++]=d*n|0,P[T++]=g*n|0,P[T++]=256*(R-g)|0)}for(d=0;i*n>d;d++)k[d]=D[d]=0;for(p=0,E=0;s>E;E++){for(b=o*E,T=0;r>T;T++)for(w=P[3*T],v=P[3*T+1],H=P[3*T+2],y=0;n>y;y++)k[w+y]+=l[b+v+y]*H;if(E+1>=(p+1)*f||E==s-1){if(M=256*Math.max(E+1-(p+1)*f,0)|0,S=256-M,_=i*p,0>=M)for(d=0;i*n>d;d++)h[_+d]=Math.min(Math.max((D[d]+256*k[d])/u,0),255),D[d]=k[d]=0;
else for(d=0;i*n>d;d++)h[_+d]=Math.min(Math.max((D[d]+k[d]*S)/u,0),255),D[d]=k[d]*M,k[d]=0;p++}else for(d=0;i*n>d;d++)D[d]+=256*k[d],k[d]=0}jsfeat.cache.put_buffer(A),jsfeat.cache.put_buffer(C),jsfeat.cache.put_buffer(L)},t=function(e,t,i,a){for(var r=0,n=e.channel,o=e.cols,s=e.rows,l=e.data,h=t.data,c=o/i,f=s/a,u=1/(c*f),d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0,M=0,S=0,C=jsfeat.cache.get_buffer(i*n<<2),A=jsfeat.cache.get_buffer(i*n<<2),L=jsfeat.cache.get_buffer(2*o*3<<2),k=C.f32,D=A.f32,P=L.f32;i>d;d++){for(x=d*c,R=x+c,v=x+1-1e-6|0,g=0|R,v=Math.min(v,o-1),g=Math.min(g,o-1),v>x&&(r++,P[T++]=(v-1)*n|0,P[T++]=d*n|0,P[T++]=(v-x)*u),m=v;g>m;m++)r++,P[T++]=m*n|0,P[T++]=d*n|0,P[T++]=u;R-g>.001&&(r++,P[T++]=g*n|0,P[T++]=d*n|0,P[T++]=(R-g)*u)}for(d=0;i*n>d;d++)k[d]=D[d]=0;for(p=0,E=0;s>E;E++){for(b=o*E,T=0;r>T;T++)for(v=0|P[3*T],w=0|P[3*T+1],H=P[3*T+2],y=0;n>y;y++)k[w+y]+=l[b+v+y]*H;if(E+1>=(p+1)*f||E==s-1){if(M=Math.max(E+1-(p+1)*f,0),S=1-M,_=i*p,Math.abs(M)<.001)for(d=0;i*n>d;d++)h[_+d]=D[d]+k[d],D[d]=k[d]=0;else for(d=0;i*n>d;d++)h[_+d]=D[d]+k[d]*S,D[d]=k[d]*M,k[d]=0;p++}else for(d=0;i*n>d;d++)D[d]+=k[d],k[d]=0}jsfeat.cache.put_buffer(A),jsfeat.cache.put_buffer(C),jsfeat.cache.put_buffer(L)},i=function(e,t,i,a,r,n,o,s){for(var l=0,h=0,c=0,f=0,u=0,d=0,p=0,m=0,E=0,v=n[0],g=0,y=a<<1,T=3*a,x=a<<2;r>l;++l){for(d=t[f],h=0;s>h;++h)e[h]=d;for(h=0;a-2>=h;h+=2)e[h+s]=t[f+h],e[h+s+1]=t[f+h+1];for(;a>h;++h)e[h+s]=t[f+h];for(d=t[f+a-1],h=a;s+a>h;++h)e[h+s]=d;for(h=0;a-4>=h;h+=4){for(d=e[h]*v,p=e[h+1]*v,m=e[h+2]*v,E=e[h+3]*v,c=1;o>c;++c)g=n[c],d+=e[c+h]*g,p+=e[c+h+1]*g,m+=e[c+h+2]*g,E+=e[c+h+3]*g;i[u+h]=Math.min(d>>8,255),i[u+h+1]=Math.min(p>>8,255),i[u+h+2]=Math.min(m>>8,255),i[u+h+3]=Math.min(E>>8,255)}for(;a>h;++h){for(d=e[h]*v,c=1;o>c;++c)d+=e[c+h]*n[c];i[u+h]=Math.min(d>>8,255)}f+=a,u+=a}for(l=0;a>l;++l){for(d=i[l],h=0;s>h;++h)e[h]=d;for(c=l,h=0;r-2>=h;h+=2,c+=y)e[h+s]=i[c],e[h+s+1]=i[c+a];for(;r>h;++h,c+=a)e[h+s]=i[c];for(d=i[(r-1)*a+l],h=r;s+r>h;++h)e[h+s]=d;for(u=l,h=0;r-4>=h;h+=4,u+=x){for(d=e[h]*v,p=e[h+1]*v,m=e[h+2]*v,E=e[h+3]*v,c=1;o>c;++c)g=n[c],d+=e[c+h]*g,p+=e[c+h+1]*g,m+=e[c+h+2]*g,E+=e[c+h+3]*g;i[u]=Math.min(d>>8,255),i[u+a]=Math.min(p>>8,255),i[u+y]=Math.min(m>>8,255),i[u+T]=Math.min(E>>8,255)}for(;r>h;++h,u+=a){for(d=e[h]*v,c=1;o>c;++c)d+=e[c+h]*n[c];i[u]=Math.min(d>>8,255)}}},a=function(e,t,i,a,r,n,o,s){for(var l=0,h=0,c=0,f=0,u=0,d=0,p=0,m=0,E=0,v=n[0],g=0,y=a<<1,T=3*a,x=a<<2;r>l;++l){for(d=t[f],h=0;s>h;++h)e[h]=d;for(h=0;a-2>=h;h+=2)e[h+s]=t[f+h],e[h+s+1]=t[f+h+1];for(;a>h;++h)e[h+s]=t[f+h];for(d=t[f+a-1],h=a;s+a>h;++h)e[h+s]=d;for(h=0;a-4>=h;h+=4){for(d=e[h]*v,p=e[h+1]*v,m=e[h+2]*v,E=e[h+3]*v,c=1;o>c;++c)g=n[c],d+=e[c+h]*g,p+=e[c+h+1]*g,m+=e[c+h+2]*g,E+=e[c+h+3]*g;i[u+h]=d,i[u+h+1]=p,i[u+h+2]=m,i[u+h+3]=E}for(;a>h;++h){for(d=e[h]*v,c=1;o>c;++c)d+=e[c+h]*n[c];i[u+h]=d}f+=a,u+=a}for(l=0;a>l;++l){for(d=i[l],h=0;s>h;++h)e[h]=d;for(c=l,h=0;r-2>=h;h+=2,c+=y)e[h+s]=i[c],e[h+s+1]=i[c+a];for(;r>h;++h,c+=a)e[h+s]=i[c];for(d=i[(r-1)*a+l],h=r;s+r>h;++h)e[h+s]=d;for(u=l,h=0;r-4>=h;h+=4,u+=x){for(d=e[h]*v,p=e[h+1]*v,m=e[h+2]*v,E=e[h+3]*v,c=1;o>c;++c)g=n[c],d+=e[c+h]*g,p+=e[c+h+1]*g,m+=e[c+h+2]*g,E+=e[c+h+3]*g;i[u]=d,i[u+a]=p,i[u+y]=m,i[u+T]=E}for(;r>h;++h,u+=a){for(d=e[h]*v,c=1;o>c;++c)d+=e[c+h]*n[c];i[u]=d}}};return{grayscale:function(e,t){for(var i=0|e.length,a=i-16|0,r=0,n=4899,o=9617,s=1868,l=0;a>=l;l+=16,r+=4)t[r]=e[l]*n+e[l+1]*o+e[l+2]*s+8192>>14,t[r+1]=e[l+4]*n+e[l+5]*o+e[l+6]*s+8192>>14,t[r+2]=e[l+8]*n+e[l+9]*o+e[l+10]*s+8192>>14,t[r+3]=e[l+12]*n+e[l+13]*o+e[l+14]*s+8192>>14;for(;i>l;l+=4,++r)t[r]=e[l]*n+e[l+1]*o+e[l+2]*s+8192>>14},resample:function(i,a,r,n){var o=i.rows,s=i.cols;o>n&&s>r&&(i.type&jsfeat.U8_t&&a.type&jsfeat.U8_t&&256>o*s/(n*r)?e(i,a,r,n):t(i,a,r,n))},box_blur_gray:function(e,t,i,a){"undefined"==typeof a&&(a=0);var r=e.cols,n=e.rows,o=n<<1,s=r<<1,l=0,h=0,c=0,f=0,u=(i<<1)+1|0,d=i+1|0,p=d+1|0,m=a&jsfeat.BOX_BLUR_NOSCALE?1:1/(u*u),E=jsfeat.cache.get_buffer(r*n<<2),v=0,g=0,y=0,T=0,x=0,R=E.i32,b=e.data,_=0;for(c=0;n>c;++c){for(g=c,v=d*b[y],l=y+1|0,f=y+i|0;f>=l;++l)v+=b[l];for(T=y+d|0,x=y,_=b[x],h=0;i>h;++h,g+=n)R[g]=v,v+=b[T]-_,T++;for(;r-p>h;h+=2,g+=o)R[g]=v,v+=b[T]-b[x],R[g+n]=v,v+=b[T+1]-b[x+1],T+=2,x+=2;for(;r-d>h;++h,g+=n)R[g]=v,v+=b[T]-b[x],T++,x++;for(_=b[T-1];r>h;++h,g+=n)R[g]=v,v+=_-b[x],x++;y+=r}if(y=0,b=t.data,1==m)for(c=0;r>c;++c){for(g=c,v=d*R[y],l=y+1|0,f=y+i|0;f>=l;++l)v+=R[l];for(T=y+d,x=y,_=R[x],h=0;i>h;++h,g+=r)b[g]=v,v+=R[T]-_,T++;for(;n-p>h;h+=2,g+=s)b[g]=v,v+=R[T]-R[x],b[g+r]=v,v+=R[T+1]-R[x+1],T+=2,x+=2;for(;n-d>h;++h,g+=r)b[g]=v,v+=R[T]-R[x],T++,x++;for(_=R[T-1];n>h;++h,g+=r)b[g]=v,v+=_-R[x],x++;y+=n}else for(c=0;r>c;++c){for(g=c,v=d*R[y],l=y+1|0,f=y+i|0;f>=l;++l)v+=R[l];for(T=y+d,x=y,_=R[x],h=0;i>h;++h,g+=r)b[g]=v*m,v+=R[T]-_,T++;for(;n-p>h;h+=2,g+=s)b[g]=v*m,v+=R[T]-R[x],b[g+r]=v*m,v+=R[T+1]-R[x+1],T+=2,x+=2;for(;n-d>h;++h,g+=r)b[g]=v*m,v+=R[T]-R[x],T++,x++;for(_=R[T-1];n>h;++h,g+=r)b[g]=v*m,v+=_-R[x],x++;y+=n}jsfeat.cache.put_buffer(E)},gaussian_blur:function(e,t,r,n){"undefined"==typeof n&&(n=0),"undefined"==typeof r&&(r=0),r=0==r?2*Math.max(1,4*n+1-1e-8)+1|0:r;var o,s,l=r>>1,h=e.cols,c=e.rows,f=e.type,u=f&jsfeat.U8_t,d=e.data,p=t.data,m=r+Math.max(c,h)|0,E=jsfeat.cache.get_buffer(m<<2),v=jsfeat.cache.get_buffer(r<<2);u?(o=E.i32,s=v.i32):f&jsfeat.S32_t?(o=E.i32,s=v.f32):(o=E.f32,s=v.f32),jsfeat.math.get_gaussian_kernel(r,n,s,f),u?i(o,d,p,h,c,s,r,l):a(o,d,p,h,c,s,r,l),jsfeat.cache.put_buffer(E),jsfeat.cache.put_buffer(v)},pyrdown:function(e,t,i,a){"undefined"==typeof i&&(i=0),"undefined"==typeof a&&(a=0);var r=e.cols,n=e.rows,o=r>>1,s=n>>1,l=o-(i<<1),h=s-(a<<1),c=0,f=0,u=i+a*r,d=0,p=0,m=0,E=e.data,v=t.data;for(f=0;h>f;++f){for(d=u,m=p,c=0;l-2>=c;c+=2,m+=2,d+=4)v[m]=E[d]+E[d+1]+E[d+r]+E[d+r+1]+2>>2,v[m+1]=E[d+2]+E[d+3]+E[d+r+2]+E[d+r+3]+2>>2;for(;l>c;++c,++m,d+=2)v[m]=E[d]+E[d+1]+E[d+r]+E[d+r+1]+2>>2;u+=r<<1,p+=o}},scharr_derivatives:function(e,t){var i,a,r,n,o,s,l,h,c=e.cols,f=e.rows,u=c<<1,d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=e.data,x=t.data,R=jsfeat.cache.get_buffer(c+2<<2),b=jsfeat.cache.get_buffer(c+2<<2);for(e.type&jsfeat.U8_t||e.type&jsfeat.S32_t?(l=R.i32,h=b.i32):(l=R.f32,h=b.f32);f>p;++p,v+=c){for(E=(p>0?p-1:1)*c|0,g=(f-1>p?p+1:f-2)*c|0,y=p*u|0,d=0,m=1;c-2>=d;d+=2,m+=2)i=T[E+d],a=T[g+d],l[m]=3*(i+a)+10*T[v+d],h[m]=a-i,i=T[E+d+1],a=T[g+d+1],l[m+1]=3*(i+a)+10*T[v+d+1],h[m+1]=a-i;for(;c>d;++d,++m)i=T[E+d],a=T[g+d],l[m]=3*(i+a)+10*T[v+d],h[m]=a-i;for(d=c+1|0,l[0]=l[1],l[d]=l[c],h[0]=h[1],h[d]=h[c],d=0;c-4>=d;d+=4)i=h[d+2],a=h[d+1],r=h[d+3],n=h[d+4],o=l[d+2],s=l[d+3],x[y++]=o-l[d],x[y++]=3*(i+h[d])+10*a,x[y++]=s-l[d+1],x[y++]=3*(r+a)+10*i,x[y++]=l[d+4]-o,x[y++]=3*(n+i)+10*r,x[y++]=l[d+5]-s,x[y++]=3*(h[d+5]+r)+10*n;for(;c>d;++d)x[y++]=l[d+2]-l[d],x[y++]=3*(h[d+2]+h[d])+10*h[d+1]}jsfeat.cache.put_buffer(R),jsfeat.cache.put_buffer(b)},sobel_derivatives:function(e,t){var i,a,r,n,o,s,l,h,c=e.cols,f=e.rows,u=c<<1,d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=e.data,x=t.data,R=jsfeat.cache.get_buffer(c+2<<2),b=jsfeat.cache.get_buffer(c+2<<2);for(e.type&jsfeat.U8_t||e.type&jsfeat.S32_t?(l=R.i32,h=b.i32):(l=R.f32,h=b.f32);f>p;++p,v+=c){for(E=(p>0?p-1:1)*c|0,g=(f-1>p?p+1:f-2)*c|0,y=p*u|0,d=0,m=1;c-2>=d;d+=2,m+=2)i=T[E+d],a=T[g+d],l[m]=i+a+2*T[v+d],h[m]=a-i,i=T[E+d+1],a=T[g+d+1],l[m+1]=i+a+2*T[v+d+1],h[m+1]=a-i;for(;c>d;++d,++m)i=T[E+d],a=T[g+d],l[m]=i+a+2*T[v+d],h[m]=a-i;for(d=c+1|0,l[0]=l[1],l[d]=l[c],h[0]=h[1],h[d]=h[c],d=0;c-4>=d;d+=4)i=h[d+2],a=h[d+1],r=h[d+3],n=h[d+4],o=l[d+2],s=l[d+3],x[y++]=o-l[d],x[y++]=i+h[d]+2*a,x[y++]=s-l[d+1],x[y++]=r+a+2*i,x[y++]=l[d+4]-o,x[y++]=n+i+2*r,x[y++]=l[d+5]-s,x[y++]=h[d+5]+r+2*n;for(;c>d;++d)x[y++]=l[d+2]-l[d],x[y++]=h[d+2]+h[d]+2*h[d+1]}jsfeat.cache.put_buffer(R),jsfeat.cache.put_buffer(b)},compute_integral_image:function(e,t,i,a){var r=0|e.cols,n=0|e.rows,o=e.data,s=r+1|0,l=0,h=0,c=0,f=0,u=0,d=0,p=0,m=0;if(t&&i){for(;s>u;++u)t[u]=0,i[u]=0;for(c=s+1|0,f=1,u=0,m=0;n>u;++u,++c,++f){for(l=h=0,d=0;r-2>=d;d+=2,m+=2,c+=2,f+=2)p=o[m],l+=p,h+=p*p,t[c]=t[f]+l,i[c]=i[f]+h,p=o[m+1],l+=p,h+=p*p,t[c+1]=t[f+1]+l,i[c+1]=i[f+1]+h;for(;r>d;++d,++m,++c,++f)p=o[m],l+=p,h+=p*p,t[c]=t[f]+l,i[c]=i[f]+h}}else if(t){for(;s>u;++u)t[u]=0;for(c=s+1|0,f=1,u=0,m=0;n>u;++u,++c,++f){for(l=0,d=0;r-2>=d;d+=2,m+=2,c+=2,f+=2)l+=o[m],t[c]=t[f]+l,l+=o[m+1],t[c+1]=t[f+1]+l;for(;r>d;++d,++m,++c,++f)l+=o[m],t[c]=t[f]+l}}else if(i){for(;s>u;++u)i[u]=0;for(c=s+1|0,f=1,u=0,m=0;n>u;++u,++c,++f){for(h=0,d=0;r-2>=d;d+=2,m+=2,c+=2,f+=2)p=o[m],h+=p*p,i[c]=i[f]+h,p=o[m+1],h+=p*p,i[c+1]=i[f+1]+h;for(;r>d;++d,++m,++c,++f)p=o[m],h+=p*p,i[c]=i[f]+h}}if(a){for(u=0;s>u;++u)a[u]=0;for(c=s+1|0,f=0,u=0,m=0;n>u;++u,++c,++f){for(d=0;r-2>=d;d+=2,m+=2,c+=2,f+=2)a[c]=o[m]+a[f],a[c+1]=o[m+1]+a[f+1];for(;r>d;++d,++m,++c,++f)a[c]=o[m]+a[f]}for(c=s+r|0,f=r,u=0;n>u;++u,c+=s,f+=s)a[c]+=a[f];for(d=r-1;d>0;--d)for(c=d+n*s,f=c-s,u=n;u>0;--u,c-=s,f-=s)a[c]+=a[f]+a[f+1]}},equalize_histogram:function(e,t){var i,a,r=e.cols,n=e.rows,o=e.data,s=t.data,l=r*n,h=0,c=0,f=jsfeat.cache.get_buffer(1024);for(i=f.i32;256>h;++h)i[h]=0;for(h=0;l>h;++h)++i[o[h]];for(c=i[0],h=1;256>h;++h)c=i[h]+=c;for(a=255/l,h=0;l>h;++h)s[h]=i[o[h]]*a+.5|0;jsfeat.cache.put_buffer(f)},canny:function(e,t,i,a){var r=e.cols,n=e.rows,o=(e.data,t.data),s=0,l=0,h=0,c=r<<1,f=0,u=0,d=0,p=0,m=0,E=0,v=0,g=0,y=jsfeat.cache.get_buffer(n*c<<2),T=jsfeat.cache.get_buffer(3*(r+2)<<2),x=jsfeat.cache.get_buffer((n+2)*(r+2)<<2),R=jsfeat.cache.get_buffer(n*r<<2),b=T.i32,_=x.i32,w=R.i32,H=y.i32,M=new jsfeat.matrix_t(r,n,jsfeat.S32C2_t,y.data),S=1,C=r+2+1|0,A=2*(r+2)+1|0,L=r+2|0,k=L+1|0,D=0;for(this.sobel_derivatives(e,M),i>a&&(s=i,i=a,a=s),s=3*(r+2)|0;--s>=0;)b[s]=0;for(s=(n+2)*(r+2)|0;--s>=0;)_[s]=0;for(;r>l;++l,h+=2)p=H[h],m=H[h+1],b[C+l]=(p^p>>31)-(p>>31)+((m^m>>31)-(m>>31));for(s=1;n>=s;++s,h+=c){if(s==n)for(l=A+r;--l>=A;)b[l]=0;else for(l=0;r>l;l++)p=H[h+(l<<1)],m=H[h+(l<<1)+1],b[A+l]=(p^p>>31)-(p>>31)+((m^m>>31)-(m>>31));for(f=h-c|0,_[k-1]=0,u=0,l=0;r>l;++l,f+=2){if(d=b[C+l],d>i)if(p=H[f],m=H[f+1],E=p^m,p=(p^p>>31)-(p>>31)|0,m=(m^m>>31)-(m>>31)|0,v=13573*p,g=v+(p+p<<15),m<<=15,v>m){if(d>b[C+l-1]&&d>=b[C+l+1]){d>a&&!u&&2!=_[k+l-L]?(_[k+l]=2,u=1,w[D++]=k+l):_[k+l]=1;continue}}else if(m>g){if(d>b[S+l]&&d>=b[A+l]){d>a&&!u&&2!=_[k+l-L]?(_[k+l]=2,u=1,w[D++]=k+l):_[k+l]=1;continue}}else if(E=0>E?-1:1,d>b[S+l-E]&&d>b[A+l+E]){d>a&&!u&&2!=_[k+l-L]?(_[k+l]=2,u=1,w[D++]=k+l):_[k+l]=1;continue}_[k+l]=0,u=0}_[k+r]=0,k+=L,l=S,S=C,C=A,A=l}for(l=k-L-1,s=0;L>s;++s,++l)_[l]=0;for(;D>0;)k=w[--D],k-=L+1,1==_[k]&&(_[k]=2,w[D++]=k),k+=1,1==_[k]&&(_[k]=2,w[D++]=k),k+=1,1==_[k]&&(_[k]=2,w[D++]=k),k+=L,1==_[k]&&(_[k]=2,w[D++]=k),k-=2,1==_[k]&&(_[k]=2,w[D++]=k),k+=L,1==_[k]&&(_[k]=2,w[D++]=k),k+=1,1==_[k]&&(_[k]=2,w[D++]=k),k+=1,1==_[k]&&(_[k]=2,w[D++]=k);for(k=L+1,S=0,s=0;n>s;++s,k+=L)for(l=0;r>l;++l)o[S++]=255*(2==_[k+l]);jsfeat.cache.put_buffer(y),jsfeat.cache.put_buffer(T),jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R)},warp_perspective:function(e,t,i,a){"undefined"==typeof a&&(a=0);for(var r=0|e.cols,n=0|e.rows,o=0|t.cols,s=0|t.rows,l=e.data,h=t.data,c=0,f=0,u=0,d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=i.data,H=w[0],M=w[1],S=w[2],C=w[3],A=w[4],L=w[5],k=w[6],D=w[7],P=w[8],F=0;s>f;++f)for(v=M*f+S,g=A*f+L,y=D*f+P,c=0;o>c;++c,++F,v+=H,g+=C,y+=k)T=1/y,m=v*T,E=g*T,d=0|m,p=0|E,m>0&&E>0&&r-1>d&&n-1>p?(x=Math.max(m-d,0),R=Math.max(E-p,0),u=r*p+d|0,b=l[u]+x*(l[u+1]-l[u]),_=l[u+r]+x*(l[u+r+1]-l[u+r]),h[F]=b+R*(_-b)):h[F]=a},warp_affine:function(e,t,i,a){"undefined"==typeof a&&(a=0);for(var r=e.cols,n=e.rows,o=t.cols,s=t.rows,l=e.data,h=t.data,c=0,f=0,u=0,d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=0,x=i.data,R=x[0],b=x[1],_=x[2],w=x[3],H=x[4],M=x[5],S=0;s>f;++f)for(m=b*f+_,E=H*f+M,c=0;o>c;++c,++S,m+=R,E+=w)d=0|m,p=0|E,m>0&&E>0&&r-1>d&&n-1>p?(v=Math.max(m-d,0),g=Math.max(E-p,0),u=r*p+d,y=l[u]+v*(l[u+1]-l[u]),T=l[u+r]+v*(l[u+r+1]-l[u+r]),h[S]=y+g*(T-y)):h[S]=a},skindetector:function(e,t){for(var i,a,r,n,o=e.width*e.height;o--;)n=4*o,i=e.data[n],a=e.data[n+1],r=e.data[n+2],t[o]=i>95&&a>40&&r>20&&i>a&&i>r&&i-Math.min(a,r)>15&&Math.abs(i-a)>15?255:0}}}();e.imgproc=t}(jsfeat),function(e){"use strict";var t=function(){var e=new Int32Array([0,3,1,3,2,2,3,1,3,0,3,-1,2,-2,1,-3,0,-3,-1,-3,-2,-2,-3,-1,-3,0,-3,1,-2,2,-1,3]),t=new Uint8Array(512),i=new Int32Array(25),a=new Int32Array(25),r=function(t,i,a){for(var r=0,n=e;a>r;++r)t[r]=n[r<<1]+n[(r<<1)+1]*i;for(;25>r;++r)t[r]=t[r-a]},n=function(e,t,i,a,r){for(var n=25,o=0,s=e[t],l=r,h=0,c=0,f=0;n>o;++o)a[o]=s-e[t+i[o]];for(o=0;16>o;o+=2)h=Math.min(a[o+1],a[o+2]),h=Math.min(h,a[o+3]),l>=h||(h=Math.min(h,a[o+4]),h=Math.min(h,a[o+5]),h=Math.min(h,a[o+6]),h=Math.min(h,a[o+7]),h=Math.min(h,a[o+8]),l=Math.max(l,Math.min(h,a[o])),l=Math.max(l,Math.min(h,a[o+9])));for(c=-l,o=0;16>o;o+=2)f=Math.max(a[o+1],a[o+2]),f=Math.max(f,a[o+3]),f=Math.max(f,a[o+4]),f=Math.max(f,a[o+5]),f>=c||(f=Math.max(f,a[o+6]),f=Math.max(f,a[o+7]),f=Math.max(f,a[o+8]),c=Math.min(c,Math.max(f,a[o])),c=Math.min(c,Math.max(f,a[o+9])));return-c-1},o=20;return{set_threshold:function(e){o=Math.min(Math.max(e,0),255);for(var i=-255;255>=i;++i)t[i+255]=-o>i?1:i>o?2:0;return o},detect:function(e,s,l){"undefined"==typeof l&&(l=3);var h,c=8,f=25,u=e.data,d=e.cols,p=e.rows,m=0,E=0,v=0,g=0,y=0,T=0,x=jsfeat.cache.get_buffer(3*d),R=jsfeat.cache.get_buffer(3*(d+1)<<2),b=x.u8,_=R.i32,w=i,H=a,M=Math.max(3,l),S=Math.min(p-2,p-l),C=Math.max(3,l),A=Math.min(d-3,d-l),L=0,k=0,D=n,P=t,F=o,z=0,N=0,U=0,B=0,V=0,O=0,j=0,I=0,G=0,W=0,X=0,q=0;r(w,d,16);var Y=w[0],K=w[1],Z=w[2],Q=w[3],$=w[4],J=w[5],et=w[6],tt=w[7],it=w[8],at=w[9],rt=w[10],nt=w[11],ot=w[12],st=w[13],lt=w[14],ht=w[15];for(m=0;3*d>m;++m)b[m]=0;for(m=M;S>m;++m){for(j=m*d+C|0,T=(m-3)%3,O=T*d|0,V=T*(d+1)|0,E=0;d>E;++E)b[O+E]=0;if(B=0,S-1>m)for(E=C;A>E;++E,++j)if(z=u[j],N=-z+255,U=P[N+u[j+Y]]|P[N+u[j+it]],0!=U&&(U&=P[N+u[j+Z]]|P[N+u[j+rt]],U&=P[N+u[j+$]]|P[N+u[j+ot]],U&=P[N+u[j+et]]|P[N+u[j+lt]],0!=U)){if(U&=P[N+u[j+K]]|P[N+u[j+at]],U&=P[N+u[j+Q]]|P[N+u[j+nt]],U&=P[N+u[j+J]]|P[N+u[j+st]],U&=P[N+u[j+tt]]|P[N+u[j+ht]],1&U)for(g=z-F,L=0,v=0;f>v;++v)if(y=u[j+w[v]],g>y){if(++L,L>c){++B,_[V+B]=E,b[O+E]=D(u,j,w,H,F);break}}else L=0;if(2&U)for(g=z+F,L=0,v=0;f>v;++v)if(y=u[j+w[v]],y>g){if(++L,L>c){++B,_[V+B]=E,b[O+E]=D(u,j,w,H,F);break}}else L=0}if(_[V+d]=B,m!=M)for(T=(m-4+3)%3,I=T*d|0,V=T*(d+1)|0,T=(m-5+3)%3,G=T*d|0,B=_[V+d],v=0;B>v;++v)E=_[V+v],W=E+1|0,X=E-1|0,q=b[I+E],q>b[I+W]&&q>b[I+X]&&q>b[G+X]&&q>b[G+E]&&q>b[G+W]&&q>b[O+X]&&q>b[O+E]&&q>b[O+W]&&(h=s[k],h.x=E,h.y=m-1,h.score=q,k++)}return jsfeat.cache.put_buffer(x),jsfeat.cache.put_buffer(R),k}}}();e.fast_corners=t,t.set_threshold(20)}(jsfeat),function(e){"use strict";var t=function(){var e=function(e,t,i,a,r,n){var o=0,s=0,l=r*i|0,h=l;for(o=r;a-r>o;++o,l+=i,h=l)for(s=i-r;s>=r;--s)t[h]=-4*e[h]+e[h+r]+e[h-r]+e[h+n]+e[h-n],++h},t=function(e,t,i,a,r,n,o){var s=-2*e[t]+e[t+a]+e[t-a],l=-2*e[t]+e[t+r]+e[t-r],h=e[t+n]+e[t-n]-e[t+o]-e[t-o],c=0|Math.sqrt((s-l)*(s-l)+4*h*h);return Math.min(Math.abs(i-c),Math.abs(-(i+c)))};return{laplacian_threshold:30,min_eigen_value_threshold:25,detect:function(i,a){var r,n=0,o=0,s=i.cols,l=i.rows,h=i.data,c=5,f=5*s|0,u=3+3*s|0,d=3-3*s|0,p=jsfeat.cache.get_buffer(s*l<<2),m=p.i32,E=0,v=0,g=0,y=0,T=0,x=this.laplacian_threshold,R=this.min_eigen_value_threshold;for(n=s*l;--n>=0;)m[n]=0;for(e(h,m,s,l,c,f),v=s+1|0,o=1;l-1>o;++o,v+=s)for(n=1,g=v;s-1>n;++n,++g)E=m[g],(-x>E&&E<m[g-1]&&E<m[g+1]&&E<m[g-s]&&E<m[g+s]&&E<m[g-s-1]&&E<m[g+s-1]&&E<m[g-s+1]&&E<m[g+s+1]||E>x&&E>m[g-1]&&E>m[g+1]&&E>m[g-s]&&E>m[g+s]&&E>m[g-s-1]&&E>m[g+s-1]&&E>m[g-s+1]&&E>m[g+s+1])&&(y=t(h,g,E,c,f,u,d),y>R&&(r=a[T],r.x=n,r.y=o,r.score=y,++T,++n,++g));return jsfeat.cache.put_buffer(p),T}}}();e.yape06=t}(jsfeat),function(e){"use strict";var t=function(){var e=function(e,t,i){var a,r,n=0;for(a=i,r=0;a>r;r++,n++)a=Math.sqrt(i*i-r*r)+.5|0,t[n]=a+e*r;for(a--;r>a&&a>=0;a--,n++)r=Math.sqrt(i*i-a*a)+.5|0,t[n]=a+e*r;for(;r>-a;a--,n++)r=Math.sqrt(i*i-a*a)+.5|0,t[n]=a+e*r;for(r--;r>=0;r--,n++)a=-Math.sqrt(i*i-r*r)-.5|0,t[n]=a+e*r;for(;r>a;r--,n++)a=-Math.sqrt(i*i-r*r)-.5|0,t[n]=a+e*r;for(a++;0>=a;a++,n++)r=-Math.sqrt(i*i-a*a)-.5|0,t[n]=a+e*r;for(;-r>a;a++,n++)r=-Math.sqrt(i*i-a*a)-.5|0,t[n]=a+e*r;for(r++;0>r;r++,n++)a=Math.sqrt(i*i-r*r)+.5|0,t[n]=a+e*r;return t[n]=t[0],t[n+1]=t[1],n},t=function(e,t,i){var a=0;return 0!=e[t+1]&&a++,0!=e[t-1]&&a++,0!=e[t+i]&&a++,0!=e[t+i+1]&&a++,0!=e[t+i-1]&&a++,0!=e[t-i]&&a++,0!=e[t-i+1]&&a++,0!=e[t-i-1]&&a++,a},i=function(e,t,i,a,r){var n,o;if(i>0)for(t-=a*r,o=-r;r>=o;++o){for(n=-r;r>=n;++n)if(e[t+n]>i)return!1;t+=a}else for(t-=a*r,o=-r;r>=o;++o){for(n=-r;r>=n;++n)if(e[t+n]<i)return!1;t+=a}return!0},a=function(e,t,i,a,r,n,o,s){var l=0,h=0,c=o-1|0,f=0,u=0,d=0,p=0,m=0;if(f=e[t+n[h]],r>=f)if(f>=a)if(u=e[t+n[c]],r>=u){if(u>=a)return void(i[t]=0);if(c++,d=e[t+n[c]],d>r)if(c++,p=e[t+n[c]],p>r)m=3;else{if(!(a>p))return void(i[t]=0);m=6}else if(c++,p=e[t+n[c]],p>r)m=7;else{if(!(a>p))return void(i[t]=0);m=2}}else if(c++,d=e[t+n[c]],d>r)if(c++,p=e[t+n[c]],p>r)m=3;else{if(!(a>p))return void(i[t]=0);m=6}else{if(!(a>d))return void(i[t]=0);if(c++,p=e[t+n[c]],p>r)m=7;else{if(!(a>p))return void(i[t]=0);m=2}}else{if(u=e[t+n[c]],u>r)return void(i[t]=0);if(c++,d=e[t+n[c]],d>r)return void(i[t]=0);if(c++,p=e[t+n[c]],p>r)return void(i[t]=0);m=1}else{if(u=e[t+n[c]],a>u)return void(i[t]=0);if(c++,d=e[t+n[c]],a>d)return void(i[t]=0);if(c++,p=e[t+n[c]],a>p)return void(i[t]=0);m=0}for(h=1;o>=h;h++)switch(f=e[t+n[h]],m){case 0:if(f>r){if(d=p,c++,p=e[t+n[c]],a>p)return void(i[t]=0);l-=f+d,m=0;break}if(a>f){if(d>r)return void(i[t]=0);if(p>r)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],p>r)return void(i[t]=0);l-=f+d,m=8;break}if(r>=d)return void(i[t]=0);if(r>=p)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],p>r){l-=f+d,m=3;break}if(a>p){l-=f+d,m=6;break}return void(i[t]=0);case 1:if(a>f){if(d=p,c++,p=e[t+n[c]],p>r)return void(i[t]=0);l-=f+d,m=1;break}if(f>r){if(a>d)return void(i[t]=0);if(a>p)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],a>p)return void(i[t]=0);l-=f+d,m=9;break}if(d>=a)return void(i[t]=0);if(p>=a)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],a>p){l-=f+d,m=2;break}if(p>r){l-=f+d,m=7;break}return void(i[t]=0);case 2:if(f>r)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],a>f){if(p>r)return void(i[t]=0);l-=f+d,m=4;break}if(p>r){l-=f+d,m=7;break}if(a>p){l-=f+d,m=2;break}return void(i[t]=0);case 3:if(a>f)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],f>r){if(a>p)return void(i[t]=0);l-=f+d,m=5;break}if(p>r){l-=f+d,m=3;break}if(a>p){l-=f+d,m=6;break}return void(i[t]=0);case 4:if(f>r)return void(i[t]=0);if(a>f){if(d=p,c++,p=e[t+n[c]],p>r)return void(i[t]=0);l-=f+d,m=1;break}if(p>=a)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],a>p){l-=f+d,m=2;break}if(p>r){l-=f+d,m=7;break}return void(i[t]=0);case 5:if(a>f)return void(i[t]=0);if(f>r){if(d=p,c++,p=e[t+n[c]],a>p)return void(i[t]=0);l-=f+d,m=0;break}if(r>=p)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],p>r){l-=f+d,m=3;break}if(a>p){l-=f+d,m=6;break}return void(i[t]=0);case 7:if(f>r)return void(i[t]=0);if(a>f)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],p>r){l-=f+d,m=3;break}if(a>p){l-=f+d,m=6;break}return void(i[t]=0);case 6:if(f>r)return void(i[t]=0);if(a>f)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],a>p){l-=f+d,m=2;break}if(p>r){l-=f+d,m=7;break}return void(i[t]=0);case 8:if(f>r){if(a>p)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],a>p)return void(i[t]=0);l-=f+d,m=9;break}if(a>f){if(d=p,c++,p=e[t+n[c]],p>r)return void(i[t]=0);l-=f+d,m=1;break}return void(i[t]=0);case 9:if(a>f){if(p>r)return void(i[t]=0);if(d=p,c++,p=e[t+n[c]],p>r)return void(i[t]=0);l-=f+d,m=8;break}if(f>r){if(d=p,c++,p=e[t+n[c]],a>p)return void(i[t]=0);l-=f+d,m=0;break}return void(i[t]=0)}i[t]=l+s*e[t]},r=function(){function t(t,i,a){this.dirs=new Int32Array(1024),this.dirs_count=0|e(t,this.dirs,a),this.scores=new Int32Array(t*i),this.radius=0|a}return t}();return{level_tables:[],tau:7,init:function(e,t,i,a){"undefined"==typeof a&&(a=1);var n;for(i=Math.min(i,7),i=Math.max(i,3),n=0;a>n;++n)this.level_tables[n]=new r(e>>n,t>>n,i)},detect:function(e,r,n){"undefined"==typeof n&&(n=4);var o,s=this.level_tables[0],l=0|s.radius,h=l-1|0,c=s.dirs,f=0|s.dirs_count,u=f>>1,d=e.data,p=0|e.cols,m=0|e.rows,E=p>>1,v=s.scores,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0|this.tau,M=0,S=0|Math.max(l+1,n),C=0|Math.max(l+1,n),A=0|Math.min(p-l-2,p-n),L=0|Math.min(m-l-2,m-n);for(T=C*p+S|0,y=C;L>y;++y,T+=p)for(g=S,x=T;A>g;++g,++x)R=d[x]+H,b=d[x]-H,b<d[x+l]&&d[x+l]<R&&b<d[x-l]&&d[x-l]<R?v[x]=0:a(d,x,v,b,R,c,u,f);for(T=C*p+S|0,y=C;L>y;++y,T+=p)for(g=S,x=T;A>g;++g,++x)w=v[x],_=Math.abs(w),5>_?(++g,++x):t(v,x,p)>=3&&i(v,x,w,E,l)&&(o=r[M],o.x=g,o.y=y,o.score=_,++M,g+=h,x+=h);return M}}}();e.yape=t}(jsfeat),function(e){"use strict";var t=function(){var e=jsfeat.imgproc.scharr_derivatives;return{track:function(t,i,a,r,n,o,s,l,h,c){"undefined"==typeof s&&(s=30),"undefined"==typeof l&&(l=new Uint8Array(n)),"undefined"==typeof h&&(h=.01),"undefined"==typeof c&&(c=1e-4);var f=.5*(o-1),u=o*o|0,d=u<<1,p=t.data,m=i.data,E=p[0].data,v=m[0].data,g=p[0].cols,y=p[0].rows,T=0,x=0,R=jsfeat.cache.get_buffer(u<<2),b=jsfeat.cache.get_buffer(d<<2),_=jsfeat.cache.get_buffer(y*(g<<1)<<2),w=new jsfeat.matrix_t(g,y,jsfeat.S32C2_t,_.data),H=R.i32,M=b.i32,S=_.i32,C=0,A=0,L=0,k=0,D=0,P=0,F=0,z=0,N=0,U=0,B=0,V=0,O=0,j=0,I=0,G=0,W=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,J=0,et=0,tt=0,it=0,at=0,rt=0,nt=0,ot=0,st=0,lt=14,ht=14,ct=ht-5,ft=1<<ct-1,ut=1<<lt,dt=1<<ht-1,pt=1/(1<<20),mt=0,Et=0,vt=0,gt=0,yt=0,Tt=0,xt=0,Rt=0,bt=0,_t=0,wt=0,Ht=0,Mt=1.1920929e-7;for(h*=h;n>Y;++Y)l[Y]=1;var St=t.levels-1|0;for($=St;$>=0;--$)for(F=1/(1<<$),T=g>>$,x=y>>$,C=T<<1,E=p[$].data,v=m[$].data,it=T-o|0,at=x-o|0,e(p[$],w),J=0;n>J;++J)if(Y=J<<1,K=Y+1,z=a[Y]*F,N=a[K]*F,$==St?(U=z,B=N):(U=2*r[Y],B=2*r[K]),r[Y]=U,r[K]=B,z-=f,N-=f,G=0|z,W=0|N,Z=tt>=G|G>=it|tt>=W|W>=at,0==Z){for(rt=z-G,nt=N-W,mt=(1-rt)*(1-nt)*ut+.5|0,Et=rt*(1-nt)*ut+.5|0,vt=(1-rt)*nt*ut+.5|0,gt=ut-mt-Et-vt,Rt=0,bt=0,_t=0,Q=0;o>Q;++Q)for(A=(Q+W)*T+G|0,L=A<<1,k=Q*o|0,D=k<<1,Z=0;o>Z;++Z,++A,++k,L+=2)yt=E[A]*mt+E[A+1]*Et+E[A+T]*vt+E[A+T+1]*gt,yt=yt+ft>>ct,Tt=S[L]*mt+S[L+2]*Et+S[L+C]*vt+S[L+C+2]*gt,Tt=Tt+dt>>ht,xt=S[L+1]*mt+S[L+3]*Et+S[L+C+1]*vt+S[L+C+3]*gt,xt=xt+dt>>ht,H[k]=yt,M[D++]=Tt,M[D++]=xt,Rt+=Tt*Tt,bt+=Tt*xt,_t+=xt*xt;if(Rt*=pt,bt*=pt,_t*=pt,wt=Rt*_t-bt*bt,Ht=(_t+Rt-Math.sqrt((Rt-_t)*(Rt-_t)+4*bt*bt))/d,c>Ht||Mt>wt)0==$&&(l[J]=0);else for(wt=1/wt,U-=f,B-=f,V=0,O=0,et=0;s>et;++et){if(X=0|U,q=0|B,Z=tt>=X|X>=it|tt>=q|q>=at,0!=Z){0==$&&(l[J]=0);break}for(rt=U-X,nt=B-q,mt=(1-rt)*(1-nt)*ut+.5|0,Et=rt*(1-nt)*ut+.5|0,vt=(1-rt)*nt*ut+.5|0,gt=ut-mt-Et-vt,ot=0,st=0,Q=0;o>Q;++Q)for(P=(Q+q)*T+X|0,k=Q*o|0,D=k<<1,Z=0;o>Z;++Z,++P,++k)yt=v[P]*mt+v[P+1]*Et+v[P+T]*vt+v[P+T+1]*gt,yt=yt+ft>>ct,yt-=H[k],ot+=yt*M[D++],st+=yt*M[D++];if(ot*=pt,st*=pt,j=(bt*st-_t*ot)*wt,I=(bt*ot-Rt*st)*wt,U+=j,B+=I,r[Y]=U+f,r[K]=B+f,h>=j*j+I*I)break;if(et>0&&Math.abs(j+V)<.01&&Math.abs(I+O)<.01){r[Y]-=.5*j,r[K]-=.5*I;break}V=j,O=I}}else 0==$&&(l[J]=0);jsfeat.cache.put_buffer(R),jsfeat.cache.put_buffer(b),jsfeat.cache.put_buffer(_)}}}();e.optical_flow_lk=t}(jsfeat),function(e){"use strict";var t=function(){var e=function(e,t){var i=.25*e.width+.5|0;return t.x<=e.x+i&&t.x>=e.x-i&&t.y<=e.y+i&&t.y>=e.y-i&&t.width<=1.5*e.width+.5|0&&1.5*t.width+.5|0>=e.width};return{edges_density:.07,detect_single_scale:function(e,t,i,a,r,n,o,s){var l,h,c,f,u,d,p,m,E,v,g,y,T,x,R,b,_,w,H,M,S,C,A,L,k,D,P=s.size[0]*o|0,F=s.size[1]*o|0,z=.5*o+1.5|0,N=z,U=r-P|0,B=n-F|0,V=r+1|0,O=1/(P*F),j=!0,I=0,G=P,W=F*V,X=W+P,q=P*F*255*this.edges_density|0,Y=[];for(u=0;B>u;u+=N)for(I=u*V,f=0;U>f;f+=z,I+=z)if(p=e[I]-e[I+G]-e[I+W]+e[I+X],a&&(d=a[I]-a[I+G]-a[I+W]+a[I+X],q>d||20>p))f+=z,I+=z;else{for(p*=O,m=(t[I]-t[I+G]-t[I+W]+t[I+X])*O-p*p,E=m>0?Math.sqrt(m):1,v=s.complexClassifiers,x=v.length,j=!0,l=0;x>l;++l){for(g=v[l],_=g.threshold,y=g.simpleClassifiers,R=y.length,w=0,h=0;R>h;++h){if(T=y[h],H=0,S=T.features,b=S.length,1===T.tilted)for(c=0;b>c;++c)M=S[c],C=~~(f+M[0]*o)+~~(u+M[1]*o)*V,k=~~(M[2]*o),D=~~(M[3]*o),A=k*V,L=D*V,H+=(i[C]-i[C+k+A]-i[C-D+L]+i[C+k-D+A+L])*M[4];else for(c=0;b>c;++c)M=S[c],C=~~(f+M[0]*o)+~~(u+M[1]*o)*V,k=~~(M[2]*o),D=~~(M[3]*o),L=D*V,H+=(e[C]-e[C+k]-e[C+L]+e[C+L+k])*M[4];w+=H*O<T.threshold*E?T.left_val:T.right_val}if(_>w){j=!1;break}}j&&(Y.push({x:f,y:u,width:P,height:F,neighbor:1,confidence:w}),f+=z,I+=z)}return Y},detect_multi_scale:function(e,t,i,a,r,n,o,s,l){"undefined"==typeof s&&(s=1.2),"undefined"==typeof l&&(l=1);for(var h=o.size[0],c=o.size[1],f=[];r>l*h&&n>l*c;)f=f.concat(this.detect_single_scale(e,t,i,a,r,n,l,o)),l*=s;return f},group_rectangles:function(t,i){"undefined"==typeof i&&(i=1);var a,r,n=t.length,o=[];for(a=0;n>a;++a)o[a]={parent:-1,element:t[a],rank:0};for(a=0;n>a;++a)if(o[a].element){for(var s=a;-1!=o[s].parent;)s=o[s].parent;for(r=0;n>r;++r)if(a!=r&&o[r].element&&e(o[a].element,o[r].element)){for(var l=r;-1!=o[l].parent;)l=o[l].parent;if(l!=s){o[s].rank>o[l].rank?o[l].parent=s:(o[s].parent=l,o[s].rank==o[l].rank&&o[l].rank++,s=l);for(var h,c=r;-1!=o[c].parent;)h=c,c=o[c].parent,o[h].parent=s;for(c=a;-1!=o[c].parent;)h=c,c=o[c].parent,o[h].parent=s}}}var f=[],u=0;for(a=0;n>a;a++){r=-1;var d=a;if(o[d].element){for(;-1!=o[d].parent;)d=o[d].parent;o[d].rank>=0&&(o[d].rank=~u++),r=~o[d].rank}f[a]=r}var p=[];for(a=0;u+1>a;++a)p[a]={neighbors:0,x:0,y:0,width:0,height:0,confidence:0};for(a=0;n>a;++a){var m=t[a],E=f[a];0==p[E].neighbors&&(p[E].confidence=m.confidence),++p[E].neighbors,p[E].x+=m.x,p[E].y+=m.y,p[E].width+=m.width,p[E].height+=m.height,p[E].confidence=Math.max(p[E].confidence,m.confidence)}var v=[];for(a=0;u>a;++a)n=p[a].neighbors,n>=i&&v.push({x:(2*p[a].x+n)/(2*n),y:(2*p[a].y+n)/(2*n),width:(2*p[a].width+n)/(2*n),height:(2*p[a].height+n)/(2*n),neighbors:p[a].neighbors,confidence:p[a].confidence});var g=[];for(n=v.length,a=0;n>a;++a){var m=v[a],y=!0;for(r=0;n>r;++r){var T=v[r],x=.25*T.width+.5|0;if(a!=r&&m.x>=T.x-x&&m.y>=T.y-x&&m.x+m.width<=T.x+T.width+x&&m.y+m.height<=T.y+T.height+x&&(T.neighbors>Math.max(3,m.neighbors)||m.neighbors<3)){y=!1;break}}y&&g.push(m)}return g}}}();e.haar=t}(jsfeat),function(e){"use strict";var t=function(){var e=function(e,t){var i=.25*e.width+.5|0;return t.x<=e.x+i&&t.x>=e.x-i&&t.y<=e.y+i&&t.y>=e.y-i&&t.width<=1.5*e.width+.5|0&&1.5*t.width+.5|0>=e.width},t=new jsfeat.pyramid_t(1);return{interval:4,scale:1.1486,next:5,scale_to:1,prepare_cascade:function(e){for(var t=e.stage_classifier.length,i=0;t>i;i++)for(var a=e.stage_classifier[i].feature,r=e.stage_classifier[i].count,n=e.stage_classifier[i]._feature=new Array(r),o=0;r>o;o++)n[o]={size:a[o].size,px:new Array(a[o].size),pz:new Array(a[o].size),nx:new Array(a[o].size),nz:new Array(a[o].size)}},build_pyramid:function(e,i,a,r){"undefined"==typeof r&&(r=4);var n=e.cols,o=e.rows,s=0,l=0,h=0,c=!1,f=e,u=e,d=jsfeat.U8_t|jsfeat.C1_t;this.interval=r,this.scale=Math.pow(2,1/(this.interval+1)),this.next=this.interval+1|0,this.scale_to=Math.log(Math.min(n/i,o/a))/Math.log(this.scale)|0;var p=4*(this.scale_to+2*this.next)|0;for(t.levels!=p&&(t.levels=p,t.data=new Array(p),c=!0,t.data[0]=e),s=1;s<=this.interval;++s)l=n/Math.pow(this.scale,s)|0,h=o/Math.pow(this.scale,s)|0,f=t.data[s<<2],(c||l!=f.cols||h!=f.rows)&&(t.data[s<<2]=new jsfeat.matrix_t(l,h,d),f=t.data[s<<2]),jsfeat.imgproc.resample(e,f,l,h);for(s=this.next;s<this.scale_to+2*this.next;++s)u=t.data[(s<<2)-(this.next<<2)],f=t.data[s<<2],l=u.cols>>1,h=u.rows>>1,(c||l!=f.cols||h!=f.rows)&&(t.data[s<<2]=new jsfeat.matrix_t(l,h,d),f=t.data[s<<2]),jsfeat.imgproc.pyrdown(u,f);for(s=2*this.next;s<this.scale_to+2*this.next;++s)u=t.data[(s<<2)-(this.next<<2)],l=u.cols>>1,h=u.rows>>1,f=t.data[(s<<2)+1],(c||l!=f.cols||h!=f.rows)&&(t.data[(s<<2)+1]=new jsfeat.matrix_t(l,h,d),f=t.data[(s<<2)+1]),jsfeat.imgproc.pyrdown(u,f,1,0),f=t.data[(s<<2)+2],(c||l!=f.cols||h!=f.rows)&&(t.data[(s<<2)+2]=new jsfeat.matrix_t(l,h,d),f=t.data[(s<<2)+2]),jsfeat.imgproc.pyrdown(u,f,0,1),f=t.data[(s<<2)+3],(c||l!=f.cols||h!=f.rows)&&(t.data[(s<<2)+3]=new jsfeat.matrix_t(l,h,d),f=t.data[(s<<2)+3]),jsfeat.imgproc.pyrdown(u,f,1,1);return t},detect:function(e,t){var i,a,r,n,o,s=(this.interval,this.scale),l=this.next,h=this.scale_to,c=0,f=0,u=0,d=0,p=0,m=0,E=0,v=0,g=0,y=0,T=0,x=0,R=0,b=0,_=0,w=0,H=0,M=0,S=!0,C=!0,A=1,L=1,k=[0,1,0,1],D=[0,0,1,1],P=[],F=e.data,z=1,N=2,U=4,B=[],V=[0,0,0],O=[0,0,0],j=[0,0,0];for(c=0;h>c;c++){for(_=c<<2,w=F[_+(l<<3)].cols-(t.width>>2),H=F[_+(l<<3)].rows-(t.height>>2),O[0]=F[_].cols*z,O[1]=F[_+(l<<2)].cols*z,O[2]=F[_+(l<<3)].cols*z,j[0]=F[_].cols*U-w*U,j[1]=F[_+(l<<2)].cols*N-w*N,j[2]=F[_+(l<<3)].cols*z-w*z,v=t.stage_classifier.length,f=0;v>f;f++)for(r=t.stage_classifier[f].feature,a=t.stage_classifier[f]._feature,g=t.stage_classifier[f].count,u=0;g>u;u++)for(n=a[u],o=r[u],y=0|o.size,E=0;y>E;E++)n.px[E]=o.px[E]*z+o.py[E]*O[o.pz[E]],n.pz[E]=o.pz[E],n.nx[E]=o.nx[E]*z+o.ny[E]*O[o.nz[E]],n.nz[E]=o.nz[E];for(B[0]=F[_].data,B[1]=F[_+(l<<2)].data,E=0;4>E;E++)for(B[2]=F[_+(l<<3)+E].data,V[0]=k[E]*N+D[E]*F[_].cols*N,V[1]=k[E]*z+D[E]*F[_+(l<<2)].cols*z,V[2]=0,m=0;H>m;m++){for(p=0;w>p;p++){for(M=0,S=!0,v=t.stage_classifier.length,f=0;v>f;f++){for(M=0,i=t.stage_classifier[f].alpha,a=t.stage_classifier[f]._feature,g=t.stage_classifier[f].count,u=0;g>u;u++)if(n=a[u],x=B[n.pz[0]][V[n.pz[0]]+n.px[0]],R=B[n.nz[0]][V[n.nz[0]]+n.nx[0]],R>=x)M+=i[u<<1];else{for(C=!0,y=n.size,b=1;y>b;b++){if(n.pz[b]>=0&&(T=B[n.pz[b]][V[n.pz[b]]+n.px[b]],x>T)){if(R>=T){C=!1;break}x=T}if(n.nz[b]>=0&&(d=B[n.nz[b]][V[n.nz[b]]+n.nx[b]],d>R)){if(d>=x){C=!1;break}R=d}}M+=C?i[(u<<1)+1]:i[u<<1]}if(M<t.stage_classifier[f].threshold){S=!1;break}}S&&(P.push({x:(4*p+2*k[E])*A,y:(4*m+2*D[E])*L,width:t.width*A,height:t.height*L,neighbor:1,confidence:M}),++p,V[0]+=U,V[1]+=N,V[2]+=z),V[0]+=U,V[1]+=N,V[2]+=z}V[0]+=j[0],V[1]+=j[1],V[2]+=j[2]}A*=s,L*=s}return P},group_rectangles:function(t,i){"undefined"==typeof i&&(i=1);var a,r,n=t.length,o=[];for(a=0;n>a;++a)o[a]={parent:-1,element:t[a],rank:0};for(a=0;n>a;++a)if(o[a].element){for(var s=a;-1!=o[s].parent;)s=o[s].parent;for(r=0;n>r;++r)if(a!=r&&o[r].element&&e(o[a].element,o[r].element)){for(var l=r;-1!=o[l].parent;)l=o[l].parent;if(l!=s){o[s].rank>o[l].rank?o[l].parent=s:(o[s].parent=l,o[s].rank==o[l].rank&&o[l].rank++,s=l);for(var h,c=r;-1!=o[c].parent;)h=c,c=o[c].parent,o[h].parent=s;for(c=a;-1!=o[c].parent;)h=c,c=o[c].parent,o[h].parent=s}}}var f=[],u=0;for(a=0;n>a;a++){r=-1;var d=a;if(o[d].element){for(;-1!=o[d].parent;)d=o[d].parent;o[d].rank>=0&&(o[d].rank=~u++),r=~o[d].rank}f[a]=r}var p=[];for(a=0;u+1>a;++a)p[a]={neighbors:0,x:0,y:0,width:0,height:0,confidence:0};for(a=0;n>a;++a){var m=t[a],E=f[a];0==p[E].neighbors&&(p[E].confidence=m.confidence),++p[E].neighbors,p[E].x+=m.x,p[E].y+=m.y,p[E].width+=m.width,p[E].height+=m.height,p[E].confidence=Math.max(p[E].confidence,m.confidence)}var v=[];for(a=0;u>a;++a)n=p[a].neighbors,n>=i&&v.push({x:(2*p[a].x+n)/(2*n),y:(2*p[a].y+n)/(2*n),width:(2*p[a].width+n)/(2*n),height:(2*p[a].height+n)/(2*n),neighbors:p[a].neighbors,confidence:p[a].confidence});var g=[];for(n=v.length,a=0;n>a;++a){var m=v[a],y=!0;for(r=0;n>r;++r){var T=v[r],x=.25*T.width+.5|0;if(a!=r&&m.x>=T.x-x&&m.y>=T.y-x&&m.x+m.width<=T.x+T.width+x&&m.y+m.height<=T.y+T.height+x&&(T.neighbors>Math.max(3,m.neighbors)||m.neighbors<3)){y=!1;break}}y&&g.push(m)}return g}}}();e.bbf=t}(jsfeat),function(e){"use strict";"undefined"==typeof module||"undefined"==typeof module.exports?window.jsfeat=e:module.exports=e}(jsfeat);var THREE={REVISION:"67"};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!self.requestAnimationFrame;++i)self.requestAnimationFrame=self[t[i]+"RequestAnimationFrame"],self.cancelAnimationFrame=self[t[i]+"CancelAnimationFrame"]||self[t[i]+"CancelRequestAnimationFrame"];void 0===self.requestAnimationFrame&&void 0!==self.setTimeout&&(self.requestAnimationFrame=function(t){var i=Date.now(),a=Math.max(0,16-(i-e)),r=self.setTimeout(function(){t(i+a)},a);return e=i+a,r}),void 0===self.cancelAnimationFrame&&void 0!==self.clearTimeout&&(self.cancelAnimationFrame=function(e){self.clearTimeout(e)})}(),THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.NoShading=0,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=function(){},THREE.CubeReflectionMapping=function(){},THREE.CubeRefractionMapping=function(){},THREE.SphericalReflectionMapping=function(){},THREE.SphericalRefractionMapping=function(){},THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGB_S3TC_DXT1_Format=2001,THREE.RGBA_S3TC_DXT1_Format=2002,THREE.RGBA_S3TC_DXT3_Format=2003,THREE.RGBA_S3TC_DXT5_Format=2004,THREE.Color=function(e){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(e)
},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(e){return e instanceof THREE.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(e,t,i){if(0===t)this.r=this.g=this.b=i;else{var a=function(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+6*(t-e)*(2/3-i):e};t=.5>=i?i*(1+t):i+t-i*t,i=2*i-t,this.r=a(i,t,e+1/3),this.g=a(i,t,e),this.b=a(i,t,e-1/3)}return this},setStyle:function(e){return/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)?(e=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e),this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,this):/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)?(e=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e),this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,this):/^\#([0-9a-f]{6})$/i.test(e)?(e=/^\#([0-9a-f]{6})$/i.exec(e),this.setHex(parseInt(e[1],16)),this):/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)?(e=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e),this.setHex(parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3],16)),this):/^(\w+)$/i.test(e)?(this.setHex(THREE.ColorKeywords[e]),this):void 0},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e){return this.r=e.r*e.r,this.g=e.g*e.g,this.b=e.b*e.b,this},copyLinearToGamma:function(e){return this.r=Math.sqrt(e.r),this.g=Math.sqrt(e.g),this.b=Math.sqrt(e.b),this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;return this.r=e*e,this.g=t*t,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e=e||{h:0,s:0,l:0};var t,i=this.r,a=this.g,r=this.b,n=Math.max(i,a,r),o=Math.min(i,a,r),s=(o+n)/2;if(o===n)o=t=0;else{var l=n-o,o=.5>=s?l/(n+o):l/(2-n-o);switch(n){case i:t=(a-r)/l+(r>a?6:0);break;case a:t=(r-i)/l+2;break;case r:t=(i-a)/l+4}t/=6}return e.h=t,e.s=o,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,i){var a=this.getHSL();return a.h+=e,a.s+=t,a.l+=i,this.setHSL(a.h,a.s,a.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e){return this.r=e[0],this.g=e[1],this.b=e[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(e,t,i,a){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==a?a:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this.onChangeCallback(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._w=e._w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!1==e instanceof THREE.Euler)throw Error("ERROR: Quaternion's .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var i=Math.cos(e._x/2),a=Math.cos(e._y/2),r=Math.cos(e._z/2),n=Math.sin(e._x/2),o=Math.sin(e._y/2),s=Math.sin(e._z/2);return"XYZ"===e.order?(this._x=n*a*r+i*o*s,this._y=i*o*r-n*a*s,this._z=i*a*s+n*o*r,this._w=i*a*r-n*o*s):"YXZ"===e.order?(this._x=n*a*r+i*o*s,this._y=i*o*r-n*a*s,this._z=i*a*s-n*o*r,this._w=i*a*r+n*o*s):"ZXY"===e.order?(this._x=n*a*r-i*o*s,this._y=i*o*r+n*a*s,this._z=i*a*s+n*o*r,this._w=i*a*r-n*o*s):"ZYX"===e.order?(this._x=n*a*r-i*o*s,this._y=i*o*r+n*a*s,this._z=i*a*s-n*o*r,this._w=i*a*r+n*o*s):"YZX"===e.order?(this._x=n*a*r+i*o*s,this._y=i*o*r+n*a*s,this._z=i*a*s-n*o*r,this._w=i*a*r-n*o*s):"XZY"===e.order&&(this._x=n*a*r-i*o*s,this._y=i*o*r-n*a*s,this._z=i*a*s+n*o*r,this._w=i*a*r+n*o*s),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,i=t[0];e=t[4];var a=t[8],r=t[1],n=t[5],o=t[9],s=t[2],l=t[6],t=t[10],h=i+n+t;return h>0?(i=.5/Math.sqrt(h+1),this._w=.25/i,this._x=(l-o)*i,this._y=(a-s)*i,this._z=(r-e)*i):i>n&&i>t?(i=2*Math.sqrt(1+i-n-t),this._w=(l-o)/i,this._x=.25*i,this._y=(e+r)/i,this._z=(a+s)/i):n>t?(i=2*Math.sqrt(1+n-i-t),this._w=(a-s)/i,this._x=(e+r)/i,this._y=.25*i,this._z=(o+l)/i):(i=2*Math.sqrt(1+t-i-n),this._w=(r-e)/i,this._x=(a+s)/i,this._y=(o+l)/i,this._z=.25*i),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t;return function(i,a){return void 0===e&&(e=new THREE.Vector3),t=i.dot(a)+1,1e-6>t?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,a),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e._x,a=e._y,r=e._z,n=e._w,o=t._x,s=t._y,l=t._z,h=t._w;return this._x=i*h+n*o+a*l-r*s,this._y=a*h+n*s+r*o-i*l,this._z=r*h+n*l+i*s-a*o,this._w=n*h-i*o-a*s-r*l,this.onChangeCallback(),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){var i=this._x,a=this._y,r=this._z,n=this._w,o=n*e._w+i*e._x+a*e._y+r*e._z;if(0>o?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=n,this._x=i,this._y=a,this._z=r,this;var s=Math.acos(o),l=Math.sqrt(1-o*o);return.001>Math.abs(l)?(this._w=.5*(n+this._w),this._x=.5*(i+this._x),this._y=.5*(a+this._y),this._z=.5*(r+this._z),this):(o=Math.sin((1-t)*s)/l,s=Math.sin(t*s)/l,this._w=n*o+this._w*s,this._x=i*o+this._x*s,this._y=a*o+this._y*s,this._z=r*o+this._z*s,this.onChangeCallback(),this)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],this._w=e[3],this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._w]},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}},THREE.Quaternion.slerp=function(e,t,i,a){return i.copy(e).slerp(t,a)},THREE.Vector2=function(e,t){this.x=e||0,this.y=t||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return 0!==e?(e=1/e,this.x*=e,this.y*=e):this.y=this.x=0,this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},clampScalar:function(){var e,t;return function(i,a){return void 0===e&&(e=new THREE.Vector2,t=new THREE.Vector2),e.set(i,i),t.set(a,a),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x;return e=this.y-e.y,t*t+e*e},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e){return this.x=e[0],this.y=e[1],this},toArray:function(){return[this.x,this.y]},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return!1==t instanceof THREE.Euler&&console.error("ERROR: Vector3's .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code."),void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,i){return void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,i)),this}}(),applyMatrix3:function(e){var t=this.x,i=this.y,a=this.z;return e=e.elements,this.x=e[0]*t+e[3]*i+e[6]*a,this.y=e[1]*t+e[4]*i+e[7]*a,this.z=e[2]*t+e[5]*i+e[8]*a,this},applyMatrix4:function(e){var t=this.x,i=this.y,a=this.z;return e=e.elements,this.x=e[0]*t+e[4]*i+e[8]*a+e[12],this.y=e[1]*t+e[5]*i+e[9]*a+e[13],this.z=e[2]*t+e[6]*i+e[10]*a+e[14],this},applyProjection:function(e){var t=this.x,i=this.y,a=this.z;e=e.elements;var r=1/(e[3]*t+e[7]*i+e[11]*a+e[15]);return this.x=(e[0]*t+e[4]*i+e[8]*a+e[12])*r,this.y=(e[1]*t+e[5]*i+e[9]*a+e[13])*r,this.z=(e[2]*t+e[6]*i+e[10]*a+e[14])*r,this},applyQuaternion:function(e){var t=this.x,i=this.y,a=this.z,r=e.x,n=e.y,o=e.z;e=e.w;var s=e*t+n*a-o*i,l=e*i+o*t-r*a,h=e*a+r*i-n*t,t=-r*t-n*i-o*a;return this.x=s*e+t*-r+l*-o-h*-n,this.y=l*e+t*-n+h*-r-s*-o,this.z=h*e+t*-o+s*-n-l*-r,this},transformDirection:function(e){var t=this.x,i=this.y,a=this.z;return e=e.elements,this.x=e[0]*t+e[4]*i+e[8]*a,this.y=e[1]*t+e[5]*i+e[9]*a,this.z=e[2]*t+e[6]*i+e[10]*a,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return 0!==e?(e=1/e,this.x*=e,this.y*=e,this.z*=e):this.z=this.y=this.x=0,this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:function(){var e,t;return function(i,a){return void 0===e&&(e=new THREE.Vector3,t=new THREE.Vector3),e.set(i,i,i),t.set(a,a,a),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var i=this.x,a=this.y,r=this.z;return this.x=a*e.z-r*e.y,this.y=r*e.x-i*e.z,this.z=i*e.y-a*e.x,this},crossVectors:function(e,t){var i=e.x,a=e.y,r=e.z,n=t.x,o=t.y,s=t.z;return this.x=a*s-r*o,this.y=r*n-i*s,this.z=i*o-a*n,this},projectOnVector:function(){var e,t;return function(i){return void 0===e&&(e=new THREE.Vector3),e.copy(i).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){return e=this.dot(e)/(this.length()*e.length()),Math.acos(THREE.Math.clamp(e,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return e=this.z-e.z,t*t+i*i+e*e},setEulerFromRotationMatrix:function(){console.error("REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.")},setEulerFromQuaternion:function(){console.error("REMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.")},getPositionFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("DEPRECATED: Vector3's .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),i=this.set(e.elements[4],e.elements[5],e.elements[6]).length();return e=this.set(e.elements[8],e.elements[9],e.elements[10]).length(),this.x=t,this.y=i,this.z=e,this},setFromMatrixColumn:function(e,t){var i=4*e,a=t.elements;return this.x=a[i],this.y=a[i+1],this.z=a[i+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.Vector4=function(e,t,i,a){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==a?a:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,i=this.y,a=this.z,r=this.w;return e=e.elements,this.x=e[0]*t+e[4]*i+e[8]*a+e[12]*r,this.y=e[1]*t+e[5]*i+e[9]*a+e[13]*r,this.z=e[2]*t+e[6]*i+e[10]*a+e[14]*r,this.w=e[3]*t+e[7]*i+e[11]*a+e[15]*r,this},divideScalar:function(e){return 0!==e?(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.z=this.y=this.x=0,this.w=1),this},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.z=this.y=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,a;e=e.elements;var r=e[0];a=e[4];var n=e[8],o=e[1],s=e[5],l=e[9];i=e[2],t=e[6];var h=e[10];return.01>Math.abs(a-o)&&.01>Math.abs(n-i)&&.01>Math.abs(l-t)?.1>Math.abs(a+o)&&.1>Math.abs(n+i)&&.1>Math.abs(l+t)&&.1>Math.abs(r+s+h-3)?(this.set(1,0,0,0),this):(e=Math.PI,r=(r+1)/2,s=(s+1)/2,h=(h+1)/2,a=(a+o)/4,n=(n+i)/4,l=(l+t)/4,r>s&&r>h?.01>r?(t=0,a=i=.707106781):(t=Math.sqrt(r),i=a/t,a=n/t):s>h?.01>s?(t=.707106781,i=0,a=.707106781):(i=Math.sqrt(s),t=a/i,a=l/i):.01>h?(i=t=.707106781,a=0):(a=Math.sqrt(h),t=n/a,i=l/a),this.set(t,i,a,e),this):(e=Math.sqrt((t-l)*(t-l)+(n-i)*(n-i)+(o-a)*(o-a)),.001>Math.abs(e)&&(e=1),this.x=(t-l)/e,this.y=(n-i)/e,this.z=(o-a)/e,this.w=Math.acos((r+s+h-1)/2),this)},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this.w>e.w&&(this.w=e.w),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this.w<e.w&&(this.w=e.w),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this.w<e.w?this.w=e.w:this.w>t.w&&(this.w=t.w),this},clampScalar:function(){var e,t;return function(i,a){return void 0===e&&(e=new THREE.Vector4,t=new THREE.Vector4),e.set(i,i,i,i),t.set(a,a,a,a),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3],this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}},THREE.Euler=function(e,t,i,a){this._x=e||0,this._y=t||0,this._z=i||0,this._order=a||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._order=a||this._order,this.onChangeCallback(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t){var i=THREE.Math.clamp,a=e.elements,r=a[0],n=a[4],o=a[8],s=a[1],l=a[5],h=a[9],c=a[2],f=a[6],a=a[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(i(o,-1,1)),.99999>Math.abs(o)?(this._x=Math.atan2(-h,a),this._z=Math.atan2(-n,r)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(h,-1,1)),.99999>Math.abs(h)?(this._y=Math.atan2(o,a),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,r),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(f,-1,1)),.99999>Math.abs(f)?(this._y=Math.atan2(-c,a),this._z=Math.atan2(-n,l)):(this._y=0,this._z=Math.atan2(s,r))):"ZYX"===t?(this._y=Math.asin(-i(c,-1,1)),.99999>Math.abs(c)?(this._x=Math.atan2(f,a),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-n,l))):"YZX"===t?(this._z=Math.asin(i(s,-1,1)),.99999>Math.abs(s)?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(o,a))):"XZY"===t?(this._z=Math.asin(-i(n,-1,1)),.99999>Math.abs(n)?(this._x=Math.atan2(f,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-h,a),this._y=0)):console.warn("WARNING: Euler.setFromRotationMatrix() given unsupported order: "+t),this._order=t,this.onChangeCallback(),this},setFromQuaternion:function(e,t,i){var a=THREE.Math.clamp,r=e.x*e.x,n=e.y*e.y,o=e.z*e.z,s=e.w*e.w;return t=t||this._order,"XYZ"===t?(this._x=Math.atan2(2*(e.x*e.w-e.y*e.z),s-r-n+o),this._y=Math.asin(a(2*(e.x*e.z+e.y*e.w),-1,1)),this._z=Math.atan2(2*(e.z*e.w-e.x*e.y),s+r-n-o)):"YXZ"===t?(this._x=Math.asin(a(2*(e.x*e.w-e.y*e.z),-1,1)),this._y=Math.atan2(2*(e.x*e.z+e.y*e.w),s-r-n+o),this._z=Math.atan2(2*(e.x*e.y+e.z*e.w),s-r+n-o)):"ZXY"===t?(this._x=Math.asin(a(2*(e.x*e.w+e.y*e.z),-1,1)),this._y=Math.atan2(2*(e.y*e.w-e.z*e.x),s-r-n+o),this._z=Math.atan2(2*(e.z*e.w-e.x*e.y),s-r+n-o)):"ZYX"===t?(this._x=Math.atan2(2*(e.x*e.w+e.z*e.y),s-r-n+o),this._y=Math.asin(a(2*(e.y*e.w-e.x*e.z),-1,1)),this._z=Math.atan2(2*(e.x*e.y+e.z*e.w),s+r-n-o)):"YZX"===t?(this._x=Math.atan2(2*(e.x*e.w-e.z*e.y),s-r+n-o),this._y=Math.atan2(2*(e.y*e.w-e.x*e.z),s+r-n-o),this._z=Math.asin(a(2*(e.x*e.y+e.z*e.w),-1,1))):"XZY"===t?(this._x=Math.atan2(2*(e.x*e.w+e.y*e.z),s-r+n-o),this._y=Math.atan2(2*(e.x*e.z+e.y*e.w),s+r-n-o),this._z=Math.asin(a(2*(e.z*e.w-e.x*e.y),-1,1))):console.warn("WARNING: Euler.setFromQuaternion() given unsupported order: "+t),this._order=t,!1!==i&&this.onChangeCallback(),this},reorder:function(){var e=new THREE.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}},THREE.Line3=function(e,t){this.start=void 0!==e?e:new THREE.Vector3,this.end=void 0!==t?t:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){return(e||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var i=t||new THREE.Vector3;return this.delta(i).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i,a){e.subVectors(i,this.start),t.subVectors(this.end,this.start);var r=t.dot(t),r=t.dot(e)/r;return a&&(r=THREE.Math.clamp(r,0,1)),r}}(),closestPointToPoint:function(e,t,i){return e=this.closestPointToPointParameter(e,t),i=i||new THREE.Vector3,this.delta(i).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}},THREE.Box2=function(e,t){this.min=void 0!==e?e:new THREE.Vector2(1/0,1/0),this.max=void 0!==t?t:new THREE.Vector2(-1/0,-1/0)},THREE.Box2.prototype={constructor:THREE.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this
},setFromPoints:function(e){if(0<e.length){var t=e[0];this.min.copy(t),this.max.copy(t);for(var i=1,a=e.length;a>i;i++)t=e[i],t.x<this.min.x?this.min.x=t.x:t.x>this.max.x&&(this.max.x=t.x),t.y<this.min.y?this.min.y=t.y:t.y>this.max.y&&(this.max.y=t.y)}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new THREE.Vector2;return function(t,i){var a=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(a),this.max.copy(t).add(a),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y?!0:!1},getParameter:function(e,t){return(t||new THREE.Vector2).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?!1:!0},clampPoint:function(e,t){return(t||new THREE.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector2;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}},THREE.Box3=function(e,t){this.min=void 0!==e?e:new THREE.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new THREE.Vector3(-1/0,-1/0,-1/0)},THREE.Box3.prototype={constructor:THREE.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},addPoint:function(e){return e.x<this.min.x?this.min.x=e.x:e.x>this.max.x&&(this.max.x=e.x),e.y<this.min.y?this.min.y=e.y:e.y>this.max.y&&(this.max.y=e.y),e.z<this.min.z?this.min.z=e.z:e.z>this.max.z&&(this.max.z=e.z),this},setFromPoints:function(e){if(0<e.length){var t=e[0];this.min.copy(t),this.max.copy(t);for(var t=1,i=e.length;i>t;t++)this.addPoint(e[t])}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new THREE.Vector3;return function(t,i){var a=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(a),this.max.copy(t).add(a),this}}(),setFromObject:function(){var e=new THREE.Vector3;return function(t){var i=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){if(void 0!==t.geometry&&void 0!==t.geometry.vertices)for(var a=t.geometry.vertices,r=0,n=a.length;n>r;r++)e.copy(a[r]),e.applyMatrix4(t.matrixWorld),i.expandByPoint(e)}),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z?!0:!1},getParameter:function(e,t){return(t||new THREE.Vector3).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?!1:!0},clampPoint:function(e,t){return(t||new THREE.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new THREE.Vector3;return function(t){return t=t||new THREE.Sphere,t.center=this.center(),t.radius=.5*this.size(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}},THREE.Matrix3=function(e,t,i,a,r,n,o,s,l){var h=this.elements=new Float32Array(9);h[0]=void 0!==e?e:1,h[3]=t||0,h[6]=i||0,h[1]=a||0,h[4]=void 0!==r?r:1,h[7]=n||0,h[2]=o||0,h[5]=s||0,h[8]=void 0!==l?l:1},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(e,t,i,a,r,n,o,s,l){var h=this.elements;return h[0]=e,h[3]=t,h[6]=i,h[1]=a,h[4]=r,h[7]=n,h[2]=o,h[5]=s,h[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){return e=e.elements,this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("DEPRECATED: Matrix3's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new THREE.Vector3;return function(t,i,a){void 0===i&&(i=0),void 0===a&&(a=t.length);for(var r=0;a>r;r+=3,i+=3)e.x=t[i],e.y=t[i+1],e.z=t[i+2],e.applyMatrix3(this),t[i]=e.x,t[i+1]=e.y,t[i+2]=e.z;return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],n=e[4],o=e[5],s=e[6],l=e[7],e=e[8];return t*n*e-t*o*l-i*r*e+i*o*s+a*r*l-a*n*s},getInverse:function(e,t){var i=e.elements,a=this.elements;if(a[0]=i[10]*i[5]-i[6]*i[9],a[1]=-i[10]*i[1]+i[2]*i[9],a[2]=i[6]*i[1]-i[2]*i[5],a[3]=-i[10]*i[4]+i[6]*i[8],a[4]=i[10]*i[0]-i[2]*i[8],a[5]=-i[6]*i[0]+i[2]*i[4],a[6]=i[9]*i[4]-i[5]*i[8],a[7]=-i[9]*i[0]+i[1]*i[8],a[8]=i[5]*i[0]-i[1]*i[4],i=i[0]*a[0]+i[1]*a[3]+i[2]*a[6],0===i){if(t)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},clone:function(){var e=this.elements;return new THREE.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},THREE.Matrix4=function(e,t,i,a,r,n,o,s,l,h,c,f,u,d,p,m){var E=this.elements=new Float32Array(16);E[0]=void 0!==e?e:1,E[4]=t||0,E[8]=i||0,E[12]=a||0,E[1]=r||0,E[5]=void 0!==n?n:1,E[9]=o||0,E[13]=s||0,E[2]=l||0,E[6]=h||0,E[10]=void 0!==c?c:1,E[14]=f||0,E[3]=u||0,E[7]=d||0,E[11]=p||0,E[15]=void 0!==m?m:1},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(e,t,i,a,r,n,o,s,l,h,c,f,u,d,p,m){var E=this.elements;return E[0]=e,E[4]=t,E[8]=i,E[12]=a,E[1]=r,E[5]=n,E[9]=o,E[13]=s,E[2]=l,E[6]=h,E[10]=c,E[14]=f,E[3]=u,E[7]=d,E[11]=p,E[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return this.elements.set(e.elements),this},extractPosition:function(e){return console.warn("DEPRECATED: Matrix4's .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements;return e=e.elements,t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractRotation:function(){var e=new THREE.Vector3;return function(t){var i=this.elements;t=t.elements;var a=1/e.set(t[0],t[1],t[2]).length(),r=1/e.set(t[4],t[5],t[6]).length(),n=1/e.set(t[8],t[9],t[10]).length();return i[0]=t[0]*a,i[1]=t[1]*a,i[2]=t[2]*a,i[4]=t[4]*r,i[5]=t[5]*r,i[6]=t[6]*r,i[8]=t[8]*n,i[9]=t[9]*n,i[10]=t[10]*n,this}}(),makeRotationFromEuler:function(e){!1==e instanceof THREE.Euler&&console.error("ERROR: Matrix's .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var t=this.elements,i=e.x,a=e.y,r=e.z,n=Math.cos(i),i=Math.sin(i),o=Math.cos(a),a=Math.sin(a),s=Math.cos(r),r=Math.sin(r);if("XYZ"===e.order){e=n*s;var l=n*r,h=i*s,c=i*r;t[0]=o*s,t[4]=-o*r,t[8]=a,t[1]=l+h*a,t[5]=e-c*a,t[9]=-i*o,t[2]=c-e*a,t[6]=h+l*a,t[10]=n*o}else"YXZ"===e.order?(e=o*s,l=o*r,h=a*s,c=a*r,t[0]=e+c*i,t[4]=h*i-l,t[8]=n*a,t[1]=n*r,t[5]=n*s,t[9]=-i,t[2]=l*i-h,t[6]=c+e*i,t[10]=n*o):"ZXY"===e.order?(e=o*s,l=o*r,h=a*s,c=a*r,t[0]=e-c*i,t[4]=-n*r,t[8]=h+l*i,t[1]=l+h*i,t[5]=n*s,t[9]=c-e*i,t[2]=-n*a,t[6]=i,t[10]=n*o):"ZYX"===e.order?(e=n*s,l=n*r,h=i*s,c=i*r,t[0]=o*s,t[4]=h*a-l,t[8]=e*a+c,t[1]=o*r,t[5]=c*a+e,t[9]=l*a-h,t[2]=-a,t[6]=i*o,t[10]=n*o):"YZX"===e.order?(e=n*o,l=n*a,h=i*o,c=i*a,t[0]=o*s,t[4]=c-e*r,t[8]=h*r+l,t[1]=r,t[5]=n*s,t[9]=-i*s,t[2]=-a*s,t[6]=l*r+h,t[10]=e-c*r):"XZY"===e.order&&(e=n*o,l=n*a,h=i*o,c=i*a,t[0]=o*s,t[4]=-r,t[8]=a*s,t[1]=e*r+c,t[5]=n*s,t[9]=l*r-h,t[2]=h*r-l,t[6]=i*s,t[10]=c*r+e);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("DEPRECATED: Matrix4's .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,i=e.x,a=e.y,r=e.z,n=e.w,o=i+i,s=a+a,l=r+r;e=i*o;var h=i*s,i=i*l,c=a*s,a=a*l,r=r*l,o=n*o,s=n*s,n=n*l;return t[0]=1-(c+r),t[4]=h-n,t[8]=i+s,t[1]=h+n,t[5]=1-(e+r),t[9]=a-o,t[2]=i-s,t[6]=a+o,t[10]=1-(e+c),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(a,r,n){var o=this.elements;return i.subVectors(a,r).normalize(),0===i.length()&&(i.z=1),e.crossVectors(n,i).normalize(),0===e.length()&&(i.x+=1e-4,e.crossVectors(n,i).normalize()),t.crossVectors(i,e),o[0]=e.x,o[4]=t.x,o[8]=i.x,o[1]=e.y,o[5]=t.y,o[9]=i.y,o[2]=e.z,o[6]=t.z,o[10]=i.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var i=e.elements,a=t.elements,r=this.elements,n=i[0],o=i[4],s=i[8],l=i[12],h=i[1],c=i[5],f=i[9],u=i[13],d=i[2],p=i[6],m=i[10],E=i[14],v=i[3],g=i[7],y=i[11],i=i[15],T=a[0],x=a[4],R=a[8],b=a[12],_=a[1],w=a[5],H=a[9],M=a[13],S=a[2],C=a[6],A=a[10],L=a[14],k=a[3],D=a[7],P=a[11],a=a[15];return r[0]=n*T+o*_+s*S+l*k,r[4]=n*x+o*w+s*C+l*D,r[8]=n*R+o*H+s*A+l*P,r[12]=n*b+o*M+s*L+l*a,r[1]=h*T+c*_+f*S+u*k,r[5]=h*x+c*w+f*C+u*D,r[9]=h*R+c*H+f*A+u*P,r[13]=h*b+c*M+f*L+u*a,r[2]=d*T+p*_+m*S+E*k,r[6]=d*x+p*w+m*C+E*D,r[10]=d*R+p*H+m*A+E*P,r[14]=d*b+p*M+m*L+E*a,r[3]=v*T+g*_+y*S+i*k,r[7]=v*x+g*w+y*C+i*D,r[11]=v*R+g*H+y*A+i*P,r[15]=v*b+g*M+y*L+i*a,this},multiplyToArray:function(e,t,i){var a=this.elements;return this.multiplyMatrices(e,t),i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i[4]=a[4],i[5]=a[5],i[6]=a[6],i[7]=a[7],i[8]=a[8],i[9]=a[9],i[10]=a[10],i[11]=a[11],i[12]=a[12],i[13]=a[13],i[14]=a[14],i[15]=a[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new THREE.Vector3;return function(t,i,a){void 0===i&&(i=0),void 0===a&&(a=t.length);for(var r=0;a>r;r+=3,i+=3)e.x=t[i],e.y=t[i+1],e.z=t[i+2],e.applyMatrix4(this),t[i]=e.x,t[i+1]=e.y,t[i+2]=e.z;return t}}(),rotateAxis:function(e){console.warn("DEPRECATED: Matrix4's .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("DEPRECATED: Matrix4's .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],i=e[4],a=e[8],r=e[12],n=e[1],o=e[5],s=e[9],l=e[13],h=e[2],c=e[6],f=e[10],u=e[14];return e[3]*(+r*s*c-a*l*c-r*o*f+i*l*f+a*o*u-i*s*u)+e[7]*(+t*s*u-t*l*f+r*n*f-a*n*u+a*l*h-r*s*h)+e[11]*(+t*l*c-t*o*u-r*n*c+i*n*u+r*o*h-i*l*h)+e[15]*(-a*o*h-t*s*c+t*o*f+a*n*c-i*n*f+i*s*h)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e},getPosition:function(){var e=new THREE.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var i=this.elements,a=e.elements,r=a[0],n=a[4],o=a[8],s=a[12],l=a[1],h=a[5],c=a[9],f=a[13],u=a[2],d=a[6],p=a[10],m=a[14],E=a[3],v=a[7],g=a[11],a=a[15];if(i[0]=c*m*v-f*p*v+f*d*g-h*m*g-c*d*a+h*p*a,i[4]=s*p*v-o*m*v-s*d*g+n*m*g+o*d*a-n*p*a,i[8]=o*f*v-s*c*v+s*h*g-n*f*g-o*h*a+n*c*a,i[12]=s*c*d-o*f*d-s*h*p+n*f*p+o*h*m-n*c*m,i[1]=f*p*E-c*m*E-f*u*g+l*m*g+c*u*a-l*p*a,i[5]=o*m*E-s*p*E+s*u*g-r*m*g-o*u*a+r*p*a,i[9]=s*c*E-o*f*E-s*l*g+r*f*g+o*l*a-r*c*a,i[13]=o*f*u-s*c*u+s*l*p-r*f*p-o*l*m+r*c*m,i[2]=h*m*E-f*d*E+f*u*v-l*m*v-h*u*a+l*d*a,i[6]=s*d*E-n*m*E-s*u*v+r*m*v+n*u*a-r*d*a,i[10]=n*f*E-s*h*E+s*l*v-r*f*v-n*l*a+r*h*a,i[14]=s*h*u-n*f*u-s*l*d+r*f*d+n*l*m-r*h*m,i[3]=c*d*E-h*p*E-c*u*v+l*p*v+h*u*g-l*d*g,i[7]=n*p*E-o*d*E+o*u*v-r*p*v-n*u*g+r*d*g,i[11]=o*h*E-n*c*E-o*l*v+r*c*v+n*l*g-r*h*g,i[15]=n*c*u-o*h*u+o*l*d-r*c*d-n*l*p+r*h*p,i=r*i[0]+l*i[4]+u*i[8]+E*i[12],0==i){if(t)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/i),this},translate:function(){console.warn("DEPRECATED: Matrix4's .translate() has been removed.")},rotateX:function(){console.warn("DEPRECATED: Matrix4's .rotateX() has been removed.")},rotateY:function(){console.warn("DEPRECATED: Matrix4's .rotateY() has been removed.")},rotateZ:function(){console.warn("DEPRECATED: Matrix4's .rotateZ() has been removed.")},rotateByAxis:function(){console.warn("DEPRECATED: Matrix4's .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,i=e.x,a=e.y;return e=e.z,t[0]*=i,t[4]*=a,t[8]*=e,t[1]*=i,t[5]*=a,t[9]*=e,t[2]*=i,t[6]*=a,t[10]*=e,t[3]*=i,t[7]*=a,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],Math.max(e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10])))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),a=Math.sin(t),r=1-i,n=e.x,o=e.y,s=e.z,l=r*n,h=r*o;return this.set(l*n+i,l*o-a*s,l*s+a*o,0,l*o+a*s,h*o+i,h*s-a*n,0,l*s-a*o,h*s+a*n,r*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},compose:function(e,t,i){return this.makeRotationFromQuaternion(t),this.scale(i),this.setPosition(e),this},decompose:function(){var e=new THREE.Vector3,t=new THREE.Matrix4;return function(i,a,r){var n=this.elements,o=e.set(n[0],n[1],n[2]).length(),s=e.set(n[4],n[5],n[6]).length(),l=e.set(n[8],n[9],n[10]).length();0>this.determinant()&&(o=-o),i.x=n[12],i.y=n[13],i.z=n[14],t.elements.set(this.elements),i=1/o;var n=1/s,h=1/l;return t.elements[0]*=i,t.elements[1]*=i,t.elements[2]*=i,t.elements[4]*=n,t.elements[5]*=n,t.elements[6]*=n,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,a.setFromRotationMatrix(t),r.x=o,r.y=s,r.z=l,this}}(),makeFrustum:function(e,t,i,a,r,n){var o=this.elements;return o[0]=2*r/(t-e),o[4]=0,o[8]=(t+e)/(t-e),o[12]=0,o[1]=0,o[5]=2*r/(a-i),o[9]=(a+i)/(a-i),o[13]=0,o[2]=0,o[6]=0,o[10]=-(n+r)/(n-r),o[14]=-2*n*r/(n-r),o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(e,t,i,a){e=i*Math.tan(THREE.Math.degToRad(.5*e));var r=-e;return this.makeFrustum(r*t,e*t,r,e,i,a)},makeOrthographic:function(e,t,i,a,r,n){var o=this.elements,s=t-e,l=i-a,h=n-r;return o[0]=2/s,o[4]=0,o[8]=0,o[12]=-((t+e)/s),o[1]=0,o[5]=2/l,o[9]=0,o[13]=-((i+a)/l),o[2]=0,o[6]=0,o[10]=-2/h,o[14]=-((n+r)/h),o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},clone:function(){var e=this.elements;return new THREE.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])}},THREE.Ray=function(e,t){this.origin=void 0!==e?e:new THREE.Vector3,this.direction=void 0!==t?t:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new THREE.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new THREE.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var i=t||new THREE.Vector3;i.subVectors(e,this.origin);var a=i.dot(this.direction);return 0>a?i.copy(this.origin):i.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return 0>i?this.origin.distanceTo(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceTo(t))}}(),distanceSqToSegment:function(e,t,i,a){var r=e.clone().add(t).multiplyScalar(.5),n=t.clone().sub(e).normalize(),o=.5*e.distanceTo(t),s=this.origin.clone().sub(r);e=-this.direction.dot(n),t=s.dot(this.direction);var l,h,c=-s.dot(n),f=s.lengthSq(),u=Math.abs(1-e*e);return u>=0?(s=e*c-t,l=e*t-c,h=o*u,s>=0?l>=-h?h>=l?(o=1/u,s*=o,l*=o,e=s*(s+e*l+2*t)+l*(e*s+l+2*c)+f):(l=o,s=Math.max(0,-(e*l+t)),e=-s*s+l*(l+2*c)+f):(l=-o,s=Math.max(0,-(e*l+t)),e=-s*s+l*(l+2*c)+f):-h>=l?(s=Math.max(0,-(-e*o+t)),l=s>0?-o:Math.min(Math.max(-o,-c),o),e=-s*s+l*(l+2*c)+f):h>=l?(s=0,l=Math.min(Math.max(-o,-c),o),e=l*(l+2*c)+f):(s=Math.max(0,-(e*o+t)),l=s>0?o:Math.min(Math.max(-o,-c),o),e=-s*s+l*(l+2*c)+f)):(l=e>0?-o:o,s=Math.max(0,-(e*l+t)),e=-s*s+l*(l+2*c)+f),i&&i.copy(this.direction.clone().multiplyScalar(s).add(this.origin)),a&&a.copy(n.clone().multiplyScalar(l).add(r)),e},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t?!0:!1},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0==t?0==e.distanceToPoint(this.origin)?0:null:(e=-(this.origin.dot(e.normal)+e.constant)/t,e>=0?e:null)},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},isIntersectionBox:function(){var e=new THREE.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(e,t){var i,a,r,n,o;a=1/this.direction.x,n=1/this.direction.y,o=1/this.direction.z;var s=this.origin;return a>=0?(i=(e.min.x-s.x)*a,a*=e.max.x-s.x):(i=(e.max.x-s.x)*a,a*=e.min.x-s.x),n>=0?(r=(e.min.y-s.y)*n,n*=e.max.y-s.y):(r=(e.max.y-s.y)*n,n*=e.min.y-s.y),i>n||r>a?null:((r>i||i!==i)&&(i=r),(a>n||a!==a)&&(a=n),o>=0?(r=(e.min.z-s.z)*o,o*=e.max.z-s.z):(r=(e.max.z-s.z)*o,o*=e.min.z-s.z),i>o||r>a?null:((r>i||i!==i)&&(i=r),(a>o||a!==a)&&(a=o),0>a?null:this.at(i>=0?i:a,t)))},intersectTriangle:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3,a=new THREE.Vector3;return function(r,n,o,s,l){if(t.subVectors(n,r),i.subVectors(o,r),a.crossVectors(t,i),n=this.direction.dot(a),n>0){if(s)return null;s=1}else{if(!(0>n))return null;s=-1,n=-n}return e.subVectors(this.origin,r),r=s*this.direction.dot(i.crossVectors(e,i)),0>r?null:(o=s*this.direction.dot(t.cross(e)),0>o||r+o>n?null:(r=-s*e.dot(a),0>r?null:this.at(r/n,l)))}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}},THREE.Sphere=function(e,t){this.center=void 0!==e?e:new THREE.Vector3,this.radius=void 0!==t?t:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new THREE.Box3;return function(t,i){var a=this.center;void 0!==i?a.copy(i):e.setFromPoints(t).center(a);for(var r=0,n=0,o=t.length;o>n;n++)r=Math.max(r,a.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}}(),copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var i=this.center.distanceToSquared(e),a=t||new THREE.Vector3;return a.copy(e),i>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a},getBoundingBox:function(e){return e=e||new THREE.Box3,e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}},THREE.Frustum=function(e,t,i,a,r,n){this.planes=[void 0!==e?e:new THREE.Plane,void 0!==t?t:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==a?a:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==n?n:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(e,t,i,a,r,n){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(a),o[4].copy(r),o[5].copy(n),this},copy:function(e){for(var t=this.planes,i=0;6>i;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements;e=i[0];var a=i[1],r=i[2],n=i[3],o=i[4],s=i[5],l=i[6],h=i[7],c=i[8],f=i[9],u=i[10],d=i[11],p=i[12],m=i[13],E=i[14],i=i[15];return t[0].setComponents(n-e,h-o,d-c,i-p).normalize(),t[1].setComponents(n+e,h+o,d+c,i+p).normalize(),t[2].setComponents(n+a,h+s,d+f,i+m).normalize(),t[3].setComponents(n-a,h-s,d-f,i-m).normalize(),t[4].setComponents(n-r,h-l,d-u,i-E).normalize(),t[5].setComponents(n+r,h+l,d+u,i+E).normalize(),this},intersectsObject:function(){var e=new THREE.Sphere;return function(t){var i=t.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),e.copy(i.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){var t=this.planes,i=e.center;e=-e.radius;for(var a=0;6>a;a++)if(t[a].distanceToPoint(i)<e)return!1;return!0},intersectsBox:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i){for(var a=this.planes,r=0;6>r;r++){var n=a[r];e.x=0<n.normal.x?i.min.x:i.max.x,t.x=0<n.normal.x?i.max.x:i.min.x,e.y=0<n.normal.y?i.min.y:i.max.y,t.y=0<n.normal.y?i.max.y:i.min.y,e.z=0<n.normal.z?i.min.z:i.max.z,t.z=0<n.normal.z?i.max.z:i.min.z;var o=n.distanceToPoint(e),n=n.distanceToPoint(t);if(0>o&&0>n)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,i=0;6>i;i++)if(0>t[i].distanceToPoint(e))return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}},THREE.Plane=function(e,t){this.normal=void 0!==e?e:new THREE.Vector3(1,0,0),this.constant=void 0!==t?t:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i,a,r){return a=e.subVectors(r,a).cross(t.subVectors(i,a)).normalize(),this.setFromNormalAndCoplanarPoint(a,i),this}}(),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var i=this.distanceToPoint(e);return(t||new THREE.Vector3).copy(this.normal).multiplyScalar(i)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>t&&e>0||0>e&&t>0},intersectLine:function(){var e=new THREE.Vector3;return function(t,i){var a=i||new THREE.Vector3,r=t.delta(e),n=this.normal.dot(r);return 0!=n?(n=-(t.start.dot(this.normal)+this.constant)/n,0>n||n>1?void 0:a.copy(r).multiplyScalar(n).add(t.start)):0==this.distanceToPoint(t.start)?a.copy(t.start):void 0}}(),coplanarPoint:function(e){return(e||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Matrix3;return function(a,r){var n=r||i.getNormalMatrix(a),n=e.copy(this.normal).applyMatrix3(n),o=this.coplanarPoint(t);return o.applyMatrix4(a),this.setFromNormalAndCoplanarPoint(n,o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}},THREE.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=Array(36),a=0;return function(){for(var r=0;36>r;r++)8==r||13==r||18==r||23==r?i[r]="-":14==r?i[r]="4":(2>=a&&(a=33554432+16777216*Math.random()|0),e=15&a,a>>=4,i[r]=t[19==r?3&e|8:e]);return i.join("")}}(),clamp:function(e,t,i){return t>e?t:e>i?i:e},clampBottom:function(e,t){return t>e?t:e},mapLinear:function(e,t,i,a,r){return a+(e-t)*(r-a)/(i-t)},smoothstep:function(e,t,i){return t>=e?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))},smootherstep:function(e,t,i){return t>=e?0:e>=i?1:(e=(e-t)/(i-t),e*e*e*(e*(6*e-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},sign:function(e){return 0>e?-1:e>0?1:0},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e}},THREE.Spline=function(e){function t(e,t,i,a,r,n,o){return e=.5*(i-e),a=.5*(a-t),(2*(t-i)+e+a)*o+(-3*(t-i)-2*e-a)*n+e*r+t}this.points=e;var i,a,r,n,o,s,l,h,c,f=[],u={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return i=(this.points.length-1)*e,a=Math.floor(i),r=i-a,f[0]=0===a?a:a-1,f[1]=a,f[2]=a>this.points.length-2?this.points.length-1:a+1,f[3]=a>this.points.length-3?this.points.length-1:a+2,s=this.points[f[0]],l=this.points[f[1]],h=this.points[f[2]],c=this.points[f[3]],n=r*r,o=r*n,u.x=t(s.x,l.x,h.x,c.x,r,n,o),u.y=t(s.y,l.y,h.y,c.y,r,n,o),u.z=t(s.z,l.z,h.z,c.z,r,n,o),u},this.getControlPointsArray=function(){var e,t,i=this.points.length,a=[];for(e=0;i>e;e++)t=this.points[e],a[e]=[t.x,t.y,t.z];return a},this.getLength=function(e){var t,i,a,r=t=t=0,n=new THREE.Vector3,o=new THREE.Vector3,s=[],l=0;for(s[0]=0,e||(e=100),i=this.points.length*e,n.copy(this.points[0]),e=1;i>e;e++)t=e/i,a=this.getPoint(t),o.copy(a),l+=o.distanceTo(n),n.copy(a),t*=this.points.length-1,t=Math.floor(t),t!=r&&(s[t]=l,r=t);return s[s.length]=l,{chunks:s,total:l}},this.reparametrizeByArcLength=function(e){var t,i,a,r,n,o,s=[],l=new THREE.Vector3,h=this.getLength();for(s.push(l.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(i=h.chunks[t]-h.chunks[t-1],o=Math.ceil(e*i/h.total),r=(t-1)/(this.points.length-1),n=t/(this.points.length-1),i=1;o-1>i;i++)a=r+1/o*i*(n-r),a=this.getPoint(a),s.push(l.copy(a).clone());
s.push(l.copy(this.points[t]).clone())}this.points=s}},THREE.Triangle=function(e,t,i){this.a=void 0!==e?e:new THREE.Vector3,this.b=void 0!==t?t:new THREE.Vector3,this.c=void 0!==i?i:new THREE.Vector3},THREE.Triangle.normal=function(){var e=new THREE.Vector3;return function(t,i,a,r){return r=r||new THREE.Vector3,r.subVectors(a,i),e.subVectors(t,i),r.cross(e),t=r.lengthSq(),t>0?r.multiplyScalar(1/Math.sqrt(t)):r.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(a,r,n,o,s){e.subVectors(o,r),t.subVectors(n,r),i.subVectors(a,r),a=e.dot(e),r=e.dot(t),n=e.dot(i);var l=t.dot(t);o=t.dot(i);var h=a*l-r*r;return s=s||new THREE.Vector3,0==h?s.set(-2,-1,-1):(h=1/h,l=(l*n-r*o)*h,a=(a*o-r*n)*h,s.set(1-l-a,a,l))}}(),THREE.Triangle.containsPoint=function(){var e=new THREE.Vector3;return function(t,i,a,r){return t=THREE.Triangle.barycoordFromPoint(t,i,a,r,e),0<=t.x&&0<=t.y&&1>=t.x+t.y}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return THREE.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return THREE.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return THREE.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new THREE.Triangle).copy(this)}},THREE.Vertex=function(e){return console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead."),e},THREE.Clock=function(e){this.autoStart=void 0!==e?e:!0,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.oldTime=this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),e=.001*(t-this.oldTime);this.oldTime=t,this.elapsedTime+=e}return e}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(e){e.addEventListener=THREE.EventDispatcher.prototype.addEventListener,e.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener,e.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)?!0:!1},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners[e];if(void 0!==i){var a=i.indexOf(t);-1!==a&&i.splice(a,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=[],a=t.length,r=0;a>r;r++)i[r]=t[r];for(r=0;a>r;r++)i[r].call(this,e)}}}},function(e){e.Raycaster=function(t,i,a,r){this.ray=new e.Ray(t,i),this.near=a||0,this.far=r||1/0};var t=new e.Sphere,i=new e.Ray;new e.Plane,new e.Vector3;var a=new e.Vector3,r=new e.Matrix4,n=function(e,t){return e.distance-t.distance},o=new e.Vector3,s=new e.Vector3,l=new e.Vector3,h=function(n,c,f){if(n instanceof e.Sprite){a.setFromMatrixPosition(n.matrixWorld);var u=c.ray.distanceToPoint(a);if(u>n.scale.x)return f;f.push({distance:u,point:n.position,face:null,object:n})}else if(n instanceof e.LOD)a.setFromMatrixPosition(n.matrixWorld),u=c.ray.origin.distanceTo(a),h(n.getObjectForDistance(u),c,f);else if(n instanceof e.Mesh){var d=n.geometry;if(null===d.boundingSphere&&d.computeBoundingSphere(),t.copy(d.boundingSphere),t.applyMatrix4(n.matrixWorld),!1===c.ray.isIntersectionSphere(t))return f;if(r.getInverse(n.matrixWorld),i.copy(c.ray).applyMatrix4(r),null!==d.boundingBox&&!1===i.isIntersectionBox(d.boundingBox))return f;if(d instanceof e.BufferGeometry){var p=n.material;if(void 0===p)return f;var m,E,v=d.attributes,g=c.precision;if(void 0!==v.index){var y=v.index.array,T=v.position.array,x=d.offsets;0===x.length&&(x=[{start:0,count:T.length,index:0}]);for(var R=0,b=x.length;b>R;++R)for(var v=x[R].start,_=x[R].index,d=v,w=v+x[R].count;w>d;d+=3){v=_+y[d],m=_+y[d+1],E=_+y[d+2],o.set(T[3*v],T[3*v+1],T[3*v+2]),s.set(T[3*m],T[3*m+1],T[3*m+2]),l.set(T[3*E],T[3*E+1],T[3*E+2]);var H=p.side===e.BackSide?i.intersectTriangle(l,s,o,!0):i.intersectTriangle(o,s,l,p.side!==e.DoubleSide);null!==H&&(H.applyMatrix4(n.matrixWorld),u=c.ray.origin.distanceTo(H),g>u||u<c.near||u>c.far||f.push({distance:u,point:H,indices:[v,m,E],face:null,faceIndex:null,object:n}))}}else for(T=v.position.array,d=0,w=v.position.array.length;w>d;d+=3)v=d,m=d+1,E=d+2,o.set(T[3*v],T[3*v+1],T[3*v+2]),s.set(T[3*m],T[3*m+1],T[3*m+2]),l.set(T[3*E],T[3*E+1],T[3*E+2]),H=p.side===e.BackSide?i.intersectTriangle(l,s,o,!0):i.intersectTriangle(o,s,l,p.side!==e.DoubleSide),null!==H&&(H.applyMatrix4(n.matrixWorld),u=c.ray.origin.distanceTo(H),g>u||u<c.near||u>c.far||f.push({distance:u,point:H,indices:[v,m,E],face:null,faceIndex:null,object:n}))}else if(d instanceof e.Geometry)for(T=n.material instanceof e.MeshFaceMaterial,x=!0===T?n.material.materials:null,g=c.precision,y=d.vertices,R=0,b=d.faces.length;b>R;R++)if(_=d.faces[R],p=!0===T?x[_.materialIndex]:n.material,void 0!==p){if(v=y[_.a],m=y[_.b],E=y[_.c],!0===p.morphTargets){u=d.morphTargets,H=n.morphTargetInfluences,o.set(0,0,0),s.set(0,0,0),l.set(0,0,0);for(var w=0,M=u.length;M>w;w++){var S=H[w];if(0!==S){var C=u[w].vertices;o.x+=(C[_.a].x-v.x)*S,o.y+=(C[_.a].y-v.y)*S,o.z+=(C[_.a].z-v.z)*S,s.x+=(C[_.b].x-m.x)*S,s.y+=(C[_.b].y-m.y)*S,s.z+=(C[_.b].z-m.z)*S,l.x+=(C[_.c].x-E.x)*S,l.y+=(C[_.c].y-E.y)*S,l.z+=(C[_.c].z-E.z)*S}}o.add(v),s.add(m),l.add(E),v=o,m=s,E=l}H=p.side===e.BackSide?i.intersectTriangle(E,m,v,!0):i.intersectTriangle(v,m,E,p.side!==e.DoubleSide),null!==H&&(H.applyMatrix4(n.matrixWorld),u=c.ray.origin.distanceTo(H),g>u||u<c.near||u>c.far||f.push({distance:u,point:H,face:_,faceIndex:R,object:n}))}}else if(n instanceof e.Line){if(g=c.linePrecision,p=g*g,d=n.geometry,null===d.boundingSphere&&d.computeBoundingSphere(),t.copy(d.boundingSphere),t.applyMatrix4(n.matrixWorld),!1===c.ray.isIntersectionSphere(t))return f;if(r.getInverse(n.matrixWorld),i.copy(c.ray).applyMatrix4(r),d instanceof e.Geometry)for(y=d.vertices,g=y.length,v=new e.Vector3,m=new e.Vector3,E=n.type===e.LineStrip?1:2,d=0;g-1>d;d+=E)i.distanceSqToSegment(y[d],y[d+1],m,v)>p||(u=i.origin.distanceTo(m),u<c.near||u>c.far||f.push({distance:u,point:v.clone().applyMatrix4(n.matrixWorld),face:null,faceIndex:null,object:n}))}},c=function(e,t,i){e=e.getDescendants();for(var a=0,r=e.length;r>a;a++)h(e[a],t,i)};e.Raycaster.prototype.precision=1e-4,e.Raycaster.prototype.linePrecision=1,e.Raycaster.prototype.set=function(e,t){this.ray.set(e,t)},e.Raycaster.prototype.intersectObject=function(e,t){var i=[];return!0===t&&c(e,this,i),h(e,this,i),i.sort(n),i},e.Raycaster.prototype.intersectObjects=function(e,t){for(var i=[],a=0,r=e.length;r>a;a++)h(e[a],this,i),!0===t&&c(e[a],this,i);return i.sort(n),i}}(THREE),THREE.Object3D=function(){this.id=THREE.Object3DIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.parent=void 0,this.children=[],this.up=new THREE.Vector3(0,1,0),this.position=new THREE.Vector3;var e=this;Object.defineProperties(this,{rotation:{enumerable:!0,value:(new THREE.Euler).onChange(function(){e.quaternion.setFromEuler(e.rotation,!1)})},quaternion:{enumerable:!0,value:(new THREE.Quaternion).onChange(function(){e.rotation.setFromQuaternion(e.quaternion,void 0,!1)})},scale:{enumerable:!0,value:new THREE.Vector3(1,1,1)}}),this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.userData={}},THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){return console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."),this.rotation.order},set eulerOrder(e){console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."),this.rotation.order=e},get useQuaternion(){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new THREE.Quaternion;return function(t,i){return e.setFromAxisAngle(t,i),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new THREE.Vector3;return function(t,i){return e.copy(t),e.applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(i)),this}}(),translate:function(e,t){return console.warn("DEPRECATED: Object3D's .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed."),this.translateOnAxis(t,e)},translateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new THREE.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new THREE.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(e===this)console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");else if(e instanceof THREE.Object3D){void 0!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof THREE.Scene&&t.__addObject(e)}},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){for(e.parent=void 0,e.dispatchEvent({type:"removed"}),this.children.splice(t,1),t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof THREE.Scene&&t.__removeObject(e)}},traverse:function(e){e(this);for(var t=0,i=this.children.length;i>t;t++)this.children[t].traverse(e)},getObjectById:function(e,t){for(var i=0,a=this.children.length;a>i;i++){var r=this.children[i];if(r.id===e||!0===t&&(r=r.getObjectById(e,t),void 0!==r))return r}},getObjectByName:function(e,t){for(var i=0,a=this.children.length;a>i;i++){var r=this.children[i];if(r.name===e||!0===t&&(r=r.getObjectByName(e,t),void 0!==r))return r}},getChildByName:function(e,t){return console.warn("DEPRECATED: Object3D's .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e,t)},getDescendants:function(e){void 0===e&&(e=[]),Array.prototype.push.apply(e,this.children);for(var t=0,i=this.children.length;i>t;t++)this.children[t].getDescendants(e);return e},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),(!0===this.matrixWorldNeedsUpdate||!0===e)&&(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,i=this.children.length;i>t;t++)this.children[t].updateMatrixWorld(e)},clone:function(e,t){if(void 0===e&&(e=new THREE.Object3D),void 0===t&&(t=!0),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.renderDepth=this.renderDepth,e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled,e.userData=JSON.parse(JSON.stringify(this.userData)),!0===t)for(var i=0;i<this.children.length;i++)e.add(this.children[i].clone());return e}},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount=0,THREE.Projector=function(){function e(){if(l===y){var e=new THREE.RenderableVertex;return g.push(e),y++,l++,e}return g[l++]}function t(){if(c===x){var e=new THREE.RenderableFace;return T.push(e),x++,c++,e}return T[c++]}function i(){if(u===b){var e=new THREE.RenderableLine;return R.push(e),b++,u++,e}return R[u++]}function a(e,t){return e.z!==t.z?t.z-e.z:e.id!==t.id?e.id-t.id:0}function r(e,t){var i=0,a=1,r=e.z+e.w,n=t.z+t.w,o=-e.z+e.w,s=-t.z+t.w;return r>=0&&n>=0&&o>=0&&s>=0?!0:0>r&&0>n||0>o&&0>s?!1:(0>r?i=Math.max(i,r/(r-n)):0>n&&(a=Math.min(a,r/(r-n))),0>o?i=Math.max(i,o/(o-s)):0>s&&(a=Math.min(a,o/(o-s))),i>a?!1:(e.lerp(t,i),t.lerp(e,1-a),!0))}var n,o,s,l,h,c,f,u,d,p,m,E=[],v=0,g=[],y=0,T=[],x=0,R=[],b=0,_=[],w=0,H={objects:[],lights:[],elements:[]},M=new THREE.Vector3,S=new THREE.Vector3,C=new THREE.Vector3,A=new THREE.Vector3,L=new THREE.Vector4,k=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),D=new THREE.Box3,P=Array(3),F=new THREE.Matrix4,z=new THREE.Matrix4,N=new THREE.Matrix4,U=new THREE.Matrix3,B=new THREE.Frustum,V=new THREE.Vector4,O=new THREE.Vector4;this.projectVector=function(e,t){return t.matrixWorldInverse.getInverse(t.matrixWorld),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),e.applyProjection(z)},this.unprojectVector=function(){var e=new THREE.Matrix4;return function(t,i){return e.getInverse(i.projectionMatrix),z.multiplyMatrices(i.matrixWorld,e),t.applyProjection(z)}}(),this.pickingRay=function(e,t){e.z=-1;var i=new THREE.Vector3(e.x,e.y,1);return this.unprojectVector(e,t),this.unprojectVector(i,t),i.sub(e).normalize(),new THREE.Raycaster(e,i)};var j=function(e){if(!1!==e.visible){if(e instanceof THREE.Light)H.lights.push(e);else if((e instanceof THREE.Mesh||e instanceof THREE.Line||e instanceof THREE.Sprite)&&(!1===e.frustumCulled||!0===B.intersectsObject(e))){if(o===v){var t=new THREE.RenderableObject;E.push(t),v++,o++,n=t}else n=E[o++];n.id=e.id,n.object=e,null!==e.renderDepth?n.z=e.renderDepth:(A.setFromMatrixPosition(e.matrixWorld),A.applyProjection(z),n.z=A.z),H.objects.push(n)}for(var t=0,i=e.children.length;i>t;t++)j(e.children[t])}},I=new function(){var a=[],r=[],n=null,o=null,l=new THREE.Matrix3,c=function(e){var t=e.positionWorld,i=e.positionScreen;t.copy(e.position).applyMatrix4(m),i.copy(t).applyMatrix4(z),t=1/i.w,i.x*=t,i.y*=t,i.z*=t,e.visible=-1<=i.x&&1>=i.x&&-1<=i.y&&1>=i.y&&-1<=i.z&&1>=i.z},u=function(e,t,i){return!0===e.visible||!0===t.visible||!0===i.visible?!0:(P[0]=e.positionScreen,P[1]=t.positionScreen,P[2]=i.positionScreen,k.isIntersectionBox(D.setFromPoints(P)))},d=function(e,t,i){return 0>(i.positionScreen.x-e.positionScreen.x)*(t.positionScreen.y-e.positionScreen.y)-(i.positionScreen.y-e.positionScreen.y)*(t.positionScreen.x-e.positionScreen.x)};return{setObject:function(e){n=e,o=n.material,l.getNormalMatrix(n.matrixWorld),a.length=0,r.length=0},projectVertex:c,checkTriangleVisibility:u,checkBackfaceCulling:d,pushVertex:function(t,i,a){s=e(),s.position.set(t,i,a),c(s)},pushNormal:function(e,t,i){a.push(e,t,i)},pushUv:function(e,t){r.push(e,t)},pushLine:function(e,t){var a=g[e],r=g[t];f=i(),f.id=n.id,f.v1.copy(a),f.v2.copy(r),f.z=(a.positionScreen.z+r.positionScreen.z)/2,f.material=n.material,H.elements.push(f)},pushTriangle:function(e,i,s){var c=g[e],f=g[i],p=g[s];if(!1!==u(c,f,p)&&(o.side===THREE.DoubleSide||!0===d(c,f,p))){for(h=t(),h.id=n.id,h.v1.copy(c),h.v2.copy(f),h.v3.copy(p),h.z=(c.positionScreen.z+f.positionScreen.z+p.positionScreen.z)/3,c=0;3>c;c++)f=3*arguments[c],p=h.vertexNormalsModel[c],p.set(a[f],a[f+1],a[f+2]),p.applyMatrix3(l).normalize(),f=2*arguments[c],h.uvs[c].set(r[f],r[f+1]);h.vertexNormalsLength=3,h.material=n.material,H.elements.push(h)}}}};this.projectScene=function(n,s,E,v){var y,T,x,R,b,A,k,D;for(p=u=c=0,H.elements.length=0,!0===n.autoUpdate&&n.updateMatrixWorld(),void 0===s.parent&&s.updateMatrixWorld(),F.copy(s.matrixWorldInverse.getInverse(s.matrixWorld)),z.multiplyMatrices(s.projectionMatrix,F),B.setFromMatrix(z),o=0,H.objects.length=0,H.lights.length=0,j(n),!0===E&&H.objects.sort(a),n=0,E=H.objects.length;E>n;n++)if(y=H.objects[n].object,T=y.geometry,I.setObject(y),m=y.matrixWorld,l=0,y instanceof THREE.Mesh){if(T instanceof THREE.BufferGeometry){if(A=T.attributes,y=T.offsets,void 0!==A.position){for(k=A.position.array,T=0,R=k.length;R>T;T+=3)I.pushVertex(k[T],k[T+1],k[T+2]);if(void 0!==A.normal)for(D=A.normal.array,T=0,R=D.length;R>T;T+=3)I.pushNormal(D[T],D[T+1],D[T+2]);if(void 0!==A.uv)for(D=A.uv.array,T=0,R=D.length;R>T;T+=2)I.pushUv(D[T],D[T+1]);if(void 0!==A.index)if(A=A.index.array,0<y.length)for(n=0;n<y.length;n++)for(R=y[n],k=R.index,T=R.start,R=R.start+R.count;R>T;T+=3)I.pushTriangle(A[T]+k,A[T+1]+k,A[T+2]+k);else for(T=0,R=A.length;R>T;T+=3)I.pushTriangle(A[T],A[T+1],A[T+2]);else for(T=0,R=k.length/3;R>T;T+=3)I.pushTriangle(T,T+1,T+2)}}else if(T instanceof THREE.Geometry){x=T.vertices,R=T.faces,A=T.faceVertexUvs[0],U.getNormalMatrix(m),k=y.material instanceof THREE.MeshFaceMaterial,D=!0===k?y.material:null;for(var P=0,G=x.length;G>P;P++){var W=x[P];I.pushVertex(W.x,W.y,W.z)}for(P=0,G=R.length;G>P;P++){x=R[P];var X=!0===k?D.materials[x.materialIndex]:y.material;if(void 0!==X){var q=X.side,W=g[x.a],Y=g[x.b],K=g[x.c];if(!0===X.morphTargets){b=T.morphTargets;var Z=y.morphTargetInfluences,Q=W.position,$=Y.position,J=K.position;M.set(0,0,0),S.set(0,0,0),C.set(0,0,0);for(var et=0,tt=b.length;tt>et;et++){var it=Z[et];if(0!==it){var at=b[et].vertices;M.x+=(at[x.a].x-Q.x)*it,M.y+=(at[x.a].y-Q.y)*it,M.z+=(at[x.a].z-Q.z)*it,S.x+=(at[x.b].x-$.x)*it,S.y+=(at[x.b].y-$.y)*it,S.z+=(at[x.b].z-$.z)*it,C.x+=(at[x.c].x-J.x)*it,C.y+=(at[x.c].y-J.y)*it,C.z+=(at[x.c].z-J.z)*it}}W.position.add(M),Y.position.add(S),K.position.add(C),I.projectVertex(W),I.projectVertex(Y),I.projectVertex(K)}if(!1!==I.checkTriangleVisibility(W,Y,K)){if(Z=I.checkBackfaceCulling(W,Y,K),q!==THREE.DoubleSide){if(q===THREE.FrontSide&&!1===Z)continue;if(q===THREE.BackSide&&!0===Z)continue}for(h=t(),h.id=y.id,h.v1.copy(W),h.v2.copy(Y),h.v3.copy(K),h.normalModel.copy(x.normal),!1!==Z||q!==THREE.BackSide&&q!==THREE.DoubleSide||h.normalModel.negate(),h.normalModel.applyMatrix3(U).normalize(),b=x.vertexNormals,Q=0,$=Math.min(b.length,3);$>Q;Q++)J=h.vertexNormalsModel[Q],J.copy(b[Q]),!1!==Z||q!==THREE.BackSide&&q!==THREE.DoubleSide||J.negate(),J.applyMatrix3(U).normalize();if(h.vertexNormalsLength=b.length,q=A[P],void 0!==q)for(b=0;3>b;b++)h.uvs[b].copy(q[b]);h.color=x.color,h.material=X,h.z=(W.positionScreen.z+Y.positionScreen.z+K.positionScreen.z)/3,H.elements.push(h)}}}}}else if(y instanceof THREE.Line){if(T instanceof THREE.BufferGeometry){if(A=T.attributes,void 0!==A.position){for(k=A.position.array,T=0,R=k.length;R>T;T+=3)I.pushVertex(k[T],k[T+1],k[T+2]);if(void 0!==A.index)for(A=A.index.array,T=0,R=A.length;R>T;T+=2)I.pushLine(A[T],A[T+1]);else for(T=0,R=k.length/3-1;R>T;T++)I.pushLine(T,T+1)}}else if(T instanceof THREE.Geometry&&(N.multiplyMatrices(z,m),x=y.geometry.vertices,0!==x.length))for(W=e(),W.positionScreen.copy(x[0]).applyMatrix4(N),T=y.type===THREE.LinePieces?2:1,P=1,G=x.length;G>P;P++)W=e(),W.positionScreen.copy(x[P]).applyMatrix4(N),(P+1)%T>0||(Y=g[l-2],V.copy(W.positionScreen),O.copy(Y.positionScreen),!0===r(V,O)&&(V.multiplyScalar(1/V.w),O.multiplyScalar(1/O.w),f=i(),f.id=y.id,f.v1.positionScreen.copy(V),f.v2.positionScreen.copy(O),f.z=Math.max(V.z,O.z),f.material=y.material,y.material.vertexColors===THREE.VertexColors&&(f.vertexColors[0].copy(y.geometry.colors[P]),f.vertexColors[1].copy(y.geometry.colors[P-1])),H.elements.push(f)))}else y instanceof THREE.Sprite&&(L.set(m.elements[12],m.elements[13],m.elements[14],1),L.applyMatrix4(z),T=1/L.w,L.z*=T,-1<=L.z&&1>=L.z&&(p===w?(R=new THREE.RenderableSprite,_.push(R),w++,p++,d=R):d=_[p++],d.id=y.id,d.x=L.x*T,d.y=L.y*T,d.z=L.z,d.object=y,d.rotation=y.rotation,d.scale.x=y.scale.x*Math.abs(d.x-(L.x+s.projectionMatrix.elements[0])/(L.w+s.projectionMatrix.elements[12])),d.scale.y=y.scale.y*Math.abs(d.y-(L.y+s.projectionMatrix.elements[5])/(L.w+s.projectionMatrix.elements[13])),d.material=y.material,H.elements.push(d)));return!0===v&&H.elements.sort(a),H}},THREE.Face3=function(e,t,i,a,r,n){this.a=e,this.b=t,this.c=i,this.normal=a instanceof THREE.Vector3?a:new THREE.Vector3,this.vertexNormals=a instanceof Array?a:[],this.color=r instanceof THREE.Color?r:new THREE.Color,this.vertexColors=r instanceof Array?r:[],this.vertexTangents=[],this.materialIndex=void 0!==n?n:0},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var e=new THREE.Face3(this.a,this.b,this.c);e.normal.copy(this.normal),e.color.copy(this.color),e.materialIndex=this.materialIndex;var t,i;for(t=0,i=this.vertexNormals.length;i>t;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();for(t=0,i=this.vertexColors.length;i>t;t++)e.vertexColors[t]=this.vertexColors[t].clone();for(t=0,i=this.vertexTangents.length;i>t;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}},THREE.Face4=function(e,t,i,a,r,n,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new THREE.Face3(e,t,i,r,n,o)},THREE.BufferAttribute=function(){},THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return this.array.length},set:function(e){this.array.set(e)},setX:function(e,t){this.array[e*this.itemSize]=t},setY:function(e,t){this.array[e*this.itemSize+1]=t},setZ:function(e,t){this.array[e*this.itemSize+2]=t},setXY:function(e,t,i){e*=this.itemSize,this.array[e]=t,this.array[e+1]=i},setXYZ:function(e,t,i,a){e*=this.itemSize,this.array[e]=t,this.array[e+1]=i,this.array[e+2]=a},setXYZW:function(e,t,i,a,r){e*=this.itemSize,this.array[e]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r}},THREE.Int8Attribute=function(e,t){this.array=new Int8Array(e*t),this.itemSize=t},THREE.Int8Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Uint8Attribute=function(e,t){this.array=new Uint8Array(e*t),this.itemSize=t},THREE.Uint8Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Uint8ClampedAttribute=function(e,t){this.array=new Uint8ClampedArray(e*t),this.itemSize=t},THREE.Uint8ClampedAttribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Int16Attribute=function(e,t){this.array=new Int16Array(e*t),this.itemSize=t},THREE.Int16Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Uint16Attribute=function(e,t){this.array=new Uint16Array(e*t),this.itemSize=t},THREE.Uint16Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Int32Attribute=function(e,t){this.array=new Int32Array(e*t),this.itemSize=t},THREE.Int32Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Uint32Attribute=function(e,t){this.array=new Uint32Array(e*t),this.itemSize=t},THREE.Uint32Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Float32Attribute=function(e,t){this.array=new Float32Array(e*t),this.itemSize=t},THREE.Float32Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.Float64Attribute=function(e,t){this.array=new Float64Array(e*t),this.itemSize=t},THREE.Float64Attribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.BufferGeometry=function(){this.id=THREE.GeometryIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.attributes={},this.offsets=this.drawcalls=[],this.boundingSphere=this.boundingBox=null},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(e,t,i){!1==t instanceof THREE.BufferAttribute?(console.warn("DEPRECATED: BufferGeometry's addAttribute() now expects ( name, attribute )."),this.attributes[e]={array:t,itemSize:i}):this.attributes[e]=t},getAttribute:function(e){return this.attributes[e]},addDrawCall:function(e,t,i){this.drawcalls.push({start:e,count:t,index:void 0!==i?i:0})},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0),t=this.attributes.normal,void 0!==t&&((new THREE.Matrix3).getNormalMatrix(e).applyToVector3Array(t.array),t.needsUpdate=!0)},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.attributes.position.array;if(e){var t=this.boundingBox;3<=e.length&&(t.min.x=t.max.x=e[0],t.min.y=t.max.y=e[1],t.min.z=t.max.z=e[2]);for(var i=3,a=e.length;a>i;i+=3){var r=e[i],n=e[i+1],o=e[i+2];r<t.min.x?t.min.x=r:r>t.max.x&&(t.max.x=r),n<t.min.y?t.min.y=n:n>t.max.y&&(t.max.y=n),o<t.min.z?t.min.z=o:o>t.max.z&&(t.max.z=o)}}(void 0===e||0===e.length)&&(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0))},computeBoundingSphere:function(){var e=new THREE.Box3,t=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var i=this.attributes.position.array;if(i){e.makeEmpty();for(var a=this.boundingSphere.center,r=0,n=i.length;n>r;r+=3)t.set(i[r],i[r+1],i[r+2]),e.addPoint(t);e.center(a);for(var o=0,r=0,n=i.length;n>r;r+=3)t.set(i[r],i[r+1],i[r+2]),o=Math.max(o,a.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){if(this.attributes.position){var e,t,i,a;if(e=this.attributes.position.array.length,void 0===this.attributes.normal)this.attributes.normal={itemSize:3,array:new Float32Array(e)};else for(e=0,t=this.attributes.normal.array.length;t>e;e++)this.attributes.normal.array[e]=0;var r,n,o,s,l,h,c=this.attributes.position.array,f=this.attributes.normal.array,u=new THREE.Vector3,d=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector3,E=new THREE.Vector3;if(this.attributes.index){var v=this.attributes.index.array,g=0<this.offsets.length?this.offsets:[{start:0,count:v.length,index:0}];for(i=0,a=g.length;a>i;++i){t=g[i].start,r=g[i].count;var y=g[i].index;for(e=t,t+=r;t>e;e+=3)r=y+v[e],n=y+v[e+1],o=y+v[e+2],s=c[3*r],l=c[3*r+1],h=c[3*r+2],u.set(s,l,h),s=c[3*n],l=c[3*n+1],h=c[3*n+2],d.set(s,l,h),s=c[3*o],l=c[3*o+1],h=c[3*o+2],p.set(s,l,h),m.subVectors(p,d),E.subVectors(u,d),m.cross(E),f[3*r]+=m.x,f[3*r+1]+=m.y,f[3*r+2]+=m.z,f[3*n]+=m.x,f[3*n+1]+=m.y,f[3*n+2]+=m.z,f[3*o]+=m.x,f[3*o+1]+=m.y,f[3*o+2]+=m.z}}else for(e=0,t=c.length;t>e;e+=9)s=c[e],l=c[e+1],h=c[e+2],u.set(s,l,h),s=c[e+3],l=c[e+4],h=c[e+5],d.set(s,l,h),s=c[e+6],l=c[e+7],h=c[e+8],p.set(s,l,h),m.subVectors(p,d),E.subVectors(u,d),m.cross(E),f[e]=m.x,f[e+1]=m.y,f[e+2]=m.z,f[e+3]=m.x,f[e+4]=m.y,f[e+5]=m.z,f[e+6]=m.x,f[e+7]=m.y,f[e+8]=m.z;this.normalizeNormals(),this.normalsNeedUpdate=!0}},computeTangents:function(){function e(e,t,i){f=a[3*e],u=a[3*e+1],d=a[3*e+2],p=a[3*t],m=a[3*t+1],E=a[3*t+2],v=a[3*i],g=a[3*i+1],y=a[3*i+2],T=n[2*e],x=n[2*e+1],R=n[2*t],b=n[2*t+1],_=n[2*i],w=n[2*i+1],H=p-f,M=v-f,S=m-u,C=g-u,A=E-d,L=y-d,k=R-T,D=_-T,P=b-x,F=w-x,z=1/(k*F-D*P),j.set((F*H-P*M)*z,(F*S-P*C)*z,(F*A-P*L)*z),I.set((k*M-D*H)*z,(k*C-D*S)*z,(k*L-D*A)*z),l[e].add(j),l[t].add(j),l[i].add(j),h[e].add(I),h[t].add(I),h[i].add(I)}function t(e){Q.x=r[3*e],Q.y=r[3*e+1],Q.z=r[3*e+2],$.copy(Q),q=l[e],K.copy(q),K.sub(Q.multiplyScalar(Q.dot(q))).normalize(),Z.crossVectors($,q),Y=Z.dot(h[e]),X=0>Y?-1:1,s[4*e]=K.x,s[4*e+1]=K.y,s[4*e+2]=K.z,s[4*e+3]=X}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");else{var i=this.attributes.index.array,a=this.attributes.position.array,r=this.attributes.normal.array,n=this.attributes.uv.array,o=a.length/3;void 0===this.attributes.tangent&&(this.attributes.tangent={itemSize:4,array:new Float32Array(4*o)});for(var s=this.attributes.tangent.array,l=[],h=[],c=0;o>c;c++)l[c]=new THREE.Vector3,h[c]=new THREE.Vector3;var f,u,d,p,m,E,v,g,y,T,x,R,b,_,w,H,M,S,C,A,L,k,D,P,F,z,N,U,B,V,O,j=new THREE.Vector3,I=new THREE.Vector3,G=this.offsets,c=0;for(U=G.length;U>c;++c){N=G[c].start,B=G[c].count;var W=G[c].index,o=N;for(N+=B;N>o;o+=3)B=W+i[o],V=W+i[o+1],O=W+i[o+2],e(B,V,O)}var X,q,Y,K=new THREE.Vector3,Z=new THREE.Vector3,Q=new THREE.Vector3,$=new THREE.Vector3,c=0;for(U=G.length;U>c;++c)for(N=G[c].start,B=G[c].count,W=G[c].index,o=N,N+=B;N>o;o+=3)B=W+i[o],V=W+i[o+1],O=W+i[o+2],t(B),t(V),t(O)}},computeOffsets:function(e){var t=e;void 0===e&&(t=65535),Date.now(),e=this.attributes.index.array;for(var i=this.attributes.position.array,a=e.length/3,r=new Uint16Array(e.length),n=0,o=0,s=[{start:0,count:0,index:0}],l=s[0],h=0,c=0,f=new Int32Array(6),u=new Int32Array(i.length),d=new Int32Array(i.length),p=0;p<i.length;p++)u[p]=-1,d[p]=-1;for(i=0;a>i;i++){for(var m=c=0;3>m;m++)p=e[3*i+m],-1==u[p]?(f[2*m]=p,f[2*m+1]=-1,c++):u[p]<l.index?(f[2*m]=p,f[2*m+1]=-1,h++):(f[2*m]=p,f[2*m+1]=u[p]);if(o+c>l.index+t)for(l={start:n,count:0,index:o},s.push(l),c=0;6>c;c+=2)m=f[c+1],m>-1&&m<l.index&&(f[c+1]=-1);for(c=0;6>c;c+=2)p=f[c],m=f[c+1],-1===m&&(m=o++),u[p]=m,d[m]=p,r[n++]=m-l.index,l.count++}return this.reorderBuffers(r,d,o),this.offsets=s},merge:function(){console.log("BufferGeometry.merge(): TODO")},normalizeNormals:function(){for(var e,t,i,a=this.attributes.normal.array,r=0,n=a.length;n>r;r+=3)e=a[r],t=a[r+1],i=a[r+2],e=1/Math.sqrt(e*e+t*t+i*i),a[r]*=e,a[r+1]*=e,a[r+2]*=e},reorderBuffers:function(e,t,i){var a,r={},n=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];for(a in this.attributes)if("index"!=a)for(var o=this.attributes[a].array,s=0,l=n.length;l>s;s++){var h=n[s];if(o instanceof h){r[a]=new h(this.attributes[a].itemSize*i);break}}for(n=0;i>n;n++)for(a in o=t[n],this.attributes)if("index"!=a)for(var s=this.attributes[a].array,l=this.attributes[a].itemSize,h=r[a],c=0;l>c;c++)h[n*l+c]=s[o*l+c];this.attributes.index.array=e;for(a in this.attributes)"index"!=a&&(this.attributes[a].array=r[a],this.attributes[a].numItems=this.attributes[a].itemSize*i)},clone:function(){var e,t=new THREE.BufferGeometry,i=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];
for(e in this.attributes){for(var a=this.attributes[e],r=a.array,n={itemSize:a.itemSize,array:null},a=0,o=i.length;o>a;a++){var s=i[a];if(r instanceof s){n.array=new s(r);break}}t.attributes[e]=n}for(a=0,o=this.offsets.length;o>a;a++)i=this.offsets[a],t.offsets.push({start:i.start,index:i.index,count:i.count});return t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.Geometry=function(){this.id=THREE.GeometryIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.hasTangents=!1,this.dynamic=!0,this.buffersNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.tangentsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(e){for(var t=(new THREE.Matrix3).getNormalMatrix(e),i=0,a=this.vertices.length;a>i;i++)this.vertices[i].applyMatrix4(e);for(i=0,a=this.faces.length;a>i;i++){e=this.faces[i],e.normal.applyMatrix3(t).normalize();for(var r=0,n=e.vertexNormals.length;n>r;r++)e.vertexNormals[r].applyMatrix3(t).normalize()}this.boundingBox instanceof THREE.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof THREE.Sphere&&this.computeBoundingSphere()},computeFaceNormals:function(){for(var e=new THREE.Vector3,t=new THREE.Vector3,i=0,a=this.faces.length;a>i;i++){var r=this.faces[i],n=this.vertices[r.a],o=this.vertices[r.b];e.subVectors(this.vertices[r.c],o),t.subVectors(n,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,i,a;for(a=Array(this.vertices.length),t=0,i=this.vertices.length;i>t;t++)a[t]=new THREE.Vector3;if(e){var r,n,o,s=new THREE.Vector3,l=new THREE.Vector3;for(new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,e=0,t=this.faces.length;t>e;e++)i=this.faces[e],r=this.vertices[i.a],n=this.vertices[i.b],o=this.vertices[i.c],s.subVectors(o,n),l.subVectors(r,n),s.cross(l),a[i.a].add(s),a[i.b].add(s),a[i.c].add(s)}else for(e=0,t=this.faces.length;t>e;e++)i=this.faces[e],a[i.a].add(i.normal),a[i.b].add(i.normal),a[i.c].add(i.normal);for(t=0,i=this.vertices.length;i>t;t++)a[t].normalize();for(e=0,t=this.faces.length;t>e;e++)i=this.faces[e],i.vertexNormals[0]=a[i.a].clone(),i.vertexNormals[1]=a[i.b].clone(),i.vertexNormals[2]=a[i.c].clone()},computeMorphNormals:function(){var e,t,i,a,r;for(i=0,a=this.faces.length;a>i;i++)for(r=this.faces[i],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;t>e;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var n=new THREE.Geometry;for(n.faces=this.faces,e=0,t=this.morphTargets.length;t>e;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[],r=this.morphNormals[e].faceNormals;var o,s,l=this.morphNormals[e].vertexNormals;for(i=0,a=this.faces.length;a>i;i++)o=new THREE.Vector3,s={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},r.push(o),l.push(s)}for(l=this.morphNormals[e],n.vertices=this.morphTargets[e].vertices,n.computeFaceNormals(),n.computeVertexNormals(),i=0,a=this.faces.length;a>i;i++)r=this.faces[i],o=l.faceNormals[i],s=l.vertexNormals[i],o.copy(r.normal),s.a.copy(r.vertexNormals[0]),s.b.copy(r.vertexNormals[1]),s.c.copy(r.vertexNormals[2])}for(i=0,a=this.faces.length;a>i;i++)r=this.faces[i],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeTangents:function(){var e,t,i,a,r,n,o,s,l,h,c,f,u,d,p,m,E,v=[],g=[];i=new THREE.Vector3;var y=new THREE.Vector3,T=new THREE.Vector3,x=new THREE.Vector3,R=new THREE.Vector3;for(e=0,t=this.vertices.length;t>e;e++)v[e]=new THREE.Vector3,g[e]=new THREE.Vector3;for(e=0,t=this.faces.length;t>e;e++)r=this.faces[e],n=this.faceVertexUvs[0][e],a=r.a,E=r.b,r=r.c,o=this.vertices[a],s=this.vertices[E],l=this.vertices[r],h=n[0],c=n[1],f=n[2],n=s.x-o.x,u=l.x-o.x,d=s.y-o.y,p=l.y-o.y,s=s.z-o.z,o=l.z-o.z,l=c.x-h.x,m=f.x-h.x,c=c.y-h.y,h=f.y-h.y,f=1/(l*h-m*c),i.set((h*n-c*u)*f,(h*d-c*p)*f,(h*s-c*o)*f),y.set((l*u-m*n)*f,(l*p-m*d)*f,(l*o-m*s)*f),v[a].add(i),v[E].add(i),v[r].add(i),g[a].add(y),g[E].add(y),g[r].add(y);for(y=["a","b","c","d"],e=0,t=this.faces.length;t>e;e++)for(r=this.faces[e],i=0;i<Math.min(r.vertexNormals.length,3);i++)R.copy(r.vertexNormals[i]),a=r[y[i]],E=v[a],T.copy(E),T.sub(R.multiplyScalar(R.dot(E))).normalize(),x.crossVectors(r.vertexNormals[i],E),a=x.dot(g[a]),a=0>a?-1:1,r.vertexTangents[i]=new THREE.Vector4(T.x,T.y,T.z,a);this.hasTangents=!0},computeLineDistances:function(){for(var e=0,t=this.vertices,i=0,a=t.length;a>i;i++)i>0&&(e+=t[i].distanceTo(t[i-1])),this.lineDistances[i]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(!1==e instanceof THREE.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);else{var a,r=this.vertices.length,n=this.vertices,o=e.vertices,s=this.faces,l=e.faces,h=this.faceVertexUvs[0];e=e.faceVertexUvs[0],void 0===i&&(i=0),void 0!==t&&(a=(new THREE.Matrix3).getNormalMatrix(t));for(var c=0,f=o.length;f>c;c++){var u=o[c].clone();void 0!==t&&u.applyMatrix4(t),n.push(u)}for(c=0,f=l.length;f>c;c++){var d,o=l[c],p=o.vertexNormals,m=o.vertexColors,u=new THREE.Face3(o.a+r,o.b+r,o.c+r);for(u.normal.copy(o.normal),void 0!==a&&u.normal.applyMatrix3(a).normalize(),t=0,n=p.length;n>t;t++)d=p[t].clone(),void 0!==a&&d.applyMatrix3(a).normalize(),u.vertexNormals.push(d);for(u.color.copy(o.color),t=0,n=m.length;n>t;t++)d=m[t],u.vertexColors.push(d.clone());u.materialIndex=o.materialIndex+i,s.push(u)}for(c=0,f=e.length;f>c;c++)if(i=e[c],a=[],void 0!==i){for(t=0,n=i.length;n>t;t++)a.push(new THREE.Vector2(i[t].x,i[t].y));h.push(a)}}},mergeVertices:function(){var e,t,i,a={},r=[],n=[],o=Math.pow(10,4);for(t=0,i=this.vertices.length;i>t;t++)e=this.vertices[t],e=Math.round(e.x*o)+"_"+Math.round(e.y*o)+"_"+Math.round(e.z*o),void 0===a[e]?(a[e]=t,r.push(this.vertices[t]),n[t]=r.length-1):n[t]=n[a[e]];for(a=[],t=0,i=this.faces.length;i>t;t++)for(o=this.faces[t],o.a=n[o.a],o.b=n[o.b],o.c=n[o.c],o=[o.a,o.b,o.c],e=0;3>e;e++)if(o[e]==o[(e+1)%3]){a.push(t);break}for(t=a.length-1;t>=0;t--)for(o=a[t],this.faces.splice(o,1),n=0,i=this.faceVertexUvs.length;i>n;n++)this.faceVertexUvs[n].splice(o,1);return t=this.vertices.length-r.length,this.vertices=r,t},makeGroups:function(){var e=0;return function(t,i){var a,r,n,o,s={},l=this.morphTargets.length,h=this.morphNormals.length;for(this.geometryGroups={},a=0,r=this.faces.length;r>a;a++)n=this.faces[a],n=t?n.materialIndex:0,n in s||(s[n]={hash:n,counter:0}),o=s[n].hash+"_"+s[n].counter,o in this.geometryGroups||(this.geometryGroups[o]={faces3:[],materialIndex:n,vertices:0,numMorphTargets:l,numMorphNormals:h}),this.geometryGroups[o].vertices+3>i&&(s[n].counter+=1,o=s[n].hash+"_"+s[n].counter,o in this.geometryGroups||(this.geometryGroups[o]={faces3:[],materialIndex:n,vertices:0,numMorphTargets:l,numMorphNormals:h})),this.geometryGroups[o].faces3.push(a),this.geometryGroups[o].vertices+=3;this.geometryGroupsList=[];for(var c in this.geometryGroups)this.geometryGroups[c].id=e++,this.geometryGroupsList.push(this.geometryGroups[c])}}(),clone:function(){for(var e=new THREE.Geometry,t=this.vertices,i=0,a=t.length;a>i;i++)e.vertices.push(t[i].clone());for(t=this.faces,i=0,a=t.length;a>i;i++)e.faces.push(t[i].clone());for(t=this.faceVertexUvs[0],i=0,a=t.length;a>i;i++){for(var r=t[i],n=[],o=0,s=r.length;s>o;o++)n.push(new THREE.Vector2(r[o].x,r[o].y));e.faceVertexUvs[0].push(n)}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount=0,THREE.Camera=function(){THREE.Object3D.call(this),this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.lookAt=function(){var e=new THREE.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),THREE.Camera.prototype.clone=function(e){return void 0===e&&(e=new THREE.Camera),THREE.Object3D.prototype.clone.call(this,e),e.matrixWorldInverse.copy(this.matrixWorldInverse),e.projectionMatrix.copy(this.projectionMatrix),e},THREE.OrthographicCamera=function(e,t,i,a,r,n){THREE.Camera.call(this),this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)},THREE.OrthographicCamera.prototype.clone=function(){var e=new THREE.OrthographicCamera;return THREE.Camera.prototype.clone.call(this,e),e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e},THREE.PerspectiveCamera=function(e,t,i,a){THREE.Camera.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*THREE.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(e,t,i,a,r,n){this.fullWidth=e,this.fullHeight=t,this.x=i,this.y=a,this.width=r,this.height=n,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var e=this.fullWidth/this.fullHeight,t=Math.tan(THREE.Math.degToRad(.5*this.fov))*this.near,i=-t,a=e*i,e=Math.abs(e*t-a),i=Math.abs(t-i);this.projectionMatrix.makeFrustum(a+this.x*e/this.fullWidth,a+(this.x+this.width)*e/this.fullWidth,t-(this.y+this.height)*i/this.fullHeight,t-this.y*i/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)},THREE.PerspectiveCamera.prototype.clone=function(){var e=new THREE.PerspectiveCamera;return THREE.Camera.prototype.clone.call(this,e),e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e},THREE.Light=function(e){THREE.Object3D.call(this),this.color=new THREE.Color(e)},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.clone=function(e){return void 0===e&&(e=new THREE.Light),THREE.Object3D.prototype.clone.call(this,e),e.color.copy(this.color),e},THREE.AmbientLight=function(e){THREE.Light.call(this,e)},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.clone=function(){var e=new THREE.AmbientLight;return THREE.Light.prototype.clone.call(this,e),e},THREE.AreaLight=function(e,t){THREE.Light.call(this,e),this.normal=new THREE.Vector3(0,-1,0),this.right=new THREE.Vector3(1,0,0),this.intensity=void 0!==t?t:1,this.height=this.width=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},THREE.AreaLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight=function(e,t){THREE.Light.call(this,e),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.onlyShadow=this.castShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraTop=this.shadowCameraRight=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapHeight=this.shadowMapWidth=512,this.shadowCascade=!1,this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.clone=function(){var e=new THREE.DirectionalLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraLeft=this.shadowCameraLeft,e.shadowCameraRight=this.shadowCameraRight,e.shadowCameraTop=this.shadowCameraTop,e.shadowCameraBottom=this.shadowCameraBottom,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e.shadowCascade=this.shadowCascade,e.shadowCascadeOffset.copy(this.shadowCascadeOffset),e.shadowCascadeCount=this.shadowCascadeCount,e.shadowCascadeBias=this.shadowCascadeBias.slice(0),e.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),e.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),e.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),e.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),e},THREE.HemisphereLight=function(e,t,i){THREE.Light.call(this,e),this.position.set(0,100,0),this.groundColor=new THREE.Color(t),this.intensity=void 0!==i?i:1},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.clone=function(){var e=new THREE.HemisphereLight;return THREE.Light.prototype.clone.call(this,e),e.groundColor.copy(this.groundColor),e.intensity=this.intensity,e},THREE.PointLight=function(e,t,i){THREE.Light.call(this,e),this.intensity=void 0!==t?t:1,this.distance=void 0!==i?i:0},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.clone=function(){var e=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,e),e.intensity=this.intensity,e.distance=this.distance,e},THREE.SpotLight=function(e,t,i,a,r){THREE.Light.call(this,e),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==i?i:0,this.angle=void 0!==a?a:Math.PI/3,this.exponent=void 0!==r?r:10,this.onlyShadow=this.castShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapHeight=this.shadowMapWidth=512,this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.clone=function(){var e=new THREE.SpotLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.distance=this.distance,e.angle=this.angle,e.exponent=this.exponent,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraFov=this.shadowCameraFov,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e},THREE.Cache=function(){this.files={}},THREE.Cache.prototype={constructor:THREE.Cache,add:function(e,t){this.files[e]=t},get:function(e){return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},THREE.Loader=function(e){this.statusDomElement=(this.showStatus=e)?THREE.Loader.prototype.addStatusElement():null,this.imageLoader=new THREE.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.right="0px",e.style.top="0px",e.style.fontSize="0.8em",e.style.textAlign="left",e.style.background="rgba(0,0,0,0.25)",e.style.color="#fff",e.style.width="120px",e.style.padding="0.5em 0.5em 0.5em 0.5em",e.style.zIndex=1e3,e.innerHTML="Loading ...",e},updateProgress:function(e){var t="Loaded ",t=e.total?t+((100*e.loaded/e.total).toFixed(0)+"%"):t+((e.loaded/1024).toFixed(2)+" KB");this.statusDomElement.innerHTML=t},extractUrlBase:function(e){return e=e.split("/"),1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(e,t){for(var i=[],a=0;a<e.length;++a)i[a]=this.createMaterial(e[a],t);return i},needsTangents:function(e){for(var t=0,i=e.length;i>t;t++)if(e[t]instanceof THREE.ShaderMaterial)return!0;return!1},createMaterial:function(e,t){function i(e){return e=Math.log(e)/Math.LN2,Math.pow(2,Math.round(e))}function a(e,a,r,o,s,l,h){var c=/\.dds$/i.test(r),f=t+r;if(c){var u=THREE.ImageUtils.loadCompressedTexture(f);e[a]=u}else u=document.createElement("canvas"),e[a]=new THREE.Texture(u);e[a].sourceFile=r,o&&(e[a].repeat.set(o[0],o[1]),1!==o[0]&&(e[a].wrapS=THREE.RepeatWrapping),1!==o[1]&&(e[a].wrapT=THREE.RepeatWrapping)),s&&e[a].offset.set(s[0],s[1]),l&&(r={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==r[l[0]]&&(e[a].wrapS=r[l[0]]),void 0!==r[l[1]]&&(e[a].wrapT=r[l[1]])),h&&(e[a].anisotropy=h),c||(u=e[a],n.imageLoader.crossOrigin=n.crossOrigin,n.imageLoader.load(f,function(e){if(!1===THREE.Math.isPowerOfTwo(e.width)||!1===THREE.Math.isPowerOfTwo(e.height)){var t=i(e.width),a=i(e.height);u.image.width=t,u.image.height=a,u.image.getContext("2d").drawImage(e,0,0,t,a)}else u.image=e;u.needsUpdate=!0}))}function r(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}var n=this,o="MeshLambertMaterial",s={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var l=e.shading.toLowerCase();"phong"===l?o="MeshPhongMaterial":"basic"===l&&(o="MeshBasicMaterial")}return void 0!==e.blending&&void 0!==THREE[e.blending]&&(s.blending=THREE[e.blending]),(void 0!==e.transparent||1>e.opacity)&&(s.transparent=e.transparent),void 0!==e.depthTest&&(s.depthTest=e.depthTest),void 0!==e.depthWrite&&(s.depthWrite=e.depthWrite),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.flipSided&&(s.side=THREE.BackSide),void 0!==e.doubleSided&&(s.side=THREE.DoubleSide),void 0!==e.wireframe&&(s.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?s.vertexColors=THREE.FaceColors:e.vertexColors&&(s.vertexColors=THREE.VertexColors)),e.colorDiffuse?s.color=r(e.colorDiffuse):e.DbgColor&&(s.color=e.DbgColor),e.colorSpecular&&(s.specular=r(e.colorSpecular)),e.colorAmbient&&(s.ambient=r(e.colorAmbient)),e.colorEmissive&&(s.emissive=r(e.colorEmissive)),e.transparency&&(s.opacity=e.transparency),e.specularCoef&&(s.shininess=e.specularCoef),e.mapDiffuse&&t&&a(s,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&t&&a(s,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&t&&a(s,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&t&&a(s,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&t&&a(s,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapBumpScale&&(s.bumpScale=e.mapBumpScale),e.mapNormal?(o=THREE.ShaderLib.normalmap,l=THREE.UniformsUtils.clone(o.uniforms),l.tNormal.value=s.normalMap,e.mapNormalFactor&&l.uNormalScale.value.set(e.mapNormalFactor,e.mapNormalFactor),s.map&&(l.tDiffuse.value=s.map,l.enableDiffuse.value=!0),s.specularMap&&(l.tSpecular.value=s.specularMap,l.enableSpecular.value=!0),s.lightMap&&(l.tAO.value=s.lightMap,l.enableAO.value=!0),l.diffuse.value.setHex(s.color),l.specular.value.setHex(s.specular),l.ambient.value.setHex(s.ambient),l.shininess.value=s.shininess,void 0!==s.opacity&&(l.opacity.value=s.opacity),o=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:l,lights:!0,fog:!0}),s.transparent&&(o.transparent=!0)):o=new THREE[o](s),void 0!==e.DbgName&&(o.name=e.DbgName),o}},THREE.XHRLoader=function(e){this.cache=new THREE.Cache,this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(e,t,i,a){var r=this,n=r.cache.get(e);void 0!==n?t(n):(n=new XMLHttpRequest,void 0!==t&&n.addEventListener("load",function(i){r.cache.add(e,i.target.responseText),t(i.target.responseText),r.manager.itemEnd(e)},!1),void 0!==i&&n.addEventListener("progress",function(e){i(e)},!1),void 0!==a&&n.addEventListener("error",function(e){a(e)},!1),void 0!==this.crossOrigin&&(n.crossOrigin=this.crossOrigin),n.open("GET",e,!0),n.send(null),r.manager.itemStart(e))},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.ImageLoader=function(e){this.cache=new THREE.Cache,this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(e,t,i,a){var r=this,n=r.cache.get(e);return void 0===n?(n=document.createElement("img"),void 0!==t&&n.addEventListener("load",function(){r.cache.add(e,this),t(this),r.manager.itemEnd(e)},!1),void 0!==i&&n.addEventListener("progress",function(e){i(e)},!1),void 0!==a&&n.addEventListener("error",function(e){a(e)},!1),void 0!==this.crossOrigin&&(n.crossOrigin=this.crossOrigin),n.src=e,r.manager.itemStart(e),n):void t(n)},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.JSONLoader=function(e){THREE.Loader.call(this,e),this.withCredentials=!1},THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.load=function(e,t,i){i=i&&"string"==typeof i?i:this.extractUrlBase(e),this.onLoadStart(),this.loadAjaxJSON(this,e,t,i)},THREE.JSONLoader.prototype.loadAjaxJSON=function(e,t,i,a,r){var n=new XMLHttpRequest,o=0;n.onreadystatechange=function(){if(n.readyState===n.DONE)if(200===n.status||0===n.status){if(n.responseText){var s=JSON.parse(n.responseText);if(void 0!==s.metadata&&"scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+t+'" seems to be a Scene. Use THREE.SceneLoader instead.');s=e.parse(s,a),i(s.geometry,s.materials)}else console.error('THREE.JSONLoader: "'+t+'" seems to be unreachable or the file is empty.');e.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+t+'" ('+n.status+")");else n.readyState===n.LOADING?r&&(0===o&&(o=n.getResponseHeader("Content-Length")),r({total:o,loaded:n.responseText.length})):n.readyState===n.HEADERS_RECEIVED&&void 0!==r&&(o=n.getResponseHeader("Content-Length"))},n.open("GET",t,!0),n.withCredentials=this.withCredentials,n.send(null)},THREE.JSONLoader.prototype.parse=function(e,t){var i=new THREE.Geometry,a=void 0!==e.scale?1/e.scale:1;return function(t){var a,r,n,o,s,l,h,c,f,u,d,p,m,E=e.faces;l=e.vertices;var v=e.normals,g=e.colors,y=0;if(void 0!==e.uvs){for(a=0;a<e.uvs.length;a++)e.uvs[a].length&&y++;for(a=0;y>a;a++)i.faceVertexUvs[a]=[]}for(o=0,s=l.length;s>o;)a=new THREE.Vector3,a.x=l[o++]*t,a.y=l[o++]*t,a.z=l[o++]*t,i.vertices.push(a);for(o=0,s=E.length;s>o;)if(t=E[o++],f=1&t,n=2&t,a=8&t,h=16&t,u=32&t,l=64&t,t&=128,f){if(f=new THREE.Face3,f.a=E[o],f.b=E[o+1],f.c=E[o+3],d=new THREE.Face3,d.a=E[o+1],d.b=E[o+2],d.c=E[o+3],o+=4,n&&(n=E[o++],f.materialIndex=n,d.materialIndex=n),n=i.faces.length,a)for(a=0;y>a;a++)for(p=e.uvs[a],i.faceVertexUvs[a][n]=[],i.faceVertexUvs[a][n+1]=[],r=0;4>r;r++)c=E[o++],m=p[2*c],c=p[2*c+1],m=new THREE.Vector2(m,c),2!==r&&i.faceVertexUvs[a][n].push(m),0!==r&&i.faceVertexUvs[a][n+1].push(m);if(h&&(h=3*E[o++],f.normal.set(v[h++],v[h++],v[h]),d.normal.copy(f.normal)),u)for(a=0;4>a;a++)h=3*E[o++],u=new THREE.Vector3(v[h++],v[h++],v[h]),2!==a&&f.vertexNormals.push(u),0!==a&&d.vertexNormals.push(u);if(l&&(l=E[o++],l=g[l],f.color.setHex(l),d.color.setHex(l)),t)for(a=0;4>a;a++)l=E[o++],l=g[l],2!==a&&f.vertexColors.push(new THREE.Color(l)),0!==a&&d.vertexColors.push(new THREE.Color(l));i.faces.push(f),i.faces.push(d)}else{if(f=new THREE.Face3,f.a=E[o++],f.b=E[o++],f.c=E[o++],n&&(n=E[o++],f.materialIndex=n),n=i.faces.length,a)for(a=0;y>a;a++)for(p=e.uvs[a],i.faceVertexUvs[a][n]=[],r=0;3>r;r++)c=E[o++],m=p[2*c],c=p[2*c+1],m=new THREE.Vector2(m,c),i.faceVertexUvs[a][n].push(m);if(h&&(h=3*E[o++],f.normal.set(v[h++],v[h++],v[h])),u)for(a=0;3>a;a++)h=3*E[o++],u=new THREE.Vector3(v[h++],v[h++],v[h]),f.vertexNormals.push(u);if(l&&(l=E[o++],f.color.setHex(g[l])),t)for(a=0;3>a;a++)l=E[o++],f.vertexColors.push(new THREE.Color(g[l]));i.faces.push(f)}}(a),function(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var a=0,r=e.skinWeights.length;r>a;a+=t)i.skinWeights.push(new THREE.Vector4(e.skinWeights[a],t>1?e.skinWeights[a+1]:0,t>2?e.skinWeights[a+2]:0,t>3?e.skinWeights[a+3]:0));if(e.skinIndices)for(a=0,r=e.skinIndices.length;r>a;a+=t)i.skinIndices.push(new THREE.Vector4(e.skinIndices[a],t>1?e.skinIndices[a+1]:0,t>2?e.skinIndices[a+2]:0,t>3?e.skinIndices[a+3]:0));i.bones=e.bones,i.bones&&0<i.bones.length&&(i.skinWeights.length!==i.skinIndices.length||i.skinIndices.length!==i.vertices.length)&&console.warn("When skinning, number of vertices ("+i.vertices.length+"), skinIndices ("+i.skinIndices.length+"), and skinWeights ("+i.skinWeights.length+") should match."),i.animation=e.animation,i.animations=e.animations}(),function(t){if(void 0!==e.morphTargets){var a,r,n,o,s,l;for(a=0,r=e.morphTargets.length;r>a;a++)for(i.morphTargets[a]={},i.morphTargets[a].name=e.morphTargets[a].name,i.morphTargets[a].vertices=[],s=i.morphTargets[a].vertices,l=e.morphTargets[a].vertices,n=0,o=l.length;o>n;n+=3){var h=new THREE.Vector3;h.x=l[n]*t,h.y=l[n+1]*t,h.z=l[n+2]*t,s.push(h)}}if(void 0!==e.morphColors)for(a=0,r=e.morphColors.length;r>a;a++)for(i.morphColors[a]={},i.morphColors[a].name=e.morphColors[a].name,i.morphColors[a].colors=[],o=i.morphColors[a].colors,s=e.morphColors[a].colors,t=0,n=s.length;n>t;t+=3)l=new THREE.Color(16755200),l.setRGB(s[t],s[t+1],s[t+2]),o.push(l)}(a),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===e.materials||0===e.materials.length?{geometry:i}:(a=this.initMaterials(e.materials,t),this.needsTangents(a)&&i.computeTangents(),{geometry:i,materials:a})},THREE.LoadingManager=function(e,t,i){var a=this,r=0,n=0;this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(){n++},this.itemEnd=function(e){r++,void 0!==a.onProgress&&a.onProgress(e,r,n),r===n&&void 0!==a.onLoad&&a.onLoad()}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(e,t,i){var a=this;i=new THREE.XHRLoader,i.setCrossOrigin(this.crossOrigin),i.load(e,function(e){t(a.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new THREE.BufferGeometry,i=e.attributes,a=e.offsets;e=e.boundingSphere;for(var r in i){var n=i[r];t.attributes[r]={itemSize:n.itemSize,array:new self[n.type](n.array)}}return void 0!==a&&(t.offsets=JSON.parse(JSON.stringify(a))),void 0!==e&&(t.boundingSphere=new THREE.Sphere((new THREE.Vector3).fromArray(void 0!==e.center?e.center:[0,0,0]),e.radius)),t}},THREE.MaterialLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(e,t,i){var a=this;i=new THREE.XHRLoader,i.setCrossOrigin(this.crossOrigin),i.load(e,function(e){t(a.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new THREE[e.type];if(void 0!==e.color&&t.color.setHex(e.color),void 0!==e.ambient&&t.ambient.setHex(e.ambient),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.materials)for(var i=0,a=e.materials.length;a>i;i++)t.materials.push(this.parse(e.materials[i]));return t}},THREE.ObjectLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(e,t,i){var a=this;i=new THREE.XHRLoader(a.manager),i.setCrossOrigin(this.crossOrigin),i.load(e,function(e){t(a.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=this.parseGeometries(e.geometries),i=this.parseMaterials(e.materials);return this.parseObject(e.object,t,i)},parseGeometries:function(e){var t={};if(void 0!==e)for(var i=new THREE.JSONLoader,a=new THREE.BufferGeometryLoader,r=0,n=e.length;n>r;r++){var o,s=e[r];switch(s.type){case"PlaneGeometry":o=new THREE.PlaneGeometry(s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"CubeGeometry":o=new THREE.BoxGeometry(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":o=new THREE.CircleGeometry(s.radius,s.segments);break;case"CylinderGeometry":o=new THREE.CylinderGeometry(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded);break;case"SphereGeometry":o=new THREE.SphereGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"IcosahedronGeometry":o=new THREE.IcosahedronGeometry(s.radius,s.detail);break;case"TorusGeometry":o=new THREE.TorusGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":o=new THREE.TorusKnotGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.p,s.q,s.heightScale);break;case"BufferGeometry":o=a.parse(s.data);break;case"Geometry":o=i.parse(s.data).geometry}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),t[s.uuid]=o}return t},parseMaterials:function(e){var t={};if(void 0!==e)for(var i=new THREE.MaterialLoader,a=0,r=e.length;r>a;a++){var n=e[a],o=i.parse(n);o.uuid=n.uuid,void 0!==n.name&&(o.name=n.name),t[n.uuid]=o}return t},parseObject:function(){var e=new THREE.Matrix4;return function(t,i,a){var r;switch(t.type){case"Scene":r=new THREE.Scene;break;case"PerspectiveCamera":r=new THREE.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":r=new THREE.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":r=new THREE.AmbientLight(t.color);break;case"DirectionalLight":r=new THREE.DirectionalLight(t.color,t.intensity);break;case"PointLight":r=new THREE.PointLight(t.color,t.intensity,t.distance);break;case"SpotLight":r=new THREE.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent);break;case"HemisphereLight":r=new THREE.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":r=i[t.geometry];var n=a[t.material];void 0===r&&console.error("THREE.ObjectLoader: Undefined geometry "+t.geometry),void 0===n&&console.error("THREE.ObjectLoader: Undefined material "+t.material),r=new THREE.Mesh(r,n);break;case"Sprite":n=a[t.material],void 0===n&&console.error("THREE.ObjectLoader: Undefined material "+t.material),r=new THREE.Sprite(n);break;default:r=new THREE.Object3D}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.children)for(var o in t.children)r.add(this.parseObject(t.children[o],i,a));
return r}}()},THREE.SceneLoader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){},this.callbackSync=function(){},this.callbackProgress=function(){},this.geometryHandlers={},this.hierarchyHandlers={},this.addGeometryHandler("ascii",THREE.JSONLoader)},THREE.SceneLoader.prototype={constructor:THREE.SceneLoader,load:function(e,t,i){var a=this;i=new THREE.XHRLoader(a.manager),i.setCrossOrigin(this.crossOrigin),i.load(e,function(i){a.parse(JSON.parse(i),t,e)})},setCrossOrigin:function(e){this.crossOrigin=e},addGeometryHandler:function(e,t){this.geometryHandlers[e]={loaderClass:t}},addHierarchyHandler:function(e,t){this.hierarchyHandlers[e]={loaderClass:t}},parse:function(e,t,i){function a(e,t){return"relativeToHTML"==t?e:w+e}function r(){n(R.scene,M.objects)}function n(e,t){var i,r,o,s,h,c;for(c in t){var f=R.objects[c],m=t[c];if(void 0===f){if(m.type&&m.type in _.hierarchyHandlers){if(void 0===m.loading){i={type:1,url:1,material:1,position:1,rotation:1,scale:1,visible:1,children:1,userData:1,skin:1,morph:1,mirroredLoop:1,duration:1};var E,g={};for(E in m)E in i||(g[E]=m[E]);d=R.materials[m.material],m.loading=!0,i=_.hierarchyHandlers[m.type].loaderObject,i.options?i.load(a(m.url,M.urlBaseType),l(c,e,d,m)):i.load(a(m.url,M.urlBaseType),l(c,e,d,m),g)}}else if(void 0!==m.geometry){if(u=R.geometries[m.geometry]){if(f=!1,d=R.materials[m.material],f=d instanceof THREE.ShaderMaterial,r=m.position,o=m.rotation,s=m.scale,i=m.matrix,h=m.quaternion,m.material||(d=new THREE.MeshFaceMaterial(R.face_materials[m.geometry])),d instanceof THREE.MeshFaceMaterial&&0===d.materials.length&&(d=new THREE.MeshFaceMaterial(R.face_materials[m.geometry])),d instanceof THREE.MeshFaceMaterial)for(g=0;g<d.materials.length;g++)f=f||d.materials[g]instanceof THREE.ShaderMaterial;f&&u.computeTangents(),m.skin?f=new THREE.SkinnedMesh(u,d):m.morph?(f=new THREE.MorphAnimMesh(u,d),void 0!==m.duration&&(f.duration=m.duration),void 0!==m.time&&(f.time=m.time),void 0!==m.mirroredLoop&&(f.mirroredLoop=m.mirroredLoop),d.morphNormals&&u.computeMorphNormals()):f=new THREE.Mesh(u,d),f.name=c,i?(f.matrixAutoUpdate=!1,f.matrix.set(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15])):(f.position.fromArray(r),h?f.quaternion.fromArray(h):f.rotation.fromArray(o),f.scale.fromArray(s)),f.visible=m.visible,f.castShadow=m.castShadow,f.receiveShadow=m.receiveShadow,e.add(f),R.objects[c]=f}}else if("AmbientLight"===m.type||"PointLight"===m.type||"DirectionalLight"===m.type||"SpotLight"===m.type||"HemisphereLight"===m.type||"AreaLight"===m.type){switch(g=m.color,i=m.intensity,r=m.distance,o=m.position,s=m.rotation,m.type){case"AmbientLight":v=new THREE.AmbientLight(g);break;case"PointLight":v=new THREE.PointLight(g,i,r),v.position.fromArray(o);break;case"DirectionalLight":v=new THREE.DirectionalLight(g,i),v.position.fromArray(m.direction);break;case"SpotLight":v=new THREE.SpotLight(g,i,r,1),v.angle=m.angle,v.position.fromArray(o),v.target.set(o[0],o[1]-r,o[2]),v.target.applyEuler(new THREE.Euler(s[0],s[1],s[2],"XYZ"));break;case"HemisphereLight":v=new THREE.DirectionalLight(g,i,r),v.target.set(o[0],o[1]-r,o[2]),v.target.applyEuler(new THREE.Euler(s[0],s[1],s[2],"XYZ"));break;case"AreaLight":v=new THREE.AreaLight(g,i),v.position.fromArray(o),v.width=m.size,v.height=m.size_y}e.add(v),v.name=c,R.lights[c]=v,R.objects[c]=v}else"PerspectiveCamera"===m.type||"OrthographicCamera"===m.type?(r=m.position,o=m.rotation,h=m.quaternion,"PerspectiveCamera"===m.type?p=new THREE.PerspectiveCamera(m.fov,m.aspect,m.near,m.far):"OrthographicCamera"===m.type&&(p=new THREE.OrthographicCamera(m.left,m.right,m.top,m.bottom,m.near,m.far)),p.name=c,p.position.fromArray(r),void 0!==h?p.quaternion.fromArray(h):void 0!==o&&p.rotation.fromArray(o),e.add(p),R.cameras[c]=p,R.objects[c]=p):(r=m.position,o=m.rotation,s=m.scale,h=m.quaternion,f=new THREE.Object3D,f.name=c,f.position.fromArray(r),h?f.quaternion.fromArray(h):f.rotation.fromArray(o),f.scale.fromArray(s),f.visible=void 0!==m.visible?m.visible:!1,e.add(f),R.objects[c]=f,R.empties[c]=f);if(f){if(void 0!==m.userData)for(var y in m.userData)f.userData[y]=m.userData[y];if(void 0!==m.groups)for(g=0;g<m.groups.length;g++)i=m.groups[g],void 0===R.groups[i]&&(R.groups[i]=[]),R.groups[i].push(c)}}void 0!==f&&void 0!==m.children&&n(f,m.children)}}function o(e,t,i,a,n){var o=n.rotation,s=n.quaternion,l=n.scale;e.position.fromArray(n.position),s?e.quaternion.fromArray(s):e.rotation.fromArray(o),e.scale.fromArray(l),a&&e.traverse(function(e){e.material=a});var h=void 0!==n.visible?n.visible:!0;e.traverse(function(e){e.visible=h}),i.add(e),e.name=t,R.objects[t]=e,r()}function s(e){return function(t,i){t.name=e,R.geometries[e]=t,R.face_materials[e]=i,r(),g-=1,_.onLoadComplete(),c()}}function l(e,t,i,a){return function(r){o(r.content?r.content:r.dae?r.scene:r,e,t,i,a),g-=1,_.onLoadComplete(),c()}}function h(e){return function(t,i){t.name=e,R.geometries[e]=t,R.face_materials[e]=i}}function c(){if(_.callbackProgress({totalModels:T,totalTextures:x,loadedModels:T-g,loadedTextures:x-y},R),_.onLoadProgress(),0===g&&0===y){for(var e=0;e<H.length;e++){var i=H[e],a=R.objects[i.targetName];a?i.object.target=a:(i.object.target=new THREE.Object3D,R.scene.add(i.object.target)),i.object.target.userData.targetInverse=i.object}t(R)}}function f(e,t){if(t(e),void 0!==e.children)for(var i in e.children)f(e.children[i],t)}var u,d,p,m,E,v,g,y,T,x,R,b,_=this,w=THREE.Loader.prototype.extractUrlBase(i),H=[],M=e;for(b in this.geometryHandlers)e=this.geometryHandlers[b].loaderClass,this.geometryHandlers[b].loaderObject=new e;for(b in this.hierarchyHandlers)e=this.hierarchyHandlers[b].loaderClass,this.hierarchyHandlers[b].loaderObject=new e;y=g=0,R={scene:new THREE.Scene,geometries:{},face_materials:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},empties:{},groups:{}},M.transform&&(b=M.transform.position,e=M.transform.rotation,i=M.transform.scale,b&&R.scene.position.fromArray(b),e&&R.scene.rotation.fromArray(e),i&&R.scene.scale.fromArray(i),b||e||i)&&(R.scene.updateMatrix(),R.scene.updateMatrixWorld()),b=function(e){return function(){y-=e,c(),_.onLoadComplete()}};for(var S in M.fogs)e=M.fogs[S],"linear"===e.type?m=new THREE.Fog(0,e.near,e.far):"exp2"===e.type&&(m=new THREE.FogExp2(0,e.density)),e=e.color,m.color.setRGB(e[0],e[1],e[2]),R.fogs[S]=m;for(var C in M.geometries)m=M.geometries[C],m.type in this.geometryHandlers&&(g+=1,_.onLoadStart());for(var A in M.objects)f(M.objects[A],function(e){e.type&&e.type in _.hierarchyHandlers&&(g+=1,_.onLoadStart())});T=g;for(C in M.geometries)if(m=M.geometries[C],"cube"===m.type)u=new THREE.BoxGeometry(m.width,m.height,m.depth,m.widthSegments,m.heightSegments,m.depthSegments),u.name=C,R.geometries[C]=u;else if("plane"===m.type)u=new THREE.PlaneGeometry(m.width,m.height,m.widthSegments,m.heightSegments),u.name=C,R.geometries[C]=u;else if("sphere"===m.type)u=new THREE.SphereGeometry(m.radius,m.widthSegments,m.heightSegments),u.name=C,R.geometries[C]=u;else if("cylinder"===m.type)u=new THREE.CylinderGeometry(m.topRad,m.botRad,m.height,m.radSegs,m.heightSegs),u.name=C,R.geometries[C]=u;else if("torus"===m.type)u=new THREE.TorusGeometry(m.radius,m.tube,m.segmentsR,m.segmentsT),u.name=C,R.geometries[C]=u;else if("icosahedron"===m.type)u=new THREE.IcosahedronGeometry(m.radius,m.subdivisions),u.name=C,R.geometries[C]=u;else if(m.type in this.geometryHandlers){A={};for(E in m)"type"!==E&&"url"!==E&&(A[E]=m[E]);this.geometryHandlers[m.type].loaderObject.load(a(m.url,M.urlBaseType),s(C),A)}else"embedded"===m.type&&(A=M.embeds[m.id],A.metadata=M.metadata,A&&(A=this.geometryHandlers.ascii.loaderObject.parse(A,""),h(C)(A.geometry,A.materials)));for(var L in M.textures)if(C=M.textures[L],C.url instanceof Array)for(y+=C.url.length,E=0;E<C.url.length;E++)_.onLoadStart();else y+=1,_.onLoadStart();x=y;for(L in M.textures){if(C=M.textures[L],void 0!==C.mapping&&void 0!==THREE[C.mapping]&&(C.mapping=new THREE[C.mapping]),C.url instanceof Array){for(A=C.url.length,m=[],E=0;A>E;E++)m[E]=a(C.url[E],M.urlBaseType);E=(E=/\.dds$/i.test(m[0]))?THREE.ImageUtils.loadCompressedTextureCube(m,C.mapping,b(A)):THREE.ImageUtils.loadTextureCube(m,C.mapping,b(A))}else E=/\.dds$/i.test(C.url),A=a(C.url,M.urlBaseType),m=b(1),E=E?THREE.ImageUtils.loadCompressedTexture(A,C.mapping,m):THREE.ImageUtils.loadTexture(A,C.mapping,m),void 0!==THREE[C.minFilter]&&(E.minFilter=THREE[C.minFilter]),void 0!==THREE[C.magFilter]&&(E.magFilter=THREE[C.magFilter]),C.anisotropy&&(E.anisotropy=C.anisotropy),C.repeat&&(E.repeat.set(C.repeat[0],C.repeat[1]),1!==C.repeat[0]&&(E.wrapS=THREE.RepeatWrapping),1!==C.repeat[1]&&(E.wrapT=THREE.RepeatWrapping)),C.offset&&E.offset.set(C.offset[0],C.offset[1]),C.wrap&&(A={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==A[C.wrap[0]]&&(E.wrapS=A[C.wrap[0]]),void 0!==A[C.wrap[1]]&&(E.wrapT=A[C.wrap[1]]));R.textures[L]=E}var k,D;for(k in M.materials){L=M.materials[k];for(D in L.parameters)"envMap"===D||"map"===D||"lightMap"===D||"bumpMap"===D?L.parameters[D]=R.textures[L.parameters[D]]:"shading"===D?L.parameters[D]="flat"===L.parameters[D]?THREE.FlatShading:THREE.SmoothShading:"side"===D?L.parameters[D]="double"==L.parameters[D]?THREE.DoubleSide:"back"==L.parameters[D]?THREE.BackSide:THREE.FrontSide:"blending"===D?L.parameters[D]=L.parameters[D]in THREE?THREE[L.parameters[D]]:THREE.NormalBlending:"combine"===D?L.parameters[D]=L.parameters[D]in THREE?THREE[L.parameters[D]]:THREE.MultiplyOperation:"vertexColors"===D?"face"==L.parameters[D]?L.parameters[D]=THREE.FaceColors:L.parameters[D]&&(L.parameters[D]=THREE.VertexColors):"wrapRGB"===D&&(b=L.parameters[D],L.parameters[D]=new THREE.Vector3(b[0],b[1],b[2]));void 0!==L.parameters.opacity&&1>L.parameters.opacity&&(L.parameters.transparent=!0),L.parameters.normalMap?(b=THREE.ShaderLib.normalmap,C=THREE.UniformsUtils.clone(b.uniforms),E=L.parameters.color,A=L.parameters.specular,m=L.parameters.ambient,S=L.parameters.shininess,C.tNormal.value=R.textures[L.parameters.normalMap],L.parameters.normalScale&&C.uNormalScale.value.set(L.parameters.normalScale[0],L.parameters.normalScale[1]),L.parameters.map&&(C.tDiffuse.value=L.parameters.map,C.enableDiffuse.value=!0),L.parameters.envMap&&(C.tCube.value=L.parameters.envMap,C.enableReflection.value=!0,C.reflectivity.value=L.parameters.reflectivity),L.parameters.lightMap&&(C.tAO.value=L.parameters.lightMap,C.enableAO.value=!0),L.parameters.specularMap&&(C.tSpecular.value=R.textures[L.parameters.specularMap],C.enableSpecular.value=!0),L.parameters.displacementMap&&(C.tDisplacement.value=R.textures[L.parameters.displacementMap],C.enableDisplacement.value=!0,C.uDisplacementBias.value=L.parameters.displacementBias,C.uDisplacementScale.value=L.parameters.displacementScale),C.diffuse.value.setHex(E),C.specular.value.setHex(A),C.ambient.value.setHex(m),C.shininess.value=S,L.parameters.opacity&&(C.opacity.value=L.parameters.opacity),d=new THREE.ShaderMaterial({fragmentShader:b.fragmentShader,vertexShader:b.vertexShader,uniforms:C,lights:!0,fog:!0})):d=new THREE[L.type](L.parameters),d.name=k,R.materials[k]=d}for(k in M.materials)if(L=M.materials[k],L.parameters.materials){for(D=[],E=0;E<L.parameters.materials.length;E++)D.push(R.materials[L.parameters.materials[E]]);R.materials[k].materials=D}r(),R.cameras&&M.defaults.camera&&(R.currentCamera=R.cameras[M.defaults.camera]),R.fogs&&M.defaults.fog&&(R.scene.fog=R.fogs[M.defaults.fog]),_.callbackSync(R),c()}},THREE.TextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(e,t,i){i=new THREE.ImageLoader(this.manager),i.setCrossOrigin(this.crossOrigin),i.load(e,function(e){e=new THREE.Texture(e),e.needsUpdate=!0,void 0!==t&&t(e)})},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.Material=function(){this.id=THREE.MaterialIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.depthWrite=this.depthTest=!0,this.polygonOffset=!1,this.overdraw=this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.needsUpdate=this.visible=!0},THREE.Material.prototype={constructor:THREE.Material,setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0===i)console.warn("THREE.Material: '"+t+"' parameter is undefined.");else if(t in this){var a=this[t];a instanceof THREE.Color?a.set(i):a instanceof THREE.Vector3&&i instanceof THREE.Vector3?a.copy(i):this[t]="overdraw"==t?Number(i):i}}},clone:function(e){return void 0===e&&(e=new THREE.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.clone=function(){var e=new THREE.LineBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.LineDashedMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.scale=this.linewidth=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.clone=function(){var e=new THREE.LineDashedMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.MeshBasicMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.envMap=this.specularMap=this.lightMap=this.map=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexColors=THREE.NoColors,this.morphTargets=this.skinning=!1,this.setValues(e)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.clone=function(){var e=new THREE.MeshBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},THREE.MeshLambertMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexColors=THREE.NoColors,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.clone=function(){var e=new THREE.MeshLambertMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshPhongMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.wrapAround=this.metal=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.bumpMap=this.lightMap=this.map=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.envMap=this.specularMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexColors=THREE.NoColors,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.clone=function(){var e=new THREE.MeshPhongMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshDepthMaterial=function(e){THREE.Material.call(this),this.wireframe=this.morphTargets=!1,this.wireframeLinewidth=1,this.setValues(e)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.clone=function(){var e=new THREE.MeshDepthMaterial;return THREE.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshNormalMaterial=function(e){THREE.Material.call(this,e),this.shading=THREE.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.clone=function(){var e=new THREE.MeshNormalMaterial;return THREE.Material.prototype.clone.call(this,e),e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshFaceMaterial=function(e){this.materials=e instanceof Array?e:[]},THREE.MeshFaceMaterial.prototype.clone=function(){for(var e=new THREE.MeshFaceMaterial,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e},THREE.ParticleSystemMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.ParticleSystemMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ParticleSystemMaterial.prototype.clone=function(){var e=new THREE.ParticleSystemMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.ParticleBasicMaterial=THREE.ParticleSystemMaterial,THREE.ShaderMaterial=function(e){THREE.Material.call(this),this.vertexShader=this.fragmentShader="void main() {}",this.uniforms={},this.defines={},this.attributes=null,this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.vertexColors=THREE.NoColors,this.morphNormals=this.morphTargets=this.skinning=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(e)},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.clone=function(){var e=new THREE.ShaderMaterial;return THREE.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=THREE.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.RawShaderMaterial=function(e){THREE.ShaderMaterial.call(this,e)},THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.RawShaderMaterial.prototype.clone=function(){var e=new THREE.RawShaderMaterial;return THREE.ShaderMaterial.prototype.clone.call(this,e),e},THREE.SpriteMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.clone=function(){var e=new THREE.SpriteMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.rotation=this.rotation,e.fog=this.fog,e},THREE.SpriteCanvasMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.program=function(){},this.setValues(e)},THREE.SpriteCanvasMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteCanvasMaterial.prototype.clone=function(){var e=new THREE.SpriteCanvasMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.program=this.program,e},THREE.ParticleCanvasMaterial=THREE.SpriteCanvasMaterial,THREE.Texture=function(e,t,i,a,r,n,o,s,l){this.id=THREE.TextureIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=void 0!==t?t:new THREE.UVMapping,this.wrapS=void 0!==i?i:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==a?a:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==r?r:THREE.LinearFilter,this.minFilter=void 0!==n?n:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:THREE.RGBAFormat,this.type=void 0!==s?s:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},THREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},clone:function(e){return void 0===e&&(e=new THREE.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount=0,THREE.CompressedTexture=function(e,t,i,a,r,n,o,s,l,h,c){THREE.Texture.call(this,null,n,o,s,l,h,a,r,c),this.image={width:t,height:i},this.mipmaps=e,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.clone=function(){var e=new THREE.CompressedTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.DataTexture=function(e,t,i,a,r,n,o,s,l,h,c){THREE.Texture.call(this,null,n,o,s,l,h,a,r,c),this.image={data:e,width:t,height:i}},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.clone=function(){var e=new THREE.DataTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.ParticleSystem=function(e,t){THREE.Object3D.call(this),this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.ParticleSystemMaterial({color:16777215*Math.random()}),this.frustumCulled=this.sortParticles=!1},THREE.ParticleSystem.prototype=Object.create(THREE.Object3D.prototype),THREE.ParticleSystem.prototype.clone=function(e){return void 0===e&&(e=new THREE.ParticleSystem(this.geometry,this.material)),e.sortParticles=this.sortParticles,THREE.Object3D.prototype.clone.call(this,e),e},THREE.Line=function(e,t,i){THREE.Object3D.call(this),this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==i?i:THREE.LineStrip},THREE.LineStrip=0,THREE.LinePieces=1,THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.clone=function(e){return void 0===e&&(e=new THREE.Line(this.geometry,this.material,this.type)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Mesh=function(e,t){THREE.Object3D.call(this),this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;t>e;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},THREE.Mesh.prototype.clone=function(e,t){return void 0===e&&(e=new THREE.Mesh(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,e,t),e},THREE.Bone=function(e){THREE.Object3D.call(this),this.skin=e,this.skinMatrix=new THREE.Matrix4,this.accumulatedSclWeight=this.accumulatedPosWeight=this.accumulatedRotWeight=0},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Bone.prototype.update=function(e,t){this.matrixAutoUpdate&&(t|=this.updateMatrix()),(t||this.matrixWorldNeedsUpdate)&&(e?this.skinMatrix.multiplyMatrices(e,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0,this.accumulatedSclWeight=this.accumulatedPosWeight=this.accumulatedRotWeight=0);for(var i=0,a=this.children.length;a>i;i++)this.children[i].update(this.skinMatrix,t)},THREE.Skeleton=function(e,t){this.useVertexTexture=void 0!==t?t:!0,this.bones=[],this.boneMatrices=[];var i,a,r,n,o;if(void 0!==e){for(var s=0;s<e.length;++s)a=e[s],r=a.pos,n=a.rotq,o=a.scl,i=this.addBone(),i.name=a.name,i.position.set(r[0],r[1],r[2]),i.quaternion.set(n[0],n[1],n[2],n[3]),void 0!==o?i.scale.set(o[0],o[1],o[2]):i.scale.set(1,1,1);for(s=0;s<e.length;++s)a=e[s],-1!==a.parent&&this.bones[a.parent].add(this.bones[s]);i=this.bones.length,this.useVertexTexture?(this.boneTextureHeight=this.boneTextureWidth=i=i>256?64:i>64?32:i>16?16:8,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1):this.boneMatrices=new Float32Array(16*i)}},THREE.Skeleton.prototype=Object.create(THREE.Mesh.prototype),THREE.Skeleton.prototype.addBone=function(e){return void 0===e&&(e=new THREE.Bone(this)),this.bones.push(e),e},THREE.Skeleton.prototype.calculateInverses=function(e){this.boneInverses=[],e=0;for(var t=this.bones.length;t>e;++e){var i=new THREE.Matrix4;i.getInverse(this.bones[e].skinMatrix),this.boneInverses.push(i)}},THREE.SkinnedMesh=function(e,t,i){for(THREE.Mesh.call(this,e,t),this.skeleton=new THREE.Skeleton(this.geometry&&this.geometry.bones,i),e=0;e<this.skeleton.bones.length;++e)t=this.skeleton.bones[e],void 0===t.parent&&this.add(t);this.identityMatrix=new THREE.Matrix4,this.pose()},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.updateMatrixWorld=function(){var e=new THREE.Matrix4;return function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1),t=0;for(var i=this.children.length;i>t;t++){var a=this.children[t];a instanceof THREE.Bone?a.update(this.identityMatrix,!1):a.updateMatrixWorld(!0)}for(void 0===this.skeleton.boneInverses&&this.skeleton.calculateInverses(),t=0,i=this.skeleton.bones.length;i>t;t++)e.multiplyMatrices(this.skeleton.bones[t].skinMatrix,this.skeleton.boneInverses[t]),e.flattenToArrayOffset(this.skeleton.boneMatrices,16*t);this.skeleton.useVertexTexture&&(this.skeleton.boneTexture.needsUpdate=!0)}}(),THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0),this.normalizeSkinWeights()},THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],i=1/t.lengthManhattan();1/0!==i?t.multiplyScalar(i):t.set(1)}},THREE.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),THREE.Mesh.prototype.clone.call(this,e),e},THREE.MorphAnimMesh=function(e,t){THREE.Mesh.call(this,e,t),this.duration=1e3,this.mirroredLoop=!1,this.currentKeyframe=this.lastKeyframe=this.time=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e,this.endKeyframe=t,this.length=this.endKeyframe-this.startKeyframe+1},THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},THREE.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;e.animations||(e.animations={});
for(var t,i=e.animations,a=/([a-z]+)(\d+)/,r=0,n=e.morphTargets.length;n>r;r++){var o=e.morphTargets[r].name.match(a);if(o&&1<o.length){o=o[1],i[o]||(i[o]={start:1/0,end:-1/0});var s=i[o];r<s.start&&(s.start=r),r>s.end&&(s.end=r),t||(t=o)}}e.firstAnimation=t},THREE.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,i){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[e]={start:t,end:i}},THREE.MorphAnimMesh.prototype.playAnimation=function(e,t){var i=this.geometry.animations[e];i?(this.setFrameRange(i.start,i.end),this.duration=(i.end-i.start)/t*1e3,this.time=0):console.warn("animation["+e+"] undefined")},THREE.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e,this.mirroredLoop?(this.time>this.duration||0>this.time)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),0>this.time&&(this.time=0,this.directionBackwards=!1)):(this.time%=this.duration,0>this.time&&(this.time+=this.duration)),e=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/t),0,this.length-1),e!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[e]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=e),t=this.time%t/t,this.directionBackwards&&(t=1-t),this.morphTargetInfluences[this.currentKeyframe]=t,this.morphTargetInfluences[this.lastKeyframe]=1-t},THREE.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,THREE.Mesh.prototype.clone.call(this,e),e},THREE.LOD=function(){THREE.Object3D.call(this),this.objects=[]},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=0;i<this.objects.length&&!(t<this.objects[i].distance);i++);this.objects.splice(i,0,{distance:t,object:e}),this.add(e)},THREE.LOD.prototype.getObjectForDistance=function(e){for(var t=1,i=this.objects.length;i>t&&!(e<this.objects[t].distance);t++);return this.objects[t-1].object},THREE.LOD.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i){if(1<this.objects.length){e.setFromMatrixPosition(i.matrixWorld),t.setFromMatrixPosition(this.matrixWorld),i=e.distanceTo(t),this.objects[0].object.visible=!0;for(var a=1,r=this.objects.length;r>a&&i>=this.objects[a].distance;a++)this.objects[a-1].object.visible=!1,this.objects[a].object.visible=!0;for(;r>a;a++)this.objects[a].object.visible=!1}}}(),THREE.LOD.prototype.clone=function(e){void 0===e&&(e=new THREE.LOD),THREE.Object3D.prototype.clone.call(this,e);for(var t=0,i=this.objects.length;i>t;t++){var a=this.objects[t].object.clone();a.visible=0===t,e.addLevel(a,this.objects[t].distance)}return e},THREE.Sprite=function(){var e=new THREE.Float32Attribute(3,3);e.set([-.5,-.5,0,.5,-.5,0,.5,.5,0]);var t=new THREE.BufferGeometry;return t.addAttribute("position",e),function(e){THREE.Object3D.call(this),this.geometry=t,this.material=void 0!==e?e:new THREE.SpriteMaterial}}(),THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.updateMatrix=function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},THREE.Sprite.prototype.clone=function(e){return void 0===e&&(e=new THREE.Sprite(this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Particle=THREE.Sprite,THREE.Scene=function(){THREE.Object3D.call(this),this.overrideMaterial=this.fog=null,this.autoUpdate=!0,this.matrixAutoUpdate=!1,this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.__addObject=function(e){if(e instanceof THREE.Light)-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target);else if(!(e instanceof THREE.Camera||e instanceof THREE.Bone)){this.__objectsAdded.push(e);var t=this.__objectsRemoved.indexOf(e);-1!==t&&this.__objectsRemoved.splice(t,1)}for(this.dispatchEvent({type:"objectAdded",object:e}),e.dispatchEvent({type:"addedToScene",scene:this}),t=0;t<e.children.length;t++)this.__addObject(e.children[t])},THREE.Scene.prototype.__removeObject=function(e){if(e instanceof THREE.Light){var t=this.__lights.indexOf(e);if(-1!==t&&this.__lights.splice(t,1),e.shadowCascadeArray)for(t=0;t<e.shadowCascadeArray.length;t++)this.__removeObject(e.shadowCascadeArray[t])}else e instanceof THREE.Camera||(this.__objectsRemoved.push(e),t=this.__objectsAdded.indexOf(e),-1!==t&&this.__objectsAdded.splice(t,1));for(this.dispatchEvent({type:"objectRemoved",object:e}),e.dispatchEvent({type:"removedFromScene",scene:this}),t=0;t<e.children.length;t++)this.__removeObject(e.children[t])},THREE.Scene.prototype.clone=function(e){return void 0===e&&(e=new THREE.Scene),THREE.Object3D.prototype.clone.call(this,e),null!==this.fog&&(e.fog=this.fog.clone()),null!==this.overrideMaterial&&(e.overrideMaterial=this.overrideMaterial.clone()),e.autoUpdate=this.autoUpdate,e.matrixAutoUpdate=this.matrixAutoUpdate,e},THREE.Fog=function(e,t,i){this.name="",this.color=new THREE.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(e,t){this.name="",this.color=new THREE.Color(e),this.density=void 0!==t?t:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.CanvasRenderer=function(e){function t(e,t,i,a){h(t),c(i),f(a),u(e.getStyle()),A.stroke(),lt.expandByScalar(2*t)}function i(e){d(e.getStyle()),A.fill()}function a(e){r(e.target)}function r(e){var t=e.wrapS===THREE.RepeatWrapping,i=e.wrapT===THREE.RepeatWrapping,a=e.image,r=document.createElement("canvas");r.width=a.width,r.height=a.height;var n=r.getContext("2d");n.setTransform(1,0,0,-1,0,a.height),n.drawImage(a,0,0),nt[e.id]=A.createPattern(r,!0===t&&!0===i?"repeat":!0===t&&!1===i?"repeat-x":!1===t&&!0===i?"repeat-y":"no-repeat")}function n(e,t,i,n,o,s,l,h,c,f,u,p,m){if(!(m instanceof THREE.DataTexture)){!1===m.hasEventListener("update",a)&&(void 0!==m.image&&0<m.image.width&&r(m),m.addEventListener("update",a));var E=nt[m.id];if(void 0!==E){d(E);var E=m.offset.x/m.repeat.x,v=m.offset.y/m.repeat.y,g=m.image.width*m.repeat.x;m=m.image.height*m.repeat.y,l=(l+E)*g,h=(h+v)*m,i-=e,n-=t,o-=e,s-=t,c=(c+E)*g-l,f=(f+v)*m-h,u=(u+E)*g-l,p=(p+v)*m-h,m=c*p-u*f,0!==m&&(E=1/m,m=(p*i-f*o)*E,f=(p*n-f*s)*E,i=(c*o-u*i)*E,n=(c*s-u*n)*E,e=e-m*l-i*h,t=t-f*l-n*h,A.save(),A.transform(m,f,i,n,e,t),A.fill(),A.restore())}else d("rgba(0,0,0,1)"),A.fill()}}function o(e,t,i){var a=t.x-e.x,r=t.y-e.y,n=a*a+r*r;0!==n&&(i/=Math.sqrt(n),a*=i,r*=i,t.x+=a,t.y+=r,e.x-=a,e.y-=r)}function s(e){D!==e&&(D=A.globalAlpha=e)}function l(e){P!==e&&(e===THREE.NormalBlending?A.globalCompositeOperation="source-over":e===THREE.AdditiveBlending?A.globalCompositeOperation="lighter":e===THREE.SubtractiveBlending&&(A.globalCompositeOperation="darker"),P=e)}function h(e){N!==e&&(N=A.lineWidth=e)}function c(e){U!==e&&(U=A.lineCap=e)}function f(e){B!==e&&(B=A.lineJoin=e)}function u(e){F!==e&&(F=A.strokeStyle=e)}function d(e){z!==e&&(z=A.fillStyle=e)}function p(e,t){(V!==e||O!==t)&&(A.setLineDash([e,t]),V=e,O=t)}console.log("THREE.CanvasRenderer",THREE.REVISION);var m=THREE.Math.smoothstep;e=e||{};var E,v,g,y,T,x,R,b=this,_=new THREE.Projector,w=void 0!==e.canvas?e.canvas:document.createElement("canvas"),H=w.width,M=w.height,S=Math.floor(H/2),C=Math.floor(M/2),A=w.getContext("2d",{alpha:!0===e.alpha}),L=new THREE.Color(0),k=0,D=1,P=0,F=null,z=null,N=null,U=null,B=null,V=null,O=0;new THREE.RenderableVertex,new THREE.RenderableVertex;var j,I,G,W,X,q,Y=new THREE.Color;new THREE.Color,new THREE.Color,new THREE.Color,new THREE.Color;var K,Z,Q,$,J,et,tt,it=new THREE.Color,at=new THREE.Color,rt=new THREE.Color,nt={},ot=new THREE.Box2,st=new THREE.Box2,lt=new THREE.Box2,ht=new THREE.Color,ct=new THREE.Color,ft=new THREE.Color,ut=new THREE.Vector3,dt=new THREE.Vector3,pt=new THREE.Vector3,mt=new THREE.Matrix3;void 0===A.setLineDash&&(A.setLineDash=function(){}),this.domElement=w,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,this.sortElements=this.sortObjects=this.autoClear=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.setSize=function(e,t,i){H=e*this.devicePixelRatio,M=t*this.devicePixelRatio,w.width=H,w.height=M,S=Math.floor(H/2),C=Math.floor(M/2),!1!==i&&(w.style.width=e+"px",w.style.height=t+"px"),ot.min.set(-S,-C),ot.max.set(S,C),st.min.set(-S,-C),st.max.set(S,C),D=1,P=0,B=U=N=z=F=null,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,i,a){A.setTransform(i*this.devicePixelRatio/H,0,0,-(a*this.devicePixelRatio)/M,e*this.devicePixelRatio,M-t*this.devicePixelRatio),A.translate(S,C)},this.setScissor=function(){},this.enableScissorTest=function(){},this.setClearColor=function(e,t){L.set(e),k=void 0!==t?t:1,st.min.set(-S,-C),st.max.set(S,C)},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getMaxAnisotropy=function(){return 0},this.clear=function(){!1===st.empty()&&(st.intersect(ot),st.expandByScalar(2),1>k&&A.clearRect(0|st.min.x,0|st.min.y,st.max.x-st.min.x|0,st.max.y-st.min.y|0),k>0&&(l(THREE.NormalBlending),s(1),d("rgba("+Math.floor(255*L.r)+","+Math.floor(255*L.g)+","+Math.floor(255*L.b)+","+k+")"),A.fillRect(0|st.min.x,0|st.min.y,st.max.x-st.min.x|0,st.max.y-st.min.y|0)),st.makeEmpty())},this.clearColor=function(){},this.clearDepth=function(){},this.clearStencil=function(){},this.render=function(e,w){if(!1==w instanceof THREE.Camera)console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");else{!0===this.autoClear&&this.clear(),b.info.render.vertices=0,b.info.render.faces=0,E=_.projectScene(e,w,this.sortObjects,this.sortElements),v=E.elements,g=E.lights,y=w,mt.getNormalMatrix(w.matrixWorldInverse),ht.setRGB(0,0,0),ct.setRGB(0,0,0),ft.setRGB(0,0,0);for(var H=0,M=g.length;M>H;H++){var L=g[H],k=L.color;L instanceof THREE.AmbientLight?ht.add(k):L instanceof THREE.DirectionalLight?ct.add(k):L instanceof THREE.PointLight&&ft.add(k)}for(H=0,M=v.length;M>H;H++){var D=v[H],P=D.material;if(void 0!==P&&0!==P.opacity){if(lt.makeEmpty(),D instanceof THREE.RenderableSprite){T=D,T.x*=S,T.y*=C;var L=T,F=D,k=P;s(k.opacity),l(k.blending);var z=F.scale.x*S,F=F.scale.y*C,D=.5*Math.sqrt(z*z+F*F);if(lt.min.set(L.x-D,L.y-D),lt.max.set(L.x+D,L.y+D),k instanceof THREE.SpriteMaterial||k instanceof THREE.ParticleSystemMaterial){var N=k.map;if(null!==N){!1===N.hasEventListener("update",a)&&(void 0!==N.image&&0<N.image.width&&r(N),N.addEventListener("update",a)),D=nt[N.id],d(void 0!==D?D:"rgba( 0, 0, 0, 1 )");var U=N.image,D=U.width*N.offset.x,P=U.height*N.offset.y,B=U.width*N.repeat.x,N=U.height*N.repeat.y,U=z/B,V=F/N;A.save(),A.translate(L.x,L.y),0!==k.rotation&&A.rotate(k.rotation),A.translate(-z/2,-F/2),A.scale(U,V),A.translate(-D,-P),A.fillRect(D,P,B,N)}else d(k.color.getStyle()),A.save(),A.translate(L.x,L.y),0!==k.rotation&&A.rotate(k.rotation),A.scale(z,-F),A.fillRect(-.5,-.5,1,1);A.restore()}else k instanceof THREE.SpriteCanvasMaterial&&(u(k.color.getStyle()),d(k.color.getStyle()),A.save(),A.translate(L.x,L.y),0!==k.rotation&&A.rotate(k.rotation),A.scale(z,F),k.program(A),A.restore())}else if(D instanceof THREE.RenderableLine){if(T=D.v1,x=D.v2,T.positionScreen.x*=S,T.positionScreen.y*=C,x.positionScreen.x*=S,x.positionScreen.y*=C,lt.setFromPoints([T.positionScreen,x.positionScreen]),!0===ot.isIntersectionBox(lt))if(L=T,k=x,z=D,F=P,s(F.opacity),l(F.blending),A.beginPath(),A.moveTo(L.positionScreen.x,L.positionScreen.y),A.lineTo(k.positionScreen.x,k.positionScreen.y),F instanceof THREE.LineBasicMaterial){if(h(F.linewidth),c(F.linecap),f(F.linejoin),F.vertexColors!==THREE.VertexColors)u(F.color.getStyle());else if(D=z.vertexColors[0].getStyle(),z=z.vertexColors[1].getStyle(),D===z)u(D);else{try{var O=A.createLinearGradient(L.positionScreen.x,L.positionScreen.y,k.positionScreen.x,k.positionScreen.y);O.addColorStop(0,D),O.addColorStop(1,z)}catch(Et){O=D}u(O)}A.stroke(),lt.expandByScalar(2*F.linewidth)}else F instanceof THREE.LineDashedMaterial&&(h(F.linewidth),c(F.linecap),f(F.linejoin),u(F.color.getStyle()),p(F.dashSize,F.gapSize),A.stroke(),lt.expandByScalar(2*F.linewidth),p(null,null))}else if(D instanceof THREE.RenderableFace){if(T=D.v1,x=D.v2,R=D.v3,-1>T.positionScreen.z||1<T.positionScreen.z)continue;if(-1>x.positionScreen.z||1<x.positionScreen.z)continue;if(-1>R.positionScreen.z||1<R.positionScreen.z)continue;if(T.positionScreen.x*=S,T.positionScreen.y*=C,x.positionScreen.x*=S,x.positionScreen.y*=C,R.positionScreen.x*=S,R.positionScreen.y*=C,0<P.overdraw&&(o(T.positionScreen,x.positionScreen,P.overdraw),o(x.positionScreen,R.positionScreen,P.overdraw),o(R.positionScreen,T.positionScreen,P.overdraw)),lt.setFromPoints([T.positionScreen,x.positionScreen,R.positionScreen]),!0===ot.isIntersectionBox(lt)){k=T,z=x,F=R,L=P,b.info.render.vertices+=3,b.info.render.faces++,s(L.opacity),l(L.blending),j=k.positionScreen.x,I=k.positionScreen.y,G=z.positionScreen.x,W=z.positionScreen.y,X=F.positionScreen.x,q=F.positionScreen.y;var P=j,B=I,N=G,U=W,V=X,vt=q;if(A.beginPath(),A.moveTo(P,B),A.lineTo(N,U),A.lineTo(V,vt),A.closePath(),(L instanceof THREE.MeshLambertMaterial||L instanceof THREE.MeshPhongMaterial)&&null===L.map){for(it.copy(L.color),at.copy(L.emissive),L.vertexColors===THREE.FaceColors&&it.multiply(D.color),Y.copy(ht),dt.copy(k.positionWorld).add(z.positionWorld).add(F.positionWorld).divideScalar(3),k=dt,z=D.normalModel,F=Y,D=0,P=g.length;P>D;D++)B=g[D],rt.copy(B.color),B instanceof THREE.DirectionalLight?(N=ut.setFromMatrixPosition(B.matrixWorld).normalize(),U=z.dot(N),0>=U||(U*=B.intensity,F.add(rt.multiplyScalar(U)))):B instanceof THREE.PointLight&&(N=ut.setFromMatrixPosition(B.matrixWorld),U=z.dot(ut.subVectors(N,k).normalize()),0>=U||(U*=0==B.distance?1:1-Math.min(k.distanceTo(N)/B.distance,1),0!=U&&(U*=B.intensity,F.add(rt.multiplyScalar(U)))));Y.multiply(it).add(at),!0===L.wireframe?t(Y,L.wireframeLinewidth,L.wireframeLinecap,L.wireframeLinejoin):i(Y)}else L instanceof THREE.MeshBasicMaterial||L instanceof THREE.MeshLambertMaterial||L instanceof THREE.MeshPhongMaterial?null!==L.map?L.map.mapping instanceof THREE.UVMapping&&(K=D.uvs,n(j,I,G,W,X,q,K[0].x,K[0].y,K[1].x,K[1].y,K[2].x,K[2].y,L.map)):null!==L.envMap?L.envMap.mapping instanceof THREE.SphericalReflectionMapping?(pt.copy(D.vertexNormalsModel[0]).applyMatrix3(mt),Z=.5*pt.x+.5,Q=.5*pt.y+.5,pt.copy(D.vertexNormalsModel[1]).applyMatrix3(mt),$=.5*pt.x+.5,J=.5*pt.y+.5,pt.copy(D.vertexNormalsModel[2]).applyMatrix3(mt),et=.5*pt.x+.5,tt=.5*pt.y+.5,n(j,I,G,W,X,q,Z,Q,$,J,et,tt,L.envMap)):L.envMap.mapping instanceof THREE.SphericalRefractionMapping&&(pt.copy(D.vertexNormalsModel[0]).applyMatrix3(mt),Z=-.5*pt.x+.5,Q=-.5*pt.y+.5,pt.copy(D.vertexNormalsModel[1]).applyMatrix3(mt),$=-.5*pt.x+.5,J=-.5*pt.y+.5,pt.copy(D.vertexNormalsModel[2]).applyMatrix3(mt),et=-.5*pt.x+.5,tt=-.5*pt.y+.5,n(j,I,G,W,X,q,Z,Q,$,J,et,tt,L.envMap)):(Y.copy(L.color),L.vertexColors===THREE.FaceColors&&Y.multiply(D.color),!0===L.wireframe?t(Y,L.wireframeLinewidth,L.wireframeLinecap,L.wireframeLinejoin):i(Y)):(L instanceof THREE.MeshDepthMaterial?Y.r=Y.g=Y.b=1-m(k.positionScreen.z*k.positionScreen.w,y.near,y.far):L instanceof THREE.MeshNormalMaterial?(pt.copy(D.normalModel).applyMatrix3(mt),Y.setRGB(pt.x,pt.y,pt.z).multiplyScalar(.5).addScalar(.5)):Y.setRGB(1,1,1),!0===L.wireframe?t(Y,L.wireframeLinewidth,L.wireframeLinecap,L.wireframeLinejoin):i(Y))}}st.union(lt)}}}}},THREE.ShaderChunk={fog_pars_fragment:"#ifdef USE_FOG\n	uniform vec3 fogColor;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",fog_fragment:"#ifdef USE_FOG\n	#ifdef USE_LOGDEPTHBUF_EXT\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n	#else\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n	#endif\n	#ifdef FOG_EXP2\n		const float LOG2 = 1.442695;\n		float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n		fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n	#endif\n	gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	uniform samplerCube envMap;\n	uniform float flipEnvMap;\n	uniform int combine;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n		uniform bool useRefract;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",envmap_fragment:"#ifdef USE_ENVMAP\n	vec3 reflectVec;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		vec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );\n		if ( useRefract ) {\n			reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n		} else { \n			reflectVec = reflect( cameraToVertex, worldNormal );\n		}\n	#else\n		reflectVec = vReflect;\n	#endif\n	#ifdef DOUBLE_SIDED\n		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n		vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#endif\n	#ifdef GAMMA_INPUT\n		cubeColor.xyz *= cubeColor.xyz;\n	#endif\n	if ( combine == 1 ) {\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\n	} else if ( combine == 2 ) {\n		gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\n	} else {\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\n	}\n#endif",envmap_pars_vertex:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\n	varying vec3 vReflect;\n	uniform float refractionRatio;\n	uniform bool useRefract;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n	#ifdef USE_SKINNING\n		vec4 worldPosition = modelMatrix * skinned;\n	#endif\n	#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n		vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n	#endif\n	#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n		vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n	#endif\n#endif",envmap_vertex:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\n	vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\n	worldNormal = normalize( worldNormal );\n	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n	if ( useRefract ) {\n		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n	} else {\n		vReflect = reflect( cameraToVertex, worldNormal );\n	}\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n	gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n#endif",map_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n#endif",map_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",map_fragment:"#ifdef USE_MAP\n	vec4 texelColor = texture2D( map, vUv );\n	#ifdef GAMMA_INPUT\n		texelColor.xyz *= texelColor.xyz;\n	#endif\n	gl_FragColor = gl_FragColor * texelColor;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n	varying vec2 vUv2;\n	uniform sampler2D lightMap;\n#endif",lightmap_pars_vertex:"#ifdef USE_LIGHTMAP\n	varying vec2 vUv2;\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n	gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n#endif",lightmap_vertex:"#ifdef USE_LIGHTMAP\n	vUv2 = uv2;\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n		vec3 S = normalize(  q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n	}\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",lights_lambert_pars_vertex:"uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\n	uniform vec3 wrapRGB;\n#endif",lights_lambert_vertex:"vLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n	vLightBack = vec3( 0.0 );\n#endif\ntransformedNormal = normalize( transformedNormal );\n#if MAX_DIR_LIGHTS > 0\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n	vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n	vec3 dirVector = normalize( lDirection.xyz );\n	float dotProduct = dot( transformedNormal, dirVector );\n	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n	#ifdef DOUBLE_SIDED\n		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n		#ifdef WRAP_AROUND\n			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n		#endif\n	#endif\n	#ifdef WRAP_AROUND\n		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n		#ifdef DOUBLE_SIDED\n			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n		#endif\n	#endif\n	vLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n	#ifdef DOUBLE_SIDED\n		vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n	#endif\n}\n#endif\n#if MAX_POINT_LIGHTS > 0\n	for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n		lVector = normalize( lVector );\n		float dotProduct = dot( transformedNormal, lVector );\n		vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n		#ifdef DOUBLE_SIDED\n			vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n			#ifdef WRAP_AROUND\n				vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n			#endif\n		#endif\n		#ifdef WRAP_AROUND\n			vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n			#ifdef DOUBLE_SIDED\n				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n			#endif\n		#endif\n		vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n		#ifdef DOUBLE_SIDED\n			vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n		#endif\n	}\n#endif\n#if MAX_SPOT_LIGHTS > 0\n	for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n			spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n			float lDistance = 1.0;\n			if ( spotLightDistance[ i ] > 0.0 )\n				lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n			lVector = normalize( lVector );\n			float dotProduct = dot( transformedNormal, lVector );\n			vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n			#ifdef DOUBLE_SIDED\n				vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n				#ifdef WRAP_AROUND\n					vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n				#endif\n			#endif\n			#ifdef WRAP_AROUND\n				vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n				#ifdef DOUBLE_SIDED\n					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n				#endif\n			#endif\n			vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n			#ifdef DOUBLE_SIDED\n				vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n			#endif\n		}\n	}\n#endif\n#if MAX_HEMI_LIGHTS > 0\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n		float dotProduct = dot( transformedNormal, lVector );\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n		float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n		#ifdef DOUBLE_SIDED\n			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n		#endif\n	}\n#endif\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n#ifdef DOUBLE_SIDED\n	vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n#endif",lights_phong_pars_vertex:"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n	varying vec3 vWorldPosition;\n#endif",lights_phong_vertex:"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n	vWorldPosition = worldPosition.xyz;\n#endif",lights_phong_pars_fragment:"uniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n	varying vec3 vWorldPosition;\n#endif\n#ifdef WRAP_AROUND\n	uniform vec3 wrapRGB;\n#endif\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",lights_phong_fragment:"vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#ifdef DOUBLE_SIDED\n	normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n#endif\n#ifdef USE_NORMALMAP\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n#if MAX_POINT_LIGHTS > 0\n	vec3 pointDiffuse  = vec3( 0.0 );\n	vec3 pointSpecular = vec3( 0.0 );\n	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n		lVector = normalize( lVector );\n		float dotProduct = dot( normal, lVector );\n		#ifdef WRAP_AROUND\n			float pointDiffuseWeightFull = max( dotProduct, 0.0 );\n			float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n		#else\n			float pointDiffuseWeight = max( dotProduct, 0.0 );\n		#endif\n		pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n		vec3 pointHalfVector = normalize( lVector + viewPosition );\n		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n		float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n		float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n		pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n	}\n#endif\n#if MAX_SPOT_LIGHTS > 0\n	vec3 spotDiffuse  = vec3( 0.0 );\n	vec3 spotSpecular = vec3( 0.0 );\n	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n		float lDistance = 1.0;\n		if ( spotLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n		lVector = normalize( lVector );\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n			spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n			float dotProduct = dot( normal, lVector );\n			#ifdef WRAP_AROUND\n				float spotDiffuseWeightFull = max( dotProduct, 0.0 );\n				float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n			#else\n				float spotDiffuseWeight = max( dotProduct, 0.0 );\n			#endif\n			spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n			vec3 spotHalfVector = normalize( lVector + viewPosition );\n			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n			float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n			float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n			spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n		}\n	}\n#endif\n#if MAX_DIR_LIGHTS > 0\n	vec3 dirDiffuse  = vec3( 0.0 );\n	vec3 dirSpecular = vec3( 0.0 );\n	for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n		vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n		vec3 dirVector = normalize( lDirection.xyz );\n		float dotProduct = dot( normal, dirVector );\n		#ifdef WRAP_AROUND\n			float dirDiffuseWeightFull = max( dotProduct, 0.0 );\n			float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n		#else\n			float dirDiffuseWeight = max( dotProduct, 0.0 );\n		#endif\n		dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n		vec3 dirHalfVector = normalize( dirVector + viewPosition );\n		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n		float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n		float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n		dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n	}\n#endif\n#if MAX_HEMI_LIGHTS > 0\n	vec3 hemiDiffuse  = vec3( 0.0 );\n	vec3 hemiSpecular = vec3( 0.0 );\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n		float dotProduct = dot( normal, lVector );\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n		vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n		hemiDiffuse += diffuse * hemiColor;\n		vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n		float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n		float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\n		vec3 lVectorGround = -lVector;\n		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n		float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n		float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\n		float dotProductGround = dot( normal, lVectorGround );\n		float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n		vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n		vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n		hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n	}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\n	totalDiffuse += dirDiffuse;\n	totalSpecular += dirSpecular;\n#endif\n#if MAX_HEMI_LIGHTS > 0\n	totalDiffuse += hemiDiffuse;\n	totalSpecular += hemiSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\n	totalDiffuse += pointDiffuse;\n	totalSpecular += pointSpecular;\n#endif\n#if MAX_SPOT_LIGHTS > 0\n	totalDiffuse += spotDiffuse;\n	totalSpecular += spotSpecular;\n#endif\n#ifdef METAL\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n#else\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif",color_fragment:"#ifdef USE_COLOR\n	gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n	#ifdef GAMMA_INPUT\n		vColor = color * color;\n	#else\n		vColor = color;\n	#endif\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n	#ifdef BONE_TEXTURE\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n		mat4 getBoneMatrix( const in float i ) {\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n			y = dy * ( y + 0.5 );\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n			mat4 bone = mat4( v1, v2, v3, v4 );\n			return bone;\n		}\n	#else\n		uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n		mat4 getBoneMatrix( const in float i ) {\n			mat4 bone = boneGlobalMatrices[ int(i) ];\n			return bone;\n		}\n	#endif\n#endif",skinbase_vertex:"#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n	#ifdef USE_MORPHTARGETS\n	vec4 skinVertex = vec4( morphed, 1.0 );\n	#else\n	vec4 skinVertex = vec4( position, 1.0 );\n	#endif\n	vec4 skinned  = boneMatX * skinVertex * skinWeight.x;\n	skinned      += boneMatY * skinVertex * skinWeight.y;\n	skinned      += boneMatZ * skinVertex * skinWeight.z;\n	skinned      += boneMatW * skinVertex * skinWeight.w;\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n	#ifndef USE_MORPHNORMALS\n	uniform float morphTargetInfluences[ 8 ];\n	#else\n	uniform float morphTargetInfluences[ 4 ];\n	#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n	vec3 morphed = vec3( 0.0 );\n	morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n	#ifndef USE_MORPHNORMALS\n	morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n	#endif\n	morphed += position;\n#endif",default_vertex:"vec4 mvPosition;\n#ifdef USE_SKINNING\n	mvPosition = modelViewMatrix * skinned;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\n	mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\n	mvPosition = modelViewMatrix * vec4( position, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n	vec3 morphedNormal = vec3( 0.0 );\n	morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n	morphedNormal += normal;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n	mat4 skinMatrix = skinWeight.x * boneMatX;\n	skinMatrix 	+= skinWeight.y * boneMatY;\n	skinMatrix 	+= skinWeight.z * boneMatZ;\n	skinMatrix 	+= skinWeight.w * boneMatW;\n	#ifdef USE_MORPHNORMALS\n	vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n	#else\n	vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n	#endif\n#endif",defaultnormal_vertex:"vec3 objectNormal;\n#ifdef USE_SKINNING\n	objectNormal = skinnedNormal.xyz;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\n	objectNormal = morphedNormal;\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\n	objectNormal = normal;\n#endif\n#ifdef FLIP_SIDED\n	objectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n	uniform sampler2D shadowMap[ MAX_SHADOWS ];\n	uniform vec2 shadowMapSize[ MAX_SHADOWS ];\n	uniform float shadowDarkness[ MAX_SHADOWS ];\n	uniform float shadowBias[ MAX_SHADOWS ];\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n	float unpackDepth( const in vec4 rgba_depth ) {\n		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n		float depth = dot( rgba_depth, bit_shift );\n		return depth;\n	}\n#endif",shadowmap_fragment:"#ifdef USE_SHADOWMAP\n	#ifdef SHADOWMAP_DEBUG\n		vec3 frustumColors[3];\n		frustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n		frustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n		frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n	#endif\n	#ifdef SHADOWMAP_CASCADE\n		int inFrustumCount = 0;\n	#endif\n	float fDepth;\n	vec3 shadowColor = vec3( 1.0 );\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n		vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n		#ifdef SHADOWMAP_CASCADE\n			inFrustumCount += int( inFrustum );\n			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n		#else\n			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n		#endif\n		bool frustumTest = all( frustumTestVec );\n		if ( frustumTest ) {\n			shadowCoord.z += shadowBias[ i ];\n			#if defined( SHADOWMAP_TYPE_PCF )\n				float shadow = 0.0;\n				const float shadowDelta = 1.0 / 9.0;\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n				float dx0 = -1.25 * xPixelOffset;\n				float dy0 = -1.25 * yPixelOffset;\n				float dx1 = 1.25 * xPixelOffset;\n				float dy1 = 1.25 * yPixelOffset;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n			#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n				float shadow = 0.0;\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n				float dx0 = -1.0 * xPixelOffset;\n				float dy0 = -1.0 * yPixelOffset;\n				float dx1 = 1.0 * xPixelOffset;\n				float dy1 = 1.0 * yPixelOffset;\n				mat3 shadowKernel;\n				mat3 depthKernel;\n				depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n				vec3 shadowZ = vec3( shadowCoord.z );\n				shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n				shadowKernel[0] *= vec3(0.25);\n				shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n				shadowKernel[1] *= vec3(0.25);\n				shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n				shadowKernel[2] *= vec3(0.25);\n				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n				shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n				shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n				vec4 shadowValues;\n				shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n				shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n				shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n				shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n				shadow = dot( shadowValues, vec4( 1.0 ) );\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n			#else\n				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n				float fDepth = unpackDepth( rgbaDepth );\n				if ( fDepth < shadowCoord.z )\n					shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n			#endif\n		}\n		#ifdef SHADOWMAP_DEBUG\n			#ifdef SHADOWMAP_CASCADE\n				if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n			#else\n				if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n			#endif\n		#endif\n	}\n	#ifdef GAMMA_OUTPUT\n		shadowColor *= shadowColor;\n	#endif\n	gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n	uniform mat4 shadowMatrix[ MAX_SHADOWS ];\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n		vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n	}\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n	if ( gl_FragColor.a < ALPHATEST ) discard;\n#endif",linear_to_gamma_fragment:"#ifdef GAMMA_OUTPUT\n	gl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n	uniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n	gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n#else\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n	#endif\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n	uniform float logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		#extension GL_EXT_frag_depth : enable\n		varying float vFragDepth;\n	#endif\n#endif",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif"},THREE.UniformsUtils={merge:function(e){var t,i,a,r={};
for(t=0;t<e.length;t++)for(i in a=this.clone(e[t]))r[i]=a[i];return r},clone:function(e){var t,i,a,r={};for(t in e)for(i in r[t]={},e[t])a=e[t][i],r[t][i]=a instanceof THREE.Color||a instanceof THREE.Vector2||a instanceof THREE.Vector3||a instanceof THREE.Vector4||a instanceof THREE.Matrix4||a instanceof THREE.Texture?a.clone():a instanceof Array?a.slice():a;return r}},THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"	#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"	#ifdef DOUBLE_SIDED\n		if ( gl_FrontFacing )\n			gl_FragColor.xyz *= vLightFront;\n		else\n			gl_FragColor.xyz *= vLightBack;\n	#else\n		gl_FragColor.xyz *= vLightFront;\n	#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	vNormal = normalize( transformedNormal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"	vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 ambient;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;\nuniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	#ifdef USE_SIZEATTENUATION\n		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n	#else\n		gl_PointSize = size;\n	#endif\n	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n	gl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vLineDistance = scale * lineDistance;\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;\nuniform float mFar;\nuniform float opacity;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n	#else\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n	#endif\n	float color = 1.0 - smoothstep( mNear, mFar, depth );\n	gl_FragColor = vec4( vec3( color ), opacity );\n}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {\n	vNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vNormal;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new THREE.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},diffuse:{type:"c",value:new THREE.Color(16777215)},specular:{type:"c",value:new THREE.Color(1118481)},ambient:{type:"c",value:new THREE.Color(16777215)},shininess:{type:"f",value:30},opacity:{type:"f",value:1},useRefract:{type:"i",value:0},refractionRatio:{type:"f",value:.98},reflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\nuniform bool enableDiffuse;\nuniform bool enableSpecular;\nuniform bool enableAO;\nuniform bool enableReflection;\nuniform sampler2D tDiffuse;\nuniform sampler2D tNormal;\nuniform sampler2D tSpecular;\nuniform sampler2D tAO;\nuniform samplerCube tCube;\nuniform vec2 uNormalScale;\nuniform bool useRefract;\nuniform float refractionRatio;\nuniform float reflectivity;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\n	uniform vec3 wrapRGB;\n#endif\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	gl_FragColor = vec4( vec3( 1.0 ), opacity );\n	vec3 specularTex = vec3( 1.0 );\n	vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;\n	normalTex.xy *= uNormalScale;\n	normalTex = normalize( normalTex );\n	if( enableDiffuse ) {\n		#ifdef GAMMA_INPUT\n			vec4 texelColor = texture2D( tDiffuse, vUv );\n			texelColor.xyz *= texelColor.xyz;\n			gl_FragColor = gl_FragColor * texelColor;\n		#else\n			gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );\n		#endif\n	}\n	if( enableAO ) {\n		#ifdef GAMMA_INPUT\n			vec4 aoColor = texture2D( tAO, vUv );\n			aoColor.xyz *= aoColor.xyz;\n			gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;\n		#else\n			gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;\n		#endif\n	}\n	if( enableSpecular )\n		specularTex = texture2D( tSpecular, vUv ).xyz;\n	mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );\n	vec3 finalNormal = tsb * normalTex;\n	#ifdef FLIP_SIDED\n		finalNormal = -finalNormal;\n	#endif\n	vec3 normal = normalize( finalNormal );\n	vec3 viewPosition = normalize( vViewPosition );\n	#if MAX_POINT_LIGHTS > 0\n		vec3 pointDiffuse = vec3( 0.0 );\n		vec3 pointSpecular = vec3( 0.0 );\n		for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n			vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n			vec3 pointVector = lPosition.xyz + vViewPosition.xyz;\n			float pointDistance = 1.0;\n			if ( pointLightDistance[ i ] > 0.0 )\n				pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );\n			pointVector = normalize( pointVector );\n			#ifdef WRAP_AROUND\n				float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );\n				float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );\n				vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n			#else\n				float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );\n			#endif\n			pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;\n			vec3 pointHalfVector = normalize( pointVector + viewPosition );\n			float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n			float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n			float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );\n			pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;\n		}\n	#endif\n	#if MAX_SPOT_LIGHTS > 0\n		vec3 spotDiffuse = vec3( 0.0 );\n		vec3 spotSpecular = vec3( 0.0 );\n		for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n			vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n			vec3 spotVector = lPosition.xyz + vViewPosition.xyz;\n			float spotDistance = 1.0;\n			if ( spotLightDistance[ i ] > 0.0 )\n				spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );\n			spotVector = normalize( spotVector );\n			float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n			if ( spotEffect > spotLightAngleCos[ i ] ) {\n				spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n				#ifdef WRAP_AROUND\n					float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );\n					float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );\n					vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n				#else\n					float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );\n				#endif\n				spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;\n				vec3 spotHalfVector = normalize( spotVector + viewPosition );\n				float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n				float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n				float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );\n				spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;\n			}\n		}\n	#endif\n	#if MAX_DIR_LIGHTS > 0\n		vec3 dirDiffuse = vec3( 0.0 );\n		vec3 dirSpecular = vec3( 0.0 );\n		for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {\n			vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n			vec3 dirVector = normalize( lDirection.xyz );\n			#ifdef WRAP_AROUND\n				float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );\n				float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );\n				vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );\n			#else\n				float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );\n			#endif\n			dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;\n			vec3 dirHalfVector = normalize( dirVector + viewPosition );\n			float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n			float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n			float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\n			dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n		}\n	#endif\n	#if MAX_HEMI_LIGHTS > 0\n		vec3 hemiDiffuse  = vec3( 0.0 );\n		vec3 hemiSpecular = vec3( 0.0 );\n		for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n			vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n			vec3 lVector = normalize( lDirection.xyz );\n			float dotProduct = dot( normal, lVector );\n			float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n			vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n			hemiDiffuse += diffuse * hemiColor;\n			vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n			float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n			float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\n			vec3 lVectorGround = -lVector;\n			vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n			float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n			float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\n			float dotProductGround = dot( normal, lVectorGround );\n			float specularNormalization = ( shininess + 2.0001 ) / 8.0;\n			vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\n			vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\n			hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n		}\n	#endif\n	vec3 totalDiffuse = vec3( 0.0 );\n	vec3 totalSpecular = vec3( 0.0 );\n	#if MAX_DIR_LIGHTS > 0\n		totalDiffuse += dirDiffuse;\n		totalSpecular += dirSpecular;\n	#endif\n	#if MAX_HEMI_LIGHTS > 0\n		totalDiffuse += hemiDiffuse;\n		totalSpecular += hemiSpecular;\n	#endif\n	#if MAX_POINT_LIGHTS > 0\n		totalDiffuse += pointDiffuse;\n		totalSpecular += pointSpecular;\n	#endif\n	#if MAX_SPOT_LIGHTS > 0\n		totalDiffuse += spotDiffuse;\n		totalSpecular += spotSpecular;\n	#endif\n	#ifdef METAL\n		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );\n	#else\n		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n	#endif\n	if ( enableReflection ) {\n		vec3 vReflect;\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		if ( useRefract ) {\n			vReflect = refract( cameraToVertex, normal, refractionRatio );\n		} else {\n			vReflect = reflect( cameraToVertex, normal );\n		}\n		vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\n		#ifdef GAMMA_INPUT\n			cubeColor.xyz *= cubeColor.xyz;\n		#endif\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );\n	}",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;\nuniform vec2 uOffset;\nuniform vec2 uRepeat;\nuniform bool enableDisplacement;\n#ifdef VERTEX_TEXTURES\n	uniform sampler2D tDisplacement;\n	uniform float uDisplacementScale;\n	uniform float uDisplacementBias;\n#endif\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,"	#ifdef USE_SKINNING\n		vNormal = normalize( normalMatrix * skinnedNormal.xyz );\n		vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );\n		vTangent = normalize( normalMatrix * skinnedTangent.xyz );\n	#else\n		vNormal = normalize( normalMatrix * normal );\n		vTangent = normalize( normalMatrix * tangent.xyz );\n	#endif\n	vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );\n	vUv = uv * uRepeat + uOffset;\n	vec3 displacedPosition;\n	#ifdef VERTEX_TEXTURES\n		if ( enableDisplacement ) {\n			vec3 dv = texture2D( tDisplacement, uv ).xyz;\n			float df = uDisplacementScale * dv.x + uDisplacementBias;\n			displacedPosition = position + normalize( normal ) * df;\n		} else {\n			#ifdef USE_SKINNING\n				vec4 skinVertex = vec4( position, 1.0 );\n				vec4 skinned  = boneMatX * skinVertex * skinWeight.x;\n				skinned 	  += boneMatY * skinVertex * skinWeight.y;\n				skinned 	  += boneMatZ * skinVertex * skinWeight.z;\n				skinned 	  += boneMatW * skinVertex * skinWeight.w;\n				displacedPosition  = skinned.xyz;\n			#else\n				displacedPosition = position;\n			#endif\n		}\n	#else\n		#ifdef USE_SKINNING\n			vec4 skinVertex = vec4( position, 1.0 );\n			vec4 skinned  = boneMatX * skinVertex * skinWeight.x;\n			skinned 	  += boneMatY * skinVertex * skinWeight.y;\n			skinned 	  += boneMatZ * skinVertex * skinWeight.z;\n			skinned 	  += boneMatW * skinVertex * skinWeight.w;\n			displacedPosition  = skinned.xyz;\n		#else\n			displacedPosition = position;\n		#endif\n	#endif\n	vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );\n	vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"	vWorldPosition = worldPosition.xyz;\n	vViewPosition = -mvPosition.xyz;\n	#ifdef USE_SHADOWMAP\n		for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n			vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n		}\n	#endif\n}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {\n	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n	vWorldPosition = worldPosition.xyz;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[THREE.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {\n	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n	const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n	res -= res.xxyz * bit_mask;\n	return res;\n}\nvoid main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT\n		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\n	#else\n		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n	#endif\n}"].join("\n")}},THREE.WebGLRenderer=function(e){function t(e,t){var i=e.vertices.length,a=t.material;if(a.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var r in a.attributes){var n=a.attributes[r];if(!n.__webglInitialized||n.createUniqueBuffers){n.__webglInitialized=!0;var o=1;"v2"===n.type?o=2:"v3"===n.type?o=3:"v4"===n.type?o=4:"c"===n.type&&(o=3),n.size=o,n.array=new Float32Array(i*o),n.buffer=G.createBuffer(),n.buffer.belongsToAttribute=r,n.needsUpdate=!0}e.__webglCustomAttributesList.push(n)}}}function i(e,t){var i=t.geometry,o=e.faces3,s=3*o.length,l=1*o.length,h=3*o.length,o=a(t,e),c=n(o),f=r(o),u=o.vertexColors?o.vertexColors:!1;if(e.__vertexArray=new Float32Array(3*s),f&&(e.__normalArray=new Float32Array(3*s)),i.hasTangents&&(e.__tangentArray=new Float32Array(4*s)),u&&(e.__colorArray=new Float32Array(3*s)),c&&(0<i.faceVertexUvs.length&&(e.__uvArray=new Float32Array(2*s)),1<i.faceVertexUvs.length&&(e.__uv2Array=new Float32Array(2*s))),t.geometry.skinWeights.length&&t.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*s),e.__skinWeightArray=new Float32Array(4*s)),i=null!==K&&l>21845?Uint32Array:Uint16Array,e.__typeArray=i,e.__faceArray=new i(3*l),e.__lineArray=new i(2*h),e.numMorphTargets)for(e.__morphTargetsArrays=[],i=0,c=e.numMorphTargets;c>i;i++)e.__morphTargetsArrays.push(new Float32Array(3*s));if(e.numMorphNormals)for(e.__morphNormalsArrays=[],i=0,c=e.numMorphNormals;c>i;i++)e.__morphNormalsArrays.push(new Float32Array(3*s));if(e.__webglFaceCount=3*l,e.__webglLineCount=2*h,o.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var d in o.attributes){var p,l=o.attributes[d],h={};for(p in l)h[p]=l[p];(!h.__webglInitialized||h.createUniqueBuffers)&&(h.__webglInitialized=!0,i=1,"v2"===h.type?i=2:"v3"===h.type?i=3:"v4"===h.type?i=4:"c"===h.type&&(i=3),h.size=i,h.array=new Float32Array(s*i),h.buffer=G.createBuffer(),h.buffer.belongsToAttribute=d,l.needsUpdate=!0,h.__original=l),e.__webglCustomAttributesList.push(h)}}e.__inittedArrays=!0}function a(e,t){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function r(e){return e instanceof THREE.MeshBasicMaterial&&!e.envMap||e instanceof THREE.MeshDepthMaterial?!1:e&&void 0!==e.shading&&e.shading===THREE.SmoothShading?THREE.SmoothShading:THREE.FlatShading}function n(e){return e.map||e.lightMap||e.bumpMap||e.normalMap||e.specularMap||e instanceof THREE.ShaderMaterial?!0:!1}function o(e,t,i,a){for(var r in t){var n=t[r],o=i[r];if(n>=0)if(o){var s=o.itemSize;G.bindBuffer(G.ARRAY_BUFFER,o.buffer),l(n),G.vertexAttribPointer(n,s,G.FLOAT,!1,0,a*s*4)}else e.defaultAttributeValues&&(2===e.defaultAttributeValues[r].length?G.vertexAttrib2fv(n,e.defaultAttributeValues[r]):3===e.defaultAttributeValues[r].length&&G.vertexAttrib3fv(n,e.defaultAttributeValues[r]))}h()}function s(){for(var e=0,t=Rt.length;t>e;e++)Rt[e]=0}function l(e){Rt[e]=1,0===bt[e]&&(G.enableVertexAttribArray(e),bt[e]=1)}function h(){for(var e=0,t=bt.length;t>e;e++)bt[e]!==Rt[e]&&(G.disableVertexAttribArray(e),bt[e]=0)}function c(e,t){return e.z!==t.z?t.z-e.z:e.id-t.id}function f(e,t){return t[0]-e[0]}function u(e,t,i){if(e.length)for(var a=0,r=e.length;r>a;a++)it=$=null,et=tt=nt=rt=ft=ct=ot=-1,Ct=!0,e[a].render(t,i,Tt,xt),it=$=null,et=tt=nt=rt=ft=ct=ot=-1,Ct=!0
}function d(e,t,i,a,r,n,o,s){var l,h,c,f;t?(h=e.length-1,f=t=-1):(h=0,t=e.length,f=1);for(var u=h;u!==t;u+=f)if(l=e[u],l.render){if(h=l.object,c=l.buffer,s)l=s;else{if(l=l[i],!l)continue;o&&Z.setBlending(l.blending,l.blendEquation,l.blendSrc,l.blendDst),Z.setDepthTest(l.depthTest),Z.setDepthWrite(l.depthWrite),M(l.polygonOffset,l.polygonOffsetFactor,l.polygonOffsetUnits)}Z.setMaterialFaces(l),c instanceof THREE.BufferGeometry?Z.renderBufferDirect(a,r,n,l,c,h):Z.renderBuffer(a,r,n,l,c,h)}}function p(e,t,i,a,r,n,o){for(var s,l,h=0,c=e.length;c>h;h++)if(s=e[h],l=s.object,l.visible){if(o)s=o;else{if(s=s[t],!s)continue;n&&Z.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),Z.setDepthTest(s.depthTest),Z.setDepthWrite(s.depthWrite),M(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}Z.renderImmediateObject(i,a,r,s,l)}}function m(e,a){var r,n,o;if(void 0===e.__webglInit&&(e.__webglInit=!0,e._modelViewMatrix=new THREE.Matrix4,e._normalMatrix=new THREE.Matrix3,n=e.geometry,void 0!==n&&void 0===n.__webglInit))if(n.__webglInit=!0,n.addEventListener("dispose",It),n instanceof THREE.BufferGeometry)for(o in n.attributes){var s="index"===o?G.ELEMENT_ARRAY_BUFFER:G.ARRAY_BUFFER,l=n.attributes[o];l.buffer=G.createBuffer(),G.bindBuffer(s,l.buffer),G.bufferData(s,l.array,G.STATIC_DRAW)}else if(e instanceof THREE.Mesh){for(r in o=e.material,void 0===n.geometryGroups&&n.makeGroups(o instanceof THREE.MeshFaceMaterial,K?4294967296:65535),n.geometryGroups)if(o=n.geometryGroups[r],!o.__webglVertexBuffer){s=o,s.__webglVertexBuffer=G.createBuffer(),s.__webglNormalBuffer=G.createBuffer(),s.__webglTangentBuffer=G.createBuffer(),s.__webglColorBuffer=G.createBuffer(),s.__webglUVBuffer=G.createBuffer(),s.__webglUV2Buffer=G.createBuffer(),s.__webglSkinIndicesBuffer=G.createBuffer(),s.__webglSkinWeightsBuffer=G.createBuffer(),s.__webglFaceBuffer=G.createBuffer(),s.__webglLineBuffer=G.createBuffer();var h=l=void 0;if(s.numMorphTargets)for(s.__webglMorphTargetsBuffers=[],l=0,h=s.numMorphTargets;h>l;l++)s.__webglMorphTargetsBuffers.push(G.createBuffer());if(s.numMorphNormals)for(s.__webglMorphNormalsBuffers=[],l=0,h=s.numMorphNormals;h>l;l++)s.__webglMorphNormalsBuffers.push(G.createBuffer());Z.info.memory.geometries++,i(o,e),n.verticesNeedUpdate=!0,n.morphTargetsNeedUpdate=!0,n.elementsNeedUpdate=!0,n.uvsNeedUpdate=!0,n.normalsNeedUpdate=!0,n.tangentsNeedUpdate=!0,n.colorsNeedUpdate=!0}}else e instanceof THREE.Line?n.__webglVertexBuffer||(o=n,o.__webglVertexBuffer=G.createBuffer(),o.__webglColorBuffer=G.createBuffer(),o.__webglLineDistanceBuffer=G.createBuffer(),Z.info.memory.geometries++,o=n,s=o.vertices.length,o.__vertexArray=new Float32Array(3*s),o.__colorArray=new Float32Array(3*s),o.__lineDistanceArray=new Float32Array(1*s),o.__webglLineCount=s,t(o,e),n.verticesNeedUpdate=!0,n.colorsNeedUpdate=!0,n.lineDistancesNeedUpdate=!0):e instanceof THREE.ParticleSystem&&!n.__webglVertexBuffer&&(o=n,o.__webglVertexBuffer=G.createBuffer(),o.__webglColorBuffer=G.createBuffer(),Z.info.memory.geometries++,o=n,s=o.vertices.length,o.__vertexArray=new Float32Array(3*s),o.__colorArray=new Float32Array(3*s),o.__sortArray=[],o.__webglParticleCount=s,t(o,e),n.verticesNeedUpdate=!0,n.colorsNeedUpdate=!0);if(void 0===e.__webglActive){if(e instanceof THREE.Mesh){if(n=e.geometry,n instanceof THREE.BufferGeometry)E(a.__webglObjects,n,e);else if(n instanceof THREE.Geometry)for(r in n.geometryGroups)o=n.geometryGroups[r],E(a.__webglObjects,o,e)}else e instanceof THREE.Line||e instanceof THREE.ParticleSystem?(n=e.geometry,E(a.__webglObjects,n,e)):e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback?a.__webglObjectsImmediate.push({id:null,object:e,opaque:null,transparent:null,z:0}):e instanceof THREE.Sprite?a.__webglSprites.push(e):e instanceof THREE.LensFlare&&a.__webglFlares.push(e);e.__webglActive=!0}}function E(e,t,i){e.push({id:null,buffer:t,object:i,opaque:null,transparent:null,z:0})}function v(e){for(var t in e.attributes)if(e.attributes[t].needsUpdate)return!0;return!1}function g(e){for(var t in e.attributes)e.attributes[t].needsUpdate=!1}function y(e,t){e instanceof THREE.Mesh||e instanceof THREE.ParticleSystem||e instanceof THREE.Line?T(t.__webglObjects,e):e instanceof THREE.Sprite?x(t.__webglSprites,e):e instanceof THREE.LensFlare?x(t.__webglFlares,e):(e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback)&&T(t.__webglObjectsImmediate,e),delete e.__webglActive}function T(e,t){for(var i=e.length-1;i>=0;i--)e[i].object===t&&e.splice(i,1)}function x(e,t){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)}function R(e,t,i,a,r){at=0,a.needsUpdate&&(a.program&&Yt(a),Z.initMaterial(a,t,i,r),a.needsUpdate=!1),a.morphTargets&&!r.__webglMorphTargetInfluences&&(r.__webglMorphTargetInfluences=new Float32Array(Z.maxMorphTargets));var n=!1,o=a.program,s=o.uniforms,l=a.uniforms;if(o.id!==$&&(G.useProgram(o.program),$=o.id,n=!0),a.id!==et&&(et=a.id,n=!0),(n||e!==it)&&(G.uniformMatrix4fv(s.projectionMatrix,!1,e.projectionMatrix.elements),O&&G.uniform1f(s.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==it&&(it=e)),a.skinning)if(zt&&r.skeleton.useVertexTexture){if(null!==s.boneTexture){var h=b();G.uniform1i(s.boneTexture,h),Z.setTexture(r.skeleton.boneTexture,h)}null!==s.boneTextureWidth&&G.uniform1i(s.boneTextureWidth,r.skeleton.boneTextureWidth),null!==s.boneTextureHeight&&G.uniform1i(s.boneTextureHeight,r.skeleton.boneTextureHeight)}else null!==s.boneGlobalMatrices&&G.uniformMatrix4fv(s.boneGlobalMatrices,!1,r.skeleton.boneMatrices);if(n){if(i&&a.fog&&(l.fogColor.value=i.color,i instanceof THREE.Fog?(l.fogNear.value=i.near,l.fogFar.value=i.far):i instanceof THREE.FogExp2&&(l.fogDensity.value=i.density)),a instanceof THREE.MeshPhongMaterial||a instanceof THREE.MeshLambertMaterial||a.lights){if(Ct){var c,f,u,d,p=h=0,m=0,E=At,v=E.directional.colors,g=E.directional.positions,y=E.point.colors,T=E.point.positions,x=E.point.distances,R=E.spot.colors,H=E.spot.positions,M=E.spot.distances,C=E.spot.directions,A=E.spot.anglesCos,D=E.spot.exponents,P=E.hemi.skyColors,F=E.hemi.groundColors,z=E.hemi.positions,N=0,U=0,B=0,V=0,j=0,I=0,W=0,X=0,q=c=0;for(i=d=q=0,n=t.length;n>i;i++)c=t[i],c.onlyShadow||(f=c.color,u=c.intensity,d=c.distance,c instanceof THREE.AmbientLight?c.visible&&(Z.gammaInput?(h+=f.r*f.r,p+=f.g*f.g,m+=f.b*f.b):(h+=f.r,p+=f.g,m+=f.b)):c instanceof THREE.DirectionalLight?(j+=1,c.visible&&(St.setFromMatrixPosition(c.matrixWorld),Mt.setFromMatrixPosition(c.target.matrixWorld),St.sub(Mt),St.normalize(),0!==St.x||0!==St.y||0!==St.z)&&(c=3*N,g[c]=St.x,g[c+1]=St.y,g[c+2]=St.z,Z.gammaInput?_(v,c,f,u*u):w(v,c,f,u),N+=1)):c instanceof THREE.PointLight?(I+=1,c.visible&&(q=3*U,Z.gammaInput?_(y,q,f,u*u):w(y,q,f,u),Mt.setFromMatrixPosition(c.matrixWorld),T[q]=Mt.x,T[q+1]=Mt.y,T[q+2]=Mt.z,x[U]=d,U+=1)):c instanceof THREE.SpotLight?(W+=1,c.visible&&(q=3*B,Z.gammaInput?_(R,q,f,u*u):w(R,q,f,u),Mt.setFromMatrixPosition(c.matrixWorld),H[q]=Mt.x,H[q+1]=Mt.y,H[q+2]=Mt.z,M[B]=d,St.copy(Mt),Mt.setFromMatrixPosition(c.target.matrixWorld),St.sub(Mt),St.normalize(),C[q]=St.x,C[q+1]=St.y,C[q+2]=St.z,A[B]=Math.cos(c.angle),D[B]=c.exponent,B+=1)):c instanceof THREE.HemisphereLight&&(X+=1,c.visible&&(St.setFromMatrixPosition(c.matrixWorld),St.normalize(),0!==St.x||0!==St.y||0!==St.z))&&(d=3*V,z[d]=St.x,z[d+1]=St.y,z[d+2]=St.z,f=c.color,c=c.groundColor,Z.gammaInput?(u*=u,_(P,d,f,u),_(F,d,c,u)):(w(P,d,f,u),w(F,d,c,u)),V+=1));for(i=3*N,n=Math.max(v.length,3*j);n>i;i++)v[i]=0;for(i=3*U,n=Math.max(y.length,3*I);n>i;i++)y[i]=0;for(i=3*B,n=Math.max(R.length,3*W);n>i;i++)R[i]=0;for(i=3*V,n=Math.max(P.length,3*X);n>i;i++)P[i]=0;for(i=3*V,n=Math.max(F.length,3*X);n>i;i++)F[i]=0;E.directional.length=N,E.point.length=U,E.spot.length=B,E.hemi.length=V,E.ambient[0]=h,E.ambient[1]=p,E.ambient[2]=m,Ct=!1}i=At,l.ambientLightColor.value=i.ambient,l.directionalLightColor.value=i.directional.colors,l.directionalLightDirection.value=i.directional.positions,l.pointLightColor.value=i.point.colors,l.pointLightPosition.value=i.point.positions,l.pointLightDistance.value=i.point.distances,l.spotLightColor.value=i.spot.colors,l.spotLightPosition.value=i.spot.positions,l.spotLightDistance.value=i.spot.distances,l.spotLightDirection.value=i.spot.directions,l.spotLightAngleCos.value=i.spot.anglesCos,l.spotLightExponent.value=i.spot.exponents,l.hemisphereLightSkyColor.value=i.hemi.skyColors,l.hemisphereLightGroundColor.value=i.hemi.groundColors,l.hemisphereLightDirection.value=i.hemi.positions}if(a instanceof THREE.MeshBasicMaterial||a instanceof THREE.MeshLambertMaterial||a instanceof THREE.MeshPhongMaterial){l.opacity.value=a.opacity,Z.gammaInput?l.diffuse.value.copyGammaToLinear(a.color):l.diffuse.value=a.color,l.map.value=a.map,l.lightMap.value=a.lightMap,l.specularMap.value=a.specularMap,a.bumpMap&&(l.bumpMap.value=a.bumpMap,l.bumpScale.value=a.bumpScale),a.normalMap&&(l.normalMap.value=a.normalMap,l.normalScale.value.copy(a.normalScale));var Y;a.map?Y=a.map:a.specularMap?Y=a.specularMap:a.normalMap?Y=a.normalMap:a.bumpMap&&(Y=a.bumpMap),void 0!==Y&&(i=Y.offset,Y=Y.repeat,l.offsetRepeat.value.set(i.x,i.y,Y.x,Y.y)),l.envMap.value=a.envMap,l.flipEnvMap.value=a.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,l.reflectivity.value=a.reflectivity,l.refractionRatio.value=a.refractionRatio,l.combine.value=a.combine,l.useRefract.value=a.envMap&&a.envMap.mapping instanceof THREE.CubeRefractionMapping}if(a instanceof THREE.LineBasicMaterial?(l.diffuse.value=a.color,l.opacity.value=a.opacity):a instanceof THREE.LineDashedMaterial?(l.diffuse.value=a.color,l.opacity.value=a.opacity,l.dashSize.value=a.dashSize,l.totalSize.value=a.dashSize+a.gapSize,l.scale.value=a.scale):a instanceof THREE.ParticleSystemMaterial?(l.psColor.value=a.color,l.opacity.value=a.opacity,l.size.value=a.size,l.scale.value=k.height/2,l.map.value=a.map):a instanceof THREE.MeshPhongMaterial?(l.shininess.value=a.shininess,Z.gammaInput?(l.ambient.value.copyGammaToLinear(a.ambient),l.emissive.value.copyGammaToLinear(a.emissive),l.specular.value.copyGammaToLinear(a.specular)):(l.ambient.value=a.ambient,l.emissive.value=a.emissive,l.specular.value=a.specular),a.wrapAround&&l.wrapRGB.value.copy(a.wrapRGB)):a instanceof THREE.MeshLambertMaterial?(Z.gammaInput?(l.ambient.value.copyGammaToLinear(a.ambient),l.emissive.value.copyGammaToLinear(a.emissive)):(l.ambient.value=a.ambient,l.emissive.value=a.emissive),a.wrapAround&&l.wrapRGB.value.copy(a.wrapRGB)):a instanceof THREE.MeshDepthMaterial?(l.mNear.value=e.near,l.mFar.value=e.far,l.opacity.value=a.opacity):a instanceof THREE.MeshNormalMaterial&&(l.opacity.value=a.opacity),r.receiveShadow&&!a._shadowPass&&l.shadowMatrix)for(i=Y=0,n=t.length;n>i;i++)h=t[i],h.castShadow&&(h instanceof THREE.SpotLight||h instanceof THREE.DirectionalLight&&!h.shadowCascade)&&(l.shadowMap.value[Y]=h.shadowMap,l.shadowMapSize.value[Y]=h.shadowMapSize,l.shadowMatrix.value[Y]=h.shadowMatrix,l.shadowDarkness.value[Y]=h.shadowDarkness,l.shadowBias.value[Y]=h.shadowBias,Y++);for(t=a.uniformsList,l=0,Y=t.length;Y>l;l++)if(n=o.uniforms[t[l][1]])if(i=t[l][0],p=i.type,h=i.value,"i"===p)G.uniform1i(n,h);else if("f"===p)G.uniform1f(n,h);else if("v2"===p)G.uniform2f(n,h.x,h.y);else if("v3"===p)G.uniform3f(n,h.x,h.y,h.z);else if("v4"===p)G.uniform4f(n,h.x,h.y,h.z,h.w);else if("c"===p)G.uniform3f(n,h.r,h.g,h.b);else if("iv1"===p)G.uniform1iv(n,h);else if("iv"===p)G.uniform3iv(n,h);else if("fv1"===p)G.uniform1fv(n,h);else if("fv"===p)G.uniform3fv(n,h);else if("v2v"===p){for(void 0===i._array&&(i._array=new Float32Array(2*h.length)),p=0,m=h.length;m>p;p++)E=2*p,i._array[E]=h[p].x,i._array[E+1]=h[p].y;G.uniform2fv(n,i._array)}else if("v3v"===p){for(void 0===i._array&&(i._array=new Float32Array(3*h.length)),p=0,m=h.length;m>p;p++)E=3*p,i._array[E]=h[p].x,i._array[E+1]=h[p].y,i._array[E+2]=h[p].z;G.uniform3fv(n,i._array)}else if("v4v"===p){for(void 0===i._array&&(i._array=new Float32Array(4*h.length)),p=0,m=h.length;m>p;p++)E=4*p,i._array[E]=h[p].x,i._array[E+1]=h[p].y,i._array[E+2]=h[p].z,i._array[E+3]=h[p].w;G.uniform4fv(n,i._array)}else if("m3"===p)G.uniformMatrix3fv(n,!1,h.elements);else if("m3v"===p){for(void 0===i._array&&(i._array=new Float32Array(9*h.length)),p=0,m=h.length;m>p;p++)h[p].flattenToArrayOffset(i._array,9*p);G.uniformMatrix3fv(n,!1,i._array)}else if("m4"===p)G.uniformMatrix4fv(n,!1,h.elements);else if("m4v"===p){for(void 0===i._array&&(i._array=new Float32Array(16*h.length)),p=0,m=h.length;m>p;p++)h[p].flattenToArrayOffset(i._array,16*p);G.uniformMatrix4fv(n,!1,i._array)}else if("t"===p){if(E=h,h=b(),G.uniform1i(n,h),E)if(E.image instanceof Array&&6===E.image.length){if(i=E,n=h,6===i.image.length)if(i.needsUpdate){for(i.image.__webglTextureCube||(i.addEventListener("dispose",Gt),i.image.__webglTextureCube=G.createTexture(),Z.info.memory.textures++),G.activeTexture(G.TEXTURE0+n),G.bindTexture(G.TEXTURE_CUBE_MAP,i.image.__webglTextureCube),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,i.flipY),n=i instanceof THREE.CompressedTexture,h=[],p=0;6>p;p++)Z.autoScaleCubemaps&&!n?(m=h,E=p,v=i.image[p],y=Dt,v.width<=y&&v.height<=y||(T=Math.max(v.width,v.height),g=Math.floor(v.width*y/T),y=Math.floor(v.height*y/T),T=document.createElement("canvas"),T.width=g,T.height=y,T.getContext("2d").drawImage(v,0,0,v.width,v.height,0,0,g,y),v=T),m[E]=v):h[p]=i.image[p];for(p=h[0],m=THREE.Math.isPowerOfTwo(p.width)&&THREE.Math.isPowerOfTwo(p.height),E=L(i.format),v=L(i.type),S(G.TEXTURE_CUBE_MAP,i,m),p=0;6>p;p++)if(n)for(y=h[p].mipmaps,T=0,x=y.length;x>T;T++)g=y[T],i.format!==THREE.RGBAFormat?G.compressedTexImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+p,T,E,g.width,g.height,0,g.data):G.texImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+p,T,E,g.width,g.height,0,E,v,g.data);else G.texImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,E,E,v,h[p]);i.generateMipmaps&&m&&G.generateMipmap(G.TEXTURE_CUBE_MAP),i.needsUpdate=!1,i.onUpdate&&i.onUpdate()}else G.activeTexture(G.TEXTURE0+n),G.bindTexture(G.TEXTURE_CUBE_MAP,i.image.__webglTextureCube)}else E instanceof THREE.WebGLRenderTargetCube?(i=E,G.activeTexture(G.TEXTURE0+h),G.bindTexture(G.TEXTURE_CUBE_MAP,i.__webglTexture)):Z.setTexture(E,h)}else if("tv"===p){for(void 0===i._array&&(i._array=[]),p=0,m=i.value.length;m>p;p++)i._array[p]=b();for(G.uniform1iv(n,i._array),p=0,m=i.value.length;m>p;p++)E=i.value[p],h=i._array[p],E&&Z.setTexture(E,h)}else console.warn("THREE.WebGLRenderer: Unknown uniform type: "+p);(a instanceof THREE.ShaderMaterial||a instanceof THREE.MeshPhongMaterial||a.envMap)&&null!==s.cameraPosition&&(Mt.setFromMatrixPosition(e.matrixWorld),G.uniform3f(s.cameraPosition,Mt.x,Mt.y,Mt.z)),(a instanceof THREE.MeshPhongMaterial||a instanceof THREE.MeshLambertMaterial||a instanceof THREE.ShaderMaterial||a.skinning)&&null!==s.viewMatrix&&G.uniformMatrix4fv(s.viewMatrix,!1,e.matrixWorldInverse.elements)}return G.uniformMatrix4fv(s.modelViewMatrix,!1,r._modelViewMatrix.elements),s.normalMatrix&&G.uniformMatrix3fv(s.normalMatrix,!1,r._normalMatrix.elements),null!==s.modelMatrix&&G.uniformMatrix4fv(s.modelMatrix,!1,r.matrixWorld.elements),o}function b(){var e=at;return e>=Lt&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+Lt),at+=1,e}function _(e,t,i,a){e[t]=i.r*i.r*a,e[t+1]=i.g*i.g*a,e[t+2]=i.b*i.b*a}function w(e,t,i,a){e[t]=i.r*a,e[t+1]=i.g*a,e[t+2]=i.b*a}function H(e){e!==mt&&(G.lineWidth(e),mt=e)}function M(e,t,i){ut!==e&&(e?G.enable(G.POLYGON_OFFSET_FILL):G.disable(G.POLYGON_OFFSET_FILL),ut=e),!e||dt===t&&pt===i||(G.polygonOffset(t,i),dt=t,pt=i)}function S(e,t,i){i?(G.texParameteri(e,G.TEXTURE_WRAP_S,L(t.wrapS)),G.texParameteri(e,G.TEXTURE_WRAP_T,L(t.wrapT)),G.texParameteri(e,G.TEXTURE_MAG_FILTER,L(t.magFilter)),G.texParameteri(e,G.TEXTURE_MIN_FILTER,L(t.minFilter))):(G.texParameteri(e,G.TEXTURE_WRAP_S,G.CLAMP_TO_EDGE),G.texParameteri(e,G.TEXTURE_WRAP_T,G.CLAMP_TO_EDGE),G.texParameteri(e,G.TEXTURE_MAG_FILTER,A(t.magFilter)),G.texParameteri(e,G.TEXTURE_MIN_FILTER,A(t.minFilter))),q&&t.type!==THREE.FloatType&&(1<t.anisotropy||t.__oldAnisotropy)&&(G.texParameterf(e,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,Pt)),t.__oldAnisotropy=t.anisotropy)}function C(e,t){G.bindRenderbuffer(G.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(G.renderbufferStorage(G.RENDERBUFFER,G.DEPTH_COMPONENT16,t.width,t.height),G.framebufferRenderbuffer(G.FRAMEBUFFER,G.DEPTH_ATTACHMENT,G.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(G.renderbufferStorage(G.RENDERBUFFER,G.DEPTH_STENCIL,t.width,t.height),G.framebufferRenderbuffer(G.FRAMEBUFFER,G.DEPTH_STENCIL_ATTACHMENT,G.RENDERBUFFER,e)):G.renderbufferStorage(G.RENDERBUFFER,G.RGBA4,t.width,t.height)}function A(e){return e===THREE.NearestFilter||e===THREE.NearestMipMapNearestFilter||e===THREE.NearestMipMapLinearFilter?G.NEAREST:G.LINEAR}function L(e){if(e===THREE.RepeatWrapping)return G.REPEAT;if(e===THREE.ClampToEdgeWrapping)return G.CLAMP_TO_EDGE;if(e===THREE.MirroredRepeatWrapping)return G.MIRRORED_REPEAT;if(e===THREE.NearestFilter)return G.NEAREST;if(e===THREE.NearestMipMapNearestFilter)return G.NEAREST_MIPMAP_NEAREST;if(e===THREE.NearestMipMapLinearFilter)return G.NEAREST_MIPMAP_LINEAR;if(e===THREE.LinearFilter)return G.LINEAR;if(e===THREE.LinearMipMapNearestFilter)return G.LINEAR_MIPMAP_NEAREST;if(e===THREE.LinearMipMapLinearFilter)return G.LINEAR_MIPMAP_LINEAR;if(e===THREE.UnsignedByteType)return G.UNSIGNED_BYTE;if(e===THREE.UnsignedShort4444Type)return G.UNSIGNED_SHORT_4_4_4_4;if(e===THREE.UnsignedShort5551Type)return G.UNSIGNED_SHORT_5_5_5_1;if(e===THREE.UnsignedShort565Type)return G.UNSIGNED_SHORT_5_6_5;if(e===THREE.ByteType)return G.BYTE;if(e===THREE.ShortType)return G.SHORT;if(e===THREE.UnsignedShortType)return G.UNSIGNED_SHORT;if(e===THREE.IntType)return G.INT;if(e===THREE.UnsignedIntType)return G.UNSIGNED_INT;if(e===THREE.FloatType)return G.FLOAT;if(e===THREE.AlphaFormat)return G.ALPHA;if(e===THREE.RGBFormat)return G.RGB;if(e===THREE.RGBAFormat)return G.RGBA;if(e===THREE.LuminanceFormat)return G.LUMINANCE;if(e===THREE.LuminanceAlphaFormat)return G.LUMINANCE_ALPHA;if(e===THREE.AddEquation)return G.FUNC_ADD;if(e===THREE.SubtractEquation)return G.FUNC_SUBTRACT;if(e===THREE.ReverseSubtractEquation)return G.FUNC_REVERSE_SUBTRACT;if(e===THREE.ZeroFactor)return G.ZERO;if(e===THREE.OneFactor)return G.ONE;if(e===THREE.SrcColorFactor)return G.SRC_COLOR;if(e===THREE.OneMinusSrcColorFactor)return G.ONE_MINUS_SRC_COLOR;if(e===THREE.SrcAlphaFactor)return G.SRC_ALPHA;if(e===THREE.OneMinusSrcAlphaFactor)return G.ONE_MINUS_SRC_ALPHA;if(e===THREE.DstAlphaFactor)return G.DST_ALPHA;if(e===THREE.OneMinusDstAlphaFactor)return G.ONE_MINUS_DST_ALPHA;if(e===THREE.DstColorFactor)return G.DST_COLOR;if(e===THREE.OneMinusDstColorFactor)return G.ONE_MINUS_DST_COLOR;if(e===THREE.SrcAlphaSaturateFactor)return G.SRC_ALPHA_SATURATE;if(void 0!==Y){if(e===THREE.RGB_S3TC_DXT1_Format)return Y.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT1_Format)return Y.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT3_Format)return Y.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===THREE.RGBA_S3TC_DXT5_Format)return Y.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}console.log("THREE.WebGLRenderer",THREE.REVISION),e=e||{};var k=void 0!==e.canvas?e.canvas:document.createElement("canvas"),D=void 0!==e.context?e.context:null,P=void 0!==e.precision?e.precision:"highp",F=void 0!==e.alpha?e.alpha:!1,z=void 0!==e.depth?e.depth:!0,N=void 0!==e.stencil?e.stencil:!0,U=void 0!==e.antialias?e.antialias:!1,B=void 0!==e.premultipliedAlpha?e.premultipliedAlpha:!0,V=void 0!==e.preserveDrawingBuffer?e.preserveDrawingBuffer:!1,O=void 0!==e.logarithmicDepthBuffer?e.logarithmicDepthBuffer:!1,j=new THREE.Color(0),I=0;this.domElement=k,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.shadowMapEnabled=this.gammaOutput=this.gammaInput=!1,this.shadowMapAutoUpdate=!0,this.shadowMapType=THREE.PCFShadowMap,this.shadowMapCullFace=THREE.CullFaceFront,this.shadowMapCascade=this.shadowMapDebug=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.renderPluginsPre=[],this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var G,W,X,q,Y,K,Z=this,Q=[],$=null,J=null,et=-1,tt=null,it=null,at=0,rt=-1,nt=-1,ot=-1,st=-1,lt=-1,ht=-1,ct=-1,ft=-1,ut=null,dt=null,pt=null,mt=null,Et=0,vt=0,gt=k.width,yt=k.height,Tt=0,xt=0,Rt=new Uint8Array(16),bt=new Uint8Array(16),_t=new THREE.Frustum,wt=new THREE.Matrix4,Ht=new THREE.Matrix4,Mt=new THREE.Vector3,St=new THREE.Vector3,Ct=!0,At={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};!function(){try{var e={alpha:F,depth:z,stencil:N,antialias:U,premultipliedAlpha:B,preserveDrawingBuffer:V};if(G=D||k.getContext("webgl",e)||k.getContext("experimental-webgl",e),null===G)throw"Error creating WebGL context."}catch(t){console.error(t)}W=G.getExtension("OES_texture_float"),G.getExtension("OES_texture_float_linear"),X=G.getExtension("OES_standard_derivatives"),q=G.getExtension("EXT_texture_filter_anisotropic")||G.getExtension("MOZ_EXT_texture_filter_anisotropic")||G.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),Y=G.getExtension("WEBGL_compressed_texture_s3tc")||G.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||G.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),K=G.getExtension("OES_element_index_uint"),null===W&&console.log("THREE.WebGLRenderer: Float textures not supported."),null===X&&console.log("THREE.WebGLRenderer: Standard derivatives not supported."),null===q&&console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported."),null===Y&&console.log("THREE.WebGLRenderer: S3TC compressed textures not supported."),null===K&&console.log("THREE.WebGLRenderer: elementindex as unsigned integer not supported."),void 0===G.getShaderPrecisionFormat&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),O&&G.getExtension("EXT_frag_depth")}(),G.clearColor(0,0,0,1),G.clearDepth(1),G.clearStencil(0),G.enable(G.DEPTH_TEST),G.depthFunc(G.LEQUAL),G.frontFace(G.CCW),G.cullFace(G.BACK),G.enable(G.CULL_FACE),G.enable(G.BLEND),G.blendEquation(G.FUNC_ADD),G.blendFunc(G.SRC_ALPHA,G.ONE_MINUS_SRC_ALPHA),G.viewport(Et,vt,gt,yt),G.clearColor(j.r,j.g,j.b,I),this.context=G;var Lt=G.getParameter(G.MAX_TEXTURE_IMAGE_UNITS),kt=G.getParameter(G.MAX_VERTEX_TEXTURE_IMAGE_UNITS);G.getParameter(G.MAX_TEXTURE_SIZE);var Dt=G.getParameter(G.MAX_CUBE_MAP_TEXTURE_SIZE),Pt=q?G.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,Ft=kt>0,zt=Ft&&W;Y&&G.getParameter(G.COMPRESSED_TEXTURE_FORMATS);var Nt=G.getShaderPrecisionFormat(G.VERTEX_SHADER,G.HIGH_FLOAT),Ut=G.getShaderPrecisionFormat(G.VERTEX_SHADER,G.MEDIUM_FLOAT);G.getShaderPrecisionFormat(G.VERTEX_SHADER,G.LOW_FLOAT);var Bt=G.getShaderPrecisionFormat(G.FRAGMENT_SHADER,G.HIGH_FLOAT),Vt=G.getShaderPrecisionFormat(G.FRAGMENT_SHADER,G.MEDIUM_FLOAT);G.getShaderPrecisionFormat(G.FRAGMENT_SHADER,G.LOW_FLOAT);var Ot=0<Nt.precision&&0<Bt.precision,jt=0<Ut.precision&&0<Vt.precision;"highp"!==P||Ot||(jt?(P="mediump",console.warn("WebGLRenderer: highp not supported, using mediump")):(P="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp"))),"mediump"!==P||jt||(P="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp")),this.getContext=function(){return G},this.supportsVertexTextures=function(){return Ft},this.supportsFloatTextures=function(){return W},this.supportsStandardDerivatives=function(){return X},this.supportsCompressedTextureS3TC=function(){return Y},this.getMaxAnisotropy=function(){return Pt},this.getPrecision=function(){return P},this.setSize=function(e,t,i){k.width=e*this.devicePixelRatio,k.height=t*this.devicePixelRatio,!1!==i&&(k.style.width=e+"px",k.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,i,a){Et=e*this.devicePixelRatio,vt=t*this.devicePixelRatio,gt=i*this.devicePixelRatio,yt=a*this.devicePixelRatio,G.viewport(Et,vt,gt,yt)},this.setScissor=function(e,t,i,a){G.scissor(e*this.devicePixelRatio,t*this.devicePixelRatio,i*this.devicePixelRatio,a*this.devicePixelRatio)},this.enableScissorTest=function(e){e?G.enable(G.SCISSOR_TEST):G.disable(G.SCISSOR_TEST)},this.setClearColor=function(e,t){j.set(e),I=void 0!==t?t:1,G.clearColor(j.r,j.g,j.b,I)},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getClearColor=function(){return j},this.getClearAlpha=function(){return I},this.clear=function(e,t,i){var a=0;(void 0===e||e)&&(a|=G.COLOR_BUFFER_BIT),(void 0===t||t)&&(a|=G.DEPTH_BUFFER_BIT),(void 0===i||i)&&(a|=G.STENCIL_BUFFER_BIT),G.clear(a)},this.clearColor=function(){G.clear(G.COLOR_BUFFER_BIT)},this.clearDepth=function(){G.clear(G.DEPTH_BUFFER_BIT)},this.clearStencil=function(){G.clear(G.STENCIL_BUFFER_BIT)},this.clearTarget=function(e,t,i,a){this.setRenderTarget(e),this.clear(t,i,a)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)},this.addPrePlugin=function(e){e.init(this),this.renderPluginsPre.push(e)},this.updateShadowMap=function(e,t){$=null,et=tt=ft=ct=ot=-1,Ct=!0,nt=rt=-1,this.shadowMapPlugin.update(e,t)};var It=function(e){if(e=e.target,e.removeEventListener("dispose",It),e.__webglInit=void 0,e instanceof THREE.BufferGeometry){var t,i=e.attributes;for(t in i)void 0!==i[t].buffer&&G.deleteBuffer(i[t].buffer);Z.info.memory.geometries--}else if(void 0!==e.geometryGroups)for(i in e.geometryGroups){if(t=e.geometryGroups[i],void 0!==t.numMorphTargets)for(var a=0,r=t.numMorphTargets;r>a;a++)G.deleteBuffer(t.__webglMorphTargetsBuffers[a]);if(void 0!==t.numMorphNormals)for(a=0,r=t.numMorphNormals;r>a;a++)G.deleteBuffer(t.__webglMorphNormalsBuffers[a]);qt(t)}else qt(e)},Gt=function(e){e=e.target,e.removeEventListener("dispose",Gt),e.image&&e.image.__webglTextureCube?G.deleteTexture(e.image.__webglTextureCube):e.__webglInit&&(e.__webglInit=!1,G.deleteTexture(e.__webglTexture)),Z.info.memory.textures--},Wt=function(e){if(e=e.target,e.removeEventListener("dispose",Wt),e&&e.__webglTexture)if(G.deleteTexture(e.__webglTexture),e instanceof THREE.WebGLRenderTargetCube)for(var t=0;6>t;t++)G.deleteFramebuffer(e.__webglFramebuffer[t]),G.deleteRenderbuffer(e.__webglRenderbuffer[t]);else G.deleteFramebuffer(e.__webglFramebuffer),G.deleteRenderbuffer(e.__webglRenderbuffer);Z.info.memory.textures--},Xt=function(e){e=e.target,e.removeEventListener("dispose",Xt),Yt(e)},qt=function(e){if(void 0!==e.__webglVertexBuffer&&G.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglNormalBuffer&&G.deleteBuffer(e.__webglNormalBuffer),void 0!==e.__webglTangentBuffer&&G.deleteBuffer(e.__webglTangentBuffer),void 0!==e.__webglColorBuffer&&G.deleteBuffer(e.__webglColorBuffer),void 0!==e.__webglUVBuffer&&G.deleteBuffer(e.__webglUVBuffer),void 0!==e.__webglUV2Buffer&&G.deleteBuffer(e.__webglUV2Buffer),void 0!==e.__webglSkinIndicesBuffer&&G.deleteBuffer(e.__webglSkinIndicesBuffer),void 0!==e.__webglSkinWeightsBuffer&&G.deleteBuffer(e.__webglSkinWeightsBuffer),void 0!==e.__webglFaceBuffer&&G.deleteBuffer(e.__webglFaceBuffer),void 0!==e.__webglLineBuffer&&G.deleteBuffer(e.__webglLineBuffer),void 0!==e.__webglLineDistanceBuffer&&G.deleteBuffer(e.__webglLineDistanceBuffer),void 0!==e.__webglCustomAttributesList)for(var t in e.__webglCustomAttributesList)G.deleteBuffer(e.__webglCustomAttributesList[t].buffer);Z.info.memory.geometries--},Yt=function(e){var t=e.program;if(void 0!==t){e.program=void 0;var i,a,r=!1;for(e=0,i=Q.length;i>e;e++)if(a=Q[e],a.program===t){a.usedTimes--,0===a.usedTimes&&(r=!0);break}if(!0===r){for(r=[],e=0,i=Q.length;i>e;e++)a=Q[e],a.program!==t&&r.push(a);Q=r,G.deleteProgram(t),Z.info.memory.programs--}}};this.renderBufferImmediate=function(e,t,i){if(s(),e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=G.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=G.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=G.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=G.createBuffer()),e.hasPositions&&(G.bindBuffer(G.ARRAY_BUFFER,e.__webglVertexBuffer),G.bufferData(G.ARRAY_BUFFER,e.positionArray,G.DYNAMIC_DRAW),l(t.attributes.position),G.vertexAttribPointer(t.attributes.position,3,G.FLOAT,!1,0,0)),e.hasNormals){if(G.bindBuffer(G.ARRAY_BUFFER,e.__webglNormalBuffer),i.shading===THREE.FlatShading){var a,r,n,o,c,f,u,d,p,m,E,v=3*e.count;for(E=0;v>E;E+=9)m=e.normalArray,a=m[E],r=m[E+1],n=m[E+2],o=m[E+3],f=m[E+4],d=m[E+5],c=m[E+6],u=m[E+7],p=m[E+8],a=(a+o+c)/3,r=(r+f+u)/3,n=(n+d+p)/3,m[E]=a,m[E+1]=r,m[E+2]=n,m[E+3]=a,m[E+4]=r,m[E+5]=n,m[E+6]=a,m[E+7]=r,m[E+8]=n}G.bufferData(G.ARRAY_BUFFER,e.normalArray,G.DYNAMIC_DRAW),l(t.attributes.normal),G.vertexAttribPointer(t.attributes.normal,3,G.FLOAT,!1,0,0)}e.hasUvs&&i.map&&(G.bindBuffer(G.ARRAY_BUFFER,e.__webglUvBuffer),G.bufferData(G.ARRAY_BUFFER,e.uvArray,G.DYNAMIC_DRAW),l(t.attributes.uv),G.vertexAttribPointer(t.attributes.uv,2,G.FLOAT,!1,0,0)),e.hasColors&&i.vertexColors!==THREE.NoColors&&(G.bindBuffer(G.ARRAY_BUFFER,e.__webglColorBuffer),G.bufferData(G.ARRAY_BUFFER,e.colorArray,G.DYNAMIC_DRAW),l(t.attributes.color),G.vertexAttribPointer(t.attributes.color,3,G.FLOAT,!1,0,0)),h(),G.drawArrays(G.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,i,a,r,n){if(!1!==a.visible){var l=R(e,t,i,a,n);if(e=l.attributes,t=r.attributes,i=!1,l=16777215*r.id+2*l.id+(a.wireframe?1:0),l!==tt&&(tt=l,i=!0),i&&s(),n instanceof THREE.Mesh)if(n=t.index){var h;if(n.array instanceof Uint32Array?(l=G.UNSIGNED_INT,h=4):(l=G.UNSIGNED_SHORT,h=2),r=r.offsets,0===r.length)i&&(o(a,e,t,0),G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,n.buffer)),G.drawElements(G.TRIANGLES,n.array.length,l,0),Z.info.render.calls++,Z.info.render.vertices+=n.array.length,Z.info.render.faces+=n.array.length/3;else{i=!0;for(var c=0,f=r.length;f>c;c++){var u=r[c].index;i&&(o(a,e,t,u),G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,n.buffer)),G.drawElements(G.TRIANGLES,r[c].count,l,r[c].start*h),Z.info.render.calls++,Z.info.render.vertices+=r[c].count,Z.info.render.faces+=r[c].count/3}}}else i&&o(a,e,t,0),a=r.attributes.position,G.drawArrays(G.TRIANGLES,0,a.array.length/3),Z.info.render.calls++,Z.info.render.vertices+=a.array.length/3,Z.info.render.faces+=a.array.length/9;else if(n instanceof THREE.ParticleSystem)i&&o(a,e,t,0),a=t.position,G.drawArrays(G.POINTS,0,a.array.length/3),Z.info.render.calls++,Z.info.render.points+=a.array.length/3;else if(n instanceof THREE.Line)if(l=n.type===THREE.LineStrip?G.LINE_STRIP:G.LINES,H(a.linewidth),n=t.index)if(n.array instanceof Uint32Array?(l=G.UNSIGNED_INT,h=4):(l=G.UNSIGNED_SHORT,h=2),r=r.offsets,0===r.length)i&&(o(a,e,t,0),G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,n.buffer)),G.drawElements(G.LINES,n.array.length,l,0),Z.info.render.calls++,Z.info.render.vertices+=n.array.length;else for(1<r.length&&(i=!0),c=0,f=r.length;f>c;c++)u=r[c].index,i&&(o(a,e,t,u),G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,n.buffer)),G.drawElements(G.LINES,r[c].count,l,r[c].start*h),Z.info.render.calls++,Z.info.render.vertices+=r[c].count;else i&&o(a,e,t,0),a=t.position,G.drawArrays(l,0,a.array.length/3),Z.info.render.calls++,Z.info.render.points+=a.array.length/3}},this.renderBuffer=function(e,t,i,a,r,n){if(!1!==a.visible){var o,c;if(i=R(e,t,i,a,n),t=i.attributes,e=!1,i=16777215*r.id+2*i.id+(a.wireframe?1:0),i!==tt&&(tt=i,e=!0),e&&s(),!a.morphTargets&&0<=t.position)e&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglVertexBuffer),l(t.position),G.vertexAttribPointer(t.position,3,G.FLOAT,!1,0,0));else if(n.morphTargetBase){if(i=a.program.attributes,-1!==n.morphTargetBase&&0<=i.position?(G.bindBuffer(G.ARRAY_BUFFER,r.__webglMorphTargetsBuffers[n.morphTargetBase]),l(i.position),G.vertexAttribPointer(i.position,3,G.FLOAT,!1,0,0)):0<=i.position&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglVertexBuffer),l(i.position),G.vertexAttribPointer(i.position,3,G.FLOAT,!1,0,0)),n.morphTargetForcedOrder.length){var u=0;
for(c=n.morphTargetForcedOrder,o=n.morphTargetInfluences;u<a.numSupportedMorphTargets&&u<c.length;)0<=i["morphTarget"+u]&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglMorphTargetsBuffers[c[u]]),l(i["morphTarget"+u]),G.vertexAttribPointer(i["morphTarget"+u],3,G.FLOAT,!1,0,0)),0<=i["morphNormal"+u]&&a.morphNormals&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglMorphNormalsBuffers[c[u]]),l(i["morphNormal"+u]),G.vertexAttribPointer(i["morphNormal"+u],3,G.FLOAT,!1,0,0)),n.__webglMorphTargetInfluences[u]=o[c[u]],u++}else{c=[],o=n.morphTargetInfluences;var d,p=o.length;for(d=0;p>d;d++)u=o[d],u>0&&c.push([u,d]);for(c.length>a.numSupportedMorphTargets?(c.sort(f),c.length=a.numSupportedMorphTargets):c.length>a.numSupportedMorphNormals?c.sort(f):0===c.length&&c.push([0,0]),u=0;u<a.numSupportedMorphTargets;)c[u]?(d=c[u][1],0<=i["morphTarget"+u]&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglMorphTargetsBuffers[d]),l(i["morphTarget"+u]),G.vertexAttribPointer(i["morphTarget"+u],3,G.FLOAT,!1,0,0)),0<=i["morphNormal"+u]&&a.morphNormals&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglMorphNormalsBuffers[d]),l(i["morphNormal"+u]),G.vertexAttribPointer(i["morphNormal"+u],3,G.FLOAT,!1,0,0)),n.__webglMorphTargetInfluences[u]=o[d]):n.__webglMorphTargetInfluences[u]=0,u++}null!==a.program.uniforms.morphTargetInfluences&&G.uniform1fv(a.program.uniforms.morphTargetInfluences,n.__webglMorphTargetInfluences)}if(e){if(r.__webglCustomAttributesList)for(o=0,c=r.__webglCustomAttributesList.length;c>o;o++)i=r.__webglCustomAttributesList[o],0<=t[i.buffer.belongsToAttribute]&&(G.bindBuffer(G.ARRAY_BUFFER,i.buffer),l(t[i.buffer.belongsToAttribute]),G.vertexAttribPointer(t[i.buffer.belongsToAttribute],i.size,G.FLOAT,!1,0,0));0<=t.color&&(0<n.geometry.colors.length||0<n.geometry.faces.length?(G.bindBuffer(G.ARRAY_BUFFER,r.__webglColorBuffer),l(t.color),G.vertexAttribPointer(t.color,3,G.FLOAT,!1,0,0)):a.defaultAttributeValues&&G.vertexAttrib3fv(t.color,a.defaultAttributeValues.color)),0<=t.normal&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglNormalBuffer),l(t.normal),G.vertexAttribPointer(t.normal,3,G.FLOAT,!1,0,0)),0<=t.tangent&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglTangentBuffer),l(t.tangent),G.vertexAttribPointer(t.tangent,4,G.FLOAT,!1,0,0)),0<=t.uv&&(n.geometry.faceVertexUvs[0]?(G.bindBuffer(G.ARRAY_BUFFER,r.__webglUVBuffer),l(t.uv),G.vertexAttribPointer(t.uv,2,G.FLOAT,!1,0,0)):a.defaultAttributeValues&&G.vertexAttrib2fv(t.uv,a.defaultAttributeValues.uv)),0<=t.uv2&&(n.geometry.faceVertexUvs[1]?(G.bindBuffer(G.ARRAY_BUFFER,r.__webglUV2Buffer),l(t.uv2),G.vertexAttribPointer(t.uv2,2,G.FLOAT,!1,0,0)):a.defaultAttributeValues&&G.vertexAttrib2fv(t.uv2,a.defaultAttributeValues.uv2)),a.skinning&&0<=t.skinIndex&&0<=t.skinWeight&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglSkinIndicesBuffer),l(t.skinIndex),G.vertexAttribPointer(t.skinIndex,4,G.FLOAT,!1,0,0),G.bindBuffer(G.ARRAY_BUFFER,r.__webglSkinWeightsBuffer),l(t.skinWeight),G.vertexAttribPointer(t.skinWeight,4,G.FLOAT,!1,0,0)),0<=t.lineDistance&&(G.bindBuffer(G.ARRAY_BUFFER,r.__webglLineDistanceBuffer),l(t.lineDistance),G.vertexAttribPointer(t.lineDistance,1,G.FLOAT,!1,0,0))}h(),n instanceof THREE.Mesh?(n=r.__typeArray===Uint32Array?G.UNSIGNED_INT:G.UNSIGNED_SHORT,a.wireframe?(H(a.wireframeLinewidth),e&&G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,r.__webglLineBuffer),G.drawElements(G.LINES,r.__webglLineCount,n,0)):(e&&G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,r.__webglFaceBuffer),G.drawElements(G.TRIANGLES,r.__webglFaceCount,n,0)),Z.info.render.calls++,Z.info.render.vertices+=r.__webglFaceCount,Z.info.render.faces+=r.__webglFaceCount/3):n instanceof THREE.Line?(n=n.type===THREE.LineStrip?G.LINE_STRIP:G.LINES,H(a.linewidth),G.drawArrays(n,0,r.__webglLineCount),Z.info.render.calls++):n instanceof THREE.ParticleSystem&&(G.drawArrays(G.POINTS,0,r.__webglParticleCount),Z.info.render.calls++,Z.info.render.points+=r.__webglParticleCount)}},this.render=function(e,t,i,a){if(!1==t instanceof THREE.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var r,n,o,s,l=e.__lights,h=e.fog;for(et=-1,Ct=!0,!0===e.autoUpdate&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),wt.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),_t.setFromMatrix(wt),this.autoUpdateObjects&&this.initWebGLObjects(e),u(this.renderPluginsPre,e,t),Z.info.render.calls=0,Z.info.render.vertices=0,Z.info.render.faces=0,Z.info.render.points=0,this.setRenderTarget(i),(this.autoClear||a)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),s=e.__webglObjects,a=0,r=s.length;r>a;a++)if(n=s[a],o=n.object,n.id=a,n.render=!1,o.visible&&(!(o instanceof THREE.Mesh||o instanceof THREE.ParticleSystem)||!o.frustumCulled||_t.intersectsObject(o))){var f=o;f._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,f.matrixWorld),f._normalMatrix.getNormalMatrix(f._modelViewMatrix);var f=n,m=f.object,E=f.buffer,v=m.geometry,m=m.material;m instanceof THREE.MeshFaceMaterial?(m=m.materials[v instanceof THREE.BufferGeometry?0:E.materialIndex],m.transparent?(f.transparent=m,f.opaque=null):(f.opaque=m,f.transparent=null)):m&&(m.transparent?(f.transparent=m,f.opaque=null):(f.opaque=m,f.transparent=null)),n.render=!0,!0===this.sortObjects&&(null!==o.renderDepth?n.z=o.renderDepth:(Mt.setFromMatrixPosition(o.matrixWorld),Mt.applyProjection(wt),n.z=Mt.z))}for(this.sortObjects&&s.sort(c),s=e.__webglObjectsImmediate,a=0,r=s.length;r>a;a++)n=s[a],o=n.object,o.visible&&(o._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,o.matrixWorld),o._normalMatrix.getNormalMatrix(o._modelViewMatrix),o=n.object.material,o.transparent?(n.transparent=o,n.opaque=null):(n.opaque=o,n.transparent=null));e.overrideMaterial?(a=e.overrideMaterial,this.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst),this.setDepthTest(a.depthTest),this.setDepthWrite(a.depthWrite),M(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits),d(e.__webglObjects,!1,"",t,l,h,!0,a),p(e.__webglObjectsImmediate,"",t,l,h,!1,a)):(a=null,this.setBlending(THREE.NoBlending),d(e.__webglObjects,!0,"opaque",t,l,h,!1,a),p(e.__webglObjectsImmediate,"opaque",t,l,h,!1,a),d(e.__webglObjects,!1,"transparent",t,l,h,!0,a),p(e.__webglObjectsImmediate,"transparent",t,l,h,!0,a)),u(this.renderPluginsPost,e,t),i&&i.generateMipmaps&&i.minFilter!==THREE.NearestFilter&&i.minFilter!==THREE.LinearFilter&&(i instanceof THREE.WebGLRenderTargetCube?(G.bindTexture(G.TEXTURE_CUBE_MAP,i.__webglTexture),G.generateMipmap(G.TEXTURE_CUBE_MAP),G.bindTexture(G.TEXTURE_CUBE_MAP,null)):(G.bindTexture(G.TEXTURE_2D,i.__webglTexture),G.generateMipmap(G.TEXTURE_2D),G.bindTexture(G.TEXTURE_2D,null))),this.setDepthTest(!0),this.setDepthWrite(!0)}},this.renderImmediateObject=function(e,t,i,a,r){var n=R(e,t,i,a,r);tt=-1,Z.setMaterialFaces(a),r.immediateRenderCallback?r.immediateRenderCallback(n,G,_t):r.render(function(e){Z.renderBufferImmediate(e,n,a)})},this.initWebGLObjects=function(e){for(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]);e.__objectsAdded.length;)m(e.__objectsAdded[0],e),e.__objectsAdded.splice(0,1);for(;e.__objectsRemoved.length;)y(e.__objectsRemoved[0],e),e.__objectsRemoved.splice(0,1);for(var t=0,o=e.__webglObjects.length;o>t;t++){var s=e.__webglObjects[t].object;void 0===s.__webglInit&&(void 0!==s.__webglActive&&y(s,e),m(s,e));var l=s,h=l.geometry,c=void 0,u=void 0,d=void 0;if(h instanceof THREE.BufferGeometry){var p=G.DYNAMIC_DRAW,E=h.attributes,T=void 0,x=void 0;for(T in E)x=E[T],x.needsUpdate&&("index"===T?(G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,x.buffer),G.bufferData(G.ELEMENT_ARRAY_BUFFER,x.array,p)):(G.bindBuffer(G.ARRAY_BUFFER,x.buffer),G.bufferData(G.ARRAY_BUFFER,x.array,p)),x.needsUpdate=!1)}else if(l instanceof THREE.Mesh){for(var R=0,b=h.geometryGroupsList.length;b>R;R++)if(c=h.geometryGroupsList[R],d=a(l,c),h.buffersNeedUpdate&&i(c,l),u=d.attributes&&v(d),h.verticesNeedUpdate||h.morphTargetsNeedUpdate||h.elementsNeedUpdate||h.uvsNeedUpdate||h.normalsNeedUpdate||h.colorsNeedUpdate||h.tangentsNeedUpdate||u){var _=c,w=l,H=G.DYNAMIC_DRAW,M=!h.dynamic,S=d;if(_.__inittedArrays){var C=r(S),A=S.vertexColors?S.vertexColors:!1,L=n(S),k=C===THREE.SmoothShading,D=void 0,P=void 0,F=void 0,z=void 0,N=void 0,U=void 0,B=void 0,V=void 0,O=void 0,j=void 0,I=void 0,W=void 0,X=void 0,q=void 0,Y=void 0,K=void 0,Z=void 0,Q=void 0,$=void 0,J=void 0,et=void 0,tt=void 0,it=void 0,at=void 0,rt=void 0,nt=void 0,ot=void 0,st=void 0,lt=void 0,ht=void 0,ct=void 0,ft=void 0,ut=void 0,dt=void 0,pt=void 0,mt=void 0,Et=void 0,vt=void 0,gt=void 0,yt=void 0,Tt=0,xt=0,Rt=0,bt=0,_t=0,St=0,Ct=0,At=0,Lt=0,kt=0,Dt=0,Pt=0,Ft=void 0,zt=_.__vertexArray,Nt=_.__uvArray,Ut=_.__uv2Array,Bt=_.__normalArray,Vt=_.__tangentArray,Ot=_.__colorArray,jt=_.__skinIndexArray,It=_.__skinWeightArray,Gt=_.__morphTargetsArrays,Wt=_.__morphNormalsArrays,Xt=_.__webglCustomAttributesList,qt=void 0,Yt=_.__faceArray,Kt=_.__lineArray,Zt=w.geometry,Qt=Zt.elementsNeedUpdate,$t=Zt.uvsNeedUpdate,Jt=Zt.normalsNeedUpdate,ei=Zt.tangentsNeedUpdate,ti=Zt.colorsNeedUpdate,ii=Zt.morphTargetsNeedUpdate,ai=Zt.vertices,ri=_.faces3,ni=Zt.faces,oi=Zt.faceVertexUvs[0],si=Zt.faceVertexUvs[1],li=Zt.skinIndices,hi=Zt.skinWeights,ci=Zt.morphTargets,fi=Zt.morphNormals;if(Zt.verticesNeedUpdate){for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],W=ai[z.a],X=ai[z.b],q=ai[z.c],zt[xt]=W.x,zt[xt+1]=W.y,zt[xt+2]=W.z,zt[xt+3]=X.x,zt[xt+4]=X.y,zt[xt+5]=X.z,zt[xt+6]=q.x,zt[xt+7]=q.y,zt[xt+8]=q.z,xt+=9;G.bindBuffer(G.ARRAY_BUFFER,_.__webglVertexBuffer),G.bufferData(G.ARRAY_BUFFER,zt,H)}if(ii)for(pt=0,mt=ci.length;mt>pt;pt++){for(D=Dt=0,P=ri.length;P>D;D++)gt=ri[D],z=ni[gt],W=ci[pt].vertices[z.a],X=ci[pt].vertices[z.b],q=ci[pt].vertices[z.c],Et=Gt[pt],Et[Dt]=W.x,Et[Dt+1]=W.y,Et[Dt+2]=W.z,Et[Dt+3]=X.x,Et[Dt+4]=X.y,Et[Dt+5]=X.z,Et[Dt+6]=q.x,Et[Dt+7]=q.y,Et[Dt+8]=q.z,S.morphNormals&&(k?(yt=fi[pt].vertexNormals[gt],Q=yt.a,$=yt.b,J=yt.c):J=$=Q=fi[pt].faceNormals[gt],vt=Wt[pt],vt[Dt]=Q.x,vt[Dt+1]=Q.y,vt[Dt+2]=Q.z,vt[Dt+3]=$.x,vt[Dt+4]=$.y,vt[Dt+5]=$.z,vt[Dt+6]=J.x,vt[Dt+7]=J.y,vt[Dt+8]=J.z),Dt+=9;G.bindBuffer(G.ARRAY_BUFFER,_.__webglMorphTargetsBuffers[pt]),G.bufferData(G.ARRAY_BUFFER,Gt[pt],H),S.morphNormals&&(G.bindBuffer(G.ARRAY_BUFFER,_.__webglMorphNormalsBuffers[pt]),G.bufferData(G.ARRAY_BUFFER,Wt[pt],H))}if(hi.length){for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],at=hi[z.a],rt=hi[z.b],nt=hi[z.c],It[kt]=at.x,It[kt+1]=at.y,It[kt+2]=at.z,It[kt+3]=at.w,It[kt+4]=rt.x,It[kt+5]=rt.y,It[kt+6]=rt.z,It[kt+7]=rt.w,It[kt+8]=nt.x,It[kt+9]=nt.y,It[kt+10]=nt.z,It[kt+11]=nt.w,ot=li[z.a],st=li[z.b],lt=li[z.c],jt[kt]=ot.x,jt[kt+1]=ot.y,jt[kt+2]=ot.z,jt[kt+3]=ot.w,jt[kt+4]=st.x,jt[kt+5]=st.y,jt[kt+6]=st.z,jt[kt+7]=st.w,jt[kt+8]=lt.x,jt[kt+9]=lt.y,jt[kt+10]=lt.z,jt[kt+11]=lt.w,kt+=12;kt>0&&(G.bindBuffer(G.ARRAY_BUFFER,_.__webglSkinIndicesBuffer),G.bufferData(G.ARRAY_BUFFER,jt,H),G.bindBuffer(G.ARRAY_BUFFER,_.__webglSkinWeightsBuffer),G.bufferData(G.ARRAY_BUFFER,It,H))}if(ti&&A){for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],B=z.vertexColors,V=z.color,3===B.length&&A===THREE.VertexColors?(et=B[0],tt=B[1],it=B[2]):it=tt=et=V,Ot[Lt]=et.r,Ot[Lt+1]=et.g,Ot[Lt+2]=et.b,Ot[Lt+3]=tt.r,Ot[Lt+4]=tt.g,Ot[Lt+5]=tt.b,Ot[Lt+6]=it.r,Ot[Lt+7]=it.g,Ot[Lt+8]=it.b,Lt+=9;Lt>0&&(G.bindBuffer(G.ARRAY_BUFFER,_.__webglColorBuffer),G.bufferData(G.ARRAY_BUFFER,Ot,H))}if(ei&&Zt.hasTangents){for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],O=z.vertexTangents,Y=O[0],K=O[1],Z=O[2],Vt[Ct]=Y.x,Vt[Ct+1]=Y.y,Vt[Ct+2]=Y.z,Vt[Ct+3]=Y.w,Vt[Ct+4]=K.x,Vt[Ct+5]=K.y,Vt[Ct+6]=K.z,Vt[Ct+7]=K.w,Vt[Ct+8]=Z.x,Vt[Ct+9]=Z.y,Vt[Ct+10]=Z.z,Vt[Ct+11]=Z.w,Ct+=12;G.bindBuffer(G.ARRAY_BUFFER,_.__webglTangentBuffer),G.bufferData(G.ARRAY_BUFFER,Vt,H)}if(Jt&&C){for(D=0,P=ri.length;P>D;D++)if(z=ni[ri[D]],N=z.vertexNormals,U=z.normal,3===N.length&&k)for(ht=0;3>ht;ht++)ft=N[ht],Bt[St]=ft.x,Bt[St+1]=ft.y,Bt[St+2]=ft.z,St+=3;else for(ht=0;3>ht;ht++)Bt[St]=U.x,Bt[St+1]=U.y,Bt[St+2]=U.z,St+=3;G.bindBuffer(G.ARRAY_BUFFER,_.__webglNormalBuffer),G.bufferData(G.ARRAY_BUFFER,Bt,H)}if($t&&oi&&L){for(D=0,P=ri.length;P>D;D++)if(F=ri[D],j=oi[F],void 0!==j)for(ht=0;3>ht;ht++)ut=j[ht],Nt[Rt]=ut.x,Nt[Rt+1]=ut.y,Rt+=2;Rt>0&&(G.bindBuffer(G.ARRAY_BUFFER,_.__webglUVBuffer),G.bufferData(G.ARRAY_BUFFER,Nt,H))}if($t&&si&&L){for(D=0,P=ri.length;P>D;D++)if(F=ri[D],I=si[F],void 0!==I)for(ht=0;3>ht;ht++)dt=I[ht],Ut[bt]=dt.x,Ut[bt+1]=dt.y,bt+=2;bt>0&&(G.bindBuffer(G.ARRAY_BUFFER,_.__webglUV2Buffer),G.bufferData(G.ARRAY_BUFFER,Ut,H))}if(Qt){for(D=0,P=ri.length;P>D;D++)Yt[_t]=Tt,Yt[_t+1]=Tt+1,Yt[_t+2]=Tt+2,_t+=3,Kt[At]=Tt,Kt[At+1]=Tt+1,Kt[At+2]=Tt,Kt[At+3]=Tt+2,Kt[At+4]=Tt+1,Kt[At+5]=Tt+2,At+=6,Tt+=3;G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,_.__webglFaceBuffer),G.bufferData(G.ELEMENT_ARRAY_BUFFER,Yt,H),G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,_.__webglLineBuffer),G.bufferData(G.ELEMENT_ARRAY_BUFFER,Kt,H)}if(Xt)for(ht=0,ct=Xt.length;ct>ht;ht++)if(qt=Xt[ht],qt.__original.needsUpdate){if(Pt=0,1===qt.size){if(void 0===qt.boundTo||"vertices"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],qt.array[Pt]=qt.value[z.a],qt.array[Pt+1]=qt.value[z.b],qt.array[Pt+2]=qt.value[z.c],Pt+=3;else if("faces"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)Ft=qt.value[ri[D]],qt.array[Pt]=Ft,qt.array[Pt+1]=Ft,qt.array[Pt+2]=Ft,Pt+=3}else if(2===qt.size){if(void 0===qt.boundTo||"vertices"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],W=qt.value[z.a],X=qt.value[z.b],q=qt.value[z.c],qt.array[Pt]=W.x,qt.array[Pt+1]=W.y,qt.array[Pt+2]=X.x,qt.array[Pt+3]=X.y,qt.array[Pt+4]=q.x,qt.array[Pt+5]=q.y,Pt+=6;else if("faces"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)q=X=W=Ft=qt.value[ri[D]],qt.array[Pt]=W.x,qt.array[Pt+1]=W.y,qt.array[Pt+2]=X.x,qt.array[Pt+3]=X.y,qt.array[Pt+4]=q.x,qt.array[Pt+5]=q.y,Pt+=6}else if(3===qt.size){var ui;if(ui="c"===qt.type?["r","g","b"]:["x","y","z"],void 0===qt.boundTo||"vertices"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],W=qt.value[z.a],X=qt.value[z.b],q=qt.value[z.c],qt.array[Pt]=W[ui[0]],qt.array[Pt+1]=W[ui[1]],qt.array[Pt+2]=W[ui[2]],qt.array[Pt+3]=X[ui[0]],qt.array[Pt+4]=X[ui[1]],qt.array[Pt+5]=X[ui[2]],qt.array[Pt+6]=q[ui[0]],qt.array[Pt+7]=q[ui[1]],qt.array[Pt+8]=q[ui[2]],Pt+=9;else if("faces"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)q=X=W=Ft=qt.value[ri[D]],qt.array[Pt]=W[ui[0]],qt.array[Pt+1]=W[ui[1]],qt.array[Pt+2]=W[ui[2]],qt.array[Pt+3]=X[ui[0]],qt.array[Pt+4]=X[ui[1]],qt.array[Pt+5]=X[ui[2]],qt.array[Pt+6]=q[ui[0]],qt.array[Pt+7]=q[ui[1]],qt.array[Pt+8]=q[ui[2]],Pt+=9;else if("faceVertices"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)Ft=qt.value[ri[D]],W=Ft[0],X=Ft[1],q=Ft[2],qt.array[Pt]=W[ui[0]],qt.array[Pt+1]=W[ui[1]],qt.array[Pt+2]=W[ui[2]],qt.array[Pt+3]=X[ui[0]],qt.array[Pt+4]=X[ui[1]],qt.array[Pt+5]=X[ui[2]],qt.array[Pt+6]=q[ui[0]],qt.array[Pt+7]=q[ui[1]],qt.array[Pt+8]=q[ui[2]],Pt+=9}else if(4===qt.size)if(void 0===qt.boundTo||"vertices"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)z=ni[ri[D]],W=qt.value[z.a],X=qt.value[z.b],q=qt.value[z.c],qt.array[Pt]=W.x,qt.array[Pt+1]=W.y,qt.array[Pt+2]=W.z,qt.array[Pt+3]=W.w,qt.array[Pt+4]=X.x,qt.array[Pt+5]=X.y,qt.array[Pt+6]=X.z,qt.array[Pt+7]=X.w,qt.array[Pt+8]=q.x,qt.array[Pt+9]=q.y,qt.array[Pt+10]=q.z,qt.array[Pt+11]=q.w,Pt+=12;else if("faces"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)q=X=W=Ft=qt.value[ri[D]],qt.array[Pt]=W.x,qt.array[Pt+1]=W.y,qt.array[Pt+2]=W.z,qt.array[Pt+3]=W.w,qt.array[Pt+4]=X.x,qt.array[Pt+5]=X.y,qt.array[Pt+6]=X.z,qt.array[Pt+7]=X.w,qt.array[Pt+8]=q.x,qt.array[Pt+9]=q.y,qt.array[Pt+10]=q.z,qt.array[Pt+11]=q.w,Pt+=12;else if("faceVertices"===qt.boundTo)for(D=0,P=ri.length;P>D;D++)Ft=qt.value[ri[D]],W=Ft[0],X=Ft[1],q=Ft[2],qt.array[Pt]=W.x,qt.array[Pt+1]=W.y,qt.array[Pt+2]=W.z,qt.array[Pt+3]=W.w,qt.array[Pt+4]=X.x,qt.array[Pt+5]=X.y,qt.array[Pt+6]=X.z,qt.array[Pt+7]=X.w,qt.array[Pt+8]=q.x,qt.array[Pt+9]=q.y,qt.array[Pt+10]=q.z,qt.array[Pt+11]=q.w,Pt+=12;G.bindBuffer(G.ARRAY_BUFFER,qt.buffer),G.bufferData(G.ARRAY_BUFFER,qt.array,H)}M&&(delete _.__inittedArrays,delete _.__colorArray,delete _.__normalArray,delete _.__tangentArray,delete _.__uvArray,delete _.__uv2Array,delete _.__faceArray,delete _.__vertexArray,delete _.__lineArray,delete _.__skinIndexArray,delete _.__skinWeightArray)}}h.verticesNeedUpdate=!1,h.morphTargetsNeedUpdate=!1,h.elementsNeedUpdate=!1,h.uvsNeedUpdate=!1,h.normalsNeedUpdate=!1,h.colorsNeedUpdate=!1,h.tangentsNeedUpdate=!1,h.buffersNeedUpdate=!1,d.attributes&&g(d)}else if(l instanceof THREE.Line){if(d=a(l,h),u=d.attributes&&v(d),h.verticesNeedUpdate||h.colorsNeedUpdate||h.lineDistancesNeedUpdate||u){var di=h,pi=G.DYNAMIC_DRAW,mi=void 0,Ei=void 0,vi=void 0,gi=void 0,yi=void 0,Ti=void 0,xi=di.vertices,Ri=di.colors,bi=di.lineDistances,_i=xi.length,wi=Ri.length,Hi=bi.length,Mi=di.__vertexArray,Si=di.__colorArray,Ci=di.__lineDistanceArray,Ai=di.colorsNeedUpdate,Li=di.lineDistancesNeedUpdate,ki=di.__webglCustomAttributesList,Di=void 0,Pi=void 0,Fi=void 0,zi=void 0,Ni=void 0,Ui=void 0;if(di.verticesNeedUpdate){for(mi=0;_i>mi;mi++)gi=xi[mi],yi=3*mi,Mi[yi]=gi.x,Mi[yi+1]=gi.y,Mi[yi+2]=gi.z;G.bindBuffer(G.ARRAY_BUFFER,di.__webglVertexBuffer),G.bufferData(G.ARRAY_BUFFER,Mi,pi)}if(Ai){for(Ei=0;wi>Ei;Ei++)Ti=Ri[Ei],yi=3*Ei,Si[yi]=Ti.r,Si[yi+1]=Ti.g,Si[yi+2]=Ti.b;G.bindBuffer(G.ARRAY_BUFFER,di.__webglColorBuffer),G.bufferData(G.ARRAY_BUFFER,Si,pi)}if(Li){for(vi=0;Hi>vi;vi++)Ci[vi]=bi[vi];G.bindBuffer(G.ARRAY_BUFFER,di.__webglLineDistanceBuffer),G.bufferData(G.ARRAY_BUFFER,Ci,pi)}if(ki)for(Di=0,Pi=ki.length;Pi>Di;Di++)if(Ui=ki[Di],Ui.needsUpdate&&(void 0===Ui.boundTo||"vertices"===Ui.boundTo)){if(yi=0,zi=Ui.value.length,1===Ui.size)for(Fi=0;zi>Fi;Fi++)Ui.array[Fi]=Ui.value[Fi];else if(2===Ui.size)for(Fi=0;zi>Fi;Fi++)Ni=Ui.value[Fi],Ui.array[yi]=Ni.x,Ui.array[yi+1]=Ni.y,yi+=2;else if(3===Ui.size)if("c"===Ui.type)for(Fi=0;zi>Fi;Fi++)Ni=Ui.value[Fi],Ui.array[yi]=Ni.r,Ui.array[yi+1]=Ni.g,Ui.array[yi+2]=Ni.b,yi+=3;else for(Fi=0;zi>Fi;Fi++)Ni=Ui.value[Fi],Ui.array[yi]=Ni.x,Ui.array[yi+1]=Ni.y,Ui.array[yi+2]=Ni.z,yi+=3;else if(4===Ui.size)for(Fi=0;zi>Fi;Fi++)Ni=Ui.value[Fi],Ui.array[yi]=Ni.x,Ui.array[yi+1]=Ni.y,Ui.array[yi+2]=Ni.z,Ui.array[yi+3]=Ni.w,yi+=4;G.bindBuffer(G.ARRAY_BUFFER,Ui.buffer),G.bufferData(G.ARRAY_BUFFER,Ui.array,pi)}}h.verticesNeedUpdate=!1,h.colorsNeedUpdate=!1,h.lineDistancesNeedUpdate=!1,d.attributes&&g(d)}else if(l instanceof THREE.ParticleSystem){if(d=a(l,h),u=d.attributes&&v(d),h.verticesNeedUpdate||h.colorsNeedUpdate||l.sortParticles||u){var Bi=h,Vi=G.DYNAMIC_DRAW,Oi=l,ji=void 0,Ii=void 0,Gi=void 0,Wi=void 0,Xi=void 0,qi=void 0,Yi=Bi.vertices,Ki=Yi.length,Zi=Bi.colors,Qi=Zi.length,$i=Bi.__vertexArray,Ji=Bi.__colorArray,ea=Bi.__sortArray,ta=Bi.verticesNeedUpdate,ia=Bi.colorsNeedUpdate,aa=Bi.__webglCustomAttributesList,ra=void 0,na=void 0,oa=void 0,sa=void 0,la=void 0,ha=void 0;if(Oi.sortParticles){for(Ht.copy(wt),Ht.multiply(Oi.matrixWorld),ji=0;Ki>ji;ji++)Gi=Yi[ji],Mt.copy(Gi),Mt.applyProjection(Ht),ea[ji]=[Mt.z,ji];for(ea.sort(f),ji=0;Ki>ji;ji++)Gi=Yi[ea[ji][1]],Wi=3*ji,$i[Wi]=Gi.x,$i[Wi+1]=Gi.y,$i[Wi+2]=Gi.z;for(Ii=0;Qi>Ii;Ii++)Wi=3*Ii,qi=Zi[ea[Ii][1]],Ji[Wi]=qi.r,Ji[Wi+1]=qi.g,Ji[Wi+2]=qi.b;if(aa)for(ra=0,na=aa.length;na>ra;ra++)if(ha=aa[ra],void 0===ha.boundTo||"vertices"===ha.boundTo)if(Wi=0,sa=ha.value.length,1===ha.size)for(oa=0;sa>oa;oa++)Xi=ea[oa][1],ha.array[oa]=ha.value[Xi];else if(2===ha.size)for(oa=0;sa>oa;oa++)Xi=ea[oa][1],la=ha.value[Xi],ha.array[Wi]=la.x,ha.array[Wi+1]=la.y,Wi+=2;else if(3===ha.size)if("c"===ha.type)for(oa=0;sa>oa;oa++)Xi=ea[oa][1],la=ha.value[Xi],ha.array[Wi]=la.r,ha.array[Wi+1]=la.g,ha.array[Wi+2]=la.b,Wi+=3;else for(oa=0;sa>oa;oa++)Xi=ea[oa][1],la=ha.value[Xi],ha.array[Wi]=la.x,ha.array[Wi+1]=la.y,ha.array[Wi+2]=la.z,Wi+=3;else if(4===ha.size)for(oa=0;sa>oa;oa++)Xi=ea[oa][1],la=ha.value[Xi],ha.array[Wi]=la.x,ha.array[Wi+1]=la.y,ha.array[Wi+2]=la.z,ha.array[Wi+3]=la.w,Wi+=4}else{if(ta)for(ji=0;Ki>ji;ji++)Gi=Yi[ji],Wi=3*ji,$i[Wi]=Gi.x,$i[Wi+1]=Gi.y,$i[Wi+2]=Gi.z;if(ia)for(Ii=0;Qi>Ii;Ii++)qi=Zi[Ii],Wi=3*Ii,Ji[Wi]=qi.r,Ji[Wi+1]=qi.g,Ji[Wi+2]=qi.b;if(aa)for(ra=0,na=aa.length;na>ra;ra++)if(ha=aa[ra],ha.needsUpdate&&(void 0===ha.boundTo||"vertices"===ha.boundTo))if(sa=ha.value.length,Wi=0,1===ha.size)for(oa=0;sa>oa;oa++)ha.array[oa]=ha.value[oa];else if(2===ha.size)for(oa=0;sa>oa;oa++)la=ha.value[oa],ha.array[Wi]=la.x,ha.array[Wi+1]=la.y,Wi+=2;else if(3===ha.size)if("c"===ha.type)for(oa=0;sa>oa;oa++)la=ha.value[oa],ha.array[Wi]=la.r,ha.array[Wi+1]=la.g,ha.array[Wi+2]=la.b,Wi+=3;else for(oa=0;sa>oa;oa++)la=ha.value[oa],ha.array[Wi]=la.x,ha.array[Wi+1]=la.y,ha.array[Wi+2]=la.z,Wi+=3;else if(4===ha.size)for(oa=0;sa>oa;oa++)la=ha.value[oa],ha.array[Wi]=la.x,ha.array[Wi+1]=la.y,ha.array[Wi+2]=la.z,ha.array[Wi+3]=la.w,Wi+=4}if((ta||Oi.sortParticles)&&(G.bindBuffer(G.ARRAY_BUFFER,Bi.__webglVertexBuffer),G.bufferData(G.ARRAY_BUFFER,$i,Vi)),(ia||Oi.sortParticles)&&(G.bindBuffer(G.ARRAY_BUFFER,Bi.__webglColorBuffer),G.bufferData(G.ARRAY_BUFFER,Ji,Vi)),aa)for(ra=0,na=aa.length;na>ra;ra++)ha=aa[ra],(ha.needsUpdate||Oi.sortParticles)&&(G.bindBuffer(G.ARRAY_BUFFER,ha.buffer),G.bufferData(G.ARRAY_BUFFER,ha.array,Vi))}h.verticesNeedUpdate=!1,h.colorsNeedUpdate=!1,d.attributes&&g(d)}}},this.initMaterial=function(e,t,i,a){var r,n,o,s;e.addEventListener("dispose",Xt);var l,h,c,f;e instanceof THREE.MeshDepthMaterial?f="depth":e instanceof THREE.MeshNormalMaterial?f="normal":e instanceof THREE.MeshBasicMaterial?f="basic":e instanceof THREE.MeshLambertMaterial?f="lambert":e instanceof THREE.MeshPhongMaterial?f="phong":e instanceof THREE.LineBasicMaterial?f="basic":e instanceof THREE.LineDashedMaterial?f="dashed":e instanceof THREE.ParticleSystemMaterial&&(f="particle_basic"),f&&(r=THREE.ShaderLib[f],e.uniforms=THREE.UniformsUtils.clone(r.uniforms),e.vertexShader=r.vertexShader,e.fragmentShader=r.fragmentShader),c=s=o=n=r=0;for(var u=t.length;u>c;c++){var d=t[c];d.onlyShadow||!1===d.visible||(d instanceof THREE.DirectionalLight&&r++,d instanceof THREE.PointLight&&n++,d instanceof THREE.SpotLight&&o++,d instanceof THREE.HemisphereLight&&s++)}for(u=c=0,d=t.length;d>u;u++){var p=t[u];p.castShadow&&(p instanceof THREE.SpotLight&&c++,p instanceof THREE.DirectionalLight&&!p.shadowCascade&&c++)}t=c,zt&&a&&a.skeleton&&a.skeleton.useVertexTexture?c=1024:(c=G.getParameter(G.MAX_VERTEX_UNIFORM_VECTORS),c=Math.floor((c-20)/4),void 0!==a&&a instanceof THREE.SkinnedMesh&&(c=Math.min(a.skeleton.bones.length,c),c<a.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+a.skeleton.bones.length+", this GPU supports just "+c+" (try OpenGL instead of ANGLE)"))),i={precision:P,supportsVertexTextures:Ft,map:!!e.map,envMap:!!e.envMap,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,vertexColors:e.vertexColors,fog:i,useFog:e.fog,fogExp:i instanceof THREE.FogExp2,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:O,skinning:e.skinning,maxBones:c,useVertexTexture:zt&&a&&a.skeleton&&a.skeleton.useVertexTexture,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:r,maxPointLights:n,maxSpotLights:o,maxHemiLights:s,maxShadows:t,shadowMapEnabled:this.shadowMapEnabled&&a.receiveShadow&&t>0,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,wrapAround:e.wrapAround,doubleSided:e.side===THREE.DoubleSide,flipSided:e.side===THREE.BackSide},a=[],f?a.push(f):(a.push(e.fragmentShader),a.push(e.vertexShader));for(var m in e.defines)a.push(m),a.push(e.defines[m]);for(h in i)a.push(h),a.push(i[h]);f=a.join();var E;for(h=0,m=Q.length;m>h;h++)if(a=Q[h],a.code===f){E=a,E.usedTimes++;break}if(void 0===E&&(E=new THREE.WebGLProgram(this,f,e,i),Q.push(E),Z.info.memory.programs=Q.length),e.program=E,E=e.program.attributes,e.morphTargets)for(e.numSupportedMorphTargets=0,m="morphTarget",h=0;h<this.maxMorphTargets;h++)f=m+h,0<=E[f]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(e.numSupportedMorphNormals=0,m="morphNormal",h=0;h<this.maxMorphNormals;h++)f=m+h,0<=E[f]&&e.numSupportedMorphNormals++;e.uniformsList=[];for(l in e.uniforms)e.uniformsList.push([e.uniforms[l],l])},this.setFaceCulling=function(e,t){e===THREE.CullFaceNone?G.disable(G.CULL_FACE):(G.frontFace(t===THREE.FrontFaceDirectionCW?G.CW:G.CCW),G.cullFace(e===THREE.CullFaceBack?G.BACK:e===THREE.CullFaceFront?G.FRONT:G.FRONT_AND_BACK),G.enable(G.CULL_FACE))},this.setMaterialFaces=function(e){var t=e.side===THREE.DoubleSide;e=e.side===THREE.BackSide,rt!==t&&(t?G.disable(G.CULL_FACE):G.enable(G.CULL_FACE),rt=t),nt!==e&&(G.frontFace(e?G.CW:G.CCW),nt=e)},this.setDepthTest=function(e){ct!==e&&(e?G.enable(G.DEPTH_TEST):G.disable(G.DEPTH_TEST),ct=e)},this.setDepthWrite=function(e){ft!==e&&(G.depthMask(e),ft=e)},this.setBlending=function(e,t,i,a){e!==ot&&(e===THREE.NoBlending?G.disable(G.BLEND):e===THREE.AdditiveBlending?(G.enable(G.BLEND),G.blendEquation(G.FUNC_ADD),G.blendFunc(G.SRC_ALPHA,G.ONE)):e===THREE.SubtractiveBlending?(G.enable(G.BLEND),G.blendEquation(G.FUNC_ADD),G.blendFunc(G.ZERO,G.ONE_MINUS_SRC_COLOR)):e===THREE.MultiplyBlending?(G.enable(G.BLEND),G.blendEquation(G.FUNC_ADD),G.blendFunc(G.ZERO,G.SRC_COLOR)):e===THREE.CustomBlending?G.enable(G.BLEND):(G.enable(G.BLEND),G.blendEquationSeparate(G.FUNC_ADD,G.FUNC_ADD),G.blendFuncSeparate(G.SRC_ALPHA,G.ONE_MINUS_SRC_ALPHA,G.ONE,G.ONE_MINUS_SRC_ALPHA)),ot=e),e===THREE.CustomBlending?(t!==st&&(G.blendEquation(L(t)),st=t),(i!==lt||a!==ht)&&(G.blendFunc(L(i),L(a)),lt=i,ht=a)):ht=lt=st=null},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",Gt),e.__webglTexture=G.createTexture(),Z.info.memory.textures++),G.activeTexture(G.TEXTURE0+t),G.bindTexture(G.TEXTURE_2D,e.__webglTexture),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,e.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,e.unpackAlignment);var i=e.image,a=THREE.Math.isPowerOfTwo(i.width)&&THREE.Math.isPowerOfTwo(i.height),r=L(e.format),n=L(e.type);S(G.TEXTURE_2D,e,a);var o=e.mipmaps;if(e instanceof THREE.DataTexture)if(0<o.length&&a){for(var s=0,l=o.length;l>s;s++)i=o[s],G.texImage2D(G.TEXTURE_2D,s,r,i.width,i.height,0,r,n,i.data);e.generateMipmaps=!1}else G.texImage2D(G.TEXTURE_2D,0,r,i.width,i.height,0,r,n,i.data);else if(e instanceof THREE.CompressedTexture)for(s=0,l=o.length;l>s;s++)i=o[s],e.format!==THREE.RGBAFormat?G.compressedTexImage2D(G.TEXTURE_2D,s,r,i.width,i.height,0,i.data):G.texImage2D(G.TEXTURE_2D,s,r,i.width,i.height,0,r,n,i.data);else if(0<o.length&&a){for(s=0,l=o.length;l>s;s++)i=o[s],G.texImage2D(G.TEXTURE_2D,s,r,r,n,i);e.generateMipmaps=!1}else G.texImage2D(G.TEXTURE_2D,0,r,r,n,e.image);e.generateMipmaps&&a&&G.generateMipmap(G.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else G.activeTexture(G.TEXTURE0+t),G.bindTexture(G.TEXTURE_2D,e.__webglTexture)},this.setRenderTarget=function(e){var t=e instanceof THREE.WebGLRenderTargetCube;if(e&&!e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",Wt),e.__webglTexture=G.createTexture(),Z.info.memory.textures++;var i=THREE.Math.isPowerOfTwo(e.width)&&THREE.Math.isPowerOfTwo(e.height),a=L(e.format),r=L(e.type);if(t){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],G.bindTexture(G.TEXTURE_CUBE_MAP,e.__webglTexture),S(G.TEXTURE_CUBE_MAP,e,i);for(var n=0;6>n;n++){e.__webglFramebuffer[n]=G.createFramebuffer(),e.__webglRenderbuffer[n]=G.createRenderbuffer(),G.texImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,a,e.width,e.height,0,a,r,null);var o=e,s=G.TEXTURE_CUBE_MAP_POSITIVE_X+n;G.bindFramebuffer(G.FRAMEBUFFER,e.__webglFramebuffer[n]),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,s,o.__webglTexture,0),C(e.__webglRenderbuffer[n],e)}i&&G.generateMipmap(G.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=G.createFramebuffer(),e.__webglRenderbuffer=e.shareDepthFrom?e.shareDepthFrom.__webglRenderbuffer:G.createRenderbuffer(),G.bindTexture(G.TEXTURE_2D,e.__webglTexture),S(G.TEXTURE_2D,e,i),G.texImage2D(G.TEXTURE_2D,0,a,e.width,e.height,0,a,r,null),a=G.TEXTURE_2D,G.bindFramebuffer(G.FRAMEBUFFER,e.__webglFramebuffer),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,a,e.__webglTexture,0),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?G.framebufferRenderbuffer(G.FRAMEBUFFER,G.DEPTH_ATTACHMENT,G.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&G.framebufferRenderbuffer(G.FRAMEBUFFER,G.DEPTH_STENCIL_ATTACHMENT,G.RENDERBUFFER,e.__webglRenderbuffer):C(e.__webglRenderbuffer,e),i&&G.generateMipmap(G.TEXTURE_2D);t?G.bindTexture(G.TEXTURE_CUBE_MAP,null):G.bindTexture(G.TEXTURE_2D,null),G.bindRenderbuffer(G.RENDERBUFFER,null),G.bindFramebuffer(G.FRAMEBUFFER,null)}e?(t=t?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,i=e.width,e=e.height,r=a=0):(t=null,i=gt,e=yt,a=Et,r=vt),t!==J&&(G.bindFramebuffer(G.FRAMEBUFFER,t),G.viewport(a,r,i,e),J=t),Tt=i,xt=e},this.shadowMapPlugin=new THREE.ShadowMapPlugin,this.addPrePlugin(this.shadowMapPlugin),this.addPostPlugin(new THREE.SpritePlugin),this.addPostPlugin(new THREE.LensFlarePlugin)},THREE.WebGLRenderTarget=function(e,t,i){this.width=e,this.height=t,i=i||{},this.wrapS=void 0!==i.wrapS?i.wrapS:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==i.wrapT?i.wrapT:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==i.magFilter?i.magFilter:THREE.LinearFilter,this.minFilter=void 0!==i.minFilter?i.minFilter:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.format=void 0!==i.format?i.format:THREE.RGBAFormat,this.type=void 0!==i.type?i.type:THREE.UnsignedByteType,this.depthBuffer=void 0!==i.depthBuffer?i.depthBuffer:!0,this.stencilBuffer=void 0!==i.stencilBuffer?i.stencilBuffer:!0,this.generateMipmaps=!0,this.shareDepthFrom=null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(e,t){this.width=e,this.height=t},clone:function(){var e=new THREE.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube=function(e,t,i){THREE.WebGLRenderTarget.call(this,e,t,i),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.WebGLProgram=function(){var e=0;return function(t,i,a,r){var n=t.context,o=a.fragmentShader,s=a.vertexShader,l=a.uniforms,h=a.attributes,c=a.defines,f=a.index0AttributeName;void 0===f&&!0===r.morphTargets&&(f="position");var u="SHADOWMAP_TYPE_BASIC";r.shadowMapType===THREE.PCFShadowMap?u="SHADOWMAP_TYPE_PCF":r.shadowMapType===THREE.PCFSoftShadowMap&&(u="SHADOWMAP_TYPE_PCF_SOFT");var d,p;d=[];for(var m in c)p=c[m],!1!==p&&(p="#define "+m+" "+p,d.push(p));d=d.join("\n"),c=n.createProgram(),a instanceof THREE.RawShaderMaterial?t=a="":(a=["precision "+r.precision+" float;","precision "+r.precision+" int;",d,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.gammaInput?"#define GAMMA_INPUT":"",t.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+r.maxDirLights,"#define MAX_POINT_LIGHTS "+r.maxPointLights,"#define MAX_SPOT_LIGHTS "+r.maxSpotLights,"#define MAX_HEMI_LIGHTS "+r.maxHemiLights,"#define MAX_SHADOWS "+r.maxShadows,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.lightMap?"#define USE_LIGHTMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.vertexColors?"#define USE_COLOR":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals?"#define USE_MORPHNORMALS":"",r.wrapAround?"#define WRAP_AROUND":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",r.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\n	attribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\n	attribute vec3 morphTarget0;\n	attribute vec3 morphTarget1;\n	attribute vec3 morphTarget2;\n	attribute vec3 morphTarget3;\n	#ifdef USE_MORPHNORMALS\n		attribute vec3 morphNormal0;\n		attribute vec3 morphNormal1;\n		attribute vec3 morphNormal2;\n		attribute vec3 morphNormal3;\n	#else\n		attribute vec3 morphTarget4;\n		attribute vec3 morphTarget5;\n		attribute vec3 morphTarget6;\n		attribute vec3 morphTarget7;\n	#endif\n#endif\n#ifdef USE_SKINNING\n	attribute vec4 skinIndex;\n	attribute vec4 skinWeight;\n#endif\n"].join("\n"),t=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.bumpMap||r.normalMap?"#extension GL_OES_standard_derivatives : enable":"",d,"#define MAX_DIR_LIGHTS "+r.maxDirLights,"#define MAX_POINT_LIGHTS "+r.maxPointLights,"#define MAX_SPOT_LIGHTS "+r.maxSpotLights,"#define MAX_HEMI_LIGHTS "+r.maxHemiLights,"#define MAX_SHADOWS "+r.maxShadows,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"",t.gammaInput?"#define GAMMA_INPUT":"",t.gammaOutput?"#define GAMMA_OUTPUT":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.lightMap?"#define USE_LIGHTMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.vertexColors?"#define USE_COLOR":"",r.metal?"#define METAL":"",r.wrapAround?"#define WRAP_AROUND":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",r.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n")),s=new THREE.WebGLShader(n,n.VERTEX_SHADER,a+s),o=new THREE.WebGLShader(n,n.FRAGMENT_SHADER,t+o),n.attachShader(c,s),n.attachShader(c,o),void 0!==f&&n.bindAttribLocation(c,0,f),n.linkProgram(c),!1===n.getProgramParameter(c,n.LINK_STATUS)&&(console.error("Could not initialise shader"),console.error("gl.VALIDATE_STATUS",n.getProgramParameter(c,n.VALIDATE_STATUS)),console.error("gl.getError()",n.getError())),""!==n.getProgramInfoLog(c)&&console.error("gl.getProgramInfoLog()",n.getProgramInfoLog(c)),n.deleteShader(s),n.deleteShader(o),f="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences".split(" "),r.useVertexTexture?(f.push("boneTexture"),f.push("boneTextureWidth"),f.push("boneTextureHeight")):f.push("boneGlobalMatrices"),r.logarithmicDepthBuffer&&f.push("logDepthBufFC");
for(var E in l)f.push(E);for(l=f,E={},f=0,t=l.length;t>f;f++)u=l[f],E[u]=n.getUniformLocation(c,u);for(this.uniforms=E,f="position normal uv uv2 tangent color skinIndex skinWeight lineDistance".split(" "),l=0;l<r.maxMorphTargets;l++)f.push("morphTarget"+l);for(l=0;l<r.maxMorphNormals;l++)f.push("morphNormal"+l);for(var v in h)f.push(v);for(r=f,h={},v=0,l=r.length;l>v;v++)E=r[v],h[E]=n.getAttribLocation(c,E);return this.attributes=h,this.id=e++,this.code=i,this.usedTimes=1,this.program=c,this.vertexShader=s,this.fragmentShader=o,this}}(),THREE.WebGLShader=function(){var e=function(e){e=e.split("\n");for(var t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")};return function(t,i,a){return i=t.createShader(i),t.shaderSource(i,a),t.compileShader(i),!1===t.getShaderParameter(i,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&(console.error("THREE.WebGLShader:","gl.getShaderInfoLog()",t.getShaderInfoLog(i)),console.error(e(a))),i}}(),THREE.RenderableVertex=function(){this.position=new THREE.Vector3,this.positionWorld=new THREE.Vector3,this.positionScreen=new THREE.Vector4,this.visible=!0},THREE.RenderableVertex.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld),this.positionScreen.copy(e.positionScreen)},THREE.RenderableFace=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.normalModel=new THREE.Vector3,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsLength=0,this.material=this.color=null,this.uvs=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2],this.z=0},THREE.RenderableObject=function(){this.id=0,this.object=null,this.z=0},THREE.RenderableSprite=function(){this.id=0,this.object=null,this.rotation=this.z=this.y=this.x=0,this.scale=new THREE.Vector2,this.material=null},THREE.RenderableLine=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.vertexColors=[new THREE.Color,new THREE.Color],this.material=null,this.z=0},THREE.GeometryUtils={merge:function(e,t,i){console.warn("DEPRECATED: GeometryUtils's .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var a;t instanceof THREE.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),a=t.matrix,t=t.geometry),e.merge(t,a,i)},randomPointInTriangle:function(){var e=new THREE.Vector3;return function(t,i,a){var r=new THREE.Vector3,n=THREE.Math.random16(),o=THREE.Math.random16();n+o>1&&(n=1-n,o=1-o);var s=1-n-o;return r.copy(t),r.multiplyScalar(n),e.copy(i),e.multiplyScalar(o),r.add(e),e.copy(a),e.multiplyScalar(s),r.add(e),r}}(),randomPointInFace:function(e,t){return THREE.GeometryUtils.randomPointInTriangle(t.vertices[e.a],t.vertices[e.b],t.vertices[e.c])},randomPointsInGeometry:function(e,t){function i(e){function t(i,a){if(i>a)return i;var r=i+Math.floor((a-i)/2);return u[r]>e?t(i,r-1):u[r]<e?t(r+1,a):r}return t(0,u.length-1)}var a,r,n,o,s,l=e.faces,h=e.vertices,c=l.length,f=0,u=[];for(r=0;c>r;r++)a=l[r],n=h[a.a],o=h[a.b],s=h[a.c],a._area=THREE.GeometryUtils.triangleArea(n,o,s),f+=a._area,u[r]=f;for(a=[],r=0;t>r;r++)h=THREE.Math.random16()*f,h=i(h),a[r]=THREE.GeometryUtils.randomPointInFace(l[h],e,!0);return a},triangleArea:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i,a,r){return e.subVectors(a,i),t.subVectors(r,i),e.cross(t),.5*e.length()}}(),center:function(e){e.computeBoundingBox();var t=e.boundingBox,i=new THREE.Vector3;return i.addVectors(t.min,t.max),i.multiplyScalar(-.5),e.applyMatrix((new THREE.Matrix4).makeTranslation(i.x,i.y,i.z)),e.computeBoundingBox(),i}},THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,i,a){var r=new THREE.ImageLoader;r.crossOrigin=this.crossOrigin;var n=new THREE.Texture(void 0,t);return t=r.load(e,function(){n.needsUpdate=!0,i&&i(n)},void 0,function(e){a&&a(e)}),n.image=t,n.sourceFile=e,n},loadCompressedTexture:function(e,t,i,a){var r=new THREE.CompressedTexture;r.mapping=t;var n=new XMLHttpRequest;return n.onload=function(){var e=THREE.ImageUtils.parseDDS(n.response,!0);r.format=e.format,r.mipmaps=e.mipmaps,r.image.width=e.width,r.image.height=e.height,r.generateMipmaps=!1,r.needsUpdate=!0,i&&i(r)},n.onerror=a,n.open("GET",e,!0),n.responseType="arraybuffer",n.send(null),r},loadTextureCube:function(e,t,i,a){var r=[];r.loadCount=0,a=new THREE.ImageLoader,a.crossOrigin=this.crossOrigin;var n=new THREE.Texture;n.image=r,void 0!==t&&(n.mapping=t),n.flipY=!1,t=0;for(var o=e.length;o>t;++t){var s=a.load(e[t],function(){r.loadCount+=1,6===r.loadCount&&(n.needsUpdate=!0,i&&i(n))});r[t]=s}return n},loadCompressedTextureCube:function(e,t,i,a){var r=[];r.loadCount=0;var n=new THREE.CompressedTexture;if(n.image=r,void 0!==t&&(n.mapping=t),n.flipY=!1,n.generateMipmaps=!1,t=function(e,t){return function(){var a=THREE.ImageUtils.parseDDS(e.response,!0);t.format=a.format,t.mipmaps=a.mipmaps,t.width=a.width,t.height=a.height,r.loadCount+=1,6===r.loadCount&&(n.format=a.format,n.needsUpdate=!0,i&&i(n))}},e instanceof Array)for(var o=0,s=e.length;s>o;++o){var l={};r[o]=l;var h=new XMLHttpRequest;h.onload=t(h,l),h.onerror=a,l=e[o],h.open("GET",l,!0),h.responseType="arraybuffer",h.send(null)}else h=new XMLHttpRequest,h.onload=function(){var e=THREE.ImageUtils.parseDDS(h.response,!0);if(e.isCubemap){for(var t=e.mipmaps.length/e.mipmapCount,a=0;t>a;a++){r[a]={mipmaps:[]};for(var o=0;o<e.mipmapCount;o++)r[a].mipmaps.push(e.mipmaps[a*e.mipmapCount+o]),r[a].format=e.format,r[a].width=e.width,r[a].height=e.height}n.format=e.format,n.needsUpdate=!0,i&&i(n)}},h.onerror=a,h.open("GET",e,!0),h.responseType="arraybuffer",h.send(null);return n},loadDDSTexture:function(e,t,i,a){var r=[];r.loadCount=0;var n=new THREE.CompressedTexture;n.image=r,void 0!==t&&(n.mapping=t),n.flipY=!1,n.generateMipmaps=!1;var o=new XMLHttpRequest;return o.onload=function(){var e=THREE.ImageUtils.parseDDS(o.response,!0);if(e.isCubemap)for(var t=e.mipmaps.length/e.mipmapCount,a=0;t>a;a++){r[a]={mipmaps:[]};for(var s=0;s<e.mipmapCount;s++)r[a].mipmaps.push(e.mipmaps[a*e.mipmapCount+s]),r[a].format=e.format,r[a].width=e.width,r[a].height=e.height}else n.image.width=e.width,n.image.height=e.height,n.mipmaps=e.mipmaps;n.format=e.format,n.needsUpdate=!0,i&&i(n)},o.onerror=a,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null),n},parseDDS:function(e,t){function i(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function a(e,t,i,a){var r=i*a*4;e=new Uint8Array(e,t,r);for(var r=new Uint8Array(r),n=t=0,o=0;a>o;o++)for(var s=0;i>s;s++){var l=e[n];n++;var h=e[n];n++;var c=e[n];n++;var f=e[n];n++,r[t]=c,t++,r[t]=h,t++,r[t]=l,t++,r[t]=f,t++}return r}var r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},n=i("DXT1"),o=i("DXT3"),s=i("DXT5"),l=new Int32Array(e,0,31);if(542327876!==l[0])return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"),r;if(4&!l[20])return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"),r;var h=l[21],c=!1;switch(h){case n:n=8,r.format=THREE.RGB_S3TC_DXT1_Format;break;case o:n=16,r.format=THREE.RGBA_S3TC_DXT3_Format;break;case s:n=16,r.format=THREE.RGBA_S3TC_DXT5_Format;break;default:if(!(32==l[22]&&16711680&l[23]&&65280&l[24]&&255&l[25]&&4278190080&l[26]))return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",String.fromCharCode(255&h,h>>8&255,h>>16&255,h>>24&255)),r;c=!0,n=64,r.format=THREE.RGBAFormat}r.mipmapCount=1,131072&l[2]&&!1!==t&&(r.mipmapCount=Math.max(1,l[7])),r.isCubemap=512&l[28]?!0:!1,r.width=l[4],r.height=l[3];for(var l=l[1]+4,o=r.width,s=r.height,h=r.isCubemap?6:1,f=0;h>f;f++){for(var u=0;u<r.mipmapCount;u++){if(c)var d=a(e,l,o,s),p=d.length;else p=Math.max(4,o)/4*Math.max(4,s)/4*n,d=new Uint8Array(e,l,p);r.mipmaps.push({data:d,width:o,height:s}),l+=p,o=Math.max(.5*o,1),s=Math.max(.5*s,1)}o=r.width,s=r.height}return r},getNormalMap:function(e,t){var i=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]};t|=1;var a=e.width,r=e.height,n=document.createElement("canvas");n.width=a,n.height=r;var o=n.getContext("2d");o.drawImage(e,0,0);for(var s=o.getImageData(0,0,a,r).data,l=o.createImageData(a,r),h=l.data,c=0;a>c;c++)for(var f=0;r>f;f++){var u=0>f-1?0:f-1,d=f+1>r-1?r-1:f+1,p=0>c-1?0:c-1,m=c+1>a-1?a-1:c+1,E=[],v=[0,0,s[4*(f*a+c)]/255*t];for(E.push([-1,0,s[4*(f*a+p)]/255*t]),E.push([-1,-1,s[4*(u*a+p)]/255*t]),E.push([0,-1,s[4*(u*a+c)]/255*t]),E.push([1,-1,s[4*(u*a+m)]/255*t]),E.push([1,0,s[4*(f*a+m)]/255*t]),E.push([1,1,s[4*(d*a+m)]/255*t]),E.push([0,1,s[4*(d*a+c)]/255*t]),E.push([-1,1,s[4*(d*a+p)]/255*t]),u=[],p=E.length,d=0;p>d;d++){var m=E[d],g=E[(d+1)%p],m=[m[0]-v[0],m[1]-v[1],m[2]-v[2]],g=[g[0]-v[0],g[1]-v[1],g[2]-v[2]];u.push(i([m[1]*g[2]-m[2]*g[1],m[2]*g[0]-m[0]*g[2],m[0]*g[1]-m[1]*g[0]]))}for(E=[0,0,0],d=0;d<u.length;d++)E[0]+=u[d][0],E[1]+=u[d][1],E[2]+=u[d][2];E[0]/=u.length,E[1]/=u.length,E[2]/=u.length,v=4*(f*a+c),h[v]=(E[0]+1)/2*255|0,h[v+1]=(E[1]+1)/2*255|0,h[v+2]=255*E[2]|0,h[v+3]=255}return o.putImageData(l,0,0),n},generateDataTexture:function(e,t,i){var a=e*t,r=new Uint8Array(3*a),n=Math.floor(255*i.r),o=Math.floor(255*i.g);i=Math.floor(255*i.b);for(var s=0;a>s;s++)r[3*s]=n,r[3*s+1]=o,r[3*s+2]=i;return e=new THREE.DataTexture(r,e,t,THREE.RGBFormat),e.needsUpdate=!0,e}},THREE.SceneUtils={createMultiMaterialObject:function(e,t){for(var i=new THREE.Object3D,a=0,r=t.length;r>a;a++)i.add(new THREE.Mesh(e,t[a]));return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld),t.remove(e),i.add(e)},attach:function(e,t,i){var a=new THREE.Matrix4;a.getInverse(i.matrixWorld),e.applyMatrix(a),t.remove(e),i.add(e)}},THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase();return this.faces[t]=this.faces[t]||{},this.faces[t][e.cssFontWeight]=this.faces[t][e.cssFontWeight]||{},this.faces[t][e.cssFontWeight][e.cssFontStyle]=e,this.faces[t][e.cssFontWeight][e.cssFontStyle]=e},drawText:function(e){var t=this.getFace(),i=this.size/t.resolution,a=0,r=String(e).split(""),n=r.length,o=[];for(e=0;n>e;e++){var s=new THREE.Path,s=this.extractGlyphPoints(r[e],t,i,a,s),a=a+s.offset;o.push(s.path)}return{paths:o,offset:a/2}},extractGlyphPoints:function(e,t,i,a,r){var n,o,s,l,h,c,f,u,d,p,m,E=[],v=t.glyphs[e]||t.glyphs["?"];if(v){if(v.o)for(t=v._cachedOutline||(v._cachedOutline=v.o.split(" ")),l=t.length,e=0;l>e;)switch(s=t[e++]){case"m":s=t[e++]*i+a,h=t[e++]*i,r.moveTo(s,h);break;case"l":s=t[e++]*i+a,h=t[e++]*i,r.lineTo(s,h);break;case"q":if(s=t[e++]*i+a,h=t[e++]*i,u=t[e++]*i+a,d=t[e++]*i,r.quadraticCurveTo(u,d,s,h),n=E[E.length-1])for(c=n.x,f=n.y,n=1,o=this.divisions;o>=n;n++){var g=n/o;THREE.Shape.Utils.b2(g,c,u,s),THREE.Shape.Utils.b2(g,f,d,h)}break;case"b":if(s=t[e++]*i+a,h=t[e++]*i,u=t[e++]*i+a,d=t[e++]*-i,p=t[e++]*i+a,m=t[e++]*-i,r.bezierCurveTo(s,h,u,d,p,m),n=E[E.length-1])for(c=n.x,f=n.y,n=1,o=this.divisions;o>=n;n++)g=n/o,THREE.Shape.Utils.b3(g,c,u,p,s),THREE.Shape.Utils.b3(g,f,d,m,h)}return{offset:v.ha*i,path:r}}}},THREE.FontUtils.generateShapes=function(e,t){t=t||{};var i=void 0!==t.curveSegments?t.curveSegments:4,a=void 0!==t.font?t.font:"helvetiker",r=void 0!==t.weight?t.weight:"normal",n=void 0!==t.style?t.style:"normal";for(THREE.FontUtils.size=void 0!==t.size?t.size:100,THREE.FontUtils.divisions=i,THREE.FontUtils.face=a,THREE.FontUtils.weight=r,THREE.FontUtils.style=n,i=THREE.FontUtils.drawText(e).paths,a=[],r=0,n=i.length;n>r;r++)Array.prototype.push.apply(a,i[r].toShapes());return a},function(e){var t=function(e){for(var t=e.length,i=0,a=t-1,r=0;t>r;a=r++)i+=e[a].x*e[r].y-e[r].x*e[a].y;return.5*i};return e.Triangulate=function(e,i){var a=e.length;if(3>a)return null;var r,n,o,s=[],l=[],h=[];if(0<t(e))for(n=0;a>n;n++)l[n]=n;else for(n=0;a>n;n++)l[n]=a-1-n;var c=2*a;for(n=a-1;a>2;){if(0>=c--){console.log("Warning, unable to triangulate polygon!");break}r=n,r>=a&&(r=0),n=r+1,n>=a&&(n=0),o=n+1,o>=a&&(o=0);var f;e:{var u=f=void 0,d=void 0,p=void 0,m=void 0,E=void 0,v=void 0,g=void 0,y=void 0,u=e[l[r]].x,d=e[l[r]].y,p=e[l[n]].x,m=e[l[n]].y,E=e[l[o]].x,v=e[l[o]].y;if(1e-10>(p-u)*(v-d)-(m-d)*(E-u))f=!1;else{var T=void 0,x=void 0,R=void 0,b=void 0,_=void 0,w=void 0,H=void 0,M=void 0,S=void 0,C=void 0,S=M=H=y=g=void 0,T=E-p,x=v-m,R=u-E,b=d-v,_=p-u,w=m-d;for(f=0;a>f;f++)if(g=e[l[f]].x,y=e[l[f]].y,!(g===u&&y===d||g===p&&y===m||g===E&&y===v)&&(H=g-u,M=y-d,S=g-p,C=y-m,g-=E,y-=v,S=T*C-x*S,H=_*M-w*H,M=R*y-b*g,S>=-1e-10&&M>=-1e-10&&H>=-1e-10)){f=!1;break e}f=!0}}if(f){for(s.push([e[l[r]],e[l[n]],e[l[o]]]),h.push([l[r],l[n],l[o]]),r=n,o=n+1;a>o;r++,o++)l[r]=l[o];a--,c=2*a}}return i?h:s},e.Triangulate.area=t,e}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js,THREE.Curve=function(){},THREE.Curve.prototype.getPoint=function(){return console.log("Warning, getPoint() not implemented!"),null},THREE.Curve.prototype.getPointAt=function(e){return e=this.getUtoTmapping(e),this.getPoint(e)},THREE.Curve.prototype.getPoints=function(e){e||(e=5);var t,i=[];for(t=0;e>=t;t++)i.push(this.getPoint(t/e));return i},THREE.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var t,i=[];for(t=0;e>=t;t++)i.push(this.getPointAt(t/e));return i},THREE.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]},THREE.Curve.prototype.getLengths=function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,a=[],r=this.getPoint(0),n=0;for(a.push(0),i=1;e>=i;i++)t=this.getPoint(i/e),n+=t.distanceTo(r),a.push(n),r=t;return this.cacheArcLengths=a},THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},THREE.Curve.prototype.getUtoTmapping=function(e,t){var i,a=this.getLengths(),r=0,n=a.length;i=t?t:e*a[n-1];for(var o,s=0,l=n-1;l>=s;)if(r=Math.floor(s+(l-s)/2),o=a[r]-i,0>o)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}return r=l,a[r]==i?r/(n-1):(s=a[r],a=(r+(i-s)/(a[r+1]-s))/(n-1))},THREE.Curve.prototype.getTangent=function(e){var t=e-1e-4;return e+=1e-4,0>t&&(t=0),e>1&&(e=1),t=this.getPoint(t),this.getPoint(e).clone().sub(t).normalize()},THREE.Curve.prototype.getTangentAt=function(e){return e=this.getUtoTmapping(e),this.getTangent(e)},THREE.Curve.Utils={tangentQuadraticBezier:function(e,t,i,a){return 2*(1-e)*(i-t)+2*e*(a-i)},tangentCubicBezier:function(e,t,i,a,r){return-3*t*(1-e)*(1-e)+3*i*(1-e)*(1-e)-6*e*i*(1-e)+6*e*a*(1-e)-3*e*e*a+3*e*e*r},tangentSpline:function(e){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,i,a,r){e=.5*(i-e),a=.5*(a-t);var n=r*r;return(2*t-2*i+e+a)*r*n+(-3*t+3*i-2*e-a)*n+e*r+t}},THREE.Curve.create=function(e,t){return e.prototype=Object.create(THREE.Curve.prototype),e.prototype.getPoint=t,e},THREE.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.add=function(e){this.curves.push(e)},THREE.CurvePath.prototype.checkConnection=function(){},THREE.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new THREE.LineCurve(t,e))},THREE.CurvePath.prototype.getPoint=function(e){var t=e*this.getLength(),i=this.getCurveLengths();for(e=0;e<i.length;){if(i[e]>=t)return t=i[e]-t,e=this.curves[e],t=1-t/e.getLength(),e.getPointAt(t);e++}return null},THREE.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var e,t=[],i=0,a=this.curves.length;for(e=0;a>e;e++)i+=this.curves[e].getLength(),t.push(i);return this.cacheLengths=t},THREE.CurvePath.prototype.getBoundingBox=function(){var e,t,i,a,r,n,o=this.getPoints();e=t=Number.NEGATIVE_INFINITY,a=r=Number.POSITIVE_INFINITY;var s,l,h,c,f=o[0]instanceof THREE.Vector3;for(c=f?new THREE.Vector3:new THREE.Vector2,l=0,h=o.length;h>l;l++)s=o[l],s.x>e?e=s.x:s.x<a&&(a=s.x),s.y>t?t=s.y:s.y<r&&(r=s.y),f&&(s.z>i?i=s.z:s.z<n&&(n=s.z)),c.add(s);return o={minX:a,minY:r,maxX:e,maxY:t},f&&(o.maxZ=i,o.minZ=n),o},THREE.CurvePath.prototype.createPointsGeometry=function(e){return e=this.getPoints(e,!0),this.createGeometry(e)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(e){return e=this.getSpacedPoints(e,!0),this.createGeometry(e)},THREE.CurvePath.prototype.createGeometry=function(e){for(var t=new THREE.Geometry,i=0;i<e.length;i++)t.vertices.push(new THREE.Vector3(e[i].x,e[i].y,e[i].z||0));return t},THREE.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)},THREE.CurvePath.prototype.getTransformedPoints=function(e,t){var i,a,r=this.getPoints(e);for(t||(t=this.bends),i=0,a=t.length;a>i;i++)r=this.getWrapPoints(r,t[i]);return r},THREE.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var i,a,r=this.getSpacedPoints(e);for(t||(t=this.bends),i=0,a=t.length;a>i;i++)r=this.getWrapPoints(r,t[i]);return r},THREE.CurvePath.prototype.getWrapPoints=function(e,t){var i,a,r,n,o,s,l=this.getBoundingBox();for(i=0,a=e.length;a>i;i++)r=e[i],n=r.x,o=r.y,s=n/l.maxX,s=t.getUtoTmapping(s,n),n=t.getPoint(s),s=t.getTangent(s),s.set(-s.y,s.x).multiplyScalar(o),r.x=n.x+s.x,r.y=n.y+s.y;return e},THREE.Gyroscope=function(){THREE.Object3D.call(this)},THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.quaternionWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.quaternionObject,this.scaleObject),this.matrixWorld.compose(this.translationWorld,this.quaternionObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,i=this.children.length;i>t;t++)this.children[t].updateMatrixWorld(e)},THREE.Gyroscope.prototype.translationWorld=new THREE.Vector3,THREE.Gyroscope.prototype.translationObject=new THREE.Vector3,THREE.Gyroscope.prototype.quaternionWorld=new THREE.Quaternion,THREE.Gyroscope.prototype.quaternionObject=new THREE.Quaternion,THREE.Gyroscope.prototype.scaleWorld=new THREE.Vector3,THREE.Gyroscope.prototype.scaleObject=new THREE.Vector3,THREE.Path=function(e){THREE.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},THREE.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;i>t;t++)this.lineTo(e[t].x,e[t].y)},THREE.Path.prototype.moveTo=function(){var e=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:e})},THREE.Path.prototype.lineTo=function(e,t){var i=Array.prototype.slice.call(arguments),a=this.actions[this.actions.length-1].args,a=new THREE.LineCurve(new THREE.Vector2(a[a.length-2],a[a.length-1]),new THREE.Vector2(e,t));this.curves.push(a),this.actions.push({action:THREE.PathActions.LINE_TO,args:i})},THREE.Path.prototype.quadraticCurveTo=function(e,t,i,a){var r=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,n=new THREE.QuadraticBezierCurve(new THREE.Vector2(n[n.length-2],n[n.length-1]),new THREE.Vector2(e,t),new THREE.Vector2(i,a));this.curves.push(n),this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:r})},THREE.Path.prototype.bezierCurveTo=function(e,t,i,a,r,n){var o=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,s=new THREE.CubicBezierCurve(new THREE.Vector2(s[s.length-2],s[s.length-1]),new THREE.Vector2(e,t),new THREE.Vector2(i,a),new THREE.Vector2(r,n));this.curves.push(s),this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:o})},THREE.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,i=[new THREE.Vector2(i[i.length-2],i[i.length-1])];Array.prototype.push.apply(i,e),i=new THREE.SplineCurve(i),this.curves.push(i),this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:t})},THREE.Path.prototype.arc=function(e,t,i,a,r,n){var o=this.actions[this.actions.length-1].args;this.absarc(e+o[o.length-2],t+o[o.length-1],i,a,r,n)},THREE.Path.prototype.absarc=function(e,t,i,a,r,n){this.absellipse(e,t,i,i,a,r,n)},THREE.Path.prototype.ellipse=function(e,t,i,a,r,n,o){var s=this.actions[this.actions.length-1].args;this.absellipse(e+s[s.length-2],t+s[s.length-1],i,a,r,n,o)},THREE.Path.prototype.absellipse=function(e,t,i,a,r,n,o){var s=Array.prototype.slice.call(arguments),l=new THREE.EllipseCurve(e,t,i,a,r,n,o);this.curves.push(l),l=l.getPoint(1),s.push(l.x),s.push(l.y),this.actions.push({action:THREE.PathActions.ELLIPSE,args:s})},THREE.Path.prototype.getSpacedPoints=function(e){e||(e=40);for(var t=[],i=0;e>i;i++)t.push(this.getPoint(i/e));return t},THREE.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,t);e=e||12;var i,a,r,n,o,s,l,h,c,f,u,d,p,m=[];for(i=0,a=this.actions.length;a>i;i++)switch(r=this.actions[i],n=r.action,r=r.args,n){case THREE.PathActions.MOVE_TO:m.push(new THREE.Vector2(r[0],r[1]));break;case THREE.PathActions.LINE_TO:m.push(new THREE.Vector2(r[0],r[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:for(o=r[2],s=r[3],c=r[0],f=r[1],0<m.length?(n=m[m.length-1],u=n.x,d=n.y):(n=this.actions[i-1].args,u=n[n.length-2],d=n[n.length-1]),r=1;e>=r;r++)p=r/e,n=THREE.Shape.Utils.b2(p,u,c,o),p=THREE.Shape.Utils.b2(p,d,f,s),m.push(new THREE.Vector2(n,p));break;case THREE.PathActions.BEZIER_CURVE_TO:for(o=r[4],s=r[5],c=r[0],f=r[1],l=r[2],h=r[3],0<m.length?(n=m[m.length-1],u=n.x,d=n.y):(n=this.actions[i-1].args,u=n[n.length-2],d=n[n.length-1]),r=1;e>=r;r++)p=r/e,n=THREE.Shape.Utils.b3(p,u,c,l,o),p=THREE.Shape.Utils.b3(p,d,f,h,s),m.push(new THREE.Vector2(n,p));break;case THREE.PathActions.CSPLINE_THRU:for(n=this.actions[i-1].args,p=[new THREE.Vector2(n[n.length-2],n[n.length-1])],n=e*r[0].length,p=p.concat(r[0]),p=new THREE.SplineCurve(p),r=1;n>=r;r++)m.push(p.getPointAt(r/n));break;case THREE.PathActions.ARC:for(o=r[0],s=r[1],f=r[2],l=r[3],n=r[4],c=!!r[5],u=n-l,d=2*e,r=1;d>=r;r++)p=r/d,c||(p=1-p),p=l+p*u,n=o+f*Math.cos(p),p=s+f*Math.sin(p),m.push(new THREE.Vector2(n,p));break;case THREE.PathActions.ELLIPSE:for(o=r[0],s=r[1],f=r[2],h=r[3],l=r[4],n=r[5],c=!!r[6],u=n-l,d=2*e,r=1;d>=r;r++)p=r/d,c||(p=1-p),p=l+p*u,n=o+f*Math.cos(p),p=s+h*Math.sin(p),m.push(new THREE.Vector2(n,p))}return i=m[m.length-1],1e-10>Math.abs(i.x-m[0].x)&&1e-10>Math.abs(i.y-m[0].y)&&m.splice(m.length-1,1),t&&m.push(m[0]),m},THREE.Path.prototype.toShapes=function(e,t){function i(e){for(var t=[],i=0,a=e.length;a>i;i++){var r=e[i],n=new THREE.Shape;n.actions=r.actions,n.curves=r.curves,t.push(n)}return t}function a(e,t){for(var i=t.length,a=!1,r=i-1,n=0;i>n;r=n++){var o=t[r],s=t[n],l=s.x-o.x,h=s.y-o.y;if(1e-10<Math.abs(h)){if(0>h&&(o=t[n],l=-l,s=t[r],h=-h),!(e.y<o.y||e.y>s.y))if(e.y==o.y){if(e.x==o.x)return!0}else{if(r=h*(e.x-o.x)-l*(e.y-o.y),0==r)return!0;0>r||(a=!a)}}else if(e.y==o.y&&(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x))return!0}return a}var r=function(e){var t,i,a,r,n=[],o=new THREE.Path;for(t=0,i=e.length;i>t;t++)a=e[t],r=a.args,a=a.action,a==THREE.PathActions.MOVE_TO&&0!=o.actions.length&&(n.push(o),o=new THREE.Path),o[a].apply(o,r);return 0!=o.actions.length&&n.push(o),n}(this.actions);if(0==r.length)return[];if(!0===t)return i(r);var n,o,s,l=[];if(1==r.length)return o=r[0],s=new THREE.Shape,s.actions=o.actions,s.curves=o.curves,l.push(s),l;var h=!THREE.Shape.Utils.isClockWise(r[0].getPoints()),h=e?!h:h;s=[];var c,f=[],u=[],d=0;f[d]=void 0,u[d]=[];var p,m;for(p=0,m=r.length;m>p;p++)o=r[p],c=o.getPoints(),n=THREE.Shape.Utils.isClockWise(c),(n=e?!n:n)?(!h&&f[d]&&d++,f[d]={s:new THREE.Shape,p:c},f[d].s.actions=o.actions,f[d].s.curves=o.curves,h&&d++,u[d]=[]):u[d].push({h:o,p:c[0]});if(!f[0])return i(r);if(1<f.length){for(p=!1,m=[],o=0,r=f.length;r>o;o++)s[o]=[];for(o=0,r=f.length;r>o;o++)for(n=u[o],h=0;h<n.length;h++){d=n[h],c=!0;for(var E=0;E<f.length;E++)a(d.p,f[E].p)&&(o!=E&&m.push({froms:o,tos:E,hole:h}),c?(c=!1,s[E].push(d)):p=!0);c&&s[o].push(d)}0<m.length&&(p||(u=s))}for(p=0,m=f.length;m>p;p++)for(s=f[p].s,l.push(s),o=u[p],r=0,n=o.length;n>r;r++)s.holes.push(o[r].h);return l},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.extrude=function(e){return new THREE.ExtrudeGeometry(this,e)},THREE.Shape.prototype.makeGeometry=function(e){return new THREE.ShapeGeometry(this,e)},THREE.Shape.prototype.getPointsHoles=function(e){var t,i=this.holes.length,a=[];for(t=0;i>t;t++)a[t]=this.holes[t].getTransformedPoints(e,this.bends);return a},THREE.Shape.prototype.getSpacedPointsHoles=function(e){var t,i=this.holes.length,a=[];for(t=0;i>t;t++)a[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return a},THREE.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}},THREE.Shape.prototype.extractPoints=function(e){return this.useSpacedPoints?this.extractAllSpacedPoints(e):this.extractAllPoints(e)},THREE.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}},THREE.Shape.Utils={triangulateShape:function(e,t){function i(e,t,i){return e.x!=t.x?e.x<t.x?e.x<=i.x&&i.x<=t.x:t.x<=i.x&&i.x<=e.x:e.y<t.y?e.y<=i.y&&i.y<=t.y:t.y<=i.y&&i.y<=e.y}function a(e,t,a,r,n){var o=t.x-e.x,s=t.y-e.y,l=r.x-a.x,h=r.y-a.y,c=e.x-a.x,f=e.y-a.y,u=s*l-o*h,d=s*c-o*f;if(1e-10<Math.abs(u)){if(u>0){if(0>d||d>u)return[];if(l=h*c-l*f,0>l||l>u)return[]}else{if(d>0||u>d)return[];if(l=h*c-l*f,l>0||u>l)return[]}return 0==l?!n||0!=d&&d!=u?[e]:[]:l==u?!n||0!=d&&d!=u?[t]:[]:0==d?[a]:d==u?[r]:(n=l/u,[{x:e.x+n*o,y:e.y+n*s}])}return 0!=d||h*c!=l*f?[]:(s=0==o&&0==s,l=0==l&&0==h,s&&l?e.x!=a.x||e.y!=a.y?[]:[e]:s?i(a,r,e)?[e]:[]:l?i(e,t,a)?[a]:[]:(0!=o?(e.x<t.x?(o=e,l=e.x,s=t,e=t.x):(o=t,l=t.x,s=e,e=e.x),a.x<r.x?(t=a,u=a.x,h=r,a=r.x):(t=r,u=r.x,h=a,a=a.x)):(e.y<t.y?(o=e,l=e.y,s=t,e=t.y):(o=t,l=t.y,s=e,e=e.y),a.y<r.y?(t=a,u=a.y,h=r,a=r.y):(t=r,u=r.y,h=a,a=a.y)),u>=l?u>e?[]:e==u?n?[]:[t]:a>=e?[t,s]:[t,h]:l>a?[]:l==a?n?[]:[o]:a>=e?[o,s]:[o,h]))}function r(e,t,i,a){var r=t.x-e.x,n=t.y-e.y;t=i.x-e.x,i=i.y-e.y;var o=a.x-e.x;return a=a.y-e.y,e=r*i-n*t,r=r*a-n*o,1e-10<Math.abs(e)?(t=o*i-a*t,e>0?r>=0&&t>=0:r>=0||t>=0):r>0}var n,o,s,l,h,c={};for(s=e.concat(),n=0,o=t.length;o>n;n++)Array.prototype.push.apply(s,t[n]);for(n=0,o=s.length;o>n;n++)h=s[n].x+":"+s[n].y,void 0!==c[h]&&console.log("Duplicate point",h),c[h]=n;n=function(e,t){function i(e,t){var i=E.length-1,a=e-1;0>a&&(a=i);var n=e+1;return n>i&&(n=0),(i=r(E[e],E[a],E[n],s[t]))?(i=s.length-1,a=t-1,0>a&&(a=i),n=t+1,n>i&&(n=0),(i=r(s[t],s[a],s[n],E[e]))?!0:!1):!1}function n(e,t){var i,r;for(i=0;i<E.length;i++)if(r=i+1,r%=E.length,r=a(e,t,E[i],E[r],!0),0<r.length)return!0;return!1}function o(e,i){var r,n,o,s;for(r=0;r<v.length;r++)for(n=t[v[r]],o=0;o<n.length;o++)if(s=o+1,s%=n.length,s=a(e,i,n[o],n[s],!0),0<s.length)return!0;return!1}var s,l,h,c,f,u,d,p,m,E=e.concat(),v=[],g=[],y=0;for(l=t.length;l>y;y++)v.push(y);d=0;for(var T=2*v.length;0<v.length;){if(T--,0>T){console.log("Infinite Loop! Holes left:"+v.length+", Probably Hole outside Shape!");break}for(h=d;h<E.length;h++){for(c=E[h],l=-1,y=0;y<v.length;y++)if(f=v[y],u=c.x+":"+c.y+":"+f,void 0===g[u]){for(s=t[f],p=0;p<s.length;p++)if(f=s[p],i(h,p)&&!n(c,f)&&!o(c,f)){l=p,v.splice(y,1),d=E.slice(0,h+1),f=E.slice(h),p=s.slice(l),m=s.slice(0,l+1),E=d.concat(p).concat(m).concat(f),d=h;break}if(l>=0)break;g[u]=!0}if(l>=0)break}}return E}(e,t);var f=THREE.FontUtils.Triangulate(n,!1);for(n=0,o=f.length;o>n;n++)for(l=f[n],s=0;3>s;s++)h=l[s].x+":"+l[s].y,h=c[h],void 0!==h&&(l[s]=h);return f.concat()},isClockWise:function(e){return 0>THREE.FontUtils.Triangulate.area(e)},b2p0:function(e,t){var i=1-e;return i*i*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,i,a){return this.b2p0(e,t)+this.b2p1(e,i)+this.b2p2(e,a)},b3p0:function(e,t){var i=1-e;return i*i*i*t},b3p1:function(e,t){var i=1-e;return 3*i*i*e*t},b3p2:function(e,t){return 3*(1-e)*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,i,a,r){return this.b3p0(e,t)+this.b3p1(e,i)+this.b3p2(e,a)+this.b3p3(e,r)}},THREE.LineCurve=function(e,t){this.v1=e,this.v2=t},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},THREE.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},THREE.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},THREE.QuadraticBezierCurve=function(e,t,i){this.v0=e,this.v1=t,this.v2=i},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.getPoint=function(e){var t;return t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),e=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),new THREE.Vector2(t,e)},THREE.QuadraticBezierCurve.prototype.getTangent=function(e){var t;return t=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),e=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y),t=new THREE.Vector2(t,e),t.normalize(),t},THREE.CubicBezierCurve=function(e,t,i,a){this.v0=e,this.v1=t,this.v2=i,this.v3=a},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.getPoint=function(e){var t;return t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new THREE.Vector2(t,e)},THREE.CubicBezierCurve.prototype.getTangent=function(e){var t;return t=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t=new THREE.Vector2(t,e),t.normalize(),t},THREE.SplineCurve=function(e){this.points=void 0==e?[]:e},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.getPoint=function(e){var t,i=new THREE.Vector2,a=[],r=this.points;return t=(r.length-1)*e,e=Math.floor(t),t-=e,a[0]=0==e?e:e-1,a[1]=e,a[2]=e>r.length-2?r.length-1:e+1,a[3]=e>r.length-3?r.length-1:e+2,i.x=THREE.Curve.Utils.interpolate(r[a[0]].x,r[a[1]].x,r[a[2]].x,r[a[3]].x,t),i.y=THREE.Curve.Utils.interpolate(r[a[0]].y,r[a[1]].y,r[a[2]].y,r[a[3]].y,t),i},THREE.EllipseCurve=function(e,t,i,a,r,n,o){this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=n,this.aClockwise=o},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.getPoint=function(e){var t;return t=this.aEndAngle-this.aStartAngle,0>t&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI),t=!0===this.aClockwise?this.aEndAngle+(1-e)*(2*Math.PI-t):this.aStartAngle+e*t,e=this.aX+this.xRadius*Math.cos(t),t=this.aY+this.yRadius*Math.sin(t),new THREE.Vector2(e,t)},THREE.ArcCurve=function(e,t,i,a,r,n){THREE.EllipseCurve.call(this,e,t,i,i,a,r,n)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.LineCurve3=THREE.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new THREE.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t
}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(e,t,i){this.v0=e,this.v1=t,this.v2=i},function(e){var t,i;return t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),i=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),e=THREE.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),new THREE.Vector3(t,i,e)}),THREE.CubicBezierCurve3=THREE.Curve.create(function(e,t,i,a){this.v0=e,this.v1=t,this.v2=i,this.v3=a},function(e){var t,i;return t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e=THREE.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),new THREE.Vector3(t,i,e)}),THREE.SplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,i=new THREE.Vector3,a=[],r=this.points;e*=r.length-1,t=Math.floor(e),e-=t,a[0]=0==t?t:t-1,a[1]=t,a[2]=t>r.length-2?r.length-1:t+1,a[3]=t>r.length-3?r.length-1:t+2,t=r[a[0]];var n=r[a[1]],o=r[a[2]],a=r[a[3]];return i.x=THREE.Curve.Utils.interpolate(t.x,n.x,o.x,a.x,e),i.y=THREE.Curve.Utils.interpolate(t.y,n.y,o.y,a.y,e),i.z=THREE.Curve.Utils.interpolate(t.z,n.z,o.z,a.z,e),i}),THREE.ClosedSplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,i=new THREE.Vector3,a=[],r=this.points;return t=(r.length-0)*e,e=Math.floor(t),t-=e,e+=e>0?0:(Math.floor(Math.abs(e)/r.length)+1)*r.length,a[0]=(e-1)%r.length,a[1]=e%r.length,a[2]=(e+1)%r.length,a[3]=(e+2)%r.length,i.x=THREE.Curve.Utils.interpolate(r[a[0]].x,r[a[1]].x,r[a[2]].x,r[a[3]].x,t),i.y=THREE.Curve.Utils.interpolate(r[a[0]].y,r[a[1]].y,r[a[2]].y,r[a[3]].y,t),i.z=THREE.Curve.Utils.interpolate(r[a[0]].z,r[a[1]].z,r[a[2]].z,r[a[3]].z,t),i}),THREE.AnimationHandler=function(){var e=[],t={},i={update:function(t){for(var i=0;i<e.length;i++)e[i].update(t)},addToUpdate:function(t){-1===e.indexOf(t)&&e.push(t)},removeFromUpdate:function(t){t=e.indexOf(t),-1!==t&&e.splice(t,1)},add:function(e){if(void 0!==t[e.name]&&console.log("THREE.AnimationHandler.add: Warning! "+e.name+" already exists in library. Overwriting."),t[e.name]=e,!0!==e.initialized){for(var i=0;i<e.hierarchy.length;i++){for(var a=0;a<e.hierarchy[i].keys.length;a++)if(0>e.hierarchy[i].keys[a].time&&(e.hierarchy[i].keys[a].time=0),void 0!==e.hierarchy[i].keys[a].rot&&!(e.hierarchy[i].keys[a].rot instanceof THREE.Quaternion)){var r=e.hierarchy[i].keys[a].rot;e.hierarchy[i].keys[a].rot=(new THREE.Quaternion).fromArray(r)}if(e.hierarchy[i].keys.length&&void 0!==e.hierarchy[i].keys[0].morphTargets){for(r={},a=0;a<e.hierarchy[i].keys.length;a++)for(var n=0;n<e.hierarchy[i].keys[a].morphTargets.length;n++){var o=e.hierarchy[i].keys[a].morphTargets[n];r[o]=-1}for(e.hierarchy[i].usedMorphTargets=r,a=0;a<e.hierarchy[i].keys.length;a++){var s={};for(o in r){for(n=0;n<e.hierarchy[i].keys[a].morphTargets.length;n++)if(e.hierarchy[i].keys[a].morphTargets[n]===o){s[o]=e.hierarchy[i].keys[a].morphTargetsInfluences[n];break}n===e.hierarchy[i].keys[a].morphTargets.length&&(s[o]=0)}e.hierarchy[i].keys[a].morphTargetsInfluences=s}}for(a=1;a<e.hierarchy[i].keys.length;a++)e.hierarchy[i].keys[a].time===e.hierarchy[i].keys[a-1].time&&(e.hierarchy[i].keys.splice(a,1),a--);for(a=0;a<e.hierarchy[i].keys.length;a++)e.hierarchy[i].keys[a].index=a}e.initialized=!0}},remove:function(e){void 0===t[e]&&console.log("THREE.AnimationHandler.add: Warning! "+e+" doesn't exists in library. Doing nothing."),t[e]=void 0},get:function(e){return"string"==typeof e?t[e]?t[e]:null:void 0},parse:function(e){var t=[];if(e instanceof THREE.SkinnedMesh)for(var i=0;i<e.skeleton.bones.length;i++)t.push(e.skeleton.bones[i]);else a(e,t);return t}},a=function(e,t){t.push(e);for(var i=0;i<e.children.length;i++)a(e.children[i],t)};return i.LINEAR=0,i.CATMULLROM=1,i.CATMULLROM_FORWARD=2,i}(),THREE.Animation=function(e,t){this.root=e,this.data=THREE.AnimationHandler.get(t),this.hierarchy=THREE.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=this.isPaused=!0,this.weight=0,this.interpolationType=THREE.AnimationHandler.LINEAR},THREE.Animation.prototype.keyTypes=["pos","rot","scl"],THREE.Animation.prototype.play=function(e,t){this.currentTime=void 0!==e?e:0,this.weight=void 0!==t?t:1,this.isPlaying=!0,this.isPaused=!1,this.reset(),THREE.AnimationHandler.addToUpdate(this)},THREE.Animation.prototype.pause=function(){!0===this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.Animation.prototype.stop=function(){this.isPaused=this.isPlaying=!1,THREE.AnimationHandler.removeFromUpdate(this)},THREE.Animation.prototype.reset=function(){for(var e=0,t=this.hierarchy.length;t>e;e++){var i=this.hierarchy[e];i.matrixAutoUpdate=!0,void 0===i.animationCache&&(i.animationCache={}),void 0===i.animationCache[this.data.name]&&(i.animationCache[this.data.name]={},i.animationCache[this.data.name].prevKey={pos:0,rot:0,scl:0},i.animationCache[this.data.name].nextKey={pos:0,rot:0,scl:0},i.animationCache[this.data.name].originalMatrix=i instanceof THREE.Bone?i.skinMatrix:i.matrix);for(var i=i.animationCache[this.data.name],a=0;3>a;a++){for(var r=this.keyTypes[a],n=this.data.hierarchy[e].keys[0],o=this.getNextKeyWith(r,e,1);o.time<this.currentTime&&o.index>n.index;)n=o,o=this.getNextKeyWith(r,e,o.index+1);i.prevKey[r]=n,i.nextKey[r]=o}}},THREE.Animation.prototype.update=function(){var e=[],t=new THREE.Vector3,i=new THREE.Vector3,a=new THREE.Quaternion,r=function(e,t){var i,a,r,o,s,l,h=[],c=[];return i=(e.length-1)*t,a=Math.floor(i),i-=a,h[0]=0===a?a:a-1,h[1]=a,h[2]=a>e.length-2?a:a+1,h[3]=a>e.length-3?a:a+2,a=e[h[0]],o=e[h[1]],s=e[h[2]],l=e[h[3]],h=i*i,r=i*h,c[0]=n(a[0],o[0],s[0],l[0],i,h,r),c[1]=n(a[1],o[1],s[1],l[1],i,h,r),c[2]=n(a[2],o[2],s[2],l[2],i,h,r),c},n=function(e,t,i,a,r,n,o){return e=.5*(i-e),a=.5*(a-t),(2*(t-i)+e+a)*o+(-3*(t-i)-2*e-a)*n+e*r+t};return function(n){if(!1!==this.isPlaying&&(this.currentTime+=n*this.timeScale,0!==this.weight)){var o;if(n=this.data.length,!0===this.loop&&this.currentTime>n)this.currentTime%=n,this.reset();else if(!1===this.loop&&this.currentTime>n)return void this.stop();n=0;for(var s=this.hierarchy.length;s>n;n++)for(var l=this.hierarchy[n],h=l.animationCache[this.data.name],c=0;3>c;c++){o=this.keyTypes[c];var f=h.prevKey[o],u=h.nextKey[o];if(u.time<=this.currentTime){for(f=this.data.hierarchy[n].keys[0],u=this.getNextKeyWith(o,n,1);u.time<this.currentTime&&u.index>f.index;)f=u,u=this.getNextKeyWith(o,n,u.index+1);h.prevKey[o]=f,h.nextKey[o]=u}l.matrixAutoUpdate=!0,l.matrixWorldNeedsUpdate=!0;var d=(this.currentTime-f.time)/(u.time-f.time),p=f[o],m=u[o];0>d&&(d=0),d>1&&(d=1),"pos"===o?(o=l.position,this.interpolationType===THREE.AnimationHandler.LINEAR?(i.x=p[0]+(m[0]-p[0])*d,i.y=p[1]+(m[1]-p[1])*d,i.z=p[2]+(m[2]-p[2])*d,l instanceof THREE.Bone&&(f=this.weight/(this.weight+l.accumulatedPosWeight),o.lerp(i,f),l.accumulatedPosWeight+=this.weight)):(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD)&&(e[0]=this.getPrevKeyWith("pos",n,f.index-1).pos,e[1]=p,e[2]=m,e[3]=this.getNextKeyWith("pos",n,u.index+1).pos,d=.33*d+.33,u=r(e,d),l instanceof THREE.Bone?(f=this.weight/(this.weight+l.accumulatedPosWeight),l.accumulatedPosWeight+=this.weight):f=1,o.x+=(u[0]-o.x)*f,o.y+=(u[1]-o.y)*f,o.z+=(u[2]-o.z)*f,this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD&&(d=r(e,1.01*d),t.set(d[0],d[1],d[2]),t.sub(o),t.y=0,t.normalize(),o=Math.atan2(t.x,t.z),l.rotation.set(0,o,0)))):"rot"===o?(THREE.Quaternion.slerp(p,m,a,d),l instanceof THREE.Bone?0===l.accumulatedRotWeight?(l.quaternion.copy(a),l.accumulatedRotWeight=this.weight):(f=this.weight/(this.weight+l.accumulatedRotWeight),THREE.Quaternion.slerp(l.quaternion,a,l.quaternion,f),l.accumulatedRotWeight+=this.weight):l.quaternion.copy(a)):"scl"===o&&(o=l.scale,i.x=p[0]+(m[0]-p[0])*d,i.y=p[1]+(m[1]-p[1])*d,i.z=p[2]+(m[2]-p[2])*d,l instanceof THREE.Bone&&(f=this.weight/(this.weight+l.accumulatedSclWeight),o.lerp(i,f),l.accumulatedSclWeight+=this.weight))}return!0}}}(),THREE.Animation.prototype.getNextKeyWith=function(e,t,i){var a=this.data.hierarchy[t].keys;for(i=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?i<a.length-1?i:a.length-1:i%a.length;i<a.length;i++)if(void 0!==a[i][e])return a[i];return this.data.hierarchy[t].keys[0]},THREE.Animation.prototype.getPrevKeyWith=function(e,t,i){var a=this.data.hierarchy[t].keys;for(i=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?i>0?i:0:i>=0?i:i+a.length;i>=0;i--)if(void 0!==a[i][e])return a[i];return this.data.hierarchy[t].keys[a.length-1]},THREE.KeyFrameAnimation=function(e,t){this.root=e,this.data=THREE.AnimationHandler.get(t),this.hierarchy=THREE.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.loop=this.isPaused=!0;for(var i=0,a=this.hierarchy.length;a>i;i++){var r=this.data.hierarchy[i].sids,n=this.hierarchy[i];if(this.data.hierarchy[i].keys.length&&r){for(var o=0;o<r.length;o++){var s=r[o],l=this.getNextKeyWith(s,i,0);l&&l.apply(s)}n.matrixAutoUpdate=!1,this.data.hierarchy[i].node.updateMatrix(),n.matrixWorldNeedsUpdate=!0}}},THREE.KeyFrameAnimation.prototype.play=function(e){if(this.currentTime=void 0!==e?e:0,!1===this.isPlaying){this.isPlaying=!0;var t,i,a=this.hierarchy.length;for(e=0;a>e;e++)t=this.hierarchy[e],i=this.data.hierarchy[e],void 0===i.animationCache&&(i.animationCache={},i.animationCache.prevKey=null,i.animationCache.nextKey=null,i.animationCache.originalMatrix=t instanceof THREE.Bone?t.skinMatrix:t.matrix),t=this.data.hierarchy[e].keys,t.length&&(i.animationCache.prevKey=t[0],i.animationCache.nextKey=t[1],this.startTime=Math.min(t[0].time,this.startTime),this.endTime=Math.max(t[t.length-1].time,this.endTime));this.update(0)}this.isPaused=!1,THREE.AnimationHandler.addToUpdate(this)},THREE.KeyFrameAnimation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.KeyFrameAnimation.prototype.stop=function(){this.isPaused=this.isPlaying=!1,THREE.AnimationHandler.removeFromUpdate(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],i=this.data.hierarchy[e];if(void 0!==i.animationCache){var a=i.animationCache.originalMatrix;t instanceof THREE.Bone?(a.copy(t.skinMatrix),t.skinMatrix=a):(a.copy(t.matrix),t.matrix=a),delete i.animationCache}}},THREE.KeyFrameAnimation.prototype.update=function(e){if(!1!==this.isPlaying){this.currentTime+=e*this.timeScale,e=this.data.length,!0===this.loop&&this.currentTime>e&&(this.currentTime%=e),this.currentTime=Math.min(this.currentTime,e),e=0;for(var t=this.hierarchy.length;t>e;e++){var i=this.hierarchy[e],a=this.data.hierarchy[e],r=a.keys,a=a.animationCache;if(r.length){var n=a.prevKey,o=a.nextKey;if(o.time<=this.currentTime){for(;o.time<this.currentTime&&o.index>n.index;)n=o,o=r[n.index+1];a.prevKey=n,a.nextKey=o}o.time>=this.currentTime?n.interpolate(o,this.currentTime):n.interpolate(o,o.time),this.data.hierarchy[e].node.updateMatrix(),i.matrixWorldNeedsUpdate=!0}}}},THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,i){for(t=this.data.hierarchy[t].keys,i%=t.length;i<t.length;i++)if(t[i].hasTarget(e))return t[i];return t[0]},THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,i){for(t=this.data.hierarchy[t].keys,i=i>=0?i:i+t.length;i>=0;i--)if(t[i].hasTarget(e))return t[i];return t[t.length-1]},THREE.MorphAnimation=function(e){this.mesh=e,this.frames=e.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.isPlaying=!1},THREE.MorphAnimation.prototype={play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(){var e=0,t=0;return function(i){if(!1!==this.isPlaying){this.currentTime+=i,!0===this.loop&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration),i=this.duration/this.frames;var a=Math.floor(this.currentTime/i);a!=t&&(this.mesh.morphTargetInfluences[e]=0,this.mesh.morphTargetInfluences[t]=1,this.mesh.morphTargetInfluences[a]=0,e=t,t=a),this.mesh.morphTargetInfluences[a]=this.currentTime%i/i,this.mesh.morphTargetInfluences[e]=1-this.mesh.morphTargetInfluences[a]}}}()},THREE.CubeCamera=function(e,t,i){THREE.Object3D.call(this);var a=new THREE.PerspectiveCamera(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new THREE.Vector3(1,0,0)),this.add(a);var r=new THREE.PerspectiveCamera(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new THREE.Vector3(-1,0,0)),this.add(r);var n=new THREE.PerspectiveCamera(90,1,e,t);n.up.set(0,0,1),n.lookAt(new THREE.Vector3(0,1,0)),this.add(n);var o=new THREE.PerspectiveCamera(90,1,e,t);o.up.set(0,0,-1),o.lookAt(new THREE.Vector3(0,-1,0)),this.add(o);var s=new THREE.PerspectiveCamera(90,1,e,t);s.up.set(0,-1,0),s.lookAt(new THREE.Vector3(0,0,1)),this.add(s);var l=new THREE.PerspectiveCamera(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new THREE.Vector3(0,0,-1)),this.add(l),this.renderTarget=new THREE.WebGLRenderTargetCube(i,i,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(e,t){var i=this.renderTarget,h=i.generateMipmaps;i.generateMipmaps=!1,i.activeCubeFace=0,e.render(t,a,i),i.activeCubeFace=1,e.render(t,r,i),i.activeCubeFace=2,e.render(t,n,i),i.activeCubeFace=3,e.render(t,o,i),i.activeCubeFace=4,e.render(t,s,i),i.generateMipmaps=h,i.activeCubeFace=5,e.render(t,l,i)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.CombinedCamera=function(e,t,i,a,r,n,o){THREE.Camera.call(this),this.fov=i,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2,this.cameraO=new THREE.OrthographicCamera(e/-2,e/2,t/2,t/-2,n,o),this.cameraP=new THREE.PerspectiveCamera(i,e/t,a,r),this.zoom=1,this.toPerspective()},THREE.CombinedCamera.prototype=Object.create(THREE.Camera.prototype),THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near,this.far=this.cameraP.far,this.cameraP.fov=this.fov/this.zoom,this.cameraP.updateProjectionMatrix(),this.projectionMatrix=this.cameraP.projectionMatrix,this.inPerspectiveMode=!0,this.inOrthographicMode=!1},THREE.CombinedCamera.prototype.toOrthographic=function(){var e=this.cameraP.aspect,t=(this.cameraP.near+this.cameraP.far)/2,t=Math.tan(this.fov/2)*t,e=2*t*e/2,t=t/this.zoom,e=e/this.zoom;this.cameraO.left=-e,this.cameraO.right=e,this.cameraO.top=t,this.cameraO.bottom=-t,this.cameraO.updateProjectionMatrix(),this.near=this.cameraO.near,this.far=this.cameraO.far,this.projectionMatrix=this.cameraO.projectionMatrix,this.inPerspectiveMode=!1,this.inOrthographicMode=!0},THREE.CombinedCamera.prototype.setSize=function(e,t){this.cameraP.aspect=e/t,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2},THREE.CombinedCamera.prototype.setFov=function(e){this.fov=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())},THREE.CombinedCamera.prototype.setLens=function(e,t){void 0===t&&(t=24);var i=2*THREE.Math.radToDeg(Math.atan(t/(2*e)));return this.setFov(i),i},THREE.CombinedCamera.prototype.setZoom=function(e){this.zoom=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.BoxGeometry=function(e,t,i,a,r,n){function o(e,t,i,a,r,n,o,l){var h,c=s.widthSegments,f=s.heightSegments,u=r/2,d=n/2,p=s.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?h="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(h="y",f=s.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(h="x",c=s.depthSegments);var m=c+1,E=f+1,v=r/c,g=n/f,y=new THREE.Vector3;for(y[h]=o>0?1:-1,r=0;E>r;r++)for(n=0;m>n;n++){var T=new THREE.Vector3;T[e]=(n*v-u)*i,T[t]=(r*g-d)*a,T[h]=o,s.vertices.push(T)}for(r=0;f>r;r++)for(n=0;c>n;n++)d=n+m*r,e=n+m*(r+1),t=n+1+m*(r+1),i=n+1+m*r,a=new THREE.Vector2(n/c,1-r/f),o=new THREE.Vector2(n/c,1-(r+1)/f),h=new THREE.Vector2((n+1)/c,1-(r+1)/f),u=new THREE.Vector2((n+1)/c,1-r/f),d=new THREE.Face3(d+p,e+p,i+p),d.normal.copy(y),d.vertexNormals.push(y.clone(),y.clone(),y.clone()),d.materialIndex=l,s.faces.push(d),s.faceVertexUvs[0].push([a,o,u]),d=new THREE.Face3(e+p,t+p,i+p),d.normal.copy(y),d.vertexNormals.push(y.clone(),y.clone(),y.clone()),d.materialIndex=l,s.faces.push(d),s.faceVertexUvs[0].push([o.clone(),h,u.clone()])}THREE.Geometry.call(this),this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:r,depthSegments:n},this.widthSegments=a||1,this.heightSegments=r||1,this.depthSegments=n||1;var s=this;a=e/2,r=t/2,n=i/2,o("z","y",-1,-1,i,t,a,0),o("z","y",1,-1,i,t,-a,1),o("x","z",1,1,e,i,r,2),o("x","z",1,-1,e,i,-r,3),o("x","y",1,-1,e,t,n,4),o("x","y",-1,-1,e,t,-n,5),this.mergeVertices()},THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CircleGeometry=function(e,t,i,a){THREE.Geometry.call(this),this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},e=e||50,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI;var r,n=[];r=new THREE.Vector3;var o=new THREE.Vector2(.5,.5);for(this.vertices.push(r),n.push(o),r=0;t>=r;r++){var s=new THREE.Vector3,l=i+r/t*a;s.x=e*Math.cos(l),s.y=e*Math.sin(l),this.vertices.push(s),n.push(new THREE.Vector2((s.x/e+1)/2,(s.y/e+1)/2))}for(i=new THREE.Vector3(0,0,1),r=1;t>=r;r++)this.faces.push(new THREE.Face3(r,r+1,0,[i.clone(),i.clone(),i.clone()])),this.faceVertexUvs[0].push([n[r].clone(),n[r+1].clone(),o.clone()]);this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CubeGeometry=function(e,t,i,a,r,n){return console.warn("DEPRECATED: THREE.CubeGeometry is deprecated. Use THREE.BoxGeometry instead."),new THREE.BoxGeometry(e,t,i,a,r,n)},THREE.CylinderGeometry=function(e,t,i,a,r,n){THREE.Geometry.call(this),this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:r,openEnded:n},e=void 0!==e?e:20,t=void 0!==t?t:20,i=void 0!==i?i:100,a=a||8,r=r||1,n=void 0!==n?n:!1;var o,s,l=i/2,h=[],c=[];for(s=0;r>=s;s++){var f=[],u=[],d=s/r,p=d*(t-e)+e;for(o=0;a>=o;o++){var m=o/a,E=new THREE.Vector3;E.x=p*Math.sin(m*Math.PI*2),E.y=-d*i+l,E.z=p*Math.cos(m*Math.PI*2),this.vertices.push(E),f.push(this.vertices.length-1),u.push(new THREE.Vector2(m,1-d))}h.push(f),c.push(u)}for(i=(t-e)/i,o=0;a>o;o++)for(0!==e?(f=this.vertices[h[0][o]].clone(),u=this.vertices[h[0][o+1]].clone()):(f=this.vertices[h[1][o]].clone(),u=this.vertices[h[1][o+1]].clone()),f.setY(Math.sqrt(f.x*f.x+f.z*f.z)*i).normalize(),u.setY(Math.sqrt(u.x*u.x+u.z*u.z)*i).normalize(),s=0;r>s;s++){var d=h[s][o],p=h[s+1][o],m=h[s+1][o+1],E=h[s][o+1],v=f.clone(),g=f.clone(),y=u.clone(),T=u.clone(),x=c[s][o].clone(),R=c[s+1][o].clone(),b=c[s+1][o+1].clone(),_=c[s][o+1].clone();this.faces.push(new THREE.Face3(d,p,E,[v,g,T])),this.faceVertexUvs[0].push([x,R,_]),this.faces.push(new THREE.Face3(p,m,E,[g.clone(),y,T.clone()])),this.faceVertexUvs[0].push([R.clone(),b,_.clone()])}if(!1===n&&e>0)for(this.vertices.push(new THREE.Vector3(0,l,0)),o=0;a>o;o++)d=h[0][o],p=h[0][o+1],m=this.vertices.length-1,v=new THREE.Vector3(0,1,0),g=new THREE.Vector3(0,1,0),y=new THREE.Vector3(0,1,0),x=c[0][o].clone(),R=c[0][o+1].clone(),b=new THREE.Vector2(R.x,0),this.faces.push(new THREE.Face3(d,p,m,[v,g,y])),this.faceVertexUvs[0].push([x,R,b]);if(!1===n&&t>0)for(this.vertices.push(new THREE.Vector3(0,-l,0)),o=0;a>o;o++)d=h[s][o+1],p=h[s][o],m=this.vertices.length-1,v=new THREE.Vector3(0,-1,0),g=new THREE.Vector3(0,-1,0),y=new THREE.Vector3(0,-1,0),x=c[s][o+1].clone(),R=c[s][o].clone(),b=new THREE.Vector2(R.x,1),this.faces.push(new THREE.Face3(d,p,m,[v,g,y])),this.faceVertexUvs[0].push([x,R,b]);this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry=function(e,t){"undefined"!=typeof e&&(THREE.Geometry.call(this),e=e instanceof Array?e:[e],this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeFaceNormals())},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var i=e.length,a=0;i>a;a++)this.addShape(e[a],t)},THREE.ExtrudeGeometry.prototype.addShape=function(e,t){function i(e,t,i){return t||console.log("die"),t.clone().multiplyScalar(i).add(e)}function a(e,t,i){var a=THREE.Math.sign,r=1,r=e.x-t.x,n=e.y-t.y,o=i.x-e.x,s=i.y-e.y,l=r*r+n*n;if(1e-10<Math.abs(r*s-n*o)){var h=Math.sqrt(l),a=Math.sqrt(o*o+s*s),l=t.x-n/h;if(t=t.y+r/h,o=((i.x-s/a-l)*s-(i.y+o/a-t)*o)/(r*s-n*o),i=l+r*o-e.x,e=t+n*o-e.y,r=i*i+e*e,2>=r)return new THREE.Vector2(i,e);r=Math.sqrt(r/2)}else e=!1,r>1e-10?o>1e-10&&(e=!0):-1e-10>r?-1e-10>o&&(e=!0):a(n)==a(s)&&(e=!0),e?(i=-n,e=r,r=Math.sqrt(l)):(i=r,e=n,r=Math.sqrt(l/2));return new THREE.Vector2(i/r,e/r)}function r(i,a){var r,n;for(V=i.length;0<=--V;){r=V,n=V-1,0>n&&(n=i.length-1);for(var o=0,s=g+2*m,o=0;s>o;o++){var l=U*o,h=U*(o+1),c=a+r+l,l=a+n+l,f=a+n+h,h=a+r+h,u=i,d=o,p=s,E=r,v=n,c=c+S,l=l+S,f=f+S,h=h+S;M.faces.push(new THREE.Face3(c,l,h,null,null,R)),M.faces.push(new THREE.Face3(l,f,h,null,null,R)),c=b.generateSideWallUV(M,e,u,t,c,l,f,h,d,p,E,v),M.faceVertexUvs[0].push([c[0],c[1],c[3]]),M.faceVertexUvs[0].push([c[1],c[2],c[3]])}}}function n(e,t,i){M.vertices.push(new THREE.Vector3(e,t,i))}function o(i,a,r,n){i+=S,a+=S,r+=S,M.faces.push(new THREE.Face3(i,a,r,null,null,x)),i=n?b.generateBottomUV(M,e,t,i,a,r):b.generateTopUV(M,e,t,i,a,r),M.faceVertexUvs[0].push(i)}var s,l,h,c,f,u=void 0!==t.amount?t.amount:100,d=void 0!==t.bevelThickness?t.bevelThickness:6,p=void 0!==t.bevelSize?t.bevelSize:d-2,m=void 0!==t.bevelSegments?t.bevelSegments:3,E=void 0!==t.bevelEnabled?t.bevelEnabled:!0,v=void 0!==t.curveSegments?t.curveSegments:12,g=void 0!==t.steps?t.steps:1,y=t.extrudePath,T=!1,x=t.material,R=t.extrudeMaterial,b=void 0!==t.UVGenerator?t.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;y&&(s=y.getSpacedPoints(g),T=!0,E=!1,l=void 0!==t.frames?t.frames:new THREE.TubeGeometry.FrenetFrames(y,g,!1),h=new THREE.Vector3,c=new THREE.Vector3,f=new THREE.Vector3),E||(p=d=m=0);var _,w,H,M=this,S=this.vertices.length,y=e.extractPoints(v),v=y.shape,C=y.holes;if(y=!THREE.Shape.Utils.isClockWise(v)){for(v=v.reverse(),w=0,H=C.length;H>w;w++)_=C[w],THREE.Shape.Utils.isClockWise(_)&&(C[w]=_.reverse());y=!1}var A=THREE.Shape.Utils.triangulateShape(v,C),L=v;for(w=0,H=C.length;H>w;w++)_=C[w],v=v.concat(_);var k,D,P,F,z,N,U=v.length,B=A.length,y=[],V=0;for(P=L.length,k=P-1,D=V+1;P>V;V++,k++,D++)k===P&&(k=0),D===P&&(D=0),y[V]=a(L[V],L[k],L[D]);var O,j=[],I=y.concat();for(w=0,H=C.length;H>w;w++){for(_=C[w],O=[],V=0,P=_.length,k=P-1,D=V+1;P>V;V++,k++,D++)k===P&&(k=0),D===P&&(D=0),O[V]=a(_[V],_[k],_[D]);j.push(O),I=I.concat(O)}for(k=0;m>k;k++){for(P=k/m,F=d*(1-P),D=p*Math.sin(P*Math.PI/2),V=0,P=L.length;P>V;V++)z=i(L[V],y[V],D),n(z.x,z.y,-F);for(w=0,H=C.length;H>w;w++)for(_=C[w],O=j[w],V=0,P=_.length;P>V;V++)z=i(_[V],O[V],D),n(z.x,z.y,-F)}for(D=p,V=0;U>V;V++)z=E?i(v[V],I[V],D):v[V],T?(c.copy(l.normals[0]).multiplyScalar(z.x),h.copy(l.binormals[0]).multiplyScalar(z.y),f.copy(s[0]).add(c).add(h),n(f.x,f.y,f.z)):n(z.x,z.y,0);for(P=1;g>=P;P++)for(V=0;U>V;V++)z=E?i(v[V],I[V],D):v[V],T?(c.copy(l.normals[P]).multiplyScalar(z.x),h.copy(l.binormals[P]).multiplyScalar(z.y),f.copy(s[P]).add(c).add(h),n(f.x,f.y,f.z)):n(z.x,z.y,u/g*P);for(k=m-1;k>=0;k--){for(P=k/m,F=d*(1-P),D=p*Math.sin(P*Math.PI/2),V=0,P=L.length;P>V;V++)z=i(L[V],y[V],D),n(z.x,z.y,u+F);for(w=0,H=C.length;H>w;w++)for(_=C[w],O=j[w],V=0,P=_.length;P>V;V++)z=i(_[V],O[V],D),T?n(z.x,z.y+s[g-1].y,s[g-1].x+F):n(z.x,z.y,u+F)}!function(){if(E){var e;for(e=0*U,V=0;B>V;V++)N=A[V],o(N[2]+e,N[1]+e,N[0]+e,!0);for(e=g+2*m,e*=U,V=0;B>V;V++)N=A[V],o(N[0]+e,N[1]+e,N[2]+e,!1)}else{for(V=0;B>V;V++)N=A[V],o(N[2],N[1],N[0],!0);for(V=0;B>V;V++)N=A[V],o(N[0]+U*g,N[1]+U*g,N[2]+U*g,!1)}}(),function(){var e=0;for(r(L,e),e+=L.length,w=0,H=C.length;H>w;w++)_=C[w],r(_,e),e+=_.length}()},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,i,a,r,n){return t=e.vertices[r].x,r=e.vertices[r].y,i=e.vertices[n].x,n=e.vertices[n].y,[new THREE.Vector2(e.vertices[a].x,e.vertices[a].y),new THREE.Vector2(t,r),new THREE.Vector2(i,n)]},generateBottomUV:function(e,t,i,a,r,n){return this.generateTopUV(e,t,i,a,r,n)},generateSideWallUV:function(e,t,i,a,r,n,o,s,l,h,c,f){t=e.vertices[r].x,i=e.vertices[r].y,r=e.vertices[r].z,a=e.vertices[n].x,l=e.vertices[n].y,n=e.vertices[n].z,h=e.vertices[o].x,c=e.vertices[o].y,o=e.vertices[o].z,f=e.vertices[s].x;var u=e.vertices[s].y;return e=e.vertices[s].z,.01>Math.abs(i-l)?[new THREE.Vector2(t,1-r),new THREE.Vector2(a,1-n),new THREE.Vector2(h,1-o),new THREE.Vector2(f,1-e)]:[new THREE.Vector2(i,1-r),new THREE.Vector2(l,1-n),new THREE.Vector2(c,1-o),new THREE.Vector2(u,1-e)]}},THREE.ExtrudeGeometry.__v1=new THREE.Vector2,THREE.ExtrudeGeometry.__v2=new THREE.Vector2,THREE.ExtrudeGeometry.__v3=new THREE.Vector2,THREE.ExtrudeGeometry.__v4=new THREE.Vector2,THREE.ExtrudeGeometry.__v5=new THREE.Vector2,THREE.ExtrudeGeometry.__v6=new THREE.Vector2,THREE.ShapeGeometry=function(e,t){THREE.Geometry.call(this),!1==e instanceof Array&&(e=[e]),this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.addShapeList=function(e,t){for(var i=0,a=e.length;a>i;i++)this.addShape(e[i],t);return this},THREE.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var i,a,r,n=t.material,o=void 0===t.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,s=this.vertices.length;i=e.extractPoints(void 0!==t.curveSegments?t.curveSegments:12);var l=i.shape,h=i.holes;if(!THREE.Shape.Utils.isClockWise(l))for(l=l.reverse(),i=0,a=h.length;a>i;i++)r=h[i],THREE.Shape.Utils.isClockWise(r)&&(h[i]=r.reverse());var c=THREE.Shape.Utils.triangulateShape(l,h);for(i=0,a=h.length;a>i;i++)r=h[i],l=l.concat(r);for(h=l.length,a=c.length,i=0;h>i;i++)r=l[i],this.vertices.push(new THREE.Vector3(r.x,r.y,0));for(i=0;a>i;i++)h=c[i],l=h[0]+s,r=h[1]+s,h=h[2]+s,this.faces.push(new THREE.Face3(l,r,h,null,null,n)),this.faceVertexUvs[0].push(o.generateBottomUV(this,e,t,l,r,h))},THREE.LatheGeometry=function(e,t,i,a){THREE.Geometry.call(this),t=t||12,i=i||0,a=a||2*Math.PI;for(var r=1/(e.length-1),n=1/t,o=0,s=t;s>=o;o++)for(var l=i+o*n*a,h=Math.cos(l),c=Math.sin(l),l=0,f=e.length;f>l;l++){var u=e[l],d=new THREE.Vector3;d.x=h*u.x-c*u.y,d.y=c*u.x+h*u.y,d.z=u.z,this.vertices.push(d)}for(i=e.length,o=0,s=t;s>o;o++)for(l=0,f=e.length-1;f>l;l++){t=c=l+i*o,a=c+i;var h=c+1+i,c=c+1,u=o*n,d=l*r,p=u+n,m=d+r;this.faces.push(new THREE.Face3(t,a,c)),this.faceVertexUvs[0].push([new THREE.Vector2(u,d),new THREE.Vector2(p,d),new THREE.Vector2(u,m)]),this.faces.push(new THREE.Face3(a,h,c)),this.faceVertexUvs[0].push([new THREE.Vector2(p,d),new THREE.Vector2(p,m),new THREE.Vector2(u,m)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry=function(e,t,i,a){THREE.Geometry.call(this),this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};var r=e/2,n=t/2;i=i||1,a=a||1;var o=i+1,s=a+1,l=e/i,h=t/a,c=new THREE.Vector3(0,0,1);for(e=0;s>e;e++){var f=e*h-n;for(t=0;o>t;t++)this.vertices.push(new THREE.Vector3(t*l-r,-f,0))}for(e=0;a>e;e++)for(t=0;i>t;t++){var u=t+o*e,r=t+o*(e+1),n=t+1+o*(e+1),s=t+1+o*e,l=new THREE.Vector2(t/i,1-e/a),h=new THREE.Vector2(t/i,1-(e+1)/a),f=new THREE.Vector2((t+1)/i,1-(e+1)/a),d=new THREE.Vector2((t+1)/i,1-e/a),u=new THREE.Face3(u,r,s);u.normal.copy(c),u.vertexNormals.push(c.clone(),c.clone(),c.clone()),this.faces.push(u),this.faceVertexUvs[0].push([l,h,d]),u=new THREE.Face3(r,n,s),u.normal.copy(c),u.vertexNormals.push(c.clone(),c.clone(),c.clone()),this.faces.push(u),this.faceVertexUvs[0].push([h.clone(),f,d.clone()])}},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.RingGeometry=function(e,t,i,a,r,n){THREE.Geometry.call(this),e=e||0,t=t||50,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,i=void 0!==i?Math.max(3,i):8,a=void 0!==a?Math.max(3,a):8;var o,s=[],l=e,h=(t-e)/a;for(e=0;a>=e;e++){for(o=0;i>=o;o++){var c=new THREE.Vector3,f=r+o/i*n;c.x=l*Math.cos(f),c.y=l*Math.sin(f),this.vertices.push(c),s.push(new THREE.Vector2((c.x/t+1)/2,(c.y/t+1)/2))}l+=h}for(t=new THREE.Vector3(0,0,1),e=0;a>e;e++)for(r=e*i,o=0;i>=o;o++)f=o+r,n=f+e,h=f+i+e,c=f+i+1+e,this.faces.push(new THREE.Face3(n,h,c,[t.clone(),t.clone(),t.clone()])),this.faceVertexUvs[0].push([s[n].clone(),s[h].clone(),s[c].clone()]),n=f+e,h=f+i+1+e,c=f+1+e,this.faces.push(new THREE.Face3(n,h,c,[t.clone(),t.clone(),t.clone()])),this.faceVertexUvs[0].push([s[n].clone(),s[h].clone(),s[c].clone()]);this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,l)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry=function(e,t,i,a,r,n,o){THREE.Geometry.call(this),this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:r,thetaStart:n,thetaLength:o},e=e||50,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),a=void 0!==a?a:0,r=void 0!==r?r:2*Math.PI,n=void 0!==n?n:0,o=void 0!==o?o:Math.PI;var s,l,h=[],c=[];for(l=0;i>=l;l++){var f=[],u=[];for(s=0;t>=s;s++){var d=s/t,p=l/i,m=new THREE.Vector3;m.x=-e*Math.cos(a+d*r)*Math.sin(n+p*o),m.y=e*Math.cos(n+p*o),m.z=e*Math.sin(a+d*r)*Math.sin(n+p*o),this.vertices.push(m),f.push(this.vertices.length-1),u.push(new THREE.Vector2(d,1-p))}h.push(f),c.push(u)}for(l=0;i>l;l++)for(s=0;t>s;s++){a=h[l][s+1],r=h[l][s],n=h[l+1][s],o=h[l+1][s+1];var f=this.vertices[a].clone().normalize(),u=this.vertices[r].clone().normalize(),d=this.vertices[n].clone().normalize(),p=this.vertices[o].clone().normalize(),m=c[l][s+1].clone(),E=c[l][s].clone(),v=c[l+1][s].clone(),g=c[l+1][s+1].clone();Math.abs(this.vertices[a].y)===e?(m.x=(m.x+E.x)/2,this.faces.push(new THREE.Face3(a,n,o,[f,d,p])),this.faceVertexUvs[0].push([m,v,g])):Math.abs(this.vertices[n].y)===e?(v.x=(v.x+g.x)/2,this.faces.push(new THREE.Face3(a,r,n,[f,u,d])),this.faceVertexUvs[0].push([m,E,v])):(this.faces.push(new THREE.Face3(a,r,o,[f,u,p])),this.faceVertexUvs[0].push([m,E,g]),this.faces.push(new THREE.Face3(r,n,o,[u.clone(),d,p.clone()])),this.faceVertexUvs[0].push([E.clone(),v,g.clone()]))}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TextGeometry=function(e,t){t=t||{};var i=THREE.FontUtils.generateShapes(e,t);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,i,t)},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TorusGeometry=function(e,t,i,a,r){THREE.Geometry.call(this),this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:r},e=e||100,t=t||40,i=i||8,a=a||6,r=r||2*Math.PI;
for(var n=new THREE.Vector3,o=[],s=[],l=0;i>=l;l++)for(var h=0;a>=h;h++){var c=h/a*r,f=l/i*Math.PI*2;n.x=e*Math.cos(c),n.y=e*Math.sin(c);var u=new THREE.Vector3;u.x=(e+t*Math.cos(f))*Math.cos(c),u.y=(e+t*Math.cos(f))*Math.sin(c),u.z=t*Math.sin(f),this.vertices.push(u),o.push(new THREE.Vector2(h/a,l/i)),s.push(u.clone().sub(n).normalize())}for(l=1;i>=l;l++)for(h=1;a>=h;h++)e=(a+1)*l+h-1,t=(a+1)*(l-1)+h-1,r=(a+1)*(l-1)+h,n=(a+1)*l+h,c=new THREE.Face3(e,t,n,[s[e].clone(),s[t].clone(),s[n].clone()]),this.faces.push(c),this.faceVertexUvs[0].push([o[e].clone(),o[t].clone(),o[n].clone()]),c=new THREE.Face3(t,r,n,[s[t].clone(),s[r].clone(),s[n].clone()]),this.faces.push(c),this.faceVertexUvs[0].push([o[t].clone(),o[r].clone(),o[n].clone()]);this.computeFaceNormals()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry=function(e,t,i,a,r,n,o){function s(e,t,i,a,r){var n=Math.cos(e),o=Math.sin(e);return e*=t/i,t=Math.cos(e),n*=a*(2+t)*.5,o=a*(2+t)*o*.5,a=r*a*Math.sin(e)*.5,new THREE.Vector3(n,o,a)}THREE.Geometry.call(this),this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,p:r,q:n,heightScale:o},e=e||100,t=t||40,i=i||64,a=a||8,r=r||2,n=n||3,o=o||1;for(var l=Array(i),h=new THREE.Vector3,c=new THREE.Vector3,f=new THREE.Vector3,u=0;i>u;++u){l[u]=Array(a);var d=u/i*2*r*Math.PI,p=s(d,n,r,e,o),d=s(d+.01,n,r,e,o);for(h.subVectors(d,p),c.addVectors(d,p),f.crossVectors(h,c),c.crossVectors(f,h),f.normalize(),c.normalize(),d=0;a>d;++d){var m=d/a*2*Math.PI,E=-t*Math.cos(m),m=t*Math.sin(m),v=new THREE.Vector3;v.x=p.x+E*c.x+m*f.x,v.y=p.y+E*c.y+m*f.y,v.z=p.z+E*c.z+m*f.z,l[u][d]=this.vertices.push(v)-1}}for(u=0;i>u;++u)for(d=0;a>d;++d)r=(u+1)%i,n=(d+1)%a,e=l[u][d],t=l[r][d],r=l[r][n],n=l[u][n],o=new THREE.Vector2(u/i,d/a),h=new THREE.Vector2((u+1)/i,d/a),c=new THREE.Vector2((u+1)/i,(d+1)/a),f=new THREE.Vector2(u/i,(d+1)/a),this.faces.push(new THREE.Face3(e,t,n)),this.faceVertexUvs[0].push([o,h,f]),this.faces.push(new THREE.Face3(t,r,n)),this.faceVertexUvs[0].push([h.clone(),c,f.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry=function(e,t,i,a,r){THREE.Geometry.call(this),this.parameters={path:e,segments:t,radius:i,radialSegments:a,closed:r},t=t||64,i=i||1,a=a||8,r=r||!1;var n,o,s,l,h,c,f,u,d,p=[],m=t+1,E=new THREE.Vector3;for(f=new THREE.TubeGeometry.FrenetFrames(e,t,r),u=f.normals,d=f.binormals,this.tangents=f.tangents,this.normals=u,this.binormals=d,f=0;m>f;f++)for(p[f]=[],s=f/(m-1),c=e.getPointAt(s),n=u[f],o=d[f],s=0;a>s;s++)l=s/a*2*Math.PI,h=-i*Math.cos(l),l=i*Math.sin(l),E.copy(c),E.x+=h*n.x+l*o.x,E.y+=h*n.y+l*o.y,E.z+=h*n.z+l*o.z,p[f][s]=this.vertices.push(new THREE.Vector3(E.x,E.y,E.z))-1;for(f=0;t>f;f++)for(s=0;a>s;s++)m=r?(f+1)%t:f+1,E=(s+1)%a,e=p[f][s],i=p[m][s],m=p[m][E],E=p[f][E],u=new THREE.Vector2(f/t,s/a),d=new THREE.Vector2((f+1)/t,s/a),n=new THREE.Vector2((f+1)/t,(s+1)/a),o=new THREE.Vector2(f/t,(s+1)/a),this.faces.push(new THREE.Face3(e,i,E)),this.faceVertexUvs[0].push([u,d,o]),this.faces.push(new THREE.Face3(i,m,E)),this.faceVertexUvs[0].push([d.clone(),n,o.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.FrenetFrames=function(e,t,i){new THREE.Vector3;var a=new THREE.Vector3;new THREE.Vector3;var r=[],n=[],o=[],s=new THREE.Vector3,l=new THREE.Matrix4;t+=1;var h,c,f;for(this.tangents=r,this.normals=n,this.binormals=o,h=0;t>h;h++)c=h/(t-1),r[h]=e.getTangentAt(c),r[h].normalize();for(n[0]=new THREE.Vector3,o[0]=new THREE.Vector3,e=Number.MAX_VALUE,h=Math.abs(r[0].x),c=Math.abs(r[0].y),f=Math.abs(r[0].z),e>=h&&(e=h,a.set(1,0,0)),e>=c&&(e=c,a.set(0,1,0)),e>=f&&a.set(0,0,1),s.crossVectors(r[0],a).normalize(),n[0].crossVectors(r[0],s),o[0].crossVectors(r[0],n[0]),h=1;t>h;h++)n[h]=n[h-1].clone(),o[h]=o[h-1].clone(),s.crossVectors(r[h-1],r[h]),1e-4<s.length()&&(s.normalize(),a=Math.acos(THREE.Math.clamp(r[h-1].dot(r[h]),-1,1)),n[h].applyMatrix4(l.makeRotationAxis(s,a))),o[h].crossVectors(r[h],n[h]);if(i)for(a=Math.acos(THREE.Math.clamp(n[0].dot(n[t-1]),-1,1)),a/=t-1,0<r[0].dot(s.crossVectors(n[0],n[t-1]))&&(a=-a),h=1;t>h;h++)n[h].applyMatrix4(l.makeRotationAxis(r[h],a*h)),o[h].crossVectors(r[h],n[h])},THREE.PolyhedronGeometry=function(e,t,i,a){function r(e){var t=e.normalize().clone();t.index=l.vertices.push(t)-1;var i=Math.atan2(e.z,-e.x)/2/Math.PI+.5;return e=Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5,t.uv=new THREE.Vector2(i,1-e),t}function n(e,t,i){var a=new THREE.Face3(e.index,t.index,i.index,[e.clone(),t.clone(),i.clone()]);l.faces.push(a),E.copy(e).add(t).add(i).divideScalar(3),a=Math.atan2(E.z,-E.x),l.faceVertexUvs[0].push([s(e.uv,e,a),s(t.uv,t,a),s(i.uv,i,a)])}function o(e,t){var i=Math.pow(2,t);Math.pow(4,t);for(var a=r(l.vertices[e.a]),o=r(l.vertices[e.b]),s=r(l.vertices[e.c]),h=[],c=0;i>=c;c++){h[c]=[];for(var f=r(a.clone().lerp(s,c/i)),u=r(o.clone().lerp(s,c/i)),d=i-c,p=0;d>=p;p++)h[c][p]=0==p&&c==i?f:r(f.clone().lerp(u,p/d))}for(c=0;i>c;c++)for(p=0;2*(i-c)-1>p;p++)a=Math.floor(p/2),0==p%2?n(h[c][a+1],h[c+1][a],h[c][a]):n(h[c][a+1],h[c+1][a+1],h[c+1][a])}function s(e,t,i){return 0>i&&1===e.x&&(e=new THREE.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new THREE.Vector2(i/2/Math.PI+.5,e.y)),e.clone()}THREE.Geometry.call(this),i=i||1,a=a||0;for(var l=this,h=0,c=e.length;c>h;h+=3)r(new THREE.Vector3(e[h],e[h+1],e[h+2]));e=this.vertices;for(var f=[],u=h=0,c=t.length;c>h;h+=3,u++){var d=e[t[h]],p=e[t[h+1]],m=e[t[h+2]];f[u]=new THREE.Face3(d.index,p.index,m.index,[d.clone(),p.clone(),m.clone()])}for(var E=new THREE.Vector3,h=0,c=f.length;c>h;h++)o(f[h],a);for(h=0,c=this.faceVertexUvs[0].length;c>h;h++)t=this.faceVertexUvs[0][h],a=t[0].x,e=t[1].x,f=t[2].x,u=Math.max(a,Math.max(e,f)),d=Math.min(a,Math.min(e,f)),u>.9&&.1>d&&(.2>a&&(t[0].x+=1),.2>e&&(t[1].x+=1),.2>f&&(t[2].x+=1));for(h=0,c=this.vertices.length;c>h;h++)this.vertices[h].multiplyScalar(i);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,i)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry=function(e,t){this.parameters={radius:e,detail:t};var i=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t)},THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry=function(e,t){this.parameters={radius:e,detail:t},THREE.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t)},THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry=function(e,t){THREE.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t)},THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry=function(e,t,i){THREE.Geometry.call(this);var a,r,n,o,s=this.vertices,l=this.faces,h=this.faceVertexUvs[0],c=t+1;for(a=0;i>=a;a++)for(o=a/i,r=0;t>=r;r++)n=r/t,n=e(n,o),s.push(n);var f,u,d,p;for(a=0;i>a;a++)for(r=0;t>r;r++)e=a*c+r,s=a*c+r+1,o=(a+1)*c+r+1,n=(a+1)*c+r,f=new THREE.Vector2(r/t,a/i),u=new THREE.Vector2((r+1)/t,a/i),d=new THREE.Vector2((r+1)/t,(a+1)/i),p=new THREE.Vector2(r/t,(a+1)/i),l.push(new THREE.Face3(e,s,n)),h.push([f,u,p]),l.push(new THREE.Face3(s,o,n)),h.push([u.clone(),d,p.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.AxisHelper=function(e){e=e||1;var t=new THREE.Geometry;t.vertices.push(new THREE.Vector3,new THREE.Vector3(e,0,0),new THREE.Vector3,new THREE.Vector3(0,e,0),new THREE.Vector3,new THREE.Vector3(0,0,e)),t.colors.push(new THREE.Color(16711680),new THREE.Color(16755200),new THREE.Color(65280),new THREE.Color(11206400),new THREE.Color(255),new THREE.Color(43775)),e=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors}),THREE.Line.call(this,t,e,THREE.LinePieces)},THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype),THREE.ArrowHelper=function(e,t,i,a,r,n){THREE.Object3D.call(this),void 0===a&&(a=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===n&&(n=.2*r),this.position=t,t=new THREE.Geometry,t.vertices.push(new THREE.Vector3(0,0,0)),t.vertices.push(new THREE.Vector3(0,1,0)),this.line=new THREE.Line(t,new THREE.LineBasicMaterial({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line),t=new THREE.CylinderGeometry(0,.5,1,5,1),t.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),this.cone=new THREE.Mesh(t,new THREE.MeshBasicMaterial({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,n)},THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.setDirection=function(){var e,t=new THREE.Vector3;return function(i){.99999<i.y?this.quaternion.set(0,0,0,1):-.99999>i.y?this.quaternion.set(1,0,0,0):(t.set(i.z,0,-i.x).normalize(),e=Math.acos(i.y),this.quaternion.setFromAxisAngle(t,e))}}(),THREE.ArrowHelper.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,e,1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},THREE.BoxHelper=function(e){var t=[new THREE.Vector3(1,1,1),new THREE.Vector3(-1,1,1),new THREE.Vector3(-1,-1,1),new THREE.Vector3(1,-1,1),new THREE.Vector3(1,1,-1),new THREE.Vector3(-1,1,-1),new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,-1,-1)];this.vertices=t;var i=new THREE.Geometry;i.vertices.push(t[0],t[1],t[1],t[2],t[2],t[3],t[3],t[0],t[4],t[5],t[5],t[6],t[6],t[7],t[7],t[4],t[0],t[4],t[1],t[5],t[2],t[6],t[3],t[7]),THREE.Line.call(this,i,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces),void 0!==e&&this.update(e)},THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.update=function(e){var t=e.geometry;null===t.boundingBox&&t.computeBoundingBox();var i=t.boundingBox.min,t=t.boundingBox.max,a=this.vertices;a[0].set(t.x,t.y,t.z),a[1].set(i.x,t.y,t.z),a[2].set(i.x,i.y,t.z),a[3].set(t.x,i.y,t.z),a[4].set(t.x,t.y,i.z),a[5].set(i.x,t.y,i.z),a[6].set(i.x,i.y,i.z),a[7].set(t.x,i.y,i.z),this.geometry.computeBoundingSphere(),this.geometry.verticesNeedUpdate=!0,this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},THREE.BoundingBoxHelper=function(e,t){var i=void 0!==t?t:8947848;this.object=e,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:i,wireframe:!0}))},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(e){function t(e,t,a){i(e,a),i(t,a)}function i(e,t){a.vertices.push(new THREE.Vector3),a.colors.push(new THREE.Color(t)),void 0===n[e]&&(n[e]=[]),n[e].push(a.vertices.length-1)}var a=new THREE.Geometry,r=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),n={};t("n1","n2",16755200),t("n2","n4",16755200),t("n4","n3",16755200),t("n3","n1",16755200),t("f1","f2",16755200),t("f2","f4",16755200),t("f4","f3",16755200),t("f3","f1",16755200),t("n1","f1",16755200),t("n2","f2",16755200),t("n3","f3",16755200),t("n4","f4",16755200),t("p","n1",16711680),t("p","n2",16711680),t("p","n3",16711680),t("p","n4",16711680),t("u1","u2",43775),t("u2","u3",43775),t("u3","u1",43775),t("c","t",16777215),t("p","c",3355443),t("cn1","cn2",3355443),t("cn3","cn4",3355443),t("cf1","cf2",3355443),t("cf3","cf4",3355443),THREE.Line.call(this,a,r,THREE.LinePieces),this.camera=e,this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Camera,i=new THREE.Projector;return function(){function a(a,n,o,s){if(e.set(n,o,s),i.unprojectVector(e,t),a=r.pointMap[a],void 0!==a)for(n=0,o=a.length;o>n;n++)r.geometry.vertices[a[n]].copy(e)}var r=this;t.projectionMatrix.copy(this.camera.projectionMatrix),a("c",0,0,-1),a("t",0,0,1),a("n1",-1,-1,-1),a("n2",1,-1,-1),a("n3",-1,1,-1),a("n4",1,1,-1),a("f1",-1,-1,1),a("f2",1,-1,1),a("f3",-1,1,1),a("f4",1,1,1),a("u1",.7,1.1,-1),a("u2",-.7,1.1,-1),a("u3",0,2,-1),a("cf1",-1,0,1),a("cf2",1,0,1),a("cf3",0,-1,1),a("cf4",0,1,1),a("cn1",-1,0,-1),a("cn2",1,0,-1),a("cn3",0,-1,-1),a("cn4",0,1,-1),this.geometry.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(e,t){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(-t,t,0),new THREE.Vector3(t,t,0),new THREE.Vector3(t,-t,0),new THREE.Vector3(-t,-t,0),new THREE.Vector3(-t,t,0));var a=new THREE.LineBasicMaterial({fog:!1});a.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new THREE.Line(i,a),this.add(this.lightPlane),i=new THREE.Geometry,i.vertices.push(new THREE.Vector3,new THREE.Vector3),a=new THREE.LineBasicMaterial({fog:!1}),a.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(i,a),this.add(this.targetLine),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(t,e),this.lightPlane.lookAt(i),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(i),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),THREE.EdgesHelper=function(e,t){var i=void 0!==t?t:16777215,a=[0,0],r={},n=function(e,t){return e-t},o=["a","b","c"],s=new THREE.BufferGeometry,l=e.geometry.clone();l.mergeVertices(),l.computeFaceNormals();for(var h=l.vertices,l=l.faces,c=0,f=0,u=l.length;u>f;f++)for(var d=l[f],p=0;3>p;p++){a[0]=d[o[p]],a[1]=d[o[(p+1)%3]],a.sort(n);var m=a.toString();void 0===r[m]?(r[m]={vert1:a[0],vert2:a[1],face1:f,face2:void 0},c++):r[m].face2=f}s.addAttribute("position",new THREE.Float32Attribute(2*c,3)),a=s.attributes.position.array,n=0;for(m in r)o=r[m],(void 0===o.face2||.9999>l[o.face1].normal.dot(l[o.face2].normal))&&(c=h[o.vert1],a[n++]=c.x,a[n++]=c.y,a[n++]=c.z,c=h[o.vert2],a[n++]=c.x,a[n++]=c.y,a[n++]=c.z);THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:i}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},THREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper=function(e,t,i,a){this.object=e,this.size=void 0!==t?t:1,e=void 0!==i?i:16776960,a=void 0!==a?a:1,t=new THREE.Geometry,i=0;for(var r=this.object.geometry.faces.length;r>i;i++)t.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,t,new THREE.LineBasicMaterial({color:e,linewidth:a}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper.prototype.update=function(){var e=this.geometry.vertices,t=this.object,i=t.geometry.vertices,a=t.geometry.faces,r=t.matrixWorld;t.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(r);for(var n=t=0,o=a.length;o>t;t++,n+=2){var s=a[t];e[n].copy(i[s.a]).add(i[s.b]).add(i[s.c]).divideScalar(3).applyMatrix4(r),e[n+1].copy(s.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(e[n])}return this.geometry.verticesNeedUpdate=!0,this},THREE.GridHelper=function(e,t){var i=new THREE.Geometry,a=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924),this.color2=new THREE.Color(8947848);for(var r=-e;e>=r;r+=t){i.vertices.push(new THREE.Vector3(-e,0,r),new THREE.Vector3(e,0,r),new THREE.Vector3(r,0,-e),new THREE.Vector3(r,0,e));var n=0===r?this.color1:this.color2;i.colors.push(n,n,n,n)}THREE.Line.call(this,i,a,THREE.LinePieces)},THREE.GridHelper.prototype=Object.create(THREE.Line.prototype),THREE.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},THREE.HemisphereLightHelper=function(e,t){for(THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color],e=new THREE.SphereGeometry(t,4,2),e.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2)),t=0;8>t;t++)e.faces[t].color=this.colors[4>t?0:1];t=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0}),this.lightSphere=new THREE.Mesh(e,t),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var e=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var i=new THREE.SphereGeometry(t,4,2),a=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});a.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,i,a),this.matrixWorld=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SkeletonHelper=function(e){for(var t=e.skeleton,i=new THREE.Geometry,a=0;a<t.bones.length;a++)t.bones[a].parent instanceof THREE.Bone&&(i.vertices.push(new THREE.Vector3),i.vertices.push(new THREE.Vector3),i.colors.push(new THREE.Color(0,0,1)),i.colors.push(new THREE.Color(0,1,0)));a=new THREE.LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,transparent:!0}),THREE.Line.call(this,i,a,THREE.LinePieces),this.skeleton=t,this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},THREE.SkeletonHelper.prototype=Object.create(THREE.Line.prototype),THREE.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=0,i=0;i<this.skeleton.bones.length;i++){var a=this.skeleton.bones[i];a.parent instanceof THREE.Bone&&(e.vertices[t].setFromMatrixPosition(a.skinMatrix),e.vertices[t+1].setFromMatrixPosition(a.parent.skinMatrix),t+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},THREE.SpotLightHelper=function(e){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,e=new THREE.CylinderGeometry(0,1,1,8,1,!0),e.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),e.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var t=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(e,t),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){var i=this.light.distance?this.light.distance:1e4,a=i*Math.tan(this.light.angle);this.cone.scale.set(a,a,i),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(e,t,i,a){this.object=e,this.size=void 0!==t?t:1,t=void 0!==i?i:16711680,a=void 0!==a?a:1,i=new THREE.Geometry,e=e.geometry.faces;for(var r=0,n=e.length;n>r;r++)for(var o=0,s=e[r].vertexNormals.length;s>o;o++)i.vertices.push(new THREE.Vector3),i.vertices.push(new THREE.Vector3);THREE.Line.call(this,i,new THREE.LineBasicMaterial({color:t,linewidth:a}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexNormalsHelper.prototype.update=function(){var e=new THREE.Vector3;return function(t){t=["a","b","c","d"],this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var i=this.geometry.vertices,a=this.object.geometry.vertices,r=this.object.geometry.faces,n=this.object.matrixWorld,o=0,s=0,l=r.length;l>s;s++)for(var h=r[s],c=0,f=h.vertexNormals.length;f>c;c++){var u=h.vertexNormals[c];i[o].copy(a[h[t[c]]]).applyMatrix4(n),e.copy(u).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),e.add(i[o]),o+=1,i[o].copy(e),o+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.VertexTangentsHelper=function(e,t,i,a){this.object=e,this.size=void 0!==t?t:1,t=void 0!==i?i:255,a=void 0!==a?a:1,i=new THREE.Geometry,e=e.geometry.faces;for(var r=0,n=e.length;n>r;r++)for(var o=0,s=e[r].vertexTangents.length;s>o;o++)i.vertices.push(new THREE.Vector3),i.vertices.push(new THREE.Vector3);THREE.Line.call(this,i,new THREE.LineBasicMaterial({color:t,linewidth:a}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.update()},THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexTangentsHelper.prototype.update=function(){var e=new THREE.Vector3;return function(t){t=["a","b","c","d"],this.object.updateMatrixWorld(!0);for(var i=this.geometry.vertices,a=this.object.geometry.vertices,r=this.object.geometry.faces,n=this.object.matrixWorld,o=0,s=0,l=r.length;l>s;s++)for(var h=r[s],c=0,f=h.vertexTangents.length;f>c;c++){var u=h.vertexTangents[c];i[o].copy(a[h[t[c]]]).applyMatrix4(n),e.copy(u).transformDirection(n).multiplyScalar(this.size),e.add(i[o]),o+=1,i[o].copy(e),o+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.WireframeHelper=function(e,t){var i=void 0!==t?t:16777215,a=[0,0],r={},n=function(e,t){return e-t},o=["a","b","c"],s=new THREE.BufferGeometry;if(e.geometry instanceof THREE.Geometry){for(var l=e.geometry.vertices,h=e.geometry.faces,c=0,f=new Uint32Array(6*h.length),u=0,d=h.length;d>u;u++)for(var p=h[u],m=0;3>m;m++){a[0]=p[o[m]],a[1]=p[o[(m+1)%3]],a.sort(n);var E=a.toString();void 0===r[E]&&(f[2*c]=a[0],f[2*c+1]=a[1],r[E]=!0,c++)}for(s.addAttribute("position",new THREE.Float32Attribute(2*c,3)),a=s.attributes.position.array,u=0,d=c;d>u;u++)for(m=0;2>m;m++)c=l[f[2*u+m]],o=6*u+3*m,a[o+0]=c.x,a[o+1]=c.y,a[o+2]=c.z}else if(e.geometry instanceof THREE.BufferGeometry&&void 0!==e.geometry.attributes.index){for(var l=e.geometry.attributes.position.array,d=e.geometry.attributes.index.array,h=e.geometry.offsets,c=0,f=new Uint32Array(2*d.length),p=0,v=h.length;v>p;++p)for(var m=h[p].start,E=h[p].count,o=h[p].index,u=m,g=m+E;g>u;u+=3)for(m=0;3>m;m++)a[0]=o+d[u+m],a[1]=o+d[u+(m+1)%3],a.sort(n),E=a.toString(),void 0===r[E]&&(f[2*c]=a[0],f[2*c+1]=a[1],r[E]=!0,c++);for(s.addAttribute("position",new THREE.Float32Attribute(2*c,3)),a=s.attributes.position.array,u=0,d=c;d>u;u++)for(m=0;2>m;m++)o=6*u+3*m,c=3*f[2*u+m],a[o+0]=l[c],a[o+1]=l[c+1],a[o+2]=l[c+2]}else if(e.geometry instanceof THREE.BufferGeometry)for(l=e.geometry.attributes.position.array,c=l.length/3,f=c/3,s.addAttribute("position",new THREE.Float32Attribute(2*c,3)),a=s.attributes.position.array,u=0,d=f;d>u;u++)for(m=0;3>m;m++)o=18*u+6*m,f=9*u+3*m,a[o+0]=l[f],a[o+1]=l[f+1],a[o+2]=l[f+2],c=9*u+(m+1)%3*3,a[o+3]=l[c],a[o+4]=l[c+1],a[o+5]=l[c+2];THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:i}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype),THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this),this.render=function(){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare=function(e,t,i,a,r){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,i,a,r)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.add=function(e,t,i,a,r,n){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=new THREE.Color(16777215)),void 0===a&&(a=THREE.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:e,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:1,opacity:n,color:r,blending:a})},THREE.LensFlare.prototype.updateLensFlares=function(){var e,t,i=this.lensFlares.length,a=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(e=0;i>e;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+a*t.distance,t.y=this.positionScreen.y+r*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},THREE.MorphBlendMesh=function(e,t){THREE.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length;this.createAnimation("__default",0,i-1,i/1),this.setAnimationWeight("__default",1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.createAnimation=function(e,t,i,a){t={startFrame:t,endFrame:i,length:i-t+1,fps:a,duration:(i-t)/a,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1},this.animationsMap[e]=t,this.animationsList.push(t)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,i=/([a-z]+)(\d+)/,a={},r=this.geometry,n=0,o=r.morphTargets.length;o>n;n++){var s=r.morphTargets[n].name.match(i);if(s&&1<s.length){var l=s[1];a[l]||(a[l]={start:1/0,end:-1/0}),s=a[l],n<s.start&&(s.start=n),n>s.end&&(s.end=n),t||(t=l)}}for(l in a)s=a[l],this.createAnimation(l,s.start,s.end,e);this.firstAnimation=t},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){(e=this.animationsMap[e])&&(e.direction=1,e.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){(e=this.animationsMap[e])&&(e.direction=-1,e.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var i=this.animationsMap[e];i&&(i.fps=t,i.duration=(i.end-i.start)/i.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var i=this.animationsMap[e];i&&(i.duration=t,i.fps=(i.end-i.start)/i.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var i=this.animationsMap[e];i&&(i.weight=t)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var i=this.animationsMap[e];i&&(i.time=t)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0;return(e=this.animationsMap[e])&&(t=e.time),t},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1;return(e=this.animationsMap[e])&&(t=e.duration),t},THREE.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("animation["+e+"] undefined")},THREE.MorphBlendMesh.prototype.stopAnimation=function(e){(e=this.animationsMap[e])&&(e.active=!1)},THREE.MorphBlendMesh.prototype.update=function(e){for(var t=0,i=this.animationsList.length;i>t;t++){var a=this.animationsList[t];if(a.active){var r=a.duration/a.length;a.time+=a.direction*e,a.mirroredLoop?(a.time>a.duration||0>a.time)&&(a.direction*=-1,a.time>a.duration&&(a.time=a.duration,a.directionBackwards=!0),0>a.time&&(a.time=0,a.directionBackwards=!1)):(a.time%=a.duration,0>a.time&&(a.time+=a.duration));var n=a.startFrame+THREE.Math.clamp(Math.floor(a.time/r),0,a.length-1),o=a.weight;n!==a.currentFrame&&(this.morphTargetInfluences[a.lastFrame]=0,this.morphTargetInfluences[a.currentFrame]=1*o,this.morphTargetInfluences[n]=0,a.lastFrame=a.currentFrame,a.currentFrame=n),r=a.time%r/r,a.directionBackwards&&(r=1-r),this.morphTargetInfluences[a.currentFrame]=r*o,this.morphTargetInfluences[a.lastFrame]=(1-r)*o}}},THREE.LensFlarePlugin=function(){function e(e,i){var a=t.createProgram(),r=t.createShader(t.FRAGMENT_SHADER),n=t.createShader(t.VERTEX_SHADER),o="precision "+i+" float;\n";return t.shaderSource(r,o+e.fragmentShader),t.shaderSource(n,o+e.vertexShader),t.compileShader(r),t.compileShader(n),t.attachShader(a,r),t.attachShader(a,n),t.linkProgram(a),a}var t,i,a,r,n,o,s,l,h,c,f,u,d;this.init=function(p){t=p.context,i=p,a=p.getPrecision(),r=new Float32Array(16),n=new Uint16Array(6),p=0,r[p++]=-1,r[p++]=-1,r[p++]=0,r[p++]=0,r[p++]=1,r[p++]=-1,r[p++]=1,r[p++]=0,r[p++]=1,r[p++]=1,r[p++]=1,r[p++]=1,r[p++]=-1,r[p++]=1,r[p++]=0,r[p++]=1,p=0,n[p++]=0,n[p++]=1,n[p++]=2,n[p++]=0,n[p++]=2,n[p++]=3,o=t.createBuffer(),s=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),l=t.createTexture(),h=t.createTexture(),t.bindTexture(t.TEXTURE_2D,l),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_2D,h),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),0>=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?(c=!1,f=e(THREE.ShaderFlares.lensFlare,a)):(c=!0,f=e(THREE.ShaderFlares.lensFlareVertexTexture,a)),u={},d={},u.vertex=t.getAttribLocation(f,"position"),u.uv=t.getAttribLocation(f,"uv"),d.renderType=t.getUniformLocation(f,"renderType"),d.map=t.getUniformLocation(f,"map"),d.occlusionMap=t.getUniformLocation(f,"occlusionMap"),d.opacity=t.getUniformLocation(f,"opacity"),d.color=t.getUniformLocation(f,"color"),d.scale=t.getUniformLocation(f,"scale"),d.rotation=t.getUniformLocation(f,"rotation"),d.screenPosition=t.getUniformLocation(f,"screenPosition")},this.render=function(e,a,r,n){e=e.__webglFlares;var p=e.length;if(p){var m=new THREE.Vector3,E=n/r,v=.5*r,g=.5*n,y=16/n,T=new THREE.Vector2(y*E,y),x=new THREE.Vector3(1,1,0),R=new THREE.Vector2(1,1),b=d,y=u;t.useProgram(f),t.enableVertexAttribArray(u.vertex),t.enableVertexAttribArray(u.uv),t.uniform1i(b.occlusionMap,0),t.uniform1i(b.map,1),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(y.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(y.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.disable(t.CULL_FACE),t.depthMask(!1);var _,w,H,M,S;for(_=0;p>_;_++)if(y=16/n,T.set(y*E,y),M=e[_],m.set(M.matrixWorld.elements[12],M.matrixWorld.elements[13],M.matrixWorld.elements[14]),m.applyMatrix4(a.matrixWorldInverse),m.applyProjection(a.projectionMatrix),x.copy(m),R.x=x.x*v+v,R.y=x.y*g+g,c||0<R.x&&R.x<r&&0<R.y&&R.y<n)for(t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,l),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,R.x-8,R.y-8,16,16,0),t.uniform1i(b.renderType,0),t.uniform2f(b.scale,T.x,T.y),t.uniform3f(b.screenPosition,x.x,x.y,x.z),t.disable(t.BLEND),t.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,h),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,R.x-8,R.y-8,16,16,0),t.uniform1i(b.renderType,1),t.disable(t.DEPTH_TEST),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,l),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),M.positionScreen.copy(x),M.customUpdateCallback?M.customUpdateCallback(M):M.updateLensFlares(),t.uniform1i(b.renderType,2),t.enable(t.BLEND),w=0,H=M.lensFlares.length;H>w;w++)S=M.lensFlares[w],.001<S.opacity&&.001<S.scale&&(x.x=S.x,x.y=S.y,x.z=S.z,y=S.size*S.scale/n,T.x=y*E,T.y=y,t.uniform3f(b.screenPosition,x.x,x.y,x.z),t.uniform2f(b.scale,T.x,T.y),t.uniform1f(b.rotation,S.rotation),t.uniform1f(b.opacity,S.opacity),t.uniform3f(b.color,S.color.r,S.color.g,S.color.b),i.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),i.setTexture(S.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0));
t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.depthMask(!0)}}},THREE.ShadowMapPlugin=function(){var e,t,i,a,r,n,o=new THREE.Frustum,s=new THREE.Matrix4,l=new THREE.Vector3,h=new THREE.Vector3,c=new THREE.Vector3;this.init=function(o){e=o.context,t=o,o=THREE.ShaderLib.depthRGBA;var s=THREE.UniformsUtils.clone(o.uniforms);i=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s}),a=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s,morphTargets:!0}),r=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s,skinning:!0}),n=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s,morphTargets:!0,skinning:!0}),i._shadowPass=!0,a._shadowPass=!0,r._shadowPass=!0,n._shadowPass=!0},this.render=function(e,i){t.shadowMapEnabled&&t.shadowMapAutoUpdate&&this.update(e,i)},this.update=function(f,u){var d,p,m,E,v,g,y,T,x,R=[];for(E=0,e.clearColor(1,1,1,1),e.disable(e.BLEND),e.enable(e.CULL_FACE),e.frontFace(e.CCW),e.cullFace(t.shadowMapCullFace===THREE.CullFaceFront?e.FRONT:e.BACK),t.setDepthTest(!0),d=0,p=f.__lights.length;p>d;d++)if(m=f.__lights[d],m.castShadow)if(m instanceof THREE.DirectionalLight&&m.shadowCascade)for(v=0;v<m.shadowCascadeCount;v++){var b;if(m.shadowCascadeArray[v])b=m.shadowCascadeArray[v];else{x=m,y=v,b=new THREE.DirectionalLight,b.isVirtual=!0,b.onlyShadow=!0,b.castShadow=!0,b.shadowCameraNear=x.shadowCameraNear,b.shadowCameraFar=x.shadowCameraFar,b.shadowCameraLeft=x.shadowCameraLeft,b.shadowCameraRight=x.shadowCameraRight,b.shadowCameraBottom=x.shadowCameraBottom,b.shadowCameraTop=x.shadowCameraTop,b.shadowCameraVisible=x.shadowCameraVisible,b.shadowDarkness=x.shadowDarkness,b.shadowBias=x.shadowCascadeBias[y],b.shadowMapWidth=x.shadowCascadeWidth[y],b.shadowMapHeight=x.shadowCascadeHeight[y],b.pointsWorld=[],b.pointsFrustum=[];var _=b.pointsWorld;for(g=b.pointsFrustum,T=0;8>T;T++)_[T]=new THREE.Vector3,g[T]=new THREE.Vector3;_=x.shadowCascadeNearZ[y],x=x.shadowCascadeFarZ[y],g[0].set(-1,-1,_),g[1].set(1,-1,_),g[2].set(-1,1,_),g[3].set(1,1,_),g[4].set(-1,-1,x),g[5].set(1,-1,x),g[6].set(-1,1,x),g[7].set(1,1,x),b.originalCamera=u,g=new THREE.Gyroscope,g.position.copy(m.shadowCascadeOffset),g.add(b),g.add(b.target),u.add(g),m.shadowCascadeArray[v]=b,console.log("Created virtualLight",b)}y=m,_=v,x=y.shadowCascadeArray[_],x.position.copy(y.position),x.target.position.copy(y.target.position),x.lookAt(x.target),x.shadowCameraVisible=y.shadowCameraVisible,x.shadowDarkness=y.shadowDarkness,x.shadowBias=y.shadowCascadeBias[_],g=y.shadowCascadeNearZ[_],y=y.shadowCascadeFarZ[_],x=x.pointsFrustum,x[0].z=g,x[1].z=g,x[2].z=g,x[3].z=g,x[4].z=y,x[5].z=y,x[6].z=y,x[7].z=y,R[E]=b,E++}else R[E]=m,E++;for(d=0,p=R.length;p>d;d++){if(m=R[d],m.shadowMap||(v=THREE.LinearFilter,t.shadowMapType===THREE.PCFSoftShadowMap&&(v=THREE.NearestFilter),m.shadowMap=new THREE.WebGLRenderTarget(m.shadowMapWidth,m.shadowMapHeight,{minFilter:v,magFilter:v,format:THREE.RGBAFormat}),m.shadowMapSize=new THREE.Vector2(m.shadowMapWidth,m.shadowMapHeight),m.shadowMatrix=new THREE.Matrix4),!m.shadowCamera){if(m instanceof THREE.SpotLight)m.shadowCamera=new THREE.PerspectiveCamera(m.shadowCameraFov,m.shadowMapWidth/m.shadowMapHeight,m.shadowCameraNear,m.shadowCameraFar);else{if(!(m instanceof THREE.DirectionalLight)){console.error("Unsupported light type for shadow");continue}m.shadowCamera=new THREE.OrthographicCamera(m.shadowCameraLeft,m.shadowCameraRight,m.shadowCameraTop,m.shadowCameraBottom,m.shadowCameraNear,m.shadowCameraFar)}f.add(m.shadowCamera),!0===f.autoUpdate&&f.updateMatrixWorld()}if(m.shadowCameraVisible&&!m.cameraHelper&&(m.cameraHelper=new THREE.CameraHelper(m.shadowCamera),m.shadowCamera.add(m.cameraHelper)),m.isVirtual&&b.originalCamera==u){for(v=u,E=m.shadowCamera,g=m.pointsFrustum,x=m.pointsWorld,l.set(1/0,1/0,1/0),h.set(-1/0,-1/0,-1/0),y=0;8>y;y++)_=x[y],_.copy(g[y]),THREE.ShadowMapPlugin.__projector.unprojectVector(_,v),_.applyMatrix4(E.matrixWorldInverse),_.x<l.x&&(l.x=_.x),_.x>h.x&&(h.x=_.x),_.y<l.y&&(l.y=_.y),_.y>h.y&&(h.y=_.y),_.z<l.z&&(l.z=_.z),_.z>h.z&&(h.z=_.z);E.left=l.x,E.right=h.x,E.top=h.y,E.bottom=l.y,E.updateProjectionMatrix()}for(E=m.shadowMap,g=m.shadowMatrix,v=m.shadowCamera,v.position.setFromMatrixPosition(m.matrixWorld),c.setFromMatrixPosition(m.target.matrixWorld),v.lookAt(c),v.updateMatrixWorld(),v.matrixWorldInverse.getInverse(v.matrixWorld),m.cameraHelper&&(m.cameraHelper.visible=m.shadowCameraVisible),m.shadowCameraVisible&&m.cameraHelper.update(),g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(v.projectionMatrix),g.multiply(v.matrixWorldInverse),s.multiplyMatrices(v.projectionMatrix,v.matrixWorldInverse),o.setFromMatrix(s),t.setRenderTarget(E),t.clear(),x=f.__webglObjects,m=0,E=x.length;E>m;m++)y=x[m],g=y.object,y.render=!1,!g.visible||!g.castShadow||(g instanceof THREE.Mesh||g instanceof THREE.ParticleSystem)&&g.frustumCulled&&!o.intersectsObject(g)||(g._modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,g.matrixWorld),y.render=!0);var w;for(m=0,E=x.length;E>m;m++)y=x[m],y.render&&(g=y.object,y=y.buffer,_=g.material instanceof THREE.MeshFaceMaterial?g.material.materials[0]:g.material,T=void 0!==g.geometry.morphTargets&&0<g.geometry.morphTargets.length&&_.morphTargets,w=g instanceof THREE.SkinnedMesh&&_.skinning,T=g.customDepthMaterial?g.customDepthMaterial:w?T?n:r:T?a:i,t.setMaterialFaces(_),y instanceof THREE.BufferGeometry?t.renderBufferDirect(v,f.__lights,null,T,y,g):t.renderBuffer(v,f.__lights,null,T,y,g));for(x=f.__webglObjectsImmediate,m=0,E=x.length;E>m;m++)y=x[m],g=y.object,g.visible&&g.castShadow&&(g._modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,g.matrixWorld),t.renderImmediateObject(v,f.__lights,null,i,g))}d=t.getClearColor(),p=t.getClearAlpha(),e.clearColor(d.r,d.g,d.b,p),e.enable(e.BLEND),t.shadowMapCullFace===THREE.CullFaceFront&&e.cullFace(e.BACK)}},THREE.ShadowMapPlugin.__projector=new THREE.Projector,THREE.SpritePlugin=function(){function e(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var t,i,a,r,n,o,s,l,h,c,f,u,d,p,m,E,v,g,y,T,x,R,b,_,w;this.init=function(e){g=e.context,y=e,x=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),R=new Uint16Array([0,1,2,0,2,3]),b=g.createBuffer(),_=g.createBuffer(),g.bindBuffer(g.ARRAY_BUFFER,b),g.bufferData(g.ARRAY_BUFFER,x,g.STATIC_DRAW),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,_),g.bufferData(g.ELEMENT_ARRAY_BUFFER,R,g.STATIC_DRAW),e=g.createProgram();var H=g.createShader(g.VERTEX_SHADER),M=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(H,["precision "+y.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n")),g.shaderSource(M,["precision "+y.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n")),g.compileShader(H),g.compileShader(M),g.attachShader(e,H),g.attachShader(e,M),g.linkProgram(e),w=e,E=g.getAttribLocation(w,"position"),v=g.getAttribLocation(w,"uv"),t=g.getUniformLocation(w,"uvOffset"),i=g.getUniformLocation(w,"uvScale"),a=g.getUniformLocation(w,"rotation"),r=g.getUniformLocation(w,"scale"),n=g.getUniformLocation(w,"color"),o=g.getUniformLocation(w,"map"),s=g.getUniformLocation(w,"opacity"),l=g.getUniformLocation(w,"modelViewMatrix"),h=g.getUniformLocation(w,"projectionMatrix"),c=g.getUniformLocation(w,"fogType"),f=g.getUniformLocation(w,"fogDensity"),u=g.getUniformLocation(w,"fogNear"),d=g.getUniformLocation(w,"fogFar"),p=g.getUniformLocation(w,"fogColor"),m=g.getUniformLocation(w,"alphaTest"),e=document.createElement("canvas"),e.width=8,e.height=8,H=e.getContext("2d"),H.fillStyle="#ffffff",H.fillRect(0,0,e.width,e.height),T=new THREE.Texture(e),T.needsUpdate=!0},this.render=function(x,R,H,M){if(H=x.__webglSprites,M=H.length){g.useProgram(w),g.enableVertexAttribArray(E),g.enableVertexAttribArray(v),g.disable(g.CULL_FACE),g.enable(g.BLEND),g.bindBuffer(g.ARRAY_BUFFER,b),g.vertexAttribPointer(E,2,g.FLOAT,!1,16,0),g.vertexAttribPointer(v,2,g.FLOAT,!1,16,8),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,_),g.uniformMatrix4fv(h,!1,R.projectionMatrix.elements),g.activeTexture(g.TEXTURE0),g.uniform1i(o,0);var S=0,C=0,A=x.fog;A?(g.uniform3f(p,A.color.r,A.color.g,A.color.b),A instanceof THREE.Fog?(g.uniform1f(u,A.near),g.uniform1f(d,A.far),g.uniform1i(c,1),C=S=1):A instanceof THREE.FogExp2&&(g.uniform1f(f,A.density),g.uniform1i(c,2),C=S=2)):(g.uniform1i(c,0),C=S=0);for(var L,k=[],A=0;M>A;A++)L=H[A],!1!==L.visible&&(L._modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,L.matrixWorld),L.z=-L._modelViewMatrix.elements[14]);for(H.sort(e),A=0;M>A;A++)L=H[A],!1!==L.visible&&(R=L.material,g.uniform1f(m,R.alphaTest),g.uniformMatrix4fv(l,!1,L._modelViewMatrix.elements),k[0]=L.scale.x,k[1]=L.scale.y,L=x.fog&&R.fog?C:0,S!==L&&(g.uniform1i(c,L),S=L),null!==R.map?(g.uniform2f(t,R.map.offset.x,R.map.offset.y),g.uniform2f(i,R.map.repeat.x,R.map.repeat.y)):(g.uniform2f(t,0,0),g.uniform2f(i,1,1)),g.uniform1f(s,R.opacity),g.uniform3f(n,R.color.r,R.color.g,R.color.b),g.uniform1f(a,R.rotation),g.uniform2fv(r,k),y.setBlending(R.blending,R.blendEquation,R.blendSrc,R.blendDst),y.setDepthTest(R.depthTest),y.setDepthWrite(R.depthWrite),R.map&&R.map.image&&R.map.image.width?y.setTexture(R.map,0):y.setTexture(T,0),g.drawElements(g.TRIANGLES,6,g.UNSIGNED_SHORT,0));g.enable(g.CULL_FACE)}}},THREE.DepthPassPlugin=function(){this.enabled=!1,this.renderTarget=null;var e,t,i,a,r,n,o=new THREE.Frustum,s=new THREE.Matrix4;this.init=function(o){e=o.context,t=o,o=THREE.ShaderLib.depthRGBA;var s=THREE.UniformsUtils.clone(o.uniforms);i=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s}),a=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s,morphTargets:!0}),r=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s,skinning:!0}),n=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:s,morphTargets:!0,skinning:!0}),i._shadowPass=!0,a._shadowPass=!0,r._shadowPass=!0,n._shadowPass=!0},this.render=function(e,t){this.enabled&&this.update(e,t)},this.update=function(l,h){var c,f,u,d,p,m;for(e.clearColor(1,1,1,1),e.disable(e.BLEND),t.setDepthTest(!0),!0===l.autoUpdate&&l.updateMatrixWorld(),h.matrixWorldInverse.getInverse(h.matrixWorld),s.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse),o.setFromMatrix(s),t.setRenderTarget(this.renderTarget),t.clear(),m=l.__webglObjects,c=0,f=m.length;f>c;c++)u=m[c],p=u.object,u.render=!1,!p.visible||(p instanceof THREE.Mesh||p instanceof THREE.ParticleSystem)&&p.frustumCulled&&!o.intersectsObject(p)||(p._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,p.matrixWorld),u.render=!0);var E;for(c=0,f=m.length;f>c;c++)u=m[c],u.render&&(p=u.object,u=u.buffer,p instanceof THREE.ParticleSystem&&!p.customDepthMaterial||((E=p.material instanceof THREE.MeshFaceMaterial?p.material.materials[0]:p.material)&&t.setMaterialFaces(p.material),d=void 0!==p.geometry.morphTargets&&0<p.geometry.morphTargets.length&&E.morphTargets,E=p instanceof THREE.SkinnedMesh&&E.skinning,d=p.customDepthMaterial?p.customDepthMaterial:E?d?n:r:d?a:i,u instanceof THREE.BufferGeometry?t.renderBufferDirect(h,l.__lights,null,d,u,p):t.renderBuffer(h,l.__lights,null,d,u,p)));for(m=l.__webglObjectsImmediate,c=0,f=m.length;f>c;c++)u=m[c],p=u.object,p.visible&&(p._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,p.matrixWorld),t.renderImmediateObject(h,l.__lights,null,i,p));c=t.getClearColor(),f=t.getClearAlpha(),e.clearColor(c.r,c.g,c.b,f),e.enable(e.BLEND)}},THREE.ShaderFlares={lensFlareVertexTexture:{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},lensFlare:{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"precision mediump float;\nuniform lowp int renderType;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility = ( 1.0 - visibility / 4.0 );\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * visibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"}},!function(e,t,i){"undefined"!=typeof module?module.exports=i(e,t):"function"==typeof define&&"object"==typeof define.amd?define(i):t[e]=i(e,t)}("zpipe",this,function(fa,$){function jd(e){eval.call(null,e)}function T(e){throw ga(e+":\n"+Error().stack),"Assertion: "+e}function ha(e,t){e||T("Assertion failed: "+t)}function Ob(e,t,i){switch(i=i||"i8","*"==i.charAt(i.length-1)&&(i="i32"),i){case"i1":a[e]=t;break;case"i8":a[e]=t;break;case"i16":a[e]=t;break;case"i32":a[e]=t;break;case"i64":a[e]=t;break;case"float":a[e]=t;break;case"double":a[e]=t;break;default:T("invalid type for setValue: "+i)}}function t(e,t,i){var n,o;"number"==typeof e?(n=!0,o=e):(n=!1,o=e.length);var s="string"==typeof t?t:null,i=[gb,D.stackAlloc,D.staticAlloc][void 0===i?r:i](Math.max(o,s?1:t.length));if(n){for(e=i,o=e+o;o>e;e++)a[e]=0;return i}n=0;for(var l;o>n;){var h=e[n];"function"==typeof h&&(h=D.getFunctionIndex(h)),l=s||t[n],0===l?n++:(Ob(i+n,h,l),n+=D.getNativeTypeSize(l))}return i}function ma(e,t){for(var i,r="undefined"==typeof t,n="",o=0,s=String.fromCharCode(0);(i=String.fromCharCode(a[e+o]),!r||i!=s)&&(n+=i,o+=1,r||o!=t););return n}function Pb(e){for(;0<e.length;){var t=e.shift(),i=t.func;"number"==typeof i&&(i=F[i]),i(void 0===t.arg?null:t.arg)}}function Gc(e,t){return a.slice(e,e+t)}function Qb(e){for(var t=0;a[e+t];)t++;return t}function R(e,t){for(var i=[],a=0;a<e.length;){var r=e.charCodeAt(a);r>255&&(r&=255),i.push(r),a+=1}return t||i.push(0),i}function Rb(e,t,i){for(var r=0;r<e.length;){var n=e.charCodeAt(r);n>255&&(n&=255),a[t+r]=n,r+=1}i||(a[t+r]=0)}function Hc(e,t){var i=A;A+=32824;var r,n,o,s,l=i+56,h=i+16440;a[i+32|0]=0,a[i+36|0]=0,a[i+40|0]=0,n=Ic(i,-1,8,15,8,0,0|p.__str,56);var c=0!=(0|n);e:do if(c)r=n;else{var f=0|l,d=i+4|0,m=0|l,E=0|i,v=i+16|0,g=0|h,y=i+12|0,T=i+16|0,x=0|h,R=i+16|0,b=i+4|0;t:for(;;){if(o=Tb(f,1,16384,e),a[d]=o,0!=(0|aa(e))){ba(i),r=-1;break e}o=0!=(0|Number(e in u.streams&&u.streams[e].eof))?4:1,a[E]=m;i:for(;;){a[v]=16384,a[y]=g,n=s=Ub(i,o),-2==(0|s)&&na(0|p.__str1,75,0|p.___func___def,0|p.__str2),s=16384-a[T]|0,s=(0|P(x,1,s,t))!=(0|s);do if(!s&&0==(0|aa(t))){if(0==(0|a[R]))continue i;if(0!=(0|a[b])&&na(0|p.__str1,82,0|p.___func___def,0|p.__str3),4!=(0|o))continue t;1!=(0|n)&&na(0|p.__str1,86,0|p.___func___def,0|p.__str4),ba(i),r=0;break e}while(0);ba(i),r=-1;break e}}}while(0);return A=i,r}function Jc(e,t){var i=A;A+=32824;var r,n,o,s=i+56,l=i+16440;a[i+32|0]=0,a[i+36|0]=0,a[i+40|0]=0,a[i+4|0]=0,a[0|i]=0,n=Vb(i,0|p.__str,56);var h=0!=(0|n);e:do{if(!h){r=0|s;var c=i+4|0,f=i+4|0,u=0|s,d=0|i,m=i+16|0,E=0|l,v=i+12|0,g=i+16|0,y=0|l,T=i+16|0;t:for(;;){var x=Tb(r,1,16384,e);if(a[c]=x,0!=(0|aa(e))){ia(i),r=-1;break e}x=0==(0|a[f]);i:do if(!x){a[d]=u;a:for(;;){if(a[m]=16384,a[v]=E,n=o=Wb(i),-2==(0|o)&&(na(0|p.__str1,133,0|p.___func___inf,0|p.__str2),o=n),2==o){n=-3;break t}if(-3==o||-4==o)break t;o=16384-a[g]|0,o=(0|P(y,1,o,t))!=(0|o);do if(!o&&0==(0|aa(t))){if(0==(0|a[T]))continue a;if(1!=(0|n))continue t;break i}while(0);ia(i),r=-1;break e}}while(0);ia(i),r=1==(0|n)?0:-3;break e}ia(i)}r=n}while(0);return A=i,r}function hb(e){P(0|p.__str5,7,1,a[a[J]+12|0]),-1==e?(0!=(0|aa(a[a[J]+4|0]))&&P(0|p.__str6,20,1,a[a[J]+12|0]),0!=(0|aa(a[a[J]+8|0]))&&P(0|p.__str7,21,1,a[a[J]+12|0])):-2==e?P(0|p.__str8,26,1,a[a[J]+12|0]):-3==e?P(0|p.__str9,35,1,a[a[J]+12|0]):-4==e?P(0|p.__str10,14,1,a[a[J]+12|0]):-6==e&&P(0|p.__str11,23,1,a[a[J]+12|0])}function ib(e,t){var i,r=1==(0|e);e:do if(r)i=Hc(a[a[J]+4|0],a[a[J]+8|0]),0!=(0|i)&&hb(i);else{i=2==(0|e);do{var n;if(n=i){t:{for(n=0;kd>n;){var o=a[a[t+4|0]+n],s=a[(0|p.__str12)+n];if(o==s&&0==o)break;if(0==o){n=-1;break t}if(0==s){n=1;break t}if(o!=s){n=o>s?1:-1;break t}n++}n=0}n=0==(0|n)}if(n){i=Jc(a[a[J]+4|0],a[a[J]+8|0]),0!=(0|i)&&hb(i);break e}}while(0);P(0|p.__str13,40,1,a[a[J]+12|0]),i=1}while(0);return i}function Ic(e,t,i,r,n,o,s,l){var h,c,f;f=1;var u=0==(0|s);e:do if(u)h=3;else if(49!=(a[0|s]<<24>>24|0))h=3;else if(56!=(0|l))h=3;else{if(0!=(0|e)){a[e+24|0]=0,0==(0|a[e+32|0])&&(a[e+32|0]=2,a[e+40|0]=0),0==(0|a[e+36|0])&&(a[e+36|0]=4),-1==(0|t)&&(t=6),0>(0|r)?(f=0,r=0|-r):15>=(0|r)||(f=2,r=r-16|0),c=1>(0|n)|(0|n)>9;do if(!(c||8!=(0|i)||8>(0|r)|(0|r)>15||0>(0|t)|(0|t)>9||0>(0|o)|(0|o)>4)){if(8==(0|r)&&(r=9),s=l=F[a[e+32|0]](a[e+40|0],1,5828),0==(0|l)){c=-4,h=32;break e}for(a[e+28|0]=s,a[0|s]=e,a[s+24|0]=f,a[s+28|0]=0,a[s+48|0]=r,a[s+44|0]=1<<a[s+48|0],a[s+52|0]=a[s+44|0]-1|0,a[s+80|0]=n+7|0,a[s+76|0]=1<<a[s+80|0],a[s+84|0]=a[s+76|0]-1|0,a[s+88|0]=Math.floor(((a[s+80|0]+2|0)>>>0)/3),l=F[a[e+32|0]](a[e+40|0],a[s+44|0],2),a[s+56|0]=l,l=F[a[e+32|0]](a[e+40|0],a[s+44|0],2),a[s+64|0]=l,l=a[s+64|0],r=l+(a[s+44|0]<<1|0);r>l;l++)a[l]=0;l=F[a[e+32|0]](a[e+40|0],a[s+76|0],2),a[s+68|0]=l,a[s+5824|0]=0,a[s+5788|0]=1<<n+6,n=F[a[e+32|0]](a[e+40|0],a[s+5788|0],4),a[s+8|0]=n,a[s+12|0]=a[s+5788|0]<<2|0,l=0==(0|a[s+56|0]);do if(!l&&0!=(0|a[s+64|0])&&0!=(0|a[s+68|0])&&0!=(0|a[s+8|0])){a[s+5796|0]=(Math.floor((a[s+5788|0]>>>0)/2)<<1)+n|0,a[s+5784|0]=a[s+8|0]+3*a[s+5788|0]|0,a[s+132|0]=t,a[s+136|0]=o,a[s+36|0]=255&i,c=Xb(e),h=32;break e}while(0);a[s+4|0]=666,a[e+24|0]=0|p.__str657,ba(e),c=-4,h=32;break e}while(0)}c=-2,h=32}while(0);return 3==h&&(c=-6),c}function ba(e){var t;return 0==(0|e)?e=2:0==(0|a[e+28|0])?e=2:(t=a[a[e+28|0]+4|0],42!=(0|t)&69!=(0|t)&73!=(0|t)&91!=(0|t)&103!=(0|t)&113!=(0|t)&666!=(0|t)?t=-2:(0!=(0|a[a[e+28|0]+8|0])&&F[a[e+36|0]](a[e+40|0],a[a[e+28|0]+8|0]),0!=(0|a[a[e+28|0]+68|0])&&F[a[e+36|0]](a[e+40|0],a[a[e+28|0]+68|0]),0!=(0|a[a[e+28|0]+64|0])&&F[a[e+36|0]](a[e+40|0],a[a[e+28|0]+64|0]),0!=(0|a[a[e+28|0]+56|0])&&F[a[e+36|0]](a[e+40|0],a[a[e+28|0]+56|0]),F[a[e+36|0]](a[e+40|0],a[e+28|0]),a[e+28|0]=0,t=113==(0|t)?-3:0),e=14),2==e&&(t=-2),t}function Xb(e){var t;if(0==(0|e))e=4;else if(0==(0|a[e+28|0]))e=4;else if(0==(0|a[e+32|0]))e=4;else if(0==(0|a[e+36|0]))e=4;else{a[e+20|0]=0,a[e+8|0]=0,a[e+24|0]=0,a[e+44|0]=2,t=a[e+28|0],a[t+20|0]=0,a[t+16|0]=a[t+8|0],0>(0|a[t+24|0])&&(a[t+24|0]=0|-a[t+24|0]),a[t+4|0]=0!=(0|a[t+24|0])?42:113;var i=2==(0|a[t+24|0])?H(0,0,0):oa(0,0,0);a[e+48|0]=i,a[t+40|0]=0,a[t+2840|0]=t+148|0,a[t+2848|0]=ra,a[t+2852|0]=t+2440|0,a[t+2860|0]=jb,a[t+2864|0]=t+2684|0,a[t+2872|0]=db,a[t+5816|0]=0,a[t+5820|0]=0,a[t+5812|0]=8,sb(t),Yb(t),t=0,e=11}return 4==e&&(t=-2),t}function Yb(e){a[e+60|0]=a[e+44|0]<<1|0,a[(a[e+76|0]-1<<1)+a[e+68|0]|0]=0;for(var t=a[e+68|0],i=t+(a[e+76|0]-1<<1|0);i>t;t++)a[t]=0;a[e+128|0]=65535&a[ja+12*a[e+132|0]+2|0],a[e+140|0]=65535&a[ja+12*a[e+132|0]|0],a[e+144|0]=65535&a[ja+12*a[e+132|0]+4|0],a[e+124|0]=65535&a[ja+12*a[e+132|0]+6|0],a[e+108|0]=0,a[e+92|0]=0,a[e+116|0]=0,a[e+120|0]=2,a[e+96|0]=2,a[e+112|0]=0,a[e+104|0]=0,a[e+72|0]=0}function Ub(e,t){var i,r,n,o,s,l,h,c,f,u,d,m,E=0==(0|e);e:do if(E)i=3;else if(0==(0|a[e+28|0]))i=3;else if((0|t)>5|0>(0|t))i=3;else{o=a[e+28|0];var v=0==(0|a[e+12|0]);do if(!(v||0==(0|a[0|e])&&0!=(0|a[e+4|0])||666==(0|a[o+4|0])&&4!=(0|t))){var g=e;if(0==(0|a[e+16|0])){a[g+24|0]=0|p.__str758,r=-5,i=140;break e}if(a[0|o]=g,n=a[o+40|0],a[o+40|0]=t,42==(0|a[o+4|0]))if(2==(0|a[o+24|0])){var y=H(0,0,0);a[e+48|0]=y;var T=o+20|0,x=a[T];a[T]=x+1|0,a[a[o+8|0]+x|0]=31;var R=o+20|0,b=a[R];a[R]=b+1|0,a[a[o+8|0]+b|0]=-117;var _=o+20|0,w=a[_];a[_]=w+1|0,a[a[o+8|0]+w|0]=8;var M=o;if(0==(0|a[o+28|0])){var S=M+20|0,C=a[S];a[S]=C+1|0,a[a[o+8|0]+C|0]=0;var A=o+20|0,L=a[A];a[A]=L+1|0,a[a[o+8|0]+L|0]=0;var k=o+20|0,D=a[k];a[k]=D+1|0,a[a[o+8|0]+D|0]=0;var P=o+20|0,z=a[P];a[P]=z+1|0,a[a[o+8|0]+z|0]=0;var N=o+20|0,U=a[N];a[N]=U+1|0,a[a[o+8|0]+U|0]=0;var B=9==(0|a[o+132|0])?2:2<=(0|a[o+136|0])||2>(0|a[o+132|0])?4:0,V=o+20|0,O=a[V];a[V]=O+1|0,a[a[o+8|0]+O|0]=255&B;var j=o+20|0,I=a[j];a[j]=I+1|0,a[a[o+8|0]+I|0]=3,a[o+4|0]=113}else{var W=(0!=(0|a[a[o+28|0]+44|0])?2:0)+(0!=(0|a[0|a[M+28|0]])?1:0)+(0==(0|a[a[o+28|0]+16|0])?0:4)+(0==(0|a[a[o+28|0]+28|0])?0:8)+(0==(0|a[a[o+28|0]+36|0])?0:16)&255,X=o+20|0,q=a[X];a[X]=q+1|0,a[a[o+8|0]+q|0]=W;var Y=255&a[a[o+28|0]+4|0],K=o+20|0,Z=a[K];a[K]=Z+1|0,a[a[o+8|0]+Z|0]=Y;var Q=a[a[o+28|0]+4|0]>>>8&255,$=o+20|0,J=a[$];a[$]=J+1|0,a[a[o+8|0]+J|0]=Q;var et=a[a[o+28|0]+4|0]>>>16&255,tt=o+20|0,it=a[tt];a[tt]=it+1|0,a[a[o+8|0]+it|0]=et;var at=a[a[o+28|0]+4|0]>>>24&255,rt=o+20|0,nt=a[rt];a[rt]=nt+1|0,a[a[o+8|0]+nt|0]=at;var ot=9==(0|a[o+132|0])?2:2<=(0|a[o+136|0])||2>(0|a[o+132|0])?4:0,st=o+20|0,lt=a[st];a[st]=lt+1|0,a[a[o+8|0]+lt|0]=255&ot;var ht=255&a[a[o+28|0]+12|0],ct=o+20|0,ft=a[ct];if(a[ct]=ft+1|0,a[a[o+8|0]+ft|0]=ht,0!=(0|a[a[o+28|0]+16|0])){var ut=255&a[a[o+28|0]+20|0],dt=o+20|0,pt=a[dt];a[dt]=pt+1|0,a[a[o+8|0]+pt|0]=ut;var mt=a[a[o+28|0]+20|0]>>>8&255,Et=o+20|0,vt=a[Et];a[Et]=vt+1|0,a[a[o+8|0]+vt|0]=mt}if(0!=(0|a[a[o+28|0]+44|0])){var gt=H(a[e+48|0],a[o+8|0],a[o+20|0]);a[e+48|0]=gt}a[o+32|0]=0,a[o+4|0]=69}}else{s=(a[o+48|0]-8<<4)+8<<8,2<=(0|a[o+136|0])?i=31:2>(0|a[o+132|0])?i=31:(l=6>(0|a[o+132|0])?1:6==(0|a[o+132|0])?2:3,i=37),31==i&&(l=0),s|=l<<6,0!=(0|a[o+108|0])&&(s|=32),s=-((s>>>0)%31)+s+31|0,a[o+4|0]=113,sa(o,s),0!=(0|a[o+108|0])&&(sa(o,a[e+48|0]>>>16),sa(o,65535&a[e+48|0]));var yt=oa(0,0,0);a[e+48|0]=yt}var Tt=69==(0|a[o+4|0]);do if(Tt){var xt=o;if(0!=(0|a[a[o+28|0]+16|0])){for(h=a[xt+20|0];!(a[o+32|0]>>>0>=(65535&a[a[o+28|0]+20|0])>>>0);){if((0|a[o+20|0])==(0|a[o+12|0])){if(0!=(0|a[a[o+28|0]+44|0])&&!(a[o+20|0]>>>0<=h>>>0)){var Rt=H(a[e+48|0],a[o+8|0]+h|0,a[o+20|0]-h|0);a[e+48|0]=Rt}if(G(e),h=a[o+20|0],(0|a[o+20|0])==(0|a[o+12|0]))break}var bt=a[a[a[o+28|0]+16|0]+a[o+32|0]|0],_t=o+20|0,wt=a[_t];a[_t]=wt+1|0,a[a[o+8|0]+wt|0]=bt;var Ht=o+32|0;a[Ht]=a[Ht]+1|0}if(0!=(0|a[a[o+28|0]+44|0])&&!(a[o+20|0]>>>0<=h>>>0)){var Mt=H(a[e+48|0],a[o+8|0]+h|0,a[o+20|0]-h|0);a[e+48|0]=Mt}(0|a[o+32|0])==(0|a[a[o+28|0]+20|0])&&(a[o+32|0]=0,a[o+4|0]=73)}else a[xt+4|0]=73}while(0);var St=73==(0|a[o+4|0]);do if(St){var Ct=o;if(0!=(0|a[a[o+28|0]+28|0])){c=a[Ct+20|0];t:for(;;){var At=(0|a[o+20|0])==(0|a[o+12|0]);do if(At){if(0!=(0|a[a[o+28|0]+44|0])&&!(a[o+20|0]>>>0<=c>>>0)){var Lt=H(a[e+48|0],a[o+8|0]+c|0,a[o+20|0]-c|0);a[e+48|0]=Lt}if(G(e),c=a[o+20|0],(0|a[o+20|0])==(0|a[o+12|0])){f=1;break t}}while(0);var kt=o+32|0,Dt=a[kt];a[kt]=Dt+1|0,f=255&a[a[a[o+28|0]+28|0]+Dt|0];var Pt=o+20|0,Ft=a[Pt];if(a[Pt]=Ft+1|0,a[a[o+8|0]+Ft|0]=255&f,0==(0|f))break}if(0!=(0|a[a[o+28|0]+44|0])&&!(a[o+20|0]>>>0<=c>>>0)){var zt=H(a[e+48|0],a[o+8|0]+c|0,a[o+20|0]-c|0);a[e+48|0]=zt}0==(0|f)&&(a[o+32|0]=0,a[o+4|0]=91)}else a[Ct+4|0]=91}while(0);var Nt=91==(0|a[o+4|0]);do if(Nt){var Ut=o;if(0!=(0|a[a[o+28|0]+36|0])){u=a[Ut+20|0];t:for(;;){var Bt=(0|a[o+20|0])==(0|a[o+12|0]);do if(Bt){if(0!=(0|a[a[o+28|0]+44|0])&&!(a[o+20|0]>>>0<=u>>>0)){var Vt=H(a[e+48|0],a[o+8|0]+u|0,a[o+20|0]-u|0);a[e+48|0]=Vt}if(G(e),u=a[o+20|0],(0|a[o+20|0])==(0|a[o+12|0])){d=1;break t}}while(0);var Ot=o+32|0,jt=a[Ot];a[Ot]=jt+1|0,d=255&a[a[a[o+28|0]+36|0]+jt|0];var It=o+20|0,Gt=a[It];if(a[It]=Gt+1|0,a[a[o+8|0]+Gt|0]=255&d,0==(0|d))break}if(0!=(0|a[a[o+28|0]+44|0])&&!(a[o+20|0]>>>0<=u>>>0)){var Wt=H(a[e+48|0],a[o+8|0]+u|0,a[o+20|0]-u|0);a[e+48|0]=Wt}0==(0|d)&&(a[o+4|0]=103)}else a[Ut+4|0]=103}while(0);if(103==(0|a[o+4|0])){var Xt=o;if(0!=(0|a[a[o+28|0]+44|0])){if((a[Xt+20|0]+2|0)>>>0>a[o+12|0]>>>0&&G(e),(a[o+20|0]+2|0)>>>0<=a[o+12|0]>>>0){var qt=255&a[e+48|0],Yt=o+20|0,Kt=a[Yt];a[Yt]=Kt+1|0,a[a[o+8|0]+Kt|0]=qt;var Zt=a[e+48|0]>>>8&255,Qt=o+20|0,$t=a[Qt];a[Qt]=$t+1|0,a[a[o+8|0]+$t|0]=Zt;var Jt=H(0,0,0);a[e+48|0]=Jt,a[o+4|0]=113}}else a[Xt+4|0]=113}var ei=0!=(0|a[o+20|0]),ti=e;do{if(ei){if(G(ti),0!=(0|a[e+16|0]))break;a[o+40|0]=-1,r=0,i=140;break e}if(0==(0|a[ti+4|0])&&(0|n)>=(0|t)&4!=(0|t)){a[e+24|0]=0|p.__str758,r=-5,i=140;break e}}while(0);var ii=666==(0|a[o+4|0]);do if(ii&&0!=(0|a[e+4|0])){a[e+24|0]=0|p.__str758,r=-5,i=140;break e}while(0);i=0!=(0|a[e+4|0])?110:0!=(0|a[o+116|0])?110:0==(0|t)?131:666!=(0|a[o+4|0])?110:130;do if(110==i){var ai=o;if(2==(0|a[o+136|0]))var ri=Qc(ai,t);else var ni=o,ri=3==(0|a[ai+136|0])?Zb(ni,t):F[a[ja+12*a[ni+132|0]+8|0]](o,t);if(m=ri,2==(0|m)|3==(0|m)&&(a[o+4|0]=666),0==(0|m)|2==(0|m)){0==(0|a[e+16|0])&&(a[o+40|0]=-1),r=0,i=140;break e}if(1!=(0|m))i=130;else{if(1==(0|t))$b(o);else if(5!=(0|t)&&(yb(o,0,0,0),3==(0|t))){a[(a[o+76|0]-1<<1)+a[o+68|0]|0]=0;for(var oi=a[o+68|0],si=oi+(a[o+76|0]-1<<1|0);si>oi;oi++)a[oi]=0;0==(0|a[o+116|0])&&(a[o+108|0]=0,a[o+92|0]=0)}if(G(e),0==(0|a[e+16|0])){a[o+40|0]=-1,r=0,i=140;break e}i=130}}while(0);do if(130==i&&4==(0|t)){if(0>=(0|a[o+24|0])){r=1,i=140;break e}if(2==(0|a[o+24|0])){var li=255&a[e+48|0],hi=o+20|0,ci=a[hi];a[hi]=ci+1|0,a[a[o+8|0]+ci|0]=li;var fi=a[e+48|0]>>>8&255,ui=o+20|0,di=a[ui];a[ui]=di+1|0,a[a[o+8|0]+di|0]=fi;var pi=a[e+48|0]>>>16&255,mi=o+20|0,Ei=a[mi];a[mi]=Ei+1|0,a[a[o+8|0]+Ei|0]=pi;var vi=a[e+48|0]>>>24&255,gi=o+20|0,yi=a[gi];a[gi]=yi+1|0,a[a[o+8|0]+yi|0]=vi;var Ti=255&a[e+8|0],xi=o+20|0,Ri=a[xi];a[xi]=Ri+1|0,a[a[o+8|0]+Ri|0]=Ti;var bi=a[e+8|0]>>>8&255,_i=o+20|0,wi=a[_i];a[_i]=wi+1|0,a[a[o+8|0]+wi|0]=bi;var Hi=a[e+8|0]>>>16&255,Mi=o+20|0,Si=a[Mi];a[Mi]=Si+1|0,a[a[o+8|0]+Si|0]=Hi;var Ci=a[e+8|0]>>>24&255,Ai=o+20|0,Li=a[Ai];a[Ai]=Li+1|0,a[a[o+8|0]+Li|0]=Ci}else sa(o,a[e+48|0]>>>16),sa(o,65535&a[e+48|0]);G(e),0<(0|a[o+24|0])&&(a[o+24|0]=0|-a[o+24|0]),r=0!=(0|a[o+20|0])?0:1,i=140;break e}while(0);r=0,i=140;break e}while(0);a[e+24|0]=0|p.__str455,r=-2,i=140}while(0);return 3==i&&(r=-2),r}function sa(e,t){var i=e+20|0,r=a[i];a[i]=r+1|0,a[a[e+8|0]+r|0]=t>>>8&255,i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=255&t}function G(e){var t,i=t=a[a[e+28|0]+20|0];if(i>>>0>a[e+16|0]>>>0&&(t=i=a[e+16|0]),0!=(0|i)){for(var i=a[a[e+28|0]+16|0],r=a[e+12|0],n=i+t;n>i;i++,r++)a[r]=a[i];i=e+12|0,a[i]=a[i]+t|0,i=a[e+28|0]+16|0,a[i]=a[i]+t|0,i=e+20|0,a[i]=a[i]+t|0,i=e+16|0,a[i]=a[i]-t|0,i=a[e+28|0]+20|0,a[i]=a[i]-t|0,0==(0|a[a[e+28|0]+20|0])&&(a[a[e+28|0]+16|0]=a[a[e+28|0]+8|0])}}function Qc(e,t){var i,r;e:for(;;){r=0==(0|a[e+116|0]);do if(r&&(L(e),0==(0|a[e+116|0]))){if(0==(0|t)){i=0;break e}if(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,4==(0|t)&1),a[e+92|0]=a[e+108|0],G(a[0|e]),i=4==(0|t),0==(0|a[a[0|e]+16|0])){i=i?2:0;break e}i=i?3:1;break e}while(0);a[e+96|0]=0,r=a[a[e+56|0]+a[e+108|0]|0],a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=0;var n=e+5792|0,o=a[n];if(a[n]=o+1|0,a[a[e+5784|0]+o|0]=r,r=((255&r)<<2)+e+148|0,a[r]=a[r]+1&65535,r=(0|a[e+5792|0])==(a[e+5788|0]-1|0)&1,n=e+116|0,a[n]=a[n]-1|0,n=e+108|0,a[n]=a[n]+1|0,0!=(0|r)&&(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,0),a[e+92|0]=a[e+108|0],G(a[0|e]),0==(0|a[a[0|e]+16|0]))){i=0;break}}return i}function Zb(e,t){var i,r,n,o;e:for(;;){r=258>a[e+116|0]>>>0;do if(r){L(e),n=258>a[e+116|0]>>>0;do if(n&&0==(0|t)){i=0;break e}while(0);if(0==(0|a[e+116|0])){if(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,4==(0|t)&1),a[e+92|0]=a[e+108|0],G(a[0|e]),i=4==(0|t),0==(0|a[a[0|e]+16|0])){i=i?2:0;break e}i=i?3:1;break e}}while(0);a[e+96|0]=0;var s=3<=a[e+116|0]>>>0;do if(s&&!(0>=a[e+108|0]>>>0)&&(n=a[e+56|0]+a[e+108|0]-1|0,r=255&a[n],n=o=n+1|0,(0|r)==(255&a[o]|0)&&(n=o=n+1|0,(0|r)==(255&a[o]|0)&&(n=o=n+1|0,(0|r)==(255&a[o]|0))))){for(o=a[e+56|0]+a[e+108|0]+258|0;;){var l=n+1|0;if(n=l,(0|r)!=(255&a[l]|0))break;if(n=l=n+1|0,(0|r)!=(255&a[l]|0))break;if(n=l=n+1|0,(0|r)!=(255&a[l]|0))break;if(n=l=n+1|0,(0|r)!=(255&a[l]|0))break;if(n=l=n+1|0,(0|r)!=(255&a[l]|0))break;if(n=l=n+1|0,(0|r)!=(255&a[l]|0))break;if(n=l=n+1|0,(0|r)!=(255&a[l]|0))break;if(n=l=n+1|0,(0|r)!=(255&a[l]|0))break;if(n>>>0>=o>>>0)break}a[e+96|0]=-o+- -n+258|0,a[e+96|0]>>>0<=a[e+116|0]>>>0||(a[e+96|0]=a[e+116|0])}while(0);if(r=e,3<=a[e+96|0]>>>0?(n=a[r+96|0]-3&255,r=1,a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=r,s=e+5792|0,o=a[s],a[s]=o+1|0,a[a[e+5784|0]+o|0]=n,r=r-1&65535,n=((255&a[p.__length_code+(255&n)|0])+257<<2)+e+148|0,a[n]=a[n]+1&65535,n=65535&r,r=((256>(65535&r|0)?255&a[p.__dist_code+n|0]:255&a[(n>>7)+p.__dist_code+256|0])<<2)+e+2440|0,a[r]=a[r]+1&65535,r=(0|a[e+5792|0])==(a[e+5788|0]-1|0)&1,n=e+116|0,a[n]=a[n]-a[e+96|0]|0,n=e+108|0,a[n]=a[n]+a[e+96|0]|0,a[e+96|0]=0):(r=a[a[e+56|0]+a[r+108|0]|0],a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=0,n=e+5792|0,s=a[n],a[n]=s+1|0,a[a[e+5784|0]+s|0]=r,r=((255&r)<<2)+e+148|0,a[r]=a[r]+1&65535,r=(0|a[e+5792|0])==(a[e+5788|0]-1|0)&1,n=e+116|0,a[n]=a[n]-1|0,n=e+108|0,a[n]=a[n]+1|0),0!=(0|r)&&(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,0),a[e+92|0]=a[e+108|0],G(a[0|e]),0==(0|a[a[0|e]+16|0]))){i=0;
break}}return i}function L(e){var t,i,r,n,o;for(o=a[e+44|0];;){if(n=-a[e+116|0]+a[e+60|0]+-a[e+108|0]|0,a[e+108|0]>>>0>=(o-262+a[e+44|0]|0)>>>0){for(i=a[e+56|0]+o|0,t=a[e+56|0],r=i+o;r>i;i++,t++)a[t]=a[i];for(t=e+112|0,a[t]=a[t]-o|0,t=e+108|0,a[t]=a[t]-o|0,t=e+92|0,a[t]=a[t]-o|0,t=a[e+76|0],r=(t<<1)+a[e+68|0]|0;r=i=r-2|0,i=65535&a[i],a[r]=65535&(i>>>0>=o>>>0?i-o|0:0),t=i=t-1|0,!(0==(0|i)););for(t=o,r=(t<<1)+a[e+64|0]|0;r=i=r-2|0,i=65535&a[i],a[r]=65535&(i>>>0>=o>>>0?i-o|0:0),t=i=t-1|0,!(0==(0|i)););n=n+o|0}if(0==(0|a[a[0|e]+4|0]))break;if(t=ec(a[0|e],a[e+56|0]+a[e+108|0]+a[e+116|0]|0,n),n=e+116|0,a[n]=a[n]+t|0,3<=a[e+116|0]>>>0&&(a[e+72|0]=255&a[a[e+56|0]+a[e+108|0]|0],a[e+72|0]=(255&a[a[e+56|0]+a[e+108|0]+1|0]^a[e+72|0]<<a[e+88|0])&a[e+84|0]),!(262>a[e+116|0]>>>0&&0!=(0|a[a[0|e]+4|0]))){if(a[e+5824|0]>>>0>=a[e+60|0]>>>0)break;if(n=a[e+116|0]+a[e+108|0]|0,o=e,a[e+5824|0]>>>0<n>>>0){for(o=a[o+60|0]-n|0,o>>>0>258&&(o=258),r=o,t=a[e+56|0]+n|0,r=t+r;r>t;t++)a[t]=0;a[e+5824|0]=o+n|0;break}if(a[o+5824|0]>>>0>=(n+258|0)>>>0)break;for(o=n+-a[e+5824|0]+258|0,o>>>0>(a[e+60|0]-a[e+5824|0]|0)>>>0&&(o=a[e+60|0]-a[e+5824|0]|0),n=o,t=a[e+56|0]+a[e+5824|0]|0,r=t+n;r>t;t++)a[t]=0;e=e+5824|0,a[e]=a[e]+o|0;break}}}function ec(e,t,i){var r,n=r=a[e+4|0];if(n>>>0>i>>>0?r=i:i=n,0==(0|i))r=0;else{for(i=e+4|0,a[i]=a[i]-r|0,1==(0|a[a[e+28|0]+24|0])?(i=oa(a[e+48|0],a[0|e],r),a[e+48|0]=i):2==(0|a[a[e+28|0]+24|0])&&(i=H(a[e+48|0],a[0|e],r),a[e+48|0]=i),i=a[0|e],n=i+r;n>i;i++,t++)a[t]=a[i];t=0|e,a[t]=a[t]+r|0,e=e+8|0,a[e]=a[e]+r|0}return r}function fc(e,t){var i,r,n,o;n=65535,n>>>0>(a[e+12|0]-5|0)>>>0&&(n=a[e+12|0]-5|0);e:for(;;){i=1>=a[e+116|0]>>>0;do if(i){L(e),o=0==(0|a[e+116|0]);do if(o&&0==(0|t)){r=0;break e}while(0);if(0==(0|a[e+116|0])){if(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,4==(0|t)&1),a[e+92|0]=a[e+108|0],G(a[0|e]),r=4==(0|t),0==(0|a[a[0|e]+16|0])){r=r?2:0;break e}r=r?3:1;break e}}while(0);i=e+108|0,a[i]=a[i]+a[e+116|0]|0,a[e+116|0]=0,o=n+a[e+92|0]|0,i=0==(0|a[e+108|0])?9:a[e+108|0]>>>0>=o>>>0?9:13;do if(9==i&&(a[e+116|0]=a[e+108|0]-o|0,a[e+108|0]=o,C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,0),a[e+92|0]=a[e+108|0],G(a[0|e]),0==(0|a[a[0|e]+16|0]))){r=0;break e}while(0);if((a[e+108|0]-a[e+92|0]|0)>>>0>=(a[e+44|0]-262|0)>>>0&&(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,0),a[e+92|0]=a[e+108|0],G(a[0|e]),0==(0|a[a[0|e]+16|0]))){r=0;break}}return r}function gc(e,t){var i,r,n,o;e:for(;;){r=262>a[e+116|0]>>>0;do if(r){L(e);var s=262>a[e+116|0]>>>0;do if(s&&0==(0|t)){i=0;break e}while(0);if(0==(0|a[e+116|0])){if(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,4==(0|t)&1),a[e+92|0]=a[e+108|0],G(a[0|e]),i=4==(0|t),0==(0|a[a[0|e]+16|0])){i=i?2:0;break e}i=i?3:1;break e}}while(0);3<=a[e+116|0]>>>0&&(a[e+72|0]=(255&a[a[e+56|0]+a[e+108|0]+2|0]^a[e+72|0]<<a[e+88|0])&a[e+84|0],r=a[(a[e+72|0]<<1)+a[e+68|0]|0],a[((a[e+52|0]&a[e+108|0])<<1)+a[e+64|0]|0]=r,r&=65535,a[(a[e+72|0]<<1)+a[e+68|0]|0]=65535&a[e+108|0],0!=(0|r)&&(a[e+108|0]-r|0)>>>0<=(a[e+44|0]-262|0)>>>0&&(r=hc(e,r),a[e+96|0]=r)),r=3<=a[e+96|0]>>>0,s=e;t:do if(r){o=a[s+96|0]-3&255,n=a[e+108|0]-a[e+112|0]&65535,a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=n;var l=e+5792|0,h=a[l];a[l]=h+1|0,a[a[e+5784|0]+h|0]=o,n=n-1&65535,o=((255&a[p.__length_code+(255&o)|0])+257<<2)+e+148|0,a[o]=a[o]+1&65535,o=65535&n,n=((256>(65535&n|0)?255&a[p.__dist_code+o|0]:255&a[(o>>7)+p.__dist_code+256|0])<<2)+e+2440|0,a[n]=a[n]+1&65535,n=(0|a[e+5792|0])==(a[e+5788|0]-1|0)&1,o=e+116|0,a[o]=a[o]-a[e+96|0]|0,o=a[e+96|0]>>>0<=a[e+128|0]>>>0;do if(o&&3<=a[e+116|0]>>>0){for(r=e+96|0,a[r]=a[r]-1|0;r=e+108|0,a[r]=a[r]+1|0,a[e+72|0]=(255&a[a[e+56|0]+a[e+108|0]+2|0]^a[e+72|0]<<a[e+88|0])&a[e+84|0],a[((a[e+52|0]&a[e+108|0])<<1)+a[e+64|0]|0]=a[(a[e+72|0]<<1)+a[e+68|0]|0],a[(a[e+72|0]<<1)+a[e+68|0]|0]=65535&a[e+108|0],r=e+96|0,s=a[r]-1|0,a[r]=s,!(0==(0|s)););r=e+108|0,a[r]=a[r]+1|0;break t}while(0);o=e+108|0,a[o]=a[o]+a[e+96|0]|0,a[e+96|0]=0,a[e+72|0]=255&a[a[e+56|0]+a[e+108|0]|0],a[e+72|0]=(255&a[a[e+56|0]+a[e+108|0]+1|0]^a[e+72|0]<<a[e+88|0])&a[e+84|0]}else n=a[a[e+56|0]+a[s+108|0]|0],a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=0,o=e+5792|0,l=a[o],a[o]=l+1|0,a[a[e+5784|0]+l|0]=n,n=((255&n)<<2)+e+148|0,a[n]=a[n]+1&65535,n=(0|a[e+5792|0])==(a[e+5788|0]-1|0)&1,o=e+116|0,a[o]=a[o]-1|0,o=e+108|0,a[o]=a[o]+1|0;while(0);if(0!=(0|n)&&(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,0),a[e+92|0]=a[e+108|0],G(a[0|e]),0==(0|a[a[0|e]+16|0]))){i=0;break}}return i}function ic(e,t){var i,r,n,o;e:for(;;){r=262>a[e+116|0]>>>0;do if(r){L(e),n=262>a[e+116|0]>>>0;do if(n&&0==(0|t)){i=0;break e}while(0);if(0==(0|a[e+116|0])){if(0!=(0|a[e+104|0])&&(i=a[a[e+56|0]+(a[e+108|0]-1)|0],a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=0,r=e+5792|0,n=a[r],a[r]=n+1|0,a[a[e+5784|0]+n|0]=i,i=((255&i)<<2)+e+148|0,a[i]=a[i]+1&65535,a[e+104|0]=0),C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,4==(0|t)&1),a[e+92|0]=a[e+108|0],G(a[0|e]),i=4==(0|t),0==(0|a[a[0|e]+16|0])){i=i?2:0;break e}i=i?3:1;break e}}while(0);r=0,3<=a[e+116|0]>>>0&&(a[e+72|0]=(255&a[a[e+56|0]+a[e+108|0]+2|0]^a[e+72|0]<<a[e+88|0])&a[e+84|0],r=a[(a[e+72|0]<<1)+a[e+68|0]|0],a[((a[e+52|0]&a[e+108|0])<<1)+a[e+64|0]|0]=r,r&=65535,a[(a[e+72|0]<<1)+a[e+68|0]|0]=65535&a[e+108|0]),a[e+120|0]=a[e+96|0],a[e+100|0]=a[e+112|0],a[e+96|0]=2,n=0!=(0|r);do if(n&&!(a[e+120|0]>>>0>=a[e+128|0]>>>0)&&(a[e+108|0]-r|0)>>>0<=(a[e+44|0]-262|0)>>>0&&(o=hc(e,r),a[e+96|0]=o,5>=a[e+96|0]>>>0)){if(1!=(0|a[e+136|0])){if(3!=(0|a[e+96|0]))break;if(4096>=(a[e+108|0]-a[e+112|0]|0)>>>0)break}a[e+96|0]=2}while(0);r=3<=a[e+120|0]>>>0;do if(r&&a[e+96|0]>>>0<=a[e+120|0]>>>0){r=a[e+108|0]-3+a[e+116|0]|0,o=a[e+120|0]-3&255,n=a[e+108|0]-1+-a[e+100|0]&65535,a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=n;var s=e+5792|0,l=a[s];for(a[s]=l+1|0,a[a[e+5784|0]+l|0]=o,n=n-1&65535,o=((255&a[p.__length_code+(255&o)|0])+257<<2)+e+148|0,a[o]=a[o]+1&65535,o=65535&n,n=((256>(65535&n|0)?255&a[p.__dist_code+o|0]:255&a[(o>>7)+p.__dist_code+256|0])<<2)+e+2440|0,a[n]=a[n]+1&65535,n=(0|a[e+5792|0])==(a[e+5788|0]-1|0)&1,o=e+116|0,a[o]=-a[e+120|0]+a[o]+1|0,o=e+120|0,a[o]=a[o]-2|0;o=e+108|0,s=a[o]+1|0,a[o]=s,r>>>0>=s>>>0&&(a[e+72|0]=(255&a[a[e+56|0]+a[e+108|0]+2|0]^a[e+72|0]<<a[e+88|0])&a[e+84|0],a[((a[e+52|0]&a[e+108|0])<<1)+a[e+64|0]|0]=a[(a[e+72|0]<<1)+a[e+68|0]|0],a[(a[e+72|0]<<1)+a[e+68|0]|0]=65535&a[e+108|0]),o=e+120|0,s=a[o]-1|0,a[o]=s,!(0==(0|s)););if(a[e+104|0]=0,a[e+96|0]=2,r=e+108|0,a[r]=a[r]+1|0,0==(0|n))continue e;if(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,0),a[e+92|0]=a[e+108|0],G(a[0|e]),0!=(0|a[a[0|e]+16|0]))continue e;i=0;break e}while(0);if(r=e,0!=(0|a[e+104|0])){if(r=a[a[e+56|0]+(a[r+108|0]-1)|0],a[(a[e+5792|0]<<1)+a[e+5796|0]|0]=0,n=e+5792|0,o=a[n],a[n]=o+1|0,a[a[e+5784|0]+o|0]=r,r=((255&r)<<2)+e+148|0,a[r]=a[r]+1&65535,n=(0|a[e+5792|0])==(a[e+5788|0]-1|0)&1,0!=(0|n)&&(C(e,0<=(0|a[e+92|0])?a[e+56|0]+a[e+92|0]|0:0,a[e+108|0]-a[e+92|0]|0,0),a[e+92|0]=a[e+108|0],G(a[0|e])),r=e+108|0,a[r]=a[r]+1|0,r=e+116|0,a[r]=a[r]-1|0,0!=(0|a[a[0|e]+16|0]))continue;i=0;break}a[r+104|0]=1,r=e+108|0,a[r]=a[r]+1|0,r=e+116|0,a[r]=a[r]-1|0}return i}function hc(e,t){var i,r,n,o,s,l,h,c,f,u,d,p,m;i=t,r=a[e+124|0],n=a[e+56|0]+a[e+108|0]|0,l=a[e+120|0],h=a[e+144|0],c=a[e+108|0]>>>0>(a[e+44|0]-262|0)>>>0?a[e+108|0]+-a[e+44|0]+262|0:0,f=a[e+64|0],u=a[e+52|0],d=a[e+56|0]+a[e+108|0]+258|0,p=a[n+(l-1)|0],m=a[n+l|0],a[e+120|0]>>>0>=a[e+140|0]>>>0&&(r>>>=2),h>>>0>a[e+116|0]>>>0&&(h=a[e+116|0]);e:for(;;){o=a[e+56|0]+i|0;var E=(255&a[o+l|0]|0)!=(255&m|0);do if(!E&&(255&a[o+(l-1)|0]|0)==(255&p|0)&&(255&a[o]|0)==(255&a[n]|0)&&(o=s=o+1|0,(255&a[s]|0)==(255&a[n+1|0]|0))){for(n=n+2|0,o=o+1|0;;){n=s=n+1|0,s=255&a[s];var v=o+1|0;if(o=v,(0|s)!=(255&a[v]|0))break;if(n=s=n+1|0,s=255&a[s],o=v=o+1|0,(0|s)!=(255&a[v]|0))break;if(n=s=n+1|0,s=255&a[s],o=v=o+1|0,(0|s)!=(255&a[v]|0))break;if(n=s=n+1|0,s=255&a[s],o=v=o+1|0,(0|s)!=(255&a[v]|0))break;if(n=s=n+1|0,s=255&a[s],o=v=o+1|0,(0|s)!=(255&a[v]|0))break;if(n=s=n+1|0,s=255&a[s],o=v=o+1|0,(0|s)!=(255&a[v]|0))break;if(n=s=n+1|0,s=255&a[s],o=v=o+1|0,(0|s)!=(255&a[v]|0))break;if(n=s=n+1|0,s=255&a[s],o=v=o+1|0,(0|s)!=(255&a[v]|0))break;if(n>>>0>=d>>>0)break}if(s=-d+- -n+258|0,n=d-258|0,!((0|l)>=(0|s))){if(a[e+112|0]=i,l=s,(0|s)>=(0|h))break e;p=a[n+(l-1)|0],m=a[n+l|0]}}while(0);if(i=o=65535&a[((u&i)<<1)+f|0],c>>>0>=o>>>0)break;if(r=o=r-1|0,0==(0|o))break}return l>>>0<=a[e+116|0]>>>0?l:a[e+116|0]}function jc(e){var t;return 0==(0|e)?e=2:0==(0|a[e+28|0])?e=2:(t=a[e+28|0],a[t+28|0]=0,a[e+20|0]=0,a[e+8|0]=0,a[e+24|0]=0,a[e+48|0]=1,a[0|t]=0,a[t+4|0]=0,a[t+12|0]=0,a[t+20|0]=32768,a[t+32|0]=0,a[t+40|0]=0,a[t+44|0]=0,a[t+48|0]=0,a[t+56|0]=0,a[t+60|0]=0,e=t+1328|0,a[t+108|0]=e,a[t+80|0]=e,a[t+76|0]=e,a[t+7104|0]=1,a[t+7108|0]=-1,t=0,e=4),2==e&&(t=-2),t}function kc(e,t){var i,r,n,o;n=t;var s=0==(0|e);e:do if(s)i=2;else if(0==(0|a[e+28|0]))i=2;else{if(o=a[e+28|0],0>(0|n)){r=0;var l=n=i=0|-n;i=7}else r=(n>>4)+1|0,(0|n)>=48?i=8:(l=n=i=15&n,i=7);7==i&&(i=0!=(0|l)?8:10);do if(8==i&&8>(0|n)|(0|n)>15){r=-2,i=14;break e}while(0);0!=(0|a[o+52|0])&&(0|a[o+36|0])!=(0|n)&&(F[a[e+36|0]](a[e+40|0],a[o+52|0]),a[o+52|0]=0),a[o+8|0]=r,a[o+36|0]=n,r=jc(e),i=14}while(0);return 2==i&&(r=-2),r}function Vb(e,t,i){var r;return 0==(0|t)?e=3:49!=(a[0|t]<<24>>24|0)?e=3:56!=(0|i)?e=3:(0==(0|e)?r=-2:(a[e+24|0]=0,0==(0|a[e+32|0])&&(a[e+32|0]=2,a[e+40|0]=0),0==(0|a[e+36|0])&&(a[e+36|0]=4),t=F[a[e+32|0]](a[e+40|0],1,7116),0==(0|t)?r=-4:(a[e+28|0]=t,a[t+52|0]=0,r=kc(e,15),0!=(0|r)&&(F[a[e+36|0]](a[e+40|0],t),a[e+28|0]=0))),e=15),3==e&&(r=-6),r}function Wb(e){var t=A;A+=12;var i,r,n,o,s,l,h,c,f,u,d,m,E,v,g,y=t+4,T=t+8,x=0==(0|e);e:do if(x)i=5;else if(0==(0|a[e+28|0]))i=5;else if(0==(0|a[e+12|0]))i=5;else if(0==(0|a[0|e])&&0!=(0|a[e+4|0]))i=5;else{n=a[e+28|0],11==(0|a[0|n])&&(a[0|n]=12),s=a[e+12|0],h=a[e+16|0],o=a[0|e],l=a[e+4|0],c=a[n+56|0],f=a[n+60|0],u=l,d=h,g=0;var R=0|T,b=T+1|0,_=0|T,w=0|T,M=T+1|0,S=0|T,C=0|T,L=T+1|0,k=T+2|0,D=T+3|0,P=0|T,F=0|T,z=T+1|0,N=0|T,U=0|T,B=T+1|0,V=0|T,O=t,j=t+1|0,I=0|t,G=0|t,W=y,X=t,q=y+2|0,Y=y+1|0,K=0|y,Z=y+1|0,Q=t,$=y+1|0,J=t+1|0,et=y+1|0,tt=y+1|0,it=y+1|0,at=t+1|0,rt=t+1|0,nt=t+1|0,ot=t+2|0,st=0|t,lt=0|t,ht=0|t,ct=0|t,ft=t,ut=t+1|0,dt=t+2|0,pt=t+2|0,mt=t+2|0,Et=t+1|0,vt=t+1|0,gt=t+1|0,yt=t+1|0,Tt=t+1|0,xt=t+1|0,Rt=t+1|0,bt=t+1|0,_t=t+1|0,wt=t+1|0,Ht=t+1|0,Mt=t+1|0,St=t+2|0,Ct=t,At=t+1|0,Lt=0|t,kt=y,Dt=t,Pt=y+2|0,Ft=y+1|0,zt=0|y,Nt=y+1|0,Ut=t,Bt=y+1|0,Vt=t+1|0,Ot=y+1|0,jt=y+1|0,It=y+1|0,Gt=t+1|0,Wt=t+1|0,Xt=t+1|0,qt=0|t,Yt=t+2|0,Kt=0|t;t:for(;;){var Zt=a[0|n];i:do{if(0==Zt){if(0==(0|a[n+8|0])){a[0|n]=12;continue t}for(var Qt=f;!(Qt>>>0>=16);){if(0==(0|l)){i=322;break t}l=l-1|0;var $t=o;o=$t+1|0,c=((255&a[$t])<<f)+c|0;var Jt=f+8|0,Qt=f=Jt}var ei=0!=(2&a[n+8|0]|0);do if(ei&&35615==(0|c)){var ti=H(0,0,0);a[n+24|0]=ti,a[R]=255&c,a[b]=c>>>8&255;var ii=H(a[n+24|0],_,2);a[n+24|0]=ii,f=c=0,a[0|n]=1;continue t}while(0);a[n+16|0]=0,0!=(0|a[n+32|0])&&(a[a[n+32|0]+48|0]=-1);var ai=0!=(1&a[n+8|0]|0);do if(ai&&0==(((((255&c)<<8)+(c>>>8)|0)>>>0)%31|0)){if(8!=(15&c|0)){a[e+24|0]=0|p.__str216,a[0|n]=29;continue t}c>>>=4,f=f-4|0,v=(15&c)+8|0;var ri=0==(0|a[n+36|0]),ni=v,oi=n+36|0;do{if(!ri){if(ni>>>0<=a[oi]>>>0)break;a[e+24|0]=0|p.__str317,a[0|n]=29;continue t}a[oi]=ni}while(0);a[n+20|0]=1<<v;var si=oa(0,0,0);a[n+24|0]=si,a[e+48|0]=si,a[0|n]=0!=(512&c|0)?9:11,f=c=0;continue t}while(0);a[e+24|0]=0|p.__str115,a[0|n]=29;continue t}if(1==Zt){for(var li=f;!(li>>>0>=16);){if(0==(0|l)){i=322;break t}l=l-1|0;var hi=o;o=hi+1|0,c=((255&a[hi])<<f)+c|0;var ci=f+8|0,li=f=ci}if(a[n+16|0]=c,8!=(255&a[n+16|0]|0)){a[e+24|0]=0|p.__str216,a[0|n]=29;continue t}if(0!=(57344&a[n+16|0]|0)){a[e+24|0]=0|p.__str418,a[0|n]=29;continue t}if(0!=(0|a[n+32|0])&&(a[0|a[n+32|0]]=c>>>8&1),0!=(512&a[n+16|0]|0)){a[w]=255&c,a[M]=c>>>8&255;var fi=H(a[n+24|0],S,2);a[n+24|0]=fi}f=c=0,a[0|n]=2,i=44}else if(2==Zt)i=44;else if(3==Zt)i=53;else if(4==Zt)i=62;else if(5==Zt)i=75;else if(6==Zt)i=90;else if(7==Zt)i=106;else if(8==Zt)i=122;else if(9==Zt){for(var ui=f;!(ui>>>0>=32);){if(0==(0|l)){i=322;break t}l=l-1|0;var di=o;o=di+1|0,c=((255&a[di])<<f)+c|0;var pi=f+8|0,ui=f=pi}var mi=((65280&c)<<8)+((255&c)<<24)+(c>>>8&65280)+(c>>>24&255)|0;a[n+24|0]=mi,a[e+48|0]=mi,f=c=0,a[0|n]=10,i=138}else if(10==Zt)i=138;else if(11==Zt)i=141;else if(12==Zt)i=142;else if(13==Zt){c>>>=(7&f)>>>0;for(var Ei=f-(7&f)|0,vi=f=Ei;!(vi>>>0>=32);){if(0==(0|l)){i=322;break t}l=l-1|0;var gi=o;o=gi+1|0,c=((255&a[gi])<<f)+c|0;var yi=f+8|0,vi=f=yi}if((65535&c|0)!=(c>>>16^65535|0)){a[e+24|0]=0|p.__str721,a[0|n]=29;continue t}a[n+64|0]=65535&c,f=c=0,a[0|n]=14,i=161}else if(14==Zt)i=161;else if(15==Zt)i=162;else{if(16==Zt){for(var Ti=f;!(Ti>>>0>=14);){if(0==(0|l)){i=322;break t}l=l-1|0;var xi=o;o=xi+1|0,c=((255&a[xi])<<f)+c|0;var Ri=f+8|0,Ti=f=Ri}a[n+96|0]=(31&c)+257|0,c>>>=5,f=f-5|0,a[n+100|0]=(31&c)+1|0,c>>>=5,f=f-5|0,a[n+92|0]=(15&c)+4|0,c>>>=4,f=f-4|0;var bi=286<a[n+96|0]>>>0;do if(!(bi||30<a[n+100|0]>>>0)){a[n+104|0]=0,a[0|n]=17,i=178;break i}while(0);a[e+24|0]=0|p.__str822,a[0|n]=29;continue t}if(17==Zt)i=178;else if(18==Zt)i=189;else if(19==Zt)i=226;else if(20==Zt)i=227;else if(21==Zt)i=249;else if(22==Zt)i=255;else if(23==Zt)i=267;else if(24==Zt)i=273;else{if(25==Zt){if(0==(0|h)){i=322;break t}var _i=255&a[n+64|0],wi=s;s=wi+1|0,a[wi]=_i,h=h-1|0,a[0|n]=20;continue t}if(26==Zt){if(0!=(0|a[n+8|0])){for(var Hi=f;!(Hi>>>0>=32);){if(0==(0|l)){i=322;break t}l=l-1|0;var Mi=o;o=Mi+1|0,c=((255&a[Mi])<<f)+c|0;var Si=f+8|0,Hi=f=Si}d=d-h|0;var Ci=e+20|0;a[Ci]=a[Ci]+d|0;var Ai=n+28|0;if(a[Ai]=a[Ai]+d|0,0!=(0|d)){var Li=a[n+24|0],ki=s+-d|0,Di=d,Pi=0!=(0|a[n+16|0])?H(Li,ki,Di):oa(Li,ki,Di);a[n+24|0]=Pi,a[e+48|0]=Pi}d=h;var Fi=c;if((0|(0!=(0|a[n+16|0])?Fi:((65280&c)<<8)+((255&c)<<24)+(c>>>8&65280)+(Fi>>>24&255)|0))!=(0|a[n+24|0])){a[e+24|0]=0|p.__str17,a[0|n]=29;continue t}f=c=0}a[0|n]=27,i=308}else{if(27!=Zt){if(28==Zt){i=318;break t}if(29==Zt){g=-3,i=322;break t}r=30==Zt?-4:-2,i=341;break e}i=308}}}}while(0);do if(44==i){for(var zi=f;!(zi>>>0>=32);){if(0==(0|l)){i=322;break t}l=l-1|0;var Ni=o;o=Ni+1|0,c=((255&a[Ni])<<f)+c|0;var Ui=f+8|0,zi=f=Ui}if(0!=(0|a[n+32|0])&&(a[a[n+32|0]+4|0]=c),0!=(512&a[n+16|0]|0)){a[C]=255&c,a[L]=c>>>8&255,a[k]=c>>>16&255,a[D]=c>>>24&255;var Bi=H(a[n+24|0],P,4);a[n+24|0]=Bi}f=c=0,a[0|n]=3,i=53}else if(138==i){if(0==(0|a[n+12|0])){a[e+12|0]=s,a[e+16|0]=h,a[0|e]=o,a[e+4|0]=l,a[n+56|0]=c,a[n+60|0]=f,r=2,i=341;break e}var Vi=oa(0,0,0);a[n+24|0]=Vi,a[e+48|0]=Vi,a[0|n]=11,i=141}else if(161==i)a[0|n]=15,i=162;else if(178==i){for(;!(a[n+104|0]>>>0>=a[n+92|0]>>>0);){for(var Oi=f;!(Oi>>>0>=3);){if(0==(0|l)){i=322;break t}l=l-1|0;var ji=o;o=ji+1|0,c=((255&a[ji])<<f)+c|0;var Ii=f+8|0,Oi=f=Ii}var Gi=n+104|0,Wi=a[Gi];a[Gi]=Wi+1|0,a[((65535&a[(Wi<<1)+pd|0])<<1)+n+112|0]=7&c,c>>>=3,f=f-3|0}var Xi=19>a[n+104|0]>>>0,qi=n;i:do if(Xi)for(var Yi=qi;;){var Ki=Yi+104|0,Zi=a[Ki];a[Ki]=Zi+1|0,a[((65535&a[(Zi<<1)+pd|0])<<1)+n+112|0]=0;var Qi=n;if(19<=a[n+104|0]>>>0){var $i=Qi;break i}Yi=Qi}else $i=qi;while(0);a[n+108|0]=$i+1328|0,a[n+76|0]=a[n+108|0],a[n+84|0]=7;var Ji=Rc(0,n+112|0,19,n+108|0,n+84|0,n+752|0);if(g=Ji,0!=(0|Ji)){a[e+24|0]=0|p.__str923,a[0|n]=29;continue t}a[n+104|0]=0,a[0|n]=18,i=189}else if(308==i){if(0==(0|a[n+8|0])){i=317;break t}if(0==(0|a[n+16|0])){i=317;break t}for(var ea=f;!(ea>>>0>=32);){if(0==(0|l)){i=322;break t}l=l-1|0;var ta=o;o=ta+1|0,c=((255&a[ta])<<f)+c|0;var ia=f+8|0,ea=f=ia}if((0|c)!=(0|a[n+28|0])){a[e+24|0]=0|p.__str18,a[0|n]=29;continue t}f=c=0,i=317;break t}while(0);do if(53==i){for(var aa=f;!(aa>>>0>=16);){if(0==(0|l)){i=322;break t}l=l-1|0;var ra=o;o=ra+1|0,c=((255&a[ra])<<f)+c|0;var na=f+8|0,aa=f=na}if(0!=(0|a[n+32|0])&&(a[a[n+32|0]+8|0]=255&c,a[a[n+32|0]+12|0]=c>>>8),0!=(512&a[n+16|0]|0)){a[F]=255&c,a[z]=c>>>8&255;var sa=H(a[n+24|0],N,2);a[n+24|0]=sa}f=c=0,a[0|n]=4,i=62}else if(141==i)i=142;else{if(162==i){var la=a[n+64|0];if(m=la,0!=(0|la)){m>>>0>l>>>0&&(m=l);var ha=m;if(ha>>>0>h>>>0)var ca=h,fa=m=ca;else fa=ha;if(0==(0|fa)){i=322;break t}for(var ua=o,da=s,pa=ua+m;pa>ua;ua++,da++)a[da]=a[ua];l=l-m|0,o=o+m|0,h=h-m|0,s=s+m|0;var ma=n+64|0;a[ma]=a[ma]-m|0;continue t}a[0|n]=11;continue t}if(189==i){i:for(;!(a[n+104|0]>>>0>=(a[n+100|0]+a[n+96|0]|0)>>>0);){for(;;){var Ea=(((1<<a[n+84|0])-1&c)<<2)+a[n+76|0]|0;if(a[ft]=a[Ea],a[ft+1]=a[Ea+1],a[ft+2]=a[Ea+2],a[ft+3]=a[Ea+3],(255&a[ut])>>>0<=f>>>0)break;if(0==(0|l)){i=322;break t}l=l-1|0;var va=o;o=va+1|0,c=((255&a[va])<<f)+c|0,f=f+8|0}if(16>(65535&a[dt]|0)){for(;!(f>>>0>=(255&a[wt])>>>0);){if(0==(0|l)){i=322;break t}l=l-1|0;var ga=o;o=ga+1|0,c=((255&a[ga])<<f)+c|0,f=f+8|0}c>>>=(255&a[Ht])>>>0,f=f-(255&a[Mt])|0;var ya=a[St],Ta=n+104|0,xa=a[Ta];a[Ta]=xa+1|0,a[(xa<<1)+n+112|0]=ya}else{if(16==(65535&a[pt]|0)){for(;!(f>>>0>=((255&a[Rt])+2|0)>>>0);){if(0==(0|l)){i=322;break t}l=l-1|0;var Ra=o;o=Ra+1|0,c=((255&a[Ra])<<f)+c|0,f=f+8|0}if(c>>>=(255&a[bt])>>>0,f=f-(255&a[_t])|0,0==(0|a[n+104|0])){a[e+24|0]=0|p.__str1024,a[0|n]=29;break}v=65535&a[(a[n+104|0]-1<<1)+n+112|0],m=(3&c)+3|0,c>>>=2,f=f-2|0}else if(17==(65535&a[mt]|0)){for(;!(f>>>0>=((255&a[Et])+3|0)>>>0);){if(0==(0|l)){i=322;break t}l=l-1|0;var ba=o;o=ba+1|0,c=((255&a[ba])<<f)+c|0,f=f+8|0}c>>>=(255&a[vt])>>>0,f=f-(255&a[gt])|0,v=0,m=(7&c)+3|0,c>>>=3,f=f-3|0}else{for(;!(f>>>0>=((255&a[yt])+7|0)>>>0);){if(0==(0|l)){i=322;break t}l=l-1|0;var _a=o;o=_a+1|0,c=((255&a[_a])<<f)+c|0,f=f+8|0}c>>>=(255&a[Tt])>>>0,f=f-(255&a[xt])|0,v=0,m=(127&c)+11|0,c>>>=7,f=f-7|0}if((m+a[n+104|0]|0)>>>0>(a[n+100|0]+a[n+96|0]|0)>>>0){a[e+24|0]=0|p.__str1024,a[0|n]=29;break}var wa=m;if(m=wa-1|0,0!=(0|wa))for(;;){var Ha=n+104|0,Ma=a[Ha];a[Ha]=Ma+1|0,a[(Ma<<1)+n+112|0]=65535&v;var Sa=m;if(m=Sa-1|0,0==(0|Sa))continue i}}}if(29==(0|a[0|n]))continue t;if(0==(65535&a[n+624|0]|0)){a[e+24|0]=0|p.__str1125,a[0|n]=29;continue t}if(a[n+108|0]=n+1328|0,a[n+76|0]=a[n+108|0],a[n+84|0]=9,g=Rc(1,n+112|0,a[n+96|0],n+108|0,n+84|0,n+752|0),0!=(0|g)){a[e+24|0]=0|p.__str1226,a[0|n]=29;continue t}if(a[n+80|0]=a[n+108|0],a[n+88|0]=6,g=Rc(2,(a[n+96|0]<<1)+n+112|0,a[n+100|0],n+108|0,n+88|0,n+752|0),0!=(0|g)){a[e+24|0]=0|p.__str1327,a[0|n]=29;continue t}a[0|n]=19,i=226}}while(0);do if(62==i){var Ca=0!=(1024&a[n+16|0]|0);do if(Ca){for(var Aa=f;!(Aa>>>0>=16);){if(0==(0|l)){i=322;break t}l=l-1|0;var La=o;o=La+1|0,c=((255&a[La])<<f)+c|0;var ka=f+8|0,Aa=f=ka}if(a[n+64|0]=c,0!=(0|a[n+32|0])&&(a[a[n+32|0]+20|0]=c),0!=(512&a[n+16|0]|0)){a[U]=255&c,a[B]=c>>>8&255;var Da=H(a[n+24|0],V,2);a[n+24|0]=Da}f=c=0}else 0!=(0|a[n+32|0])&&(a[a[n+32|0]+16|0]=0);while(0);a[0|n]=5,i=75}else{if(142==i){var Pa=f;if(0!=(0|a[n+4|0])){c>>>=(7&Pa)>>>0,f=f-(7&f)|0,a[0|n]=26;continue t}for(var Fa=Pa;!(Fa>>>0>=3);){if(0==(0|l)){i=322;break t}l=l-1|0;var za=o;o=za+1|0,c=((255&a[za])<<f)+c|0;var Na=f+8|0,Fa=f=Na}a[n+4|0]=1&c,c>>>=1,f=f-1|0;var Ua=3&c;if(0==Ua)a[0|n]=13;else if(1==Ua){var Ba=n;a[Ba+76|0]=0|Ad,a[Ba+84|0]=9,a[Ba+80|0]=0|Bd,a[Ba+88|0]=5,a[0|n]=19}else 2==Ua?a[0|n]=16:3==Ua&&(a[e+24|0]=0|p.__str620,a[0|n]=29);c>>>=2,f=f-2|0;continue t}226==i&&(a[0|n]=20,i=227)}while(0);do if(75==i){if(0!=(1024&a[n+16|0]|0)){var Va=m=a[n+64|0];if(Va>>>0>l>>>0)var Oa=l,ja=m=Oa;else ja=Va;if(0!=(0|ja)){if(0!=(0|a[n+32|0])&&0!=(0|a[a[n+32|0]+16|0])){v=a[a[n+32|0]+20|0]-a[n+64|0]|0;for(var Ia=a[a[n+32|0]+16|0]+v|0,Ga=(m+v|0)>>>0>a[a[n+32|0]+24|0]>>>0?a[a[n+32|0]+24|0]-v|0:m,ua=o,da=Ia,pa=ua+Ga;pa>ua;ua++,da++)a[da]=a[ua]}if(0!=(512&a[n+16|0]|0)){var Wa=H(a[n+24|0],o,m);a[n+24|0]=Wa}l=l-m|0,o=o+m|0;var Xa=n+64|0;a[Xa]=a[Xa]-m|0}if(0!=(0|a[n+64|0])){i=322;break t}}a[n+64|0]=0,a[0|n]=6,i=90}else if(227==i){var qa=l>>>0>=6;do if(qa&&h>>>0>=258){if(a[e+12|0]=s,a[e+16|0]=h,a[0|e]=o,a[e+4|0]=l,a[n+56|0]=c,a[n+60|0]=f,Cd(e,d),s=a[e+12|0],h=a[e+16|0],o=a[0|e],l=a[e+4|0],c=a[n+56|0],f=a[n+60|0],11!=(0|a[0|n]))continue t;a[n+7108|0]=-1;continue t}while(0);for(a[n+7108|0]=0;;){var Ya=(((1<<a[n+84|0])-1&c)<<2)+a[n+76|0]|0;if(a[O]=a[Ya],a[O+1]=a[Ya+1],a[O+2]=a[Ya+2],a[O+3]=a[Ya+3],(255&a[j])>>>0<=f>>>0)break;if(0==(0|l)){i=322;break t}l=l-1|0;var Ka=o;o=Ka+1|0,c=((255&a[Ka])<<f)+c|0,f=f+8|0}var Za=0!=(255&a[I]|0);do if(Za&&0==(240&a[G]|0)){for(a[W]=a[X],a[W+1]=a[X+1],a[W+2]=a[X+2],a[W+3]=a[X+3];;){var Qa=((((1<<(255&a[K])+(255&a[Y]))-1&c)>>>((255&a[Z])>>>0))+(65535&a[q])<<2)+a[n+76|0]|0;if(a[Q]=a[Qa],a[Q+1]=a[Qa+1],a[Q+2]=a[Qa+2],a[Q+3]=a[Qa+3],((255&a[J])+(255&a[$])|0)>>>0<=f>>>0)break;if(0==(0|l)){i=322;break t}l=l-1|0;var $a=o;o=$a+1|0,c=((255&a[$a])<<f)+c|0,f=f+8|0}c>>>=(255&a[et])>>>0,f=f-(255&a[tt])|0;var Ja=n+7108|0;a[Ja]=a[Ja]+(255&a[it])|0}while(0);c>>>=(255&a[at])>>>0,f=f-(255&a[rt])|0;var er=n+7108|0;if(a[er]=a[er]+(255&a[nt])|0,a[n+64|0]=65535&a[ot],0==(255&a[st]|0)){a[0|n]=25;continue t}if(0!=(32&a[lt]|0)){a[n+7108|0]=-1,a[0|n]=11;continue t}if(0!=(64&a[ht]|0)){a[e+24|0]=0|p.__str271,a[0|n]=29;continue t}a[n+72|0]=15&a[ct],a[0|n]=21,i=249}while(0);do if(90==i){var tr=0!=(2048&a[n+16|0]|0);do if(tr){if(0==(0|l)){i=322;break t}for(m=0;;){var ir=m;m=ir+1|0;var ar=255&a[o+ir|0];if(v=ar,0!=(0|a[n+32|0])){if(0!=(0|a[a[n+32|0]+28|0])&&!(a[n+64|0]>>>0>=a[a[n+32|0]+32|0]>>>0)){var rr=n+64|0,nr=a[rr];a[rr]=nr+1|0,a[a[a[n+32|0]+28|0]+nr|0]=255&v}var or=v}else or=ar;if(0==(0|or))break;if(m>>>0>=l>>>0)break}if(0!=(512&a[n+16|0]|0)){var sr=H(a[n+24|0],o,m);a[n+24|0]=sr}if(l=l-m|0,o=o+m|0,0!=(0|v)){i=322;break t}}else 0!=(0|a[n+32|0])&&(a[a[n+32|0]+28|0]=0);while(0);a[n+64|0]=0,a[0|n]=7,i=106}else if(249==i){if(0!=(0|a[n+72|0])){for(;!(f>>>0>=a[n+72|0]>>>0);){if(0==(0|l)){i=322;break t}l=l-1|0;var lr=o;o=lr+1|0,c=((255&a[lr])<<f)+c|0,f=f+8|0}var hr=n+64|0;a[hr]=((1<<a[n+72|0])-1&c)+a[hr]|0,c>>>=a[n+72|0]>>>0,f=f-a[n+72|0]|0;var cr=n+7108|0;a[cr]=a[cr]+a[n+72|0]|0}a[n+7112|0]=a[n+64|0],a[0|n]=22,i=255}while(0);do if(106==i){var fr=0!=(4096&a[n+16|0]|0);do if(fr){if(0==(0|l)){i=322;break t}for(m=0;;){var ur=m;m=ur+1|0;var dr=255&a[o+ur|0];if(v=dr,0!=(0|a[n+32|0])){if(0!=(0|a[a[n+32|0]+36|0])&&!(a[n+64|0]>>>0>=a[a[n+32|0]+40|0]>>>0)){var pr=n+64|0,mr=a[pr];a[pr]=mr+1|0,a[a[a[n+32|0]+36|0]+mr|0]=255&v}var Er=v}else Er=dr;if(0==(0|Er))break;if(m>>>0>=l>>>0)break}if(0!=(512&a[n+16|0]|0)){var vr=H(a[n+24|0],o,m);a[n+24|0]=vr}if(l=l-m|0,o=o+m|0,0!=(0|v)){i=322;break t}}else 0!=(0|a[n+32|0])&&(a[a[n+32|0]+36|0]=0);while(0);a[0|n]=8,i=122}else if(255==i){for(;;){var gr=(((1<<a[n+88|0])-1&c)<<2)+a[n+80|0]|0;if(a[Ct]=a[gr],a[Ct+1]=a[gr+1],a[Ct+2]=a[gr+2],a[Ct+3]=a[gr+3],(255&a[At])>>>0<=f>>>0)break;if(0==(0|l)){i=322;break t}l=l-1|0;var yr=o;o=yr+1|0,c=((255&a[yr])<<f)+c|0,f=f+8|0}if(0==(240&a[Lt]|0)){for(a[kt]=a[Dt],a[kt+1]=a[Dt+1],a[kt+2]=a[Dt+2],a[kt+3]=a[Dt+3];;){var Tr=((((1<<(255&a[zt])+(255&a[Ft]))-1&c)>>>((255&a[Nt])>>>0))+(65535&a[Pt])<<2)+a[n+80|0]|0;if(a[Ut]=a[Tr],a[Ut+1]=a[Tr+1],a[Ut+2]=a[Tr+2],a[Ut+3]=a[Tr+3],((255&a[Vt])+(255&a[Bt])|0)>>>0<=f>>>0)break;if(0==(0|l)){i=322;break t}l=l-1|0;var xr=o;o=xr+1|0,c=((255&a[xr])<<f)+c|0,f=f+8|0}c>>>=(255&a[Ot])>>>0,f=f-(255&a[jt])|0;var Rr=n+7108|0;a[Rr]=a[Rr]+(255&a[It])|0}c>>>=(255&a[Gt])>>>0,f=f-(255&a[Wt])|0;var br=n+7108|0;if(a[br]=a[br]+(255&a[Xt])|0,0!=(64&a[qt]|0)){a[e+24|0]=0|p.__str170,a[0|n]=29;continue t}a[n+68|0]=65535&a[Yt],a[n+72|0]=15&a[Kt],a[0|n]=23,i=267}while(0);if(122==i){if(0!=(512&a[n+16|0]|0)){for(var _r=f;!(_r>>>0>=16);){if(0==(0|l)){i=322;break t}l=l-1|0;var wr=o;o=wr+1|0,c=((255&a[wr])<<f)+c|0;var Hr=f+8|0,_r=f=Hr}if((0|c)!=(65535&a[n+24|0]|0)){a[e+24|0]=0|p.__str519,a[0|n]=29;continue}f=c=0}0!=(0|a[n+32|0])&&(a[a[n+32|0]+44|0]=a[n+16|0]>>9&1,a[a[n+32|0]+48|0]=1);var Mr=H(0,0,0);a[n+24|0]=Mr,a[e+48|0]=Mr,a[0|n]=11}else{if(267==i){if(0!=(0|a[n+72|0])){for(;!(f>>>0>=a[n+72|0]>>>0);){if(0==(0|l)){i=322;break t}l=l-1|0;var Sr=o;o=Sr+1|0,c=((255&a[Sr])<<f)+c|0,f=f+8|0}var Cr=n+68|0;a[Cr]=((1<<a[n+72|0])-1&c)+a[Cr]|0,c>>>=a[n+72|0]>>>0,f=f-a[n+72|0]|0;var Ar=n+7108|0;a[Ar]=a[Ar]+a[n+72|0]|0}a[0|n]=24}if(0==(0|h)){i=322;break}m=d-h|0;var Lr=a[n+68|0]>>>0>m>>>0;do{if(Lr){m=a[n+68|0]-m|0;var kr=m>>>0>a[n+44|0]>>>0;do if(kr&&0!=(0|a[n+7104|0])){a[e+24|0]=0|p.__str69,a[0|n]=29;continue t}while(0);var Dr=n;if(m>>>0>a[n+48|0]>>>0?(m=m-a[Dr+48|0]|0,E=a[n+52|0]+(a[n+40|0]-m)|0):E=a[Dr+52|0]+(a[n+48|0]-m)|0,m>>>0<=a[n+64|0]>>>0)break}else E=s+-a[n+68|0]|0;m=a[n+64|0]}while(0);m>>>0>h>>>0&&(m=h),h=h-m|0;var Pr=n+64|0;for(a[Pr]=a[Pr]-m|0;;){var Fr=E;E=Fr+1|0;var zr=a[Fr],Nr=s;s=Nr+1|0,a[Nr]=zr;var Ur=m-1|0;if(m=Ur,0==(0|Ur))break}0==(0|a[n+64|0])&&(a[0|n]=20)}}317==i&&(a[0|n]=28,i=318),318==i&&(g=1),a[e+12|0]=s,a[e+16|0]=h,a[0|e]=o,a[e+4|0]=l,a[n+56|0]=c,a[n+60|0]=f,i=0!=(0|a[n+40|0])?325:26<=a[0|n]>>>0?327:(0|d)!=(0|a[e+16|0])?325:327;do if(325==i&&0!=(0|ae(e,d))){a[0|n]=30,r=-4,i=341;break e}while(0);u=u-a[e+4|0]|0,d=d-a[e+16|0]|0;var Br=e+8|0;a[Br]=a[Br]+u|0;var Vr=e+20|0;a[Vr]=a[Vr]+d|0;var Or=n+28|0;if(a[Or]=a[Or]+d|0,0!=(0|a[n+8|0])&&0!=(0|d)){var jr=a[n+24|0],Ir=a[e+12|0]+-d|0,Gr=d,Wr=0!=(0|a[n+16|0])?H(jr,Ir,Gr):oa(jr,Ir,Gr);a[n+24|0]=Wr,a[e+48|0]=Wr}a[e+44|0]=(0!=(0|a[n+4|0])?64:0)+a[n+60|0]+(11==(0|a[0|n])?128:0)+(19==(0|a[0|n])||14==(0|a[0|n])?256:0)|0,i=0==(0|u)&&0==(0|d)?338:337,337==i&&(i=340),338==i&&0==(0|g)&&(g=-5),r=g,i=341}while(0);return 5==i&&(r=-2),A=t,r}function sb(e){var t;for(t=0;;){a[(t<<2)+e+148|0]=0;var i=t+1|0;if(t=i,(0|i)>=286)break}for(t=0;a[(t<<2)+e+2440|0]=0,t=i=t+1|0,!((0|i)>=30););for(t=0;a[(t<<2)+e+2684|0]=0,t=i=t+1|0,!((0|i)>=19););a[e+1172|0]=1,a[e+5804|0]=0,a[e+5800|0]=0,a[e+5808|0]=0,a[e+5792|0]=0}function ae(e,t){var i,r,n;if(n=a[e+28|0],0==(0|a[n+52|0])?(i=F[a[e+32|0]](a[e+40|0],1<<a[n+36|0],1),a[n+52|0]=i,0!=(0|a[n+52|0])?i=3:(r=1,i=16)):i=3,3==i){if(0==(0|a[n+40|0])&&(a[n+40|0]=1<<a[n+36|0],a[n+48|0]=0,a[n+44|0]=0),i=t-a[e+16|0]|0,i>>>0>=a[n+40|0]>>>0){for(var o=a[e+12|0]+-a[n+40|0]|0,s=a[n+52|0],l=o+a[n+40|0];l>o;o++,s++)a[s]=a[o];a[n+48|0]=0,a[n+44|0]=a[n+40|0]}else{for(r=a[n+40|0]-a[n+48|0]|0,r>>>0>i>>>0&&(r=i),s=a[n+52|0]+a[n+48|0]|0,o=a[e+12|0]+-i|0,l=o+r;l>o;o++,s++)a[s]=a[o];if(i=o=i-r|0,0!=(0|o)){for(r=a[n+52|0],o=a[e+12|0]+-i|0,s=r,l=o+i;l>o;o++,s++)a[s]=a[o];a[n+48|0]=i,a[n+44|0]=a[n+40|0]}else i=n+48|0,a[i]=a[i]+r|0,(0|a[n+48|0])==(0|a[n+40|0])&&(a[n+48|0]=0),a[n+44|0]>>>0>=a[n+40|0]>>>0||(n=n+44|0,a[n]=a[n]+r|0)}r=0}return r}function ia(e){var t;0!=(0|e)&&0!=(0|a[e+28|0])&&0!=(0|a[e+36|0])&&(t=a[e+28|0],0!=(0|a[t+52|0])&&F[a[e+36|0]](a[e+40|0],a[t+52|0]),F[a[e+36|0]](a[e+40|0],a[e+28|0]),a[e+28|0]=0)}function yb(e,t,i,r){if(13<(0|a[e+5820|0])){var n=e+5816|0;a[n]=65535&(65535&a[n]|(65535&r)<<a[e+5820|0]);var n=255&a[e+5816|0],o=e+20|0,s=a[o];a[o]=s+1|0,a[a[e+8|0]+s|0]=n,n=(65535&a[e+5816|0])>>8&255,o=e+20|0,s=a[o],a[o]=s+1|0,a[a[e+8|0]+s|0]=n,a[e+5816|0]=(65535&r)>>16-a[e+5820|0]&65535,r=e+5820|0,a[r]=-13+a[r]|0}else n=e+5816|0,a[n]=65535&(65535&a[n]|(65535&r)<<a[e+5820|0]),r=e+5820|0,a[r]=a[r]+3|0;mc(e,t,i)}function mc(e,t,i){nc(e),a[e+5812|0]=8;var r=e+20|0,n=a[r];a[r]=n+1|0,a[a[e+8|0]+n|0]=255&i,r=e+20|0,n=a[r],a[r]=n+1|0,a[a[e+8|0]+n|0]=(65535&i)>>8&255,r=e+20|0,n=a[r],a[r]=n+1|0,a[a[e+8|0]+n|0]=255&(-1^i),r=e+20|0,n=a[r],a[r]=n+1|0,a[a[e+8|0]+n|0]=(65535&(-1^i))>>8&255,r=i,i=r-1|0,r=0!=(0|r);e:do if(r)for(;;){var n=t,t=n+1|0,n=a[n],o=e+20|0,s=a[o];if(a[o]=s+1|0,a[a[e+8|0]+s|0]=n,n=i,i=n-1|0,0==(0|n))break e}while(0)}function zb(e){if(16==(0|a[e+5820|0])){var t=255&a[e+5816|0],i=e+20|0,r=a[i];a[i]=r+1|0,a[a[e+8|0]+r|0]=t,t=(65535&a[e+5816|0])>>8&255,i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,a[e+5816|0]=0,a[e+5820|0]=0}else 8<=(0|a[e+5820|0])&&(t=255&a[e+5816|0],i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,t=e+5816|0,a[t]=(65535&a[t])>>8&65535,e=e+5820|0,a[e]=a[e]-8|0)}function $b(e){if(13<(0|a[e+5820|0])){var t=e+5816|0;a[t]=65535&(65535&a[t]|2<<a[e+5820|0]);var t=255&a[e+5816|0],i=e+20|0,r=a[i];a[i]=r+1|0,a[a[e+8|0]+r|0]=t,t=(65535&a[e+5816|0])>>8&255,i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,a[e+5816|0]=2>>16-a[e+5820|0]&65535,t=e+5820|0,a[t]=-13+a[t]|0}else t=e+5816|0,a[t]=65535&(65535&a[t]|2<<a[e+5820|0]),t=e+5820|0,a[t]=a[t]+3|0;9<(0|a[e+5820|0])?(t=e+5816|0,a[t]=65535&(65535&a[t]|0<<a[e+5820|0]),t=255&a[e+5816|0],i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,t=(65535&a[e+5816|0])>>8&255,i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,a[e+5816|0]=0>>16-a[e+5820|0]&65535,t=e+5820|0,a[t]=-9+a[t]|0):(t=e+5816|0,a[t]=65535&(65535&a[t]|0<<a[e+5820|0]),t=e+5820|0,a[t]=a[t]+7|0),zb(e),9>(a[e+5812|0]+-a[e+5820|0]+11|0)&&(13<(0|a[e+5820|0])?(t=e+5816|0,a[t]=65535&(65535&a[t]|2<<a[e+5820|0]),t=255&a[e+5816|0],i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,t=(65535&a[e+5816|0])>>8&255,i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,a[e+5816|0]=2>>16-a[e+5820|0]&65535,t=e+5820|0,a[t]=-13+a[t]|0):(t=e+5816|0,a[t]=65535&(65535&a[t]|2<<a[e+5820|0]),t=e+5820|0,a[t]=a[t]+3|0),9<(0|a[e+5820|0])?(t=e+5816|0,a[t]=65535&(65535&a[t]|0<<a[e+5820|0]),t=255&a[e+5816|0],i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,t=(65535&a[e+5816|0])>>8&255,i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t,a[e+5816|0]=0>>16-a[e+5820|0]&65535,t=e+5820|0,a[t]=-9+a[t]|0):(t=e+5816|0,a[t]=65535&(65535&a[t]|0<<a[e+5820|0]),t=e+5820|0,a[t]=a[t]+7|0),zb(e)),a[e+5812|0]=7}function C(e,t,i,r){var n,o,s;s=0,0<(0|a[e+132|0])?(2==(0|a[a[0|e]+44|0])&&(s=Zc(e),a[a[0|e]+44|0]=s),Ab(e,e+2840|0),Ab(e,e+2852|0),s=oc(e),n=(a[e+5800|0]+10|0)>>>3,o=(a[e+5804|0]+10|0)>>>3,n>>>0>=o>>>0&&(n=o)):o=n=i+5|0,n>>>0>=(i+4|0)>>>0?0==(0|t)?t=9:(yb(e,t,i,r),t=19):t=9;e:do if(9==t){i=4==(0|a[e+136|0]);do if(!i&&(0|o)!=(0|n)){o=r+4|0,13<(0|a[e+5820|0])?(n=e+5816|0,a[n]=65535&(65535&a[n]|(65535&o)<<a[e+5820|0]),n=255&a[e+5816|0],t=e+20|0,i=a[t],a[t]=i+1|0,a[a[e+8|0]+i|0]=n,n=(65535&a[e+5816|0])>>8&255,t=e+20|0,i=a[t],a[t]=i+1|0,a[a[e+8|0]+i|0]=n,a[e+5816|0]=(65535&o)>>16-a[e+5820|0]&65535,o=e+5820|0,a[o]=-13+a[o]|0):(n=e+5816|0,a[n]=65535&(65535&a[n]|(65535&o)<<a[e+5820|0]),o=e+5820|0,a[o]=a[o]+3|0),pc(e,a[e+2844|0]+1|0,a[e+2856|0]+1|0,s+1|0),Bb(e,e+148|0,e+2440|0);break e}while(0);if(i=r+2|0,13<(0|a[e+5820|0])){var l=e+5816|0;a[l]=65535&(65535&a[l]|(65535&i)<<a[e+5820|0]);var l=255&a[e+5816|0],h=e+20|0,c=a[h];a[h]=c+1|0,a[a[e+8|0]+c|0]=l,l=(65535&a[e+5816|0])>>8&255,h=e+20|0,c=a[h],a[h]=c+1|0,a[a[e+8|0]+c|0]=l,a[e+5816|0]=(65535&i)>>16-a[e+5820|0]&65535,i=e+5820|0,a[i]=-13+a[i]|0}else l=e+5816|0,a[l]=65535&(65535&a[l]|(65535&i)<<a[e+5820|0]),i=e+5820|0,a[i]=a[i]+3|0;Bb(e,0|Cb,0|qc)}while(0);sb(e),0!=(0|r)&&nc(e)}function Zc(e){var t,i,r,n;r=-201342849;var o=n=0;e:for(;;){if(!(31>=(0|o))){t=6;break}o=0!=(1&r|0);do if(o&&0!=(65535&a[(n<<2)+e+148|0]|0)){i=0,t=16;break e}while(0);n=o=n+1|0,r>>>=1}e:do if(6==t){i=0!=(65535&a[e+184|0]|0);do if(!i&&0==(65535&a[e+188|0]|0)&&0==(65535&a[e+200|0]|0))for(r=n=32;;){if((0|r)>=256){i=0;break e}if(0!=(65535&a[(n<<2)+e+148|0]|0)){i=1;break e}n=r=n+1|0}while(0);i=1}while(0);return i}function Ab(e,t){var i,r,n,o,s,l;i=a[0|t],r=a[0|a[t+8|0]],n=a[a[t+8|0]+12|0],s=-1,a[e+5200|0]=0,a[e+5204|0]=573,o=0,l=(0|n)>(0|o);e:do if(l)for(;;){var h=o;if(0!=(65535&a[(o<<2)+i|0]|0)){s=h;var c=e+5200|0,f=a[c]+1|0;a[c]=f,a[(f<<2)+e+2908|0]=h,a[o+(e+5208)|0]=0}else a[(h<<2)+i+2|0]=0;if(o=o+1|0,(0|o)>=(0|n))break e}while(0);o=2>(0|a[e+5200|0]),h=s;e:do if(o){for(l=h;;)if(2>(0|l)?s=l=s+1|0:l=0,c=e+5200|0,f=a[c]+1|0,a[c]=f,a[(f<<2)+e+2908|0]=l,a[(l<<2)+i|0]=1,a[l+(e+5208)|0]=0,c=e+5800|0,a[c]=a[c]-1|0,0!=(0|r)&&(c=e+5804|0,a[c]=a[c]-(65535&a[(l<<2)+r+2|0])|0),l=s,2<=(0|a[e+5200|0])){var u=l;break e}}else u=h;while(0);a[t+4|0]=u,o=r=a[e+5200]/2|0,r=(0|r)>=1;e:do if(r)for(;;)if(Db(e,i,o),o=u=o-1|0,!((0|u)>=1))break e;while(0);for(l=n;o=a[e+2912|0],n=e+5200|0,r=a[n],a[n]=r-1|0,a[e+2912|0]=a[(r<<2)+e+2908|0],Db(e,i,1),n=a[e+2912|0],r=e+5204|0,u=a[r]-1|0,a[r]=u,a[(u<<2)+e+2908|0]=o,r=e+5204|0,u=a[r]-1|0,a[r]=u,a[(u<<2)+e+2908|0]=n,a[(l<<2)+i|0]=(65535&a[(n<<2)+i|0])+(65535&a[(o<<2)+i|0])&65535,a[l+(e+5208)|0]=((255&a[o+(e+5208)|0]|0)>=(255&a[n+(e+5208)|0]|0)?255&a[o+(e+5208)|0]:255&a[n+(e+5208)|0])+1&255,r=65535&l,a[(n<<2)+i+2|0]=r,a[(o<<2)+i+2|0]=r,n=l,l=n+1|0,a[e+2912|0]=n,Db(e,i,1),!!(2<=(0|a[e+5200|0])););n=a[e+2912|0],o=e+5204|0,r=a[o]-1|0,a[o]=r,a[(r<<2)+e+2908|0]=n,$c(e,t),ad(i,s,e+2876|0)}function oc(e){var t;Eb(e,e+148|0,a[e+2844|0]),Eb(e,e+2440|0,a[e+2856|0]),Ab(e,e+2864|0);for(var i=t=18;(0|i)>=3&&0==(65535&a[((255&a[p._bl_order+t|0])<<2)+e+2686|0]|0);)t=i=t-1|0;
return e=e+5800|0,a[e]=a[e]+3*(t+1)+14|0,t}function Bb(e,t,i){var r,n,o,s,l,h;o=0;var c=0!=(0|a[e+5792|0]);e:do if(c)for(;;){if(r=65535&a[(o<<1)+a[e+5796|0]|0],s=o,o=s+1|0,s=n=255&a[a[e+5784|0]+s|0],0==(0|r))r=65535&a[(s<<2)+t+2|0],s=65535&a[(n<<2)+t|0],(0|a[e+5820|0])>(16-r|0)?(n=e+5816|0,a[n]=65535&(65535&a[n]|(65535&s)<<a[e+5820|0]),n=255&a[e+5816|0],l=e+20|0,h=a[l],a[l]=h+1|0,a[a[e+8|0]+h|0]=n,n=(65535&a[e+5816|0])>>8&255,l=e+20|0,h=a[l],a[l]=h+1|0,a[a[e+8|0]+h|0]=n,a[e+5816|0]=(65535&s)>>16-a[e+5820|0]&65535,s=e+5820|0,a[s]=r-16+a[s]|0):(n=e+5816|0,a[n]=65535&(65535&a[n]|s<<a[e+5820|0]),s=e+5820|0,a[s]=a[s]+r|0);else{if(s=255&a[p.__length_code+s|0],l=65535&a[(s+257<<2)+t+2|0],h=65535&a[(s+257<<2)+t|0],(0|a[e+5820|0])>(16-l|0)){var f=e+5816|0;a[f]=65535&(65535&a[f]|(65535&h)<<a[e+5820|0]);var f=255&a[e+5816|0],u=e+20|0,d=a[u];a[u]=d+1|0,a[a[e+8|0]+d|0]=f,f=(65535&a[e+5816|0])>>8&255,u=e+20|0,d=a[u],a[u]=d+1|0,a[a[e+8|0]+d|0]=f,a[e+5816|0]=(65535&h)>>16-a[e+5820|0]&65535,h=e+5820|0,a[h]=l-16+a[h]|0}else f=e+5816|0,a[f]=65535&(65535&a[f]|h<<a[e+5820|0]),h=e+5820|0,a[h]=a[h]+l|0;l=h=a[(s<<2)+Fb|0],0!=(0|h)&&(n=n-a[(s<<2)+rc|0]|0,s=l,(0|a[e+5820|0])>(16-s|0)?(l=e+5816|0,a[l]=65535&(65535&a[l]|(65535&n)<<a[e+5820|0]),l=255&a[e+5816|0],h=e+20|0,f=a[h],a[h]=f+1|0,a[a[e+8|0]+f|0]=l,l=(65535&a[e+5816|0])>>8&255,h=e+20|0,f=a[h],a[h]=f+1|0,a[a[e+8|0]+f|0]=l,a[e+5816|0]=(65535&n)>>16-a[e+5820|0]&65535,n=e+5820|0,a[n]=s-16+a[n]|0):(l=e+5816|0,a[l]=65535&(65535&a[l]|(65535&n)<<a[e+5820|0]),n=e+5820|0,a[n]=a[n]+s|0)),n=r=s=r-1|0,s=256>s>>>0?255&a[p.__dist_code+n|0]:255&a[p.__dist_code+(n>>>7)+256|0],n=65535&a[(s<<2)+i+2|0],l=65535&a[(s<<2)+i|0],(0|a[e+5820|0])>(16-n|0)?(h=e+5816|0,a[h]=65535&(65535&a[h]|(65535&l)<<a[e+5820|0]),h=255&a[e+5816|0],f=e+20|0,u=a[f],a[f]=u+1|0,a[a[e+8|0]+u|0]=h,h=(65535&a[e+5816|0])>>8&255,f=e+20|0,u=a[f],a[f]=u+1|0,a[a[e+8|0]+u|0]=h,a[e+5816|0]=(65535&l)>>16-a[e+5820|0]&65535,l=e+5820|0,a[l]=n-16+a[l]|0):(h=e+5816|0,a[h]=65535&(65535&a[h]|l<<a[e+5820|0]),l=e+5820|0,a[l]=a[l]+n|0),l=n=a[(s<<2)+sc|0],0!=(0|n)&&(r=r-a[(s<<2)+tc|0]|0,s=l,(0|a[e+5820|0])>(16-s|0)?(n=e+5816|0,a[n]=65535&(65535&a[n]|(65535&r)<<a[e+5820|0]),n=255&a[e+5816|0],l=e+20|0,h=a[l],a[l]=h+1|0,a[a[e+8|0]+h|0]=n,n=(65535&a[e+5816|0])>>8&255,l=e+20|0,h=a[l],a[l]=h+1|0,a[a[e+8|0]+h|0]=n,a[e+5816|0]=(65535&r)>>16-a[e+5820|0]&65535,r=e+5820|0,a[r]=s-16+a[r]|0):(n=e+5816|0,a[n]=65535&(65535&a[n]|(65535&r)<<a[e+5820|0]),r=e+5820|0,a[r]=a[r]+s|0))}if(o>>>0>=a[e+5792|0]>>>0)break e}while(0);i=65535&a[t+1026|0],o=65535&a[t+1024|0],(0|a[e+5820|0])>(16-i|0)?(c=e+5816|0,a[c]=65535&(65535&a[c]|(65535&o)<<a[e+5820|0]),c=255&a[e+5816|0],r=e+20|0,s=a[r],a[r]=s+1|0,a[a[e+8|0]+s|0]=c,c=(65535&a[e+5816|0])>>8&255,r=e+20|0,s=a[r],a[r]=s+1|0,a[a[e+8|0]+s|0]=c,a[e+5816|0]=(65535&o)>>16-a[e+5820|0]&65535,o=e+5820|0,a[o]=i-16+a[o]|0):(c=e+5816|0,a[c]=65535&(65535&a[c]|o<<a[e+5820|0]),o=e+5820|0,a[o]=a[o]+i|0),a[e+5812|0]=65535&a[t+1026|0]}function nc(e){if(8<(0|a[e+5820|0])){var t=255&a[e+5816|0],i=e+20|0,r=a[i];a[i]=r+1|0,a[a[e+8|0]+r|0]=t,t=(65535&a[e+5816|0])>>8&255,i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t}else 0>=(0|a[e+5820|0])||(t=255&a[e+5816|0],i=e+20|0,r=a[i],a[i]=r+1|0,a[a[e+8|0]+r|0]=t);a[e+5816|0]=0,a[e+5820|0]=0}function pc(e,t,i,r){var n,o;if(n=t-257|0,11<(0|a[e+5820|0])){var s=e+5816|0;a[s]=65535&(65535&a[s]|(65535&n)<<a[e+5820|0]),s=255&a[e+5816|0],o=e+20|0;var l=a[o];a[o]=l+1|0,a[a[e+8|0]+l|0]=s,s=(65535&a[e+5816|0])>>8&255,o=e+20|0,l=a[o],a[o]=l+1|0,a[a[e+8|0]+l|0]=s,a[e+5816|0]=(65535&n)>>16-a[e+5820|0]&65535,n=e+5820|0,a[n]=-11+a[n]|0}else s=e+5816|0,a[s]=65535&(65535&a[s]|(65535&n)<<a[e+5820|0]),n=e+5820|0,a[n]=a[n]+5|0;n=i-1|0,11<(0|a[e+5820|0])?(s=e+5816|0,a[s]=65535&(65535&a[s]|(65535&n)<<a[e+5820|0]),s=255&a[e+5816|0],o=e+20|0,l=a[o],a[o]=l+1|0,a[a[e+8|0]+l|0]=s,s=(65535&a[e+5816|0])>>8&255,o=e+20|0,l=a[o],a[o]=l+1|0,a[a[e+8|0]+l|0]=s,a[e+5816|0]=(65535&n)>>16-a[e+5820|0]&65535,n=e+5820|0,a[n]=-11+a[n]|0):(s=e+5816|0,a[s]=65535&(65535&a[s]|(65535&n)<<a[e+5820|0]),n=e+5820|0,a[n]=a[n]+5|0),n=r-4|0,12<(0|a[e+5820|0])?(s=e+5816|0,a[s]=65535&(65535&a[s]|(65535&n)<<a[e+5820|0]),s=255&a[e+5816|0],o=e+20|0,l=a[o],a[o]=l+1|0,a[a[e+8|0]+l|0]=s,s=(65535&a[e+5816|0])>>8&255,o=e+20|0,l=a[o],a[o]=l+1|0,a[a[e+8|0]+l|0]=s,a[e+5816|0]=(65535&n)>>16-a[e+5820|0]&65535,n=e+5820|0,a[n]=-12+a[n]|0):(s=e+5816|0,a[s]=65535&(65535&a[s]|(65535&n)<<a[e+5820|0]),n=e+5820|0,a[n]=a[n]+4|0),n=0,s=(0|r)>(0|n);e:do if(s)for(;;){if(o=65535&a[((255&a[p._bl_order+n|0])<<2)+e+2686|0],13<(0|a[e+5820|0])){l=e+5816|0,a[l]=65535&(65535&a[l]|(65535&o)<<a[e+5820|0]);var l=255&a[e+5816|0],h=e+20|0,c=a[h];a[h]=c+1|0,a[a[e+8|0]+c|0]=l,l=(65535&a[e+5816|0])>>8&255,h=e+20|0,c=a[h],a[h]=c+1|0,a[a[e+8|0]+c|0]=l,a[e+5816|0]=(65535&o)>>16-a[e+5820|0]&65535,o=e+5820|0,a[o]=-13+a[o]|0}else l=e+5816|0,a[l]=65535&(65535&a[l]|o<<a[e+5820|0]),o=e+5820|0,a[o]=a[o]+3|0;if(n=n+1|0,(0|n)>=(0|r))break e}while(0);Gb(e,e+148|0,t-1|0),Gb(e,e+2440|0,i-1|0)}function Gb(e,t,i){var r,n,o,s,l,h,c,f,u,d,p,m,E,v,g,y,T,x,R,b,_;o=-1,l=65535&a[t+2|0],h=0,c=7,f=4,0==(0|l)&&(c=138,f=3),n=0;var w=(0|i)>=(0|n);e:do if(w)for(;;){s=l,l=65535&a[(n+1<<2)+t+2|0];var H=h+1|0;if(h=H,r=(0|c)>(0|H)&&(0|s)==(0|l)?40:5,5==r){var M=(0|f)>(0|h);t:do if(M)for(;;){u=65535&a[(s<<2)+e+2686|0];var S=65535&a[(s<<2)+e+2684|0];if((0|a[e+5820|0])>(16-u|0)){d=S;var C=e+5816|0;a[C]=65535&(65535&a[C]|(65535&d)<<a[e+5820|0]);var A=255&a[e+5816|0],L=e+20|0,k=a[L];a[L]=k+1|0,a[a[e+8|0]+k|0]=A;var D=(65535&a[e+5816|0])>>8&255,P=e+20|0,F=a[P];a[P]=F+1|0,a[a[e+8|0]+F|0]=D,a[e+5816|0]=(65535&d)>>16-a[e+5820|0]&65535;var z=e+5820|0;a[z]=u-16+a[z]|0}else{var N=e+5816|0;a[N]=65535&(65535&a[N]|S<<a[e+5820|0]);var U=e+5820|0;a[U]=a[U]+u|0}var B=h-1|0;if(h=B,0==(0|B))break t}else if(0!=(0|s)){if((0|s)!=(0|o)){p=65535&a[(s<<2)+e+2686|0];var V=65535&a[(s<<2)+e+2684|0];if((0|a[e+5820|0])>(16-p|0)){m=V;var O=e+5816|0;a[O]=65535&(65535&a[O]|(65535&m)<<a[e+5820|0]);var j=255&a[e+5816|0],I=e+20|0,G=a[I];a[I]=G+1|0,a[a[e+8|0]+G|0]=j;var W=(65535&a[e+5816|0])>>8&255,X=e+20|0,q=a[X];a[X]=q+1|0,a[a[e+8|0]+q|0]=W,a[e+5816|0]=(65535&m)>>16-a[e+5820|0]&65535;var Y=e+5820|0;a[Y]=p-16+a[Y]|0}else{var K=e+5816|0;a[K]=65535&(65535&a[K]|V<<a[e+5820|0]);var Z=e+5820|0;a[Z]=a[Z]+p|0}h=h-1|0}E=65535&a[e+2750|0];var Q=65535&a[e+2748|0];if((0|a[e+5820|0])>(16-E|0)){v=Q;var $=e+5816|0;a[$]=65535&(65535&a[$]|(65535&v)<<a[e+5820|0]);var J=255&a[e+5816|0],et=e+20|0,tt=a[et];a[et]=tt+1|0,a[a[e+8|0]+tt|0]=J;var it=(65535&a[e+5816|0])>>8&255,at=e+20|0,rt=a[at];a[at]=rt+1|0,a[a[e+8|0]+rt|0]=it,a[e+5816|0]=(65535&v)>>16-a[e+5820|0]&65535;var nt=e+5820|0;a[nt]=E-16+a[nt]|0}else{var ot=e+5816|0;a[ot]=65535&(65535&a[ot]|Q<<a[e+5820|0]);var st=e+5820|0;a[st]=a[st]+E|0}var lt=h-3|0;if(14<(0|a[e+5820|0])){g=lt;var ht=e+5816|0;a[ht]=65535&(65535&a[ht]|(65535&g)<<a[e+5820|0]);var ct=255&a[e+5816|0],ft=e+20|0,ut=a[ft];a[ft]=ut+1|0,a[a[e+8|0]+ut|0]=ct;var dt=(65535&a[e+5816|0])>>8&255,pt=e+20|0,mt=a[pt];a[pt]=mt+1|0,a[a[e+8|0]+mt|0]=dt,a[e+5816|0]=(65535&g)>>16-a[e+5820|0]&65535;var Et=e+5820|0;a[Et]=-14+a[Et]|0}else{var vt=e+5816|0;a[vt]=65535&(65535&a[vt]|(65535&lt)<<a[e+5820|0]);var gt=e+5820|0;a[gt]=a[gt]+2|0}}else{var yt=e+2684|0;if(10>=(0|h)){y=65535&a[yt+70|0];var Tt=65535&a[e+2752|0];if((0|a[e+5820|0])>(16-y|0)){T=Tt;var xt=e+5816|0;a[xt]=65535&(65535&a[xt]|(65535&T)<<a[e+5820|0]);var Rt=255&a[e+5816|0],bt=e+20|0,_t=a[bt];a[bt]=_t+1|0,a[a[e+8|0]+_t|0]=Rt;var wt=(65535&a[e+5816|0])>>8&255,Ht=e+20|0,Mt=a[Ht];a[Ht]=Mt+1|0,a[a[e+8|0]+Mt|0]=wt,a[e+5816|0]=(65535&T)>>16-a[e+5820|0]&65535;var St=e+5820|0;a[St]=y-16+a[St]|0}else{var Ct=e+5816|0;a[Ct]=65535&(65535&a[Ct]|Tt<<a[e+5820|0]);var At=e+5820|0;a[At]=a[At]+y|0}var Lt=h-3|0;if(13<(0|a[e+5820|0])){x=Lt;var kt=e+5816|0;a[kt]=65535&(65535&a[kt]|(65535&x)<<a[e+5820|0]);var Dt=255&a[e+5816|0],Pt=e+20|0,Ft=a[Pt];a[Pt]=Ft+1|0,a[a[e+8|0]+Ft|0]=Dt;var zt=(65535&a[e+5816|0])>>8&255,Nt=e+20|0,Ut=a[Nt];a[Nt]=Ut+1|0,a[a[e+8|0]+Ut|0]=zt,a[e+5816|0]=(65535&x)>>16-a[e+5820|0]&65535;var Bt=e+5820|0;a[Bt]=-13+a[Bt]|0}else{var Vt=e+5816|0;a[Vt]=65535&(65535&a[Vt]|(65535&Lt)<<a[e+5820|0]);var Ot=e+5820|0;a[Ot]=a[Ot]+3|0}}else{R=65535&a[yt+74|0];var jt=65535&a[e+2756|0];if((0|a[e+5820|0])>(16-R|0)){b=jt;var It=e+5816|0;a[It]=65535&(65535&a[It]|(65535&b)<<a[e+5820|0]);var Gt=255&a[e+5816|0],Wt=e+20|0,Xt=a[Wt];a[Wt]=Xt+1|0,a[a[e+8|0]+Xt|0]=Gt;var qt=(65535&a[e+5816|0])>>8&255,Yt=e+20|0,Kt=a[Yt];a[Yt]=Kt+1|0,a[a[e+8|0]+Kt|0]=qt,a[e+5816|0]=(65535&b)>>16-a[e+5820|0]&65535;var Zt=e+5820|0;a[Zt]=R-16+a[Zt]|0}else{var Qt=e+5816|0;a[Qt]=65535&(65535&a[Qt]|jt<<a[e+5820|0]);var $t=e+5820|0;a[$t]=a[$t]+R|0}var Jt=h-11|0;if(9<(0|a[e+5820|0])){_=Jt;var ei=e+5816|0;a[ei]=65535&(65535&a[ei]|(65535&_)<<a[e+5820|0]);var ti=255&a[e+5816|0],ii=e+20|0,ai=a[ii];a[ii]=ai+1|0,a[a[e+8|0]+ai|0]=ti;var ri=(65535&a[e+5816|0])>>8&255,ni=e+20|0,oi=a[ni];a[ni]=oi+1|0,a[a[e+8|0]+oi|0]=ri,a[e+5816|0]=(65535&_)>>16-a[e+5820|0]&65535;var si=e+5820|0;a[si]=-9+a[si]|0}else{var li=e+5816|0;a[li]=65535&(65535&a[li]|(65535&Jt)<<a[e+5820|0]);var hi=e+5820|0;a[hi]=a[hi]+7|0}}}while(0);h=0,o=s,0==(0|l)?(c=138,f=3):(0|s)==(0|l)?(c=6,f=3):(c=7,f=4)}if(n=n+1|0,!((0|i)>=(0|n)))break e}while(0)}function Eb(e,t,i){var r,n,o,s,l,h,c,f;o=-1,l=65535&a[t+2|0],h=0,c=7,f=4,0==(0|l)&&(c=138,f=3),a[(i+1<<2)+t+2|0]=-1,n=0;var u=(0|i)>=(0|n);e:do if(u)for(;;)if(s=l,l=65535&a[(n+1<<2)+t+2|0],h=r=h+1|0,r=(0|c)>(0|r)&&(0|s)==(0|l)?19:5,5==r&&((0|f)>(0|h)?(o=(s<<2)+e+2684|0,a[o]=(65535&a[o])+h&65535):(0!=(0|s)?((0|s)!=(0|o)&&(h=(s<<2)+e+2684|0,a[h]=a[h]+1&65535),h=e+2748|0):(o=e+2684|0,h=10>=(0|h)?o+68|0:o+72|0),a[h]=a[h]+1&65535),h=0,o=s,0==(0|l)?(c=138,f=3):(0|s)==(0|l)?(c=6,f=3):(c=7,f=4)),n=n+1|0,!((0|i)>=(0|n)))break e;while(0)}function Db(e,t,i){var r,n;for(r=a[(i<<2)+e+2908|0],n=i<<1;(0|n)<=(0|a[e+5200|0]);){var o=(0|n)<(0|a[e+5200|0]);do if(o){if((65535&a[(a[(n+1<<2)+e+2908|0]<<2)+t|0]|0)>=(65535&a[(a[(n<<2)+e+2908|0]<<2)+t|0]|0)){if((65535&a[(a[(n+1<<2)+e+2908|0]<<2)+t|0]|0)!=(65535&a[(a[(n<<2)+e+2908|0]<<2)+t|0]|0))break;if(!((255&a[e+a[(n+1<<2)+e+2908|0]+5208|0]|0)<=(255&a[e+a[(n<<2)+e+2908|0]+5208|0]|0)))break}n=n+1|0}while(0);if((65535&a[(r<<2)+t|0]|0)<(65535&a[(a[(n<<2)+e+2908|0]<<2)+t|0]|0))break;if((65535&a[(r<<2)+t|0]|0)==(65535&a[(a[(n<<2)+e+2908|0]<<2)+t|0]|0)&&(255&a[r+(e+5208)|0]|0)<=(255&a[e+a[(n<<2)+e+2908|0]+5208|0]|0))break;a[(i<<2)+e+2908|0]=a[(n<<2)+e+2908|0],i=n,n<<=1}a[(i<<2)+e+2908|0]=r}function $c(e,t){var i,r,n,o,s,l,h,c,f,u,d,p;for(i=a[0|t],r=a[t+4|0],n=a[0|a[t+8|0]],o=a[a[t+8|0]+4|0],s=a[a[t+8|0]+8|0],l=a[a[t+8|0]+16|0],f=p=0;a[(f<<1)+e+2876|0]=0,f=h=f+1|0,!!(15>=(0|h)););a[(a[(a[e+5204|0]<<2)+e+2908|0]<<2)+i+2|0]=0,h=f=a[e+5204|0]+1|0;var m=573>(0|f);e:do if(m)for(;;){if(c=a[(h<<2)+e+2908|0],f=(65535&a[((65535&a[(c<<2)+i+2|0])<<2)+i+2|0])+1|0,(0|f)>(0|l)&&(f=l,p=p+1|0),a[(c<<2)+i+2|0]=65535&f,!((0|c)>(0|r))){u=(f<<1)+e+2876|0,a[u]=a[u]+1&65535,u=0,(0|c)>=(0|s)&&(u=a[(c-s<<2)+o|0]),d=a[(c<<2)+i|0];var E=e+5800|0;a[E]=a[E]+(u+f)*(65535&d)|0,0!=(0|n)&&(f=e+5804|0,a[f]=a[f]+((65535&a[(c<<2)+n+2|0])+u)*(65535&d)|0)}if(h=f=h+1|0,(0|f)>=573)break e}while(0);n=0==(0|p);e:do if(!n){for(;;){f=l-1|0,c=0==(65535&a[(f<<1)+e+2876|0]|0),o=f;t:do if(c){for(s=o;;)if(s=f=s-1|0,0!=(65535&a[(f<<1)+e+2876|0]|0)){var v=s;break t}}else v=o;while(0);if(c=(v<<1)+e+2876|0,a[c]=a[c]-1&65535,f=(f+1<<1)+e+2876|0,a[f]=(65535&a[f])+2&65535,f=(l<<1)+e+2876|0,a[f]=a[f]-1&65535,p=f=p-2|0,0>=(0|f))break}if(f=c=l,0!=(0|c))for(;;){c=o=65535&a[(f<<1)+e+2876|0],o=0!=(0|o);t:do if(o)for(;;)if(h=s=h-1|0,s=a[(s<<2)+e+2908|0],(0|s)>(0|r)?s=c:((65535&a[(s<<2)+i+2|0]|0)!=(0|f)&&(m=e+5800|0,a[m]=a[m]+(65535&a[(s<<2)+i|0])*(f-(65535&a[(s<<2)+i+2|0]))|0,a[(s<<2)+i+2|0]=65535&f),c=s=c-1|0),0==(0|s))break t;while(0);if(f=c=f-1|0,0==(0|c))break e}}while(0)}function ad(e,t,i){var r=A;A+=32;var n,o;for(n=0,o=1;;){var s=(65535&a[(o-1<<1)+i|0])+(65535&n)<<1&65535;if(n=s,a[(o<<1)+r|0]=s,o=s=o+1|0,!(15>=(0|s)))break}i=0,n=(0|t)>=(0|i);e:do if(n)for(;;){if(o=s=65535&a[(i<<2)+e+2|0],0!=(0|s)){var l=(o<<1)+r|0,s=a[l];a[l]=s+1&65535;for(var h=l=void 0,c=void 0,l=65535&s,h=o,c=0;c|=1&l,l>>>=1,c<<=1,h=o=h-1|0,!(0>=(0|o)););a[(i<<2)+e|0]=c>>>1&65535}if(i=i+1|0,!((0|t)>=(0|i)))break e}while(0);A=r}function oa(e,t,i){var r,n,o;n=i;var i=e>>>16&65535,e=65535&e,s=t;if(1==(0|n))e=e+(255&a[0|s])|0,e>>>0>=65521&&(e=e-65521|0),i=t=i+e|0,t>>>0>=65521&&(i=i-65521|0),e|=i<<16;else if(0==(0|s))e=1;else{if(s=n,16>s>>>0){n=s-1|0;var l=0!=(0|s);e:do if(l)for(;;)if(o=t,t=o+1|0,e=e+(255&a[o])|0,i=i+e|0,o=n,n=o-1|0,0==(0|o))break e;while(0);e>>>0>=65521&&(e=e-65521|0),i=(i>>>0)%65521}else{var h=s>>>0>=5552;do if(h){for(r=s;;){for(n=r-5552|0,o=347;e=e+(255&a[0|t])|0,i=i+e|0,e=e+(255&a[t+1|0])|0,i=i+e|0,e=e+(255&a[t+2|0])|0,i=i+e|0,e=e+(255&a[t+3|0])|0,i=i+e|0,e=e+(255&a[t+4|0])|0,i=i+e|0,e=e+(255&a[t+5|0])|0,i=i+e|0,e=e+(255&a[t+6|0])|0,i=i+e|0,e=e+(255&a[t+7|0])|0,i=i+e|0,e=e+(255&a[t+8|0])|0,i=i+e|0,e=e+(255&a[t+9|0])|0,i=i+e|0,e=e+(255&a[t+10|0])|0,i=i+e|0,e=e+(255&a[t+11|0])|0,i=i+e|0,e=e+(255&a[t+12|0])|0,i=i+e|0,e=e+(255&a[t+13|0])|0,i=i+e|0,e=e+(255&a[t+14|0])|0,i=i+e|0,e=e+(255&a[t+15|0])|0,i=i+e|0,t=t+16|0,o=r=o-1|0,!(0==(0|r)););if(e=(e>>>0)%65521,i=(i>>>0)%65521,o=n,!(o>>>0>=5552))break;r=o}r=0!=(0|o)?19:24}else r=19;while(0);if(19==r){o=n,s=o>>>0>=16;e:do if(s){for(;;)if(n=n-16|0,e=e+(255&a[0|t])|0,i=i+e|0,e=e+(255&a[t+1|0])|0,i=i+e|0,e=e+(255&a[t+2|0])|0,i=i+e|0,e=e+(255&a[t+3|0])|0,i=i+e|0,e=e+(255&a[t+4|0])|0,i=i+e|0,e=e+(255&a[t+5|0])|0,i=i+e|0,e=e+(255&a[t+6|0])|0,i=i+e|0,e=e+(255&a[t+7|0])|0,i=i+e|0,e=e+(255&a[t+8|0])|0,i=i+e|0,e=e+(255&a[t+9|0])|0,i=i+e|0,e=e+(255&a[t+10|0])|0,i=i+e|0,e=e+(255&a[t+11|0])|0,i=i+e|0,e=e+(255&a[t+12|0])|0,i=i+e|0,e=e+(255&a[t+13|0])|0,i=i+e|0,e=e+(255&a[t+14|0])|0,i=i+e|0,e=e+(255&a[t+15|0])|0,i=i+e|0,t=t+16|0,h=n,!(h>>>0>=16)){l=h;break e}}else l=o;while(0);n=l-1|0,l=0!=(0|l);e:do if(l)for(;;)if(o=t,t=o+1|0,e=e+(255&a[o])|0,i=i+e|0,o=n,n=o-1|0,0==(0|o))break e;while(0);e=(e>>>0)%65521,i=(i>>>0)%65521}}e|=i<<16}return e}function uc(e,t,i){for(var e=-1^e,r=i;0!=(0|r)&&0!=(3&t|0);)r=t,t=r+1|0,e=e>>>8^a[((255&(255&a[r]^e))<<2)+n|0],i=r=i-1|0;var r=i,o=r>>>0>=32;e:do if(o)for(;;){var s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],s=t,t=s+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],i=s=i-32|0;if(!(s>>>0>=32)){var l=s;break e}}else l=r;while(0);l=l>>>0>=4,r=t;e:do if(l)for(o=r;;){if(t=o+4|0,e^=a[o],e=a[((e>>>8&255)<<2)+n+2048|0]^a[((255&e)<<2)+n+3072|0]^a[((e>>>16&255)<<2)+n+1024|0]^a[(e>>>24<<2)+n|0],i=o=i-4|0,!(o>>>0>=4)){var h=t,c=o;break e}o=t}else h=r,c=i;while(0);t=h,h=0!=(0|c);e:do if(h)for(;;)if(c=t,t=c+1|0,e=e>>>8^a[((255&(255&a[c]^e))<<2)+n|0],i=c=i-1|0,0==(0|c))break e;while(0);return-1^e}function H(e,t,i){var r=A;return A+=4,0==(0|t)?e=0:(a[r]=1,e=0!=a[r]<<24>>24?uc(e,t,i):bd(e,t,i)),A=r,e}function bd(e,t,i){for(var e=-1^(((65280&e)<<8)+((255&e)<<24)+(e>>>8&65280)+(e>>>24&255)|0),r=i;0!=(0|r)&&0!=(3&t|0);)r=t,t=r+1|0,e=e<<8^a[((255&a[r]^e>>>24)<<2)+n+4096|0],i=r=i-1|0;var t=t-4|0,r=i,o=r>>>0>=32;e:do if(o)for(;;){var s=t+4|0,t=s,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],t=s=t+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],t=s=t+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],t=s=t+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],t=s=t+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],t=s=t+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],t=s=t+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],t=s=t+4|0,e=e^a[s],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],i=s=i-32|0;if(!(s>>>0>=32)){var l=s;break e}}else l=r;while(0);l=l>>>0>=4,t=r=t+4|0;e:do if(l)for(o=r;;){if(e^=a[o],e=a[((e>>>8&255)<<2)+n+5120|0]^a[((255&e)<<2)+n+4096|0]^a[((e>>>16&255)<<2)+n+6144|0]^a[(e>>>24<<2)+n+7168|0],i=o=i-4|0,t=s=t+4|0,!(o>>>0>=4)){var h=o;break e}o=s}else h=i;while(0);h=0!=(0|h);e:do if(h)for(;;)if(l=t,t=l+1|0,e=e<<8^a[((255&a[l]^e>>>24)<<2)+n+4096|0],i=l=i-1|0,0==(0|l))break e;while(0);return e^=-1,((65280&e)<<8)+((255&e)<<24)+(e>>>8&65280)+(e>>>24&255)|0}function Rc(e,t,i,r,n,o){var s=A;A+=68;var l,h,c,f,u,d,p,m,E,v,g,y,T,x,R,b,_=s+4,w=s+36;for(h=0;a[(h<<1)+_|0]=0,h=d=h+1|0,!!(15>=d>>>0););c=0,d=i>>>0>c>>>0;e:do if(d)for(;;)if(u=((65535&a[(c<<1)+t|0])<<1)+_|0,a[u]=a[u]+1&65535,c=c+1|0,c>>>0>=i>>>0)break e;while(0);for(d=a[n],h=u=15;h>>>0>=1&&0==(65535&a[(u<<1)+_|0]|0);)u=h=u-1|0;h=u,d>>>0>h>>>0&&(d=h=u);var H=0==(0|h);e:do if(H)a[0|s]=64,a[s+1|0]=1,a[s+2|0]=0,h=r,f=a[h],a[h]=f+4|0,h=f,f=s,a[h]=a[f],a[h+1]=a[f+1],a[h+2]=a[f+2],a[h+3]=a[f+3],h=r,f=a[h],a[h]=f+4|0,h=f,f=s,a[h]=a[f],a[h+1]=a[f+1],a[h+2]=a[f+2],a[h+3]=a[f+3],a[n]=1,h=0;else{for(f=1;!(f>>>0>=u>>>0)&&0==(65535&a[(f<<1)+_|0]|0);)f=f+1|0;for(f>>>0>d>>>0&&(d=f),m=v=h=1;15>=v>>>0;){if(E=m<<1,E=E-(65535&a[(h<<1)+_|0])|0,0>(0|E)){h=-1;break e}h=v=h+1|0,m=E}h=(0|m)>0;do if(h&&(0==(0|e)||1!=(0|u))){h=-1;break e}while(0);for(a[w+2|0]=0,h=1;a[(h+1<<1)+w|0]=(65535&a[(h<<1)+_|0])+(65535&a[(h<<1)+w|0])&65535,h=v=h+1|0,!(v>>>0>=15););c=0,h=i>>>0>c>>>0;t:do if(h)for(;;)if(0!=(65535&a[(c<<1)+t|0]|0)&&(v=((65535&a[(c<<1)+t|0])<<1)+w|0,m=a[v],a[v]=m+1&65535,a[((65535&m)<<1)+o|0]=65535&c),c=c+1|0,c>>>0>=i>>>0)break t;while(0);if(h=e,0==h?(x=R=h=o,b=19):1==h?(x=0|vc,x=x-514|0,R=0|cd,R=R-514|0,b=256):(x=0|wc,R=0|dd,b=-1),c=g=0,h=f,T=a[r],p=d,m=0,E=-1,v=1<<d,y=v-1|0,f=e,1==(0|f))if(v>>>0>=852)l=43;else{var M=e;l=40}else M=f,l=40;do if(40==l&&!(2==(0|M)&&v>>>0>=592)){var w=s+1|0,M=0|s,H=s+2|0,S=s,C=0|s,L=s+2|0,k=0|s,D=s+2|0;t:for(;;){for(a[w]=h-m&255,(65535&a[(c<<1)+o|0]|0)<(0|b)?(a[M]=0,a[H]=a[(c<<1)+o|0]):(65535&a[(c<<1)+o|0]|0)>(0|b)?(a[C]=255&a[((65535&a[(c<<1)+o|0])<<1)+R|0],a[L]=a[((65535&a[(c<<1)+o|0])<<1)+x|0]):(a[k]=96,a[D]=0),i=1<<h-m,f=l=1<<p;;){l=l-i|0;var P=((g>>>(m>>>0))+l<<2)+T|0;if(a[P]=a[S],a[P+1]=a[S+1],a[P+2]=a[S+2],a[P+3]=a[S+3],0==(0|l))break}var i=P=1<<h-1,F=0!=(g&P|0);do if(F){for(l=P;;){var z=l>>>1,i=z;if(0==(g&z|0))break;l=z}0!=(0|z)?l=54:(g=0,l=56)}else l=54;while(0);if(54==l&&(g&=i-1,g=g+i|0),c=c+1|0,i=(h<<1)+_|0,l=a[i]-1&65535,a[i]=l,0==(65535&l|0)){if((0|h)==(0|u))break;h=65535&a[((65535&a[(c<<1)+o|0])<<1)+t|0]}if(!(d>>>0>=h>>>0)&&(y&g|0)!=(0|E)){for(0==(0|m)&&(m=d),T=(f<<2)+T|0,p=h-m|0,E=1<<p;!((m+p|0)>>>0>=u>>>0)&&(E=E-(65535&a[(m+p<<1)+_|0])|0,!(0>=(0|E)));)p=p+1|0,E<<=1;if(v=(1<<p)+v|0,i=e,1==(0|i))if(v>>>0>=852)l=72;else{var N=e;l=70}else N=i,l=70;do if(70==l&&!(2==(0|N)&&v>>>0>=592)){E=y&g,a[(E<<2)+a[r]|0]=255&p,a[(E<<2)+a[r]+1|0]=255&d,a[(E<<2)+a[r]+2|0]=(T-a[r])/4&65535;continue t}while(0);h=1;break e}}a[0|s]=64,a[s+1|0]=h-m&255,a[s+2|0]=0,e=0!=(0|g);t:do if(e){for(t=s+1|0,o=s;;){if(0!=(0|m)&&(y&g|0)!=(0|E)&&(m=0,h=d,T=a[r],a[t]=255&h),_=(g>>>(m>>>0)<<2)+T|0,a[_]=a[o],a[_+1]=a[o+1],a[_+2]=a[o+2],a[_+3]=a[o+3],i=_=1<<h-1,0!=(g&_|0)){for(;;){var U=_>>>1,i=U;if(0==(g&U|0))break;_=U}if(0==(0|U))break}if(g&=i-1,g=_=g+i|0,0==(0|_))break t}g=0}while(0);a[r]=(v<<2)+a[r]|0,a[n]=d,h=0;break e}while(0);h=1}while(0);return A=s,h}function Cd(e,t){var i=A;A+=4;var r,n,o,s,l,h,c,f,u,d,m,E,v,g,y,T,x,R,b,_,w;n=a[e+28|0],o=a[0|e]-1|0,s=o+(a[e+4|0]-5)|0,l=a[e+12|0]-1|0,h=l+-(t+-a[e+16|0])|0,c=l+(a[e+16|0]-257)|0,f=a[n+40|0],u=a[n+44|0],d=a[n+48|0],m=a[n+52|0],E=a[n+56|0],v=a[n+60|0],g=a[n+76|0],y=a[n+80|0],T=(1<<a[n+84|0])-1|0,x=(1<<a[n+88|0])-1|0;var H=i+1|0,M=0|i,S=i+2|0,C=i+2|0,L=i+2|0,k=i+1|0,D=0|i,P=i+2|0,F=i+2|0;e:for(;;){if(15>v>>>0){var z=o+1|0;o=z,E=((255&a[z])<<v)+E|0,v=v+8|0;var N=o+1|0;o=N,E=((255&a[N])<<v)+E|0,v=v+8|0}var U=((T&E)<<2)+g|0;for(a[i]=a[U],a[i+1]=a[U+1],a[i+2]=a[U+2],a[i+3]=a[U+3];;){R=255&a[H],E>>>=R>>>0,v=v-R|0;var B=255&a[M];if(R=B,0==(0|B)){var V=255&a[C],O=l+1|0;l=O,a[O]=V,r=59;break}if(0!=(16&R|0)){r=7;break}if(0!=(64&R|0)){if(0!=(32&R|0)){a[0|n]=11;break e}a[e+24|0]=0|p.__str271,a[0|n]=29;break e}var j=(((1<<R)-1&E)+(65535&a[S])<<2)+g|0;a[i]=a[j],a[i+1]=a[j+1],a[i+2]=a[j+2],a[i+3]=a[j+3]}do if(7==r){b=65535&a[L],R&=15;var I=v;if(0!=(0|R)){if(R>>>0>I>>>0){var G=o+1|0;o=G,E=((255&a[G])<<v)+E|0,v=v+8|0}b=((1<<R)-1&E)+b|0,E>>>=R>>>0;var W=v-R|0,X=v=W}else X=I;if(15>X>>>0){var q=o+1|0;o=q,E=((255&a[q])<<v)+E|0,v=v+8|0;var Y=o+1|0;o=Y,E=((255&a[Y])<<v)+E|0,v=v+8|0}var K=((x&E)<<2)+y|0;for(a[i]=a[K],a[i+1]=a[K+1],a[i+2]=a[K+2],a[i+3]=a[K+3];R=255&a[k],E>>>=R>>>0,v=v-R|0,R=255&a[D],0==(16&R|0);){if(0!=(64&R|0)){a[e+24|0]=0|p.__str170,a[0|n]=29;break e}var Z=(((1<<R)-1&E)+(65535&a[P])<<2)+y|0;a[i]=a[Z],a[i+1]=a[Z+1],a[i+2]=a[Z+2],a[i+3]=a[Z+3]}if(_=65535&a[F],R&=15,R>>>0>v>>>0){var Q=o+1|0;if(o=Q,E=((255&a[Q])<<v)+E|0,v=v+8|0,!(v>>>0>=R>>>0)){var $=o+1|0;o=$,E=((255&a[$])<<v)+E|0,v=v+8|0}}if(_=((1<<R)-1&E)+_|0,E>>>=R>>>0,v=v-R|0,R=l-h|0,_>>>0>R>>>0){R=_-R|0;var J=R>>>0>u>>>0;do if(J&&0!=(0|a[n+7104|0])){a[e+24|0]=0|p.__str69,a[0|n]=29;break e}while(0);w=m-1|0;var et=0==(0|d);do if(et){w=w+(f-R)|0;var tt=b;if(R>>>0>=tt>>>0){var it=tt;r=40}else{for(b=b-R|0;;){var at=w+1|0;w=at;var rt=a[at],nt=l+1|0;l=nt,a[nt]=rt;var ot=R-1|0;if(R=ot,0==(0|ot))break}w=l+-_|0,r=39}}else if(R>>>0>d>>>0){w=w+d+f+-R|0,R=R-d|0;var st=b;if(R>>>0>=st>>>0)it=st,r=40;else{for(b=b-R|0;;){var lt=w+1|0;w=lt;var ht=a[lt],ct=l+1|0;l=ct,a[ct]=ht;var ft=R-1|0;if(R=ft,0==(0|ft))break}w=m-1|0;var ut=b;if(d>>>0>=ut>>>0)it=ut,r=40;else{for(R=d,b=b-R|0;;){var dt=w+1|0;w=dt;var pt=a[dt],mt=l+1|0;l=mt,a[mt]=pt;var Et=R-1|0;if(R=Et,0==(0|Et))break}w=l+-_|0,r=39}}}else{w=w+(d-R)|0;var vt=b;if(R>>>0>=vt>>>0)it=vt,r=40;else{for(b=b-R|0;;){var gt=w+1|0;w=gt;var yt=a[gt],Tt=l+1|0;l=Tt,a[Tt]=yt;var xt=R-1|0;if(R=xt,0==(0|xt))break}w=l+-_|0,r=39}}while(0);39==r&&(it=b);var Rt=it>>>0>2;t:do if(Rt)for(;;){var bt=w+1|0;w=bt;var _t=a[bt],wt=l+1|0;l=wt,a[wt]=_t;var Ht=w+1|0;w=Ht;var Mt=a[Ht],St=l+1|0;l=St,a[St]=Mt;var Ct=w+1|0;w=Ct;var At=a[Ct],Lt=l+1|0;l=Lt,a[Lt]=At;var kt=b-3|0;if(b=kt,2>=kt>>>0){var Dt=kt;break t}}else Dt=b;while(0);if(0!=(0|Dt)){var Pt=w+1|0;w=Pt;var Ft=a[Pt],zt=l+1|0;if(l=zt,a[zt]=Ft,!(1>=b>>>0)){var Nt=w+1|0;w=Nt;var Ut=a[Nt],Bt=l+1|0;l=Bt,a[Bt]=Ut}}}else{for(w=l+-_|0;;){var Vt=w+1|0;w=Vt;var Ot=a[Vt],jt=l+1|0;l=jt,a[jt]=Ot;var It=w+1|0;w=It;var Gt=a[It],Wt=l+1|0;l=Wt,a[Wt]=Gt;var Xt=w+1|0;w=Xt;var qt=a[Xt],Yt=l+1|0;l=Yt,a[Yt]=qt;var Kt=b-3|0;if(b=Kt,2>=Kt>>>0)break}if(0!=(0|b)){var Zt=w+1|0;w=Zt;var Qt=a[Zt],$t=l+1|0;if(l=$t,a[$t]=Qt,!(1>=b>>>0)){var Jt=w+1|0;w=Jt;var ei=a[Jt],ti=l+1|0;l=ti,a[ti]=ei}}}}while(0);if(o>>>0>=s>>>0)break;if(l>>>0>=c>>>0)break}b=v>>>3,o=o+-b|0,v=v-(b<<3)|0,E&=(1<<v)-1,a[0|e]=o+1|0,a[e+12|0]=l+1|0,a[e+4|0]=s>>>0>o>>>0?s+-o+5|0:-o+- -s+5|0,a[e+16|0]=c>>>0>l>>>0?c+-l+257|0:-l+- -c+257|0,a[n+56|0]=E,a[n+60|0]=v,A=i}function gb(e){var t,i,r,n,o,s,l;o=244>=e>>>0;do{if(o){if(r=11>e>>>0?16:e+11&-8,t=r>>>3,n=a[0|m]>>>(t>>>0),0!=(3&n|0)){if(t=t+(1&(-1^n))|0,i=(t<<3)+m+40|0,e=a[i+8|0],o=a[e+8|0],(0|i)==(0|o))a[0|m]&=1<<t^-1;else{if(0==(1==(o>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[i+8|0]=o,a[o+12|0]=i}a[e+4|0]=t<<3|3,i=(t<<3)+e+4|0,a[i]|=1,i=e+8|0,t=39;break}if(r>>>0<=a[m+8|0]>>>0){t=31;break}if(0!=(0|n)){if(e=(-(1<<t<<1)|1<<t<<1)&n<<t,e&=-e,e=e-1|0,t=i=e>>>12&16,e>>>=i>>>0,i=o=e>>>5&8,t=o+t|0,e>>>=i>>>0,i=o=e>>>2&4,t=o+t|0,e>>>=i>>>0,i=o=e>>>1&2,t=o+t|0,e>>>=i>>>0,i=o=e>>>1&1,t=o+t|0,e>>>=i>>>0,t=e+t|0,i=(t<<3)+m+40|0,e=a[i+8|0],o=a[e+8|0],(0|i)==(0|o))a[0|m]&=1<<t^-1;else{if(0==(1==(o>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[i+8|0]=o,a[o+12|0]=i}if(t=(t<<3)-r|0,a[e+4|0]=3|r,i=e+r|0,a[i+4|0]=1|t,a[i+t|0]=t,n=o=a[m+8|0],0!=(0|o)){if(o=a[m+20|0],n>>>=3,l=s=(n<<3)+m+40|0,0!=(1<<n&a[0|m]|0)){if(0==(1==(a[s+8|0]>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";l=a[s+8|0]}else a[0|m]|=1<<n;a[s+8|0]=o,a[l+12|0]=o,a[o+8|0]=l,a[o+12|0]=s}a[m+8|0]=t,a[m+20|0]=i,i=e+8|0,t=39;break}if(0==(0|a[m+4|0])){t=31;break}t=ed(r)}else{if(e>>>0>=4294967232){r=-1,t=31;break}if(r=e+11&-8,0==(0|a[m+4|0])){t=31;break}t=fd(r)}if(i=t,0!=(0|t)){t=39;break}t=31}while(0);return 31==t&&(r>>>0<=a[m+8|0]>>>0?(i=a[m+8|0]-r|0,e=a[m+20|0],i>>>0>=16?(t=e+r|0,a[m+20|0]=t,a[m+8|0]=i,a[t+4|0]=1|i,a[t+i|0]=i,a[e+4|0]=3|r):(r=a[m+8|0],a[m+8|0]=0,a[m+20|0]=0,a[e+4|0]=3|r,r=r+(e+4)|0,a[r]|=1),i=e+8|0):(e=r,r>>>0<a[m+12|0]>>>0?(i=a[m+12|0]-e|0,a[m+12|0]=i,e=a[m+24|0],t=e+r|0,a[m+24|0]=t,a[t+4|0]=1|i,a[e+4|0]=3|r,i=e+8|0):i=xc(e))),i}function ed(e){var t,i,r,n,o,s,l,h,c;for(t=m,r=(-a[t+4|0]&a[t+4|0])-1|0,n=i=r>>>12&16,r>>>=i>>>0,i=r>>>5&8,r>>>=i>>>0,o=r>>>2&4,r>>>=o>>>0,s=r>>>1&2,r>>>=s>>>0,c=r>>>1&1,i=r=a[(((r>>>(c>>>0))+(c+(s+(o+(i+n|0)|0)|0)|0)|0)<<2)+t+304|0],n=(-8&a[i+4|0])-e|0;o=i+16|0,i=o=0!=(0|a[i+16|0])?a[0|o]:a[o+4|0],0!=(0|o);)o=(-8&a[i+4|0])-e|0,o>>>0>=n>>>0||(n=o,r=i);o=0!=(1==(r>>>0>=a[t+16|0]>>>0&1)|0);do if(o&&(i=r+e|0,0!=(1==(i>>>0>r>>>0&1)|0))){s=a[r+24|0],c=(0|a[r+12|0])!=(0|r);var f=r;do if(c){if(l=a[f+8|0],o=a[r+12|0],0==(1==(l>>>0>=a[t+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[l+12|0]=o,a[o+8|0]=l}else{if(l=o=f+20|0,o=h=a[o],0==(0|h)&&(l=o=r+16|0,o=h=a[o],0==(0|h)))break;for(;;){var u=o+20|0;if(h=u,0==(0|a[u])&&(h=u=o+16|0,0==(0|a[u])))break;l=o=h,o=a[o]}if(0==(1==(l>>>0>=a[t+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[l]=0}while(0);if(0!=(0|s)){if(c=(a[r+28|0]<<2)+t+304|0,(0|r)==(0|a[c]))f=o,a[c]=f,0==(0|f)&&(c=t+4|0,a[c]&=1<<a[r+28|0]^-1);else{if(0==(1==(s>>>0>=a[t+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";c=o,f=s+16|0,(0|a[s+16|0])==(0|r)?a[0|f]=c:a[f+4|0]=c}if(0!=(0|o)){if(0==(1==(o>>>0>=a[t+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";if(a[o+24|0]=s,s=c=a[r+16|0],0!=(0|c)){if(0==(1==(s>>>0>=a[t+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[o+16|0]=s,a[s+24|0]=o}if(s=c=a[r+20|0],0!=(0|c)){if(0==(1==(s>>>0>=a[t+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[o+20|0]=s,a[s+24|0]=o}}}if(16>n>>>0)a[r+4|0]=e+n|3,t=n+(e+(r+4))|0,a[t]|=1;else{if(a[r+4|0]=3|e,a[i+4|0]=1|n,a[i+n|0]=n,o=a[t+8|0],0!=(0|o)){if(e=a[t+20|0],o>>>=3,c=s=(o<<3)+t+40|0,0!=(1<<o&a[0|t]|0)){if(0==(1==(a[s+8|0]>>>0>=a[t+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";c=a[s+8|0]}else f=0|t,a[f]|=1<<o;a[s+8|0]=e,a[c+12|0]=e,a[e+8|0]=c,a[e+12|0]=s}a[t+8|0]=n,a[t+20|0]=i}return r+8|0}while(0);throw y(),"Reached an unreachable!"}function fd(e){var t,i,r,n,o,s,l,h,c,f,u,d,p;r=m,n=0,o=0|-e,s=e>>>8,0==(0|s)?l=0:s>>>0>65535?l=31:(l=s,s=(l-256|0)>>>16&8,p=l<<s,l=(p-4096|0)>>>16&4,s=s+l|0,l=p<<l,p=(l-16384|0)>>>16&2,l=-(p+s|0)+(l<<p>>>15)+14|0,l=(l<<1)+(e>>>((l+7|0)>>>0)&1)|0),s=p=a[(l<<2)+r+304|0],p=0!=(0|p);do if(p){for(t=e<<(31==(0|l)?0:-(l>>>1)+25|0),h=0;;){if(f=(-8&a[s+4|0])-e|0,o>>>0>f>>>0&&(n=c=s,o=f,0==(0|f))){u=c;break}if(c=a[s+20|0],s=f=a[((t>>>31&1)<<2)+s+16|0],0!=(0|c)?(f=s,(0|c)==(0|f)?c=f:(h=c,c=s)):c=f,0==(0|c)){s=u=h;break}t<<=1}t=0==(0|u)?18:21}else t=18;while(0);18==t&&(0!=(0|n)?t=21:(u=(-(1<<l<<1)|1<<l<<1)&a[r+4|0],0==(0|u)?t=21:(d=(-u&u)-1|0,s=u=d>>>12&16,d>>>=u>>>0,u=d>>>5&8,d>>>=u>>>0,l=d>>>2&4,d>>>=l>>>0,p=d>>>1&2,d>>>=p>>>0,t=d>>>1&1,s=d=a[(((d>>>(t>>>0))+(t+(p+(l+(u+s|0)|0)|0)|0)|0)<<2)+r+304|0],t=22))),21==t&&(d=s),d=0!=(0|d);e:do if(d)for(;;)if(u=(-8&a[s+4|0])-e|0,o>>>0>u>>>0&&(o=u,n=s),u=s+16|0,s=u=0!=(0|a[s+16|0])?a[0|u]:a[u+4|0],0==(0|u))break e;while(0);d=0!=(0|n);e:do{if(d){if(o>>>0>=(a[r+8|0]-e|0)>>>0){t=97;break}d=0!=(1==(n>>>0>=a[r+16|0]>>>0&1)|0);do if(d&&(i=n+e|0,0!=(1==(i>>>0>n>>>0&1)|0))){s=a[n+24|0],u=(0|a[n+12|0])!=(0|n),l=n;do if(u){if(p=a[l+8|0],d=a[n+12|0],0==(1==(p>>>0>=a[r+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[p+12|0]=d,a[d+8|0]=p}else{if(p=d=l+20|0,d=t=a[d],0==(0|t)&&(p=d=n+16|0,d=t=a[d],0==(0|t)))break;for(;t=h=d+20|0,0!=(0|a[h])||(t=h=d+16|0,0!=(0|a[h]));)p=d=t,d=a[d];if(0==(1==(p>>>0>=a[r+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[p]=0}while(0);if(0!=(0|s)){if(u=(a[n+28|0]<<2)+r+304|0,(0|n)==(0|a[u]))l=d,a[u]=l,0==(0|l)&&(u=r+4|0,a[u]&=1<<a[n+28|0]^-1);else{if(0==(1==(s>>>0>=a[r+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";u=d,l=s+16|0,(0|a[s+16|0])==(0|n)?a[0|l]=u:a[l+4|0]=u}if(0!=(0|d)){if(0==(1==(d>>>0>=a[r+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";if(a[d+24|0]=s,s=u=a[n+16|0],0!=(0|u)){if(0==(1==(s>>>0>=a[r+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[d+16|0]=s,a[s+24|0]=d}if(s=u=a[n+20|0],0!=(0|u)){if(0==(1==(s>>>0>=a[r+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[d+20|0]=s,a[s+24|0]=d}}}d=16>o>>>0;t:do if(d)a[n+4|0]=e+o|3,s=o+(e+(n+4))|0,a[s]|=1;else if(a[n+4|0]=3|e,a[i+4|0]=1|o,a[i+o|0]=o,32>o>>>3>>>0){if(s=o>>>3,l=u=(s<<3)+r+40|0,0!=(1<<s&a[0|r]|0)){if(0==(1==(a[u+8|0]>>>0>=a[r+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";l=a[u+8|0]}else p=0|r,a[p]|=1<<s;a[u+8|0]=i,a[l+12|0]=i,a[i+8|0]=l,a[i+12|0]=u}else if(s=i,u=o>>>8,0==(0|u)?l=0:u>>>0>65535?l=31:(l=(u-256|0)>>>16&8,u=p=u<<l,p=(p-4096|0)>>>16&4,l=l+p|0,u=p=u<<p,p=t=(p-16384|0)>>>16&2,l=t+l|0,p=-l+(u<<p>>>15)+14|0,l=(p<<1)+(o>>>((p+7|0)>>>0)&1)|0),u=(l<<2)+r+304|0,a[s+28|0]=l,a[s+20|0]=0,a[s+16|0]=0,0!=(1<<l&a[r+4|0]|0))for(u=a[u],l=o<<(31==(0|l)?0:-(l>>>1)+25|0);;){if((-8&a[u+4|0]|0)==(0|o)){if(e=a[u+8|0],0!=(1==(1&(u>>>0>=a[r+16|0]>>>0?e>>>0>=a[r+16|0]>>>0:0))|0)){r=s,a[e+12|0]=r,a[u+8|0]=r,a[s+8|0]=e,a[s+12|0]=u,a[s+24|0]=0;break t}throw y(),"Reached an unreachable!"}if(p=((l>>>31&1)<<2)+u+16|0,l<<=1,t=p,0==(0|a[p])){if(0!=(1==(t>>>0>=a[r+16|0]>>>0&1)|0)){a[p]=s,a[s+24|0]=u,r=s,a[s+12|0]=r,a[s+8|0]=r;break t}throw y(),"Reached an unreachable!"}u=a[t]}else p=r+4|0,a[p]|=1<<l,a[u]=s,a[s+24|0]=u,u=s,a[s+12|0]=u,a[s+8|0]=u;while(0);i=n+8|0,t=98;break e}while(0);throw y(),"Reached an unreachable!"}t=97}while(0);return 97==t&&(i=0),i}function xc(e){var t,i,r,n,o,s,l,h,c,f,u;r=m,n=-1,o=0,0==(0|a[0|B])&&gd(),c=0!=(4&a[r+440|0]|0);e:do{if(!c){if(s=-1,0==(0|a[r+24|0]))l=0,t=6;else if(t=h=Hb(r,a[r+24|0]),l=0,0==(0|h))t=6;else if(l=(a[B+8|0]-1^-1)&e+-a[r+12|0]+a[B+8|0]+47,l>>>0>=2147483647)t=16;else if(s=h=N(l),(0|h)!=(a[0|t]+a[t+4|0]|0))t=16;else{var d=s;n=d,o=l,t=17}if(6==t&&(t=h=N(0),-1==(0|h)?t=16:(l=(a[B+8|0]-1^-1)&e+a[B+8|0]+47,0==(a[B+4|0]-1&t|0)?h=l:l=h=(t-1+a[B+4|0]&(a[B+4|0]-1^-1))-t+l|0,h>>>0>=2147483647?t=16:(s=h=N(l),(0|h)!=(0|t)?t=16:(n=d=t,o=l,t=17)))),16==t&&(d=n),-1==(0|d)){var p=-1!=(0|s);t:do if(p){var E=2147483647>l>>>0;do if(!(!E||l>>>0>=(e+48|0)>>>0||(t=(a[B+8|0]-1^-1)&e+-l+a[B+8|0]+47,t>>>0>=2147483647))){if(h=N(t),-1==(0|h)){N(0|-l);break t}l=l+t|0}while(0);if(-1!=(0|s)){n=c=s,o=l,f=c,t=29;break e}}while(0);l=r+440|0,a[l]|=4}}t=28}while(0);if(28==t&&(f=n),-1==(0|f))if(l=(a[B+8|0]-1^-1)&e+a[B+8|0]+47,l>>>0>=2147483647)t=36;else if(l=N(l),c=N(0),-1==(0|l))t=36;else if(-1==(0|c))t=36;else if(l>>>0>=c>>>0)t=36;else if(c=c-l|0,(e+40|0)>>>0>=c>>>0)t=36;else{n=l,o=c;var v=l;t=37}else t=36;36==t&&(v=n),v=-1!=(0|v);e:do if(v){l=r+432|0,c=a[l]+o|0,a[l]=c,c>>>0>a[r+436|0]>>>0&&(a[r+436|0]=a[r+432|0]),l=0!=(0|a[r+24|0]),c=r;t:do if(l){for(f=s=c+444|0;;){if(0==(0|s)){u=f;
break}if(s=f,(0|n)==(a[0|f]+a[f+4|0]|0)){u=s;break}f=s=a[s+8|0]}s=0!=(0|u);do if(s&&0==(8&a[f+12|0]|0)&&a[r+24|0]>>>0>=a[0|f]>>>0&&!(a[r+24|0]>>>0>=(a[0|f]+a[f+4|0]|0)>>>0)){l=f+4|0,a[l]=a[l]+o|0,da(r,a[r+24|0],o+a[r+12|0]|0);break t}while(0);for(n>>>0<a[r+16|0]>>>0&&(a[r+16|0]=n),d=f=s=r+444|0;;){if(s=f,0==(0|d)){var g=s;break}if(d=f,(0|a[0|s])==(n+o|0)){g=d;break}d=f=s=a[d+8|0]}s=0!=(0|g);do if(s&&0==(8&a[f+12|0]|0)){u=a[0|f],a[0|f]=n,g=f+4|0,a[g]=a[g]+o|0,i=yc(r,n,u,e),t=72;break e}while(0);hd(r,n,o,0)}else{for(t=0==(0|a[c+16|0])?43:n>>>0<a[r+16|0]>>>0?43:44,43==t&&(a[r+16|0]=n),a[r+444|0]=n,a[r+448|0]=o,a[r+456|0]=0,a[r+36|0]=a[0|B],a[r+32|0]=-1,f=r,d=s=void 0,s=0;t=d=(s<<3)+f+40|0,a[d+12|0]=t,a[d+8|0]=t,s=d=s+1|0,!(d>>>0>=32););f=r,(0|r)==(0|m)?da(f,n,o-40|0):(f=f-8+(-8&a[r-8+4|0])|0,da(r,f,n+o-40+-f|0))}while(0);e>>>0>=a[r+12|0]>>>0?t=71:(i=r+12|0,l=a[i]-e|0,i=a[i]=l,l=a[r+24|0],c=l+e|0,a[r+24|0]=c,a[c+4|0]=1|i,a[l+4|0]=3|e,i=l+8|0,t=72)}else t=71;while(0);return 71==t&&(a[z.ret]=12,i=0),i}function zc(e){var t,i,r,n,o,s,l,h,c,f,u,d,p,E,v,g,T,x,R,b,_,w,H,M,S,C,A,L,k,D,P,F,z,N,U,B,V,O,j,I,G,W,X,q,Y,K,Z,Q=0!=(0|e);e:do if(Q){i=e-8|0;var $=0!=(1==(1&(i>>>0>=a[m+16|0]>>>0?1!=(3&a[i+4|0]|0):0))|0);t:do if($){r=-8&a[i+4|0],n=i+r|0;var J=0!=(1&a[i+4|0]|0);do if(!J){if(o=a[0|i],0==(3&a[i+4|0]|0)){r=r+(o+16)|0;break e}if(s=i+-o|0,r=r+o|0,i=s,0==(1==(s>>>0>=a[m+16|0]>>>0&1)|0))break t;if((0|i)==(0|a[m+20|0])){if(3!=(3&a[n+4|0]|0))break;a[m+8|0]=r;var et=n+4|0;a[et]&=-2,a[i+4|0]=1|r,a[i+r|0]=r;break e}var tt=i;if(32>o>>>3>>>0)if(l=a[tt+8|0],h=a[i+12|0],c=o>>>3,(0|l)==(0|h))a[0|m]&=1<<c^-1;else{if((0|l)==((c<<3)+m+40|0))t=14;else if(l>>>0>=a[m+16|0]>>>0)t=14;else{var it=0;t=16}if(14==t&&(it=(0|h)==((c<<3)+m+40|0)?1:h>>>0>=a[m+16|0]>>>0),0==(1==(1&it)|0))throw y(),"Reached an unreachable!";a[l+12|0]=h,a[h+8|0]=l}else{f=tt,u=a[f+24|0];var at=(0|a[f+12|0])!=(0|f),rt=f;do if(at){if(p=a[rt+8|0],d=a[f+12|0],0==(1==(p>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[p+12|0]=d,a[d+8|0]=p}else{var nt=rt+20|0;E=nt;var ot=a[nt];if(d=ot,0!=(0|ot))t=25;else{var st=f+16|0;E=st;var lt=a[st];if(d=lt,0==(0|lt))break}for(;;){var ht=d+20|0;if(v=ht,0==(0|a[ht])){var ct=d+16|0;if(v=ct,0==(0|a[ct]))break}var ft=v;E=ft,d=a[ft]}if(0==(1==(E>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[E]=0}while(0);if(0!=(0|u)){if(g=(a[f+28|0]<<2)+m+304|0,(0|f)==(0|a[g])){var ut=d;a[g]=ut,0==(0|ut)&&(a[m+4|0]&=1<<a[f+28|0]^-1)}else{if(0==(1==(u>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";var dt=d,pt=u+16|0;(0|a[u+16|0])==(0|f)?a[0|pt]=dt:a[pt+4|0]=dt}if(0!=(0|d)){if(0==(1==(d>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[d+24|0]=u;var mt=a[f+16|0];if(T=mt,0!=(0|mt)){if(0==(1==(T>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[d+16|0]=T,a[T+24|0]=d}var Et=a[f+20|0];if(x=Et,0!=(0|Et)){if(0==(1==(x>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[d+20|0]=x,a[x+24|0]=d}}}}}while(0);if(0!=(1==(1&(n>>>0>i>>>0?0!=(1&a[n+4|0]|0):0))|0)){var vt=0!=(2&a[n+4|0]|0),gt=n;do if(vt){var yt=gt+4|0;a[yt]&=-2,a[i+4|0]=1|r,a[i+r|0]=r}else{if((0|gt)==(0|a[m+24|0])){var Tt=a[m+12|0]+r|0;if(R=a[m+12|0]=Tt,a[m+24|0]=i,a[i+4|0]=1|R,(0|i)==(0|a[m+20|0])&&(a[m+20|0]=0,a[m+8|0]=0),R>>>0<=a[m+28|0]>>>0)break e;Ac();break e}if((0|n)==(0|a[m+20|0])){var xt=a[m+8|0]+r|0;b=a[m+8|0]=xt,a[m+20|0]=i,a[i+4|0]=1|b,a[i+b|0]=b;break e}_=-8&a[n+4|0],r=r+_|0;var Rt=32>_>>>3>>>0,bt=n;do if(Rt)if(w=a[bt+8|0],H=a[n+12|0],M=_>>>3,(0|w)==(0|H))a[0|m]&=1<<M^-1;else{if((0|w)==((M<<3)+m+40|0))t=69;else if(w>>>0>=a[m+16|0]>>>0)t=69;else{var _t=0;t=71}if(69==t&&(_t=(0|H)==((M<<3)+m+40|0)?1:H>>>0>=a[m+16|0]>>>0),0==(1==(1&_t)|0))throw y(),"Reached an unreachable!";a[w+12|0]=H,a[H+8|0]=w}else{S=bt,C=a[S+24|0];var wt=(0|a[S+12|0])!=(0|S),Ht=S;do if(wt){if(L=a[Ht+8|0],A=a[S+12|0],0==(1==(L>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[L+12|0]=A,a[A+8|0]=L}else{var Mt=Ht+20|0;k=Mt;var St=a[Mt];if(A=St,0!=(0|St))t=80;else{var Ct=S+16|0;k=Ct;var At=a[Ct];if(A=At,0==(0|At))break}for(;;){var Lt=A+20|0;if(D=Lt,0==(0|a[Lt])){var kt=A+16|0;if(D=kt,0==(0|a[kt]))break}var Dt=D;k=Dt,A=a[Dt]}if(0==(1==(k>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[k]=0}while(0);if(0!=(0|C)){if(P=(a[S+28|0]<<2)+m+304|0,(0|S)==(0|a[P])){var Pt=A;a[P]=Pt,0==(0|Pt)&&(a[m+4|0]&=1<<a[S+28|0]^-1)}else{if(0==(1==(C>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";var Ft=A,zt=C+16|0;(0|a[C+16|0])==(0|S)?a[0|zt]=Ft:a[zt+4|0]=Ft}if(0!=(0|A)){if(0==(1==(A>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[A+24|0]=C;var Nt=a[S+16|0];if(F=Nt,0!=(0|Nt)){if(0==(1==(F>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[A+16|0]=F,a[F+24|0]=A}var Ut=a[S+20|0];if(z=Ut,0!=(0|Ut)){if(0==(1==(z>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[A+20|0]=z,a[z+24|0]=A}}}}while(0);if(a[i+4|0]=1|r,a[i+r|0]=r,(0|i)==(0|a[m+20|0])){a[m+8|0]=r;break e}}while(0);if(32>r>>>3>>>0){if(N=r>>>3,B=U=(N<<3)+m+40|0,0!=(1<<N&a[0|m]|0)){if(0==(1==(a[U+8|0]>>>0>=a[m+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";B=a[U+8|0]}else a[0|m]|=1<<N;a[U+8|0]=i,a[B+12|0]=i,a[i+8|0]=B,a[i+12|0]=U;break e}if(V=i,I=r>>>8,0==(0|I))j=0;else if(I>>>0>65535)j=31;else{G=I,W=(G-256|0)>>>16&8;var Bt=G<<W;G=Bt,X=(Bt-4096|0)>>>16&4,W=W+X|0;var Vt=G<<X;G=Vt;var Ot=(Vt-16384|0)>>>16&2;X=Ot,W=Ot+W|0;var jt=G<<X;G=jt,X=-W+(jt>>>15)+14|0,j=(X<<1)+(r>>>((X+7|0)>>>0)&1)|0}O=(j<<2)+m+304|0,a[V+28|0]=j,a[V+20|0]=0,a[V+16|0]=0;var It=0!=(1<<j&a[m+4|0]|0);i:do if(It)for(q=a[O],Y=r<<(31==(0|j)?0:-(j>>>1)+25|0);;){if((-8&a[q+4|0]|0)==(0|r)){if(Z=a[q+8|0],0!=(1==(1&(q>>>0>=a[m+16|0]>>>0?Z>>>0>=a[m+16|0]>>>0:0))|0)){var Gt=V;a[Z+12|0]=Gt,a[q+8|0]=Gt,a[V+8|0]=Z,a[V+12|0]=q,a[V+24|0]=0;break i}throw y(),"Reached an unreachable!"}K=((Y>>>31&1)<<2)+q+16|0,Y<<=1;var Wt=K;if(0==(0|a[K])){if(0!=(1==(Wt>>>0>=a[m+16|0]>>>0&1)|0)){a[K]=V,a[V+24|0]=q;var Xt=V;a[V+12|0]=Xt,a[V+8|0]=Xt;break i}throw y(),"Reached an unreachable!"}q=a[Wt]}else{a[m+4|0]|=1<<j,a[O]=V,a[V+24|0]=O;var qt=V;a[V+12|0]=qt,a[V+8|0]=qt}while(0);var Yt=a[m+32|0]-1|0;if(a[m+32|0]=Yt,0!=(0|Yt))break e;var Kt=void 0,Zt=void 0,Qt=void 0,Kt=m,Zt=0,$t=a[(Kt+444|0)+8|0],Qt=$t,Jt=0!=(0|$t);i:do if(Jt)for(;;){var ei=a[Qt+8|0],Zt=Zt+1|0,Qt=ei;if(0==(0|ei))break i}while(0);a[Kt+32|0]=Zt>>>0>4294967295?Zt:-1;break e}}while(0);throw y(),"Reached an unreachable!"}while(0)}function Hb(e,t){var i,r;r=e+444|0;e:for(;;){var n=t>>>0>=a[0|r]>>>0;do if(n&&!(t>>>0>=(a[0|r]+a[r+4|0]|0)>>>0)){i=r;break e}while(0);if(r=n=a[r+8|0],0==(0|n)){i=0;break}}return i}function da(e,t,i){var r;r=0==(t+8&7|0)?0:8-(t+8&7)&7,t=t+r|0,i=i-r|0,a[e+24|0]=t,a[e+12|0]=i,a[t+4|0]=1|i,a[i+(t+4)|0]=40,a[e+28|0]=a[B+16|0]}function Ac(){var e,t,i,r,n,o;if(t=m,r=i=0,0==(0|a[0|B])&&gd(),4294967232>i>>>0&&0!=(0|a[t+24|0])){if(i=i+40|0,a[t+12|0]>>>0>i>>>0){if(e=a[B+8|0],n=(Math.floor(((a[t+12|0]-1+-i+e|0)>>>0)/(e>>>0))-1)*e|0,i=Hb(t,a[t+24|0]),0!=(8&a[i+12|0]|0))e=12;else if(n>>>0>=2147483647&&(n=-2147483648-e|0),e=N(0),(0|e)!=(a[0|i]+a[i+4|0]|0))e=12;else if(n=N(0|-n),o=N(0),-1==(0|n))e=12;else if(o>>>0>=e>>>0)e=12;else{var s=e-o|0;r=s,e=13}12==e&&(s=r),0!=(0|s)&&(i=i+4|0,a[i]=a[i]-r|0,i=t+432|0,a[i]=a[i]-r|0,da(t,a[t+24|0],a[t+12|0]-r|0))}0==(0|r)&&(a[t+12|0]>>>0<=a[t+28|0]>>>0||(a[t+28|0]=-1))}}function gd(){var e,t;e=0==(0|a[0|B]);e:do if(e){t=e=rd(8);var i=0!=(t-1&t|0);do if(!i&&0==(e-1&e|0)){a[B+8|0]=t,a[B+4|0]=e,a[B+12|0]=-1,a[B+16|0]=2097152,a[B+20|0]=0,a[m+440|0]=a[B+20|0],e=1431655765^Math.floor(Date.now()/1e3),e|=8,e&=-8,a[0|B]=e;break e}while(0);throw y(),"Reached an unreachable!"}while(0)}function yc(e,t,i,r){var n,o,s,l,h,c,f,u,d,p,m,E,t=t+(0==(t+8&7|0)?0:8-(t+8&7)&7)|0,i=i+(0==(i+8&7|0)?0:8-(i+8&7)&7)|0;o=t+r|0,s=(i-t|0)-r|0,a[t+4|0]=3|r,r=(0|i)==(0|a[e+24|0]);e:do if(r)l=e+12|0,p=a[l]+s|0,l=a[l]=p,a[e+24|0]=o,a[o+4|0]=1|l;else if((0|i)==(0|a[e+20|0]))l=e+8|0,p=a[l]+s|0,l=a[l]=p,a[e+20|0]=o,a[o+4|0]=1|l,a[o+l|0]=l;else{if(1==(3&a[i+4|0]|0)){l=-8&a[i+4|0],p=32>l>>>3>>>0,m=i;do if(p)if(h=a[m+8|0],c=a[i+12|0],f=l>>>3,(0|h)==(0|c))n=0|e,a[n]&=1<<f^-1;else{if((0|h)==((f<<3)+e+40|0)?n=14:h>>>0>=a[e+16|0]>>>0?n=14:(E=0,n=16),14==n&&(E=(0|c)==((f<<3)+e+40|0)?1:c>>>0>=a[e+16|0]>>>0),0==(1==(1&E)|0))throw y(),"Reached an unreachable!";a[h+12|0]=c,a[c+8|0]=h}else{f=m,h=a[f+24|0],c=(0|a[f+12|0])!=(0|f);var v=f;do if(c){if(u=a[v+8|0],n=a[f+12|0],0==(1==(u>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[u+12|0]=n,a[n+8|0]=u}else{if(u=n=v+20|0,n=d=a[n],0==(0|d)&&(u=n=f+16|0,n=d=a[n],0==(0|d)))break;for(;;){var g=n+20|0;if(d=g,0==(0|a[g])&&(d=g=n+16|0,0==(0|a[g])))break;u=n=d,n=a[n]}if(0==(1==(u>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[u]=0}while(0);if(0!=(0|h)){if(c=(a[f+28|0]<<2)+e+304|0,(0|f)==(0|a[c]))v=n,a[c]=v,0==(0|v)&&(c=e+4|0,a[c]&=1<<a[f+28|0]^-1);else{if(0==(1==(h>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";c=n,v=h+16|0,(0|a[h+16|0])==(0|f)?a[0|v]=c:a[v+4|0]=c}if(0!=(0|n)){if(0==(1==(n>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";if(a[n+24|0]=h,h=c=a[f+16|0],0!=(0|c)){if(0==(1==(h>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[n+16|0]=h,a[h+24|0]=n}if(f=h=a[f+20|0],0!=(0|h)){if(0==(1==(f>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";a[n+20|0]=f,a[f+24|0]=n}}}}while(0);i=i+l|0,s=s+l|0}if(l=i+4|0,a[l]&=-2,a[o+4|0]=1|s,a[o+s|0]=s,32>s>>>3>>>0){if(l=s>>>3,m=p=(l<<3)+e+40|0,0!=(1<<l&a[0|e]|0)){if(0==(1==(a[p+8|0]>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";m=a[p+8|0]}else f=0|e,a[f]|=1<<l;a[p+8|0]=o,a[m+12|0]=o,a[o+8|0]=m,a[o+12|0]=p}else if(l=o,p=s>>>8,0==(0|p)?m=0:p>>>0>65535?m=31:(m=(p-256|0)>>>16&8,p=f=p<<m,f=(f-4096|0)>>>16&4,m=m+f|0,p=f=p<<f,f=n=(f-16384|0)>>>16&2,m=n+m|0,f=-m+(p<<f>>>15)+14|0,m=(f<<1)+(s>>>((f+7|0)>>>0)&1)|0),p=(m<<2)+e+304|0,a[l+28|0]=m,a[l+20|0]=0,a[l+16|0]=0,0!=(1<<m&a[e+4|0]|0))for(p=a[p],m=s<<(31==(0|m)?0:-(m>>>1)+25|0);;){if((-8&a[p+4|0]|0)==(0|s)){if(E=a[p+8|0],0!=(1==(1&(p>>>0>=a[e+16|0]>>>0?E>>>0>=a[e+16|0]>>>0:0))|0)){e=l,a[E+12|0]=e,a[p+8|0]=e,a[l+8|0]=E,a[l+12|0]=p,a[l+24|0]=0;break e}throw y(),"Reached an unreachable!"}if(f=((m>>>31&1)<<2)+p+16|0,m<<=1,n=f,0==(0|a[f])){if(0!=(1==(n>>>0>=a[e+16|0]>>>0&1)|0)){a[f]=l,a[l+24|0]=p,e=l,a[l+12|0]=e,a[l+8|0]=e;break e}throw y(),"Reached an unreachable!"}p=a[n]}else f=e+4|0,a[f]|=1<<m,a[p]=l,a[l+24|0]=p,p=l,a[l+12|0]=p,a[l+8|0]=p}while(0);return t+8|0}function hd(e,t,i,r){var n,o,s,l,h;n=a[e+24|0],o=Hb(e,n),s=a[0|o]+a[o+4|0]|0,o=s+-47|0,o=o+(0==(o+8&7|0)?0:8-(o+8&7)&7)|0,o=(n+16|0)>>>0>o>>>0?n:o,l=o+8|0,h=o+24|0,da(e,t,i-40|0),a[o+4|0]=27;for(var c=e+444|0,f=l,u=c+16;u>c;c++,f++)a[f]=a[c];a[e+444|0]=t,a[e+448|0]=i,a[e+456|0]=r,a[e+452|0]=l,t=h+4|0,a[h+4|0]=7,i=s>>>0>(t+4|0)>>>0;e:do if(i)for(;;)if(h=t,t=h+4|0,a[h+4|0]=7,(t+4|0)>>>0>=s>>>0)break e;while(0);s=(0|o)!=(0|n);e:do if(s)if(t=n,i=o-n|0,r=t+i|0,r=r+4|0,a[r]&=-2,a[t+4|0]=1|i,a[t+i|0]=i,32>i>>>3>>>0){if(i>>>=3,h=r=(i<<3)+e+40|0,0!=(1<<i&a[0|e]|0)){if(0==(1==(a[r+8|0]>>>0>=a[e+16|0]>>>0&1)|0))throw y(),"Reached an unreachable!";h=a[r+8|0]}else l=0|e,a[l]|=1<<i;a[r+8|0]=t,a[h+12|0]=t,a[t+8|0]=h,a[t+12|0]=r}else if(r=i>>>8,0==(0|r)?h=0:r>>>0>65535?h=31:(h=(r-256|0)>>>16&8,r=l=r<<h,l=(l-4096|0)>>>16&4,h=h+l|0,r=l=r<<l,l=c=(l-16384|0)>>>16&2,h=c+h|0,l=-h+(r<<l>>>15)+14|0,h=(l<<1)+(i>>>((l+7|0)>>>0)&1)|0),r=(h<<2)+e+304|0,a[t+28|0]=h,a[t+20|0]=0,a[t+16|0]=0,0!=(1<<h&a[e+4|0]|0))for(r=a[r],h=i<<(31==(0|h)?0:-(h>>>1)+25|0);;){if((-8&a[r+4|0]|0)==(0|i)){if(n=a[r+8|0],0!=(1==(1&(r>>>0>=a[e+16|0]>>>0?n>>>0>=a[e+16|0]>>>0:0))|0)){e=t,a[n+12|0]=e,a[r+8|0]=e,a[t+8|0]=n,a[t+12|0]=r,a[t+24|0]=0;break e}throw y(),"Reached an unreachable!"}if(l=((h>>>31&1)<<2)+r+16|0,h<<=1,c=l,0==(0|a[l])){if(0!=(1==(c>>>0>=a[e+16|0]>>>0&1)|0)){a[l]=t,a[t+24|0]=r,e=t,a[t+12|0]=e,a[t+8|0]=e;break e}throw y(),"Reached an unreachable!"}r=a[c]}else i=e+4|0,a[i]|=1<<h,a[r]=t,a[t+24|0]=r,i=t,a[t+12|0]=i,a[t+8|0]=i;while(0)}function z(e){return z.ret||(z.ret=t([0],"i32",r)),a[z.ret]=e}function sd(e,t,i,r){var n=u.streams[e];if(!n||n.object.isDevice)return z(O),-1;if(n.isRead){if(n.object.isFolder)return z(Nb),-1;if(0>i||0>r)return z(S),-1;for(e=0;n.ungotten.length&&i>0;)a[t++]=n.ungotten.pop(),i--,e++;for(var n=n.object.contents,i=Math.min(n.length-r,i),o=0;i>o;o++)a[t+o]=n[r+o],e++;return e}return z(Q),-1}function td(e,t,i){var r=u.streams[e];if(r){if(r.isRead){if(0>i)return z(S),-1;if(r.object.isDevice){if(r.object.input){for(e=0;r.ungotten.length&&i>0;)a[t++]=r.ungotten.pop(),i--,e++;for(var n=0;i>n;n++){try{var o=r.object.input()}catch(s){return z(la),-1}if(null===o||void 0===o)break;e++,a[t+n]=o}return e}return z(ab),-1}return o=r.ungotten.length,e=sd(e,t,i,r.position),-1!=e&&(r.position+=r.ungotten.length-o+e),e}return z(Q),-1}return z(O),-1}function Tb(e,t,i,a){return i*=t,0==i?0:(e=td(a,e,i),a=u.streams[a],-1==e?(a&&(a.error=!0),-1):(i>e&&(a.eof=!0),Math.floor(e/t)))}function aa(e){return Number(e in u.streams&&u.streams[e].error)}function na(e,t,i,a){throw"Assertion failed: "+ma(a)+", at: "+[ma(e),t,ma(i)]}function ud(e,t,i){var r=u.streams[e];if(r){if(r.isWrite){if(0>i)return z(S),-1;if(r.object.isDevice){if(r.object.output){for(var n=0;i>n;n++)try{r.object.output(a[t+n])}catch(o){return z(la),-1}return r.object.timestamp=Date.now(),n}return z(ab),-1}if(n=r.position,e=u.streams[e],!e||e.object.isDevice)z(O),t=-1;else if(e.isWrite)if(e.object.isFolder)z(Nb),t=-1;else if(0>i||0>n)z(S),t=-1;else{for(var s=e.object.contents;s.length<n;)s.push(0);for(var l=0;i>l;l++)s[n+l]=a[t+l];e.object.timestamp=Date.now(),t=l}else z(Q),t=-1;return-1!=t&&(r.position+=t),t}return z(Q),-1}return z(O),-1}function P(e,t,i,a){return i*=t,0==i?0:(e=ud(a,e,i),-1==e?(u.streams[a]&&(u.streams[a].error=!0),-1):Math.floor(e/t))}function y(e){throw"ABORT: "+e+", at "+Error().stack}function rd(e){switch(e){case 8:return vd;case 54:case 56:case 21:case 61:case 63:case 22:case 67:case 23:case 24:case 25:case 26:case 27:case 69:case 28:case 101:case 70:case 71:case 29:case 30:case 199:case 75:case 76:case 32:case 43:case 44:case 80:case 46:case 47:case 45:case 48:case 49:case 42:case 82:case 33:case 7:case 108:case 109:case 107:case 112:case 119:case 121:return 200809;case 13:case 104:case 94:case 95:case 34:case 35:case 77:case 81:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 94:case 95:case 110:case 111:case 113:case 114:case 115:case 116:case 117:case 118:case 120:case 40:case 16:case 79:case 19:return-1;case 92:case 93:case 5:case 72:case 6:case 74:case 92:case 93:case 96:case 97:case 98:case 99:case 102:case 103:case 105:return 1;case 38:case 66:case 50:case 51:case 4:return 1024;case 15:case 64:case 41:return 32;case 55:case 37:case 17:return 2147483647;case 18:case 1:return 47839;case 59:case 57:return 99;case 68:case 58:return 2048;case 0:return 2097152;case 3:return 65536;case 14:return 32768;case 73:return 32767;case 39:return 16384;case 60:return 1e3;case 106:return 700;case 52:return 256;case 62:return 255;case 2:return 100;case 65:return 64;case 36:return 20;case 100:return 16;case 20:return 6;case 53:return 4}return z(S),-1}function N(e){var t=N;return t.called||(M=M+4095>>12<<12,t.called=!0),t=M,0!=e&&D.staticAlloc(e),t}function Ib(e){w.preRun&&w.preRun(),e=e||w.arguments,Pb(Bc);var t=null;return w._main&&(t=w.callMain(e),Pb(id),le.print()),w.postRun&&w.postRun(),t}var O,Q,Nb,S,la,ab,me="object"==typeof window,ne="function"==typeof importScripts;if("object"==typeof process){var ga=function(e){process.stdout.write(e+"\n")},ua=function(e){process.stderr.write(e+"\n")},Cc=require("fs"),ka=function(e){var t=Cc.readFileSync(e).toString();return!t&&"/"!=e[0]&&(e=__dirname.split("/").slice(0,-1).join("/")+"/src/"+e,t=Cc.readFileSync(e).toString()),t};process.argv.slice(2)}else if(me)var ga=ua=function(e){console.log(e)},ka=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText};else{if(!ne)throw"Unknown runtime environment. Where are we?";var Dc=importScripts}"undefined"==typeof Dc&&"undefined"!=typeof ka&&(Dc=function(e){jd(ka(e))}),"undefined"==typeof ua&&(ua=function(){}),"undefined"==typeof ga&&(ga=ua);var w={},D={stackSave:function(){return A},stackRestore:function(e){A=e},forceAlign:function(e,t){if(t=t||4,1==t)return e;if(isNumber(e)&&isNumber(t))return Math.ceil(e/t)*t;if(isNumber(t)&&isPowerOfTwo(t)){var i=log2(t);return"(((("+e+")+"+(t-1)+")>>"+i+")<<"+i+")"}return"Math.ceil(("+e+")/"+t+")*"+t},isNumberType:function(e){return e in D.INT_TYPES||e in D.FLOAT_TYPES},isPointerType:function(e){return"*"==e.charAt(e.length-1)},isStructType:function(e){return isPointerType(e)?!1:/^\[\d+\ x\ (.*)\]/.test(e)||/<?{ [^}]* }>?/.test(e)?!0:"%"==e[0]},INT_TYPES:{i1:0,i8:0,i16:0,i32:0,i64:0},FLOAT_TYPES:{"float":0,"double":0},bitshift64:function(e,t,i,a){var r=Math.pow(2,a)-1;if(32>a)switch(i){case"shl":return[e<<a,t<<a|(e&r<<32-a)>>>32-a];case"ashr":return[(e>>>a|(t&r)<<32-a)>>0>>>0,t>>a>>>0];case"lshr":return[(e>>>a|(t&r)<<32-a)>>>0,t>>>a]}else if(32==a)switch(i){case"shl":return[0,e];case"ashr":return[t,0>(0|t)?r:0];case"lshr":return[t,0]}else switch(i){case"shl":return[0,e<<a-32];case"ashr":return[t>>a-32>>>0,0>(0|t)?r:0];case"lshr":return[t>>>a-32,0]}T("unknown bitshift64 op: "+[value,i,a])},or64:function(e,t){var i=0|e|t|0,a=4294967296*(Math.round(e/4294967296)|Math.round(t/4294967296));return i+a},and64:function(e,t){var i=(0|e)&(0|t),a=4294967296*(Math.round(e/4294967296)&Math.round(t/4294967296));return i+a},xor64:function(e,t){var i=(0|e)^(0|t),a=4294967296*(Math.round(e/4294967296)^Math.round(t/4294967296));return i+a},getNativeTypeSize:function(e){if(1==D.QUANTUM_SIZE)return 1;var t={"%i1":1,"%i8":1,"%i16":2,"%i32":4,"%i64":8,"%float":4,"%double":8}["%"+e];return t||("*"==e.charAt(e.length-1)?t=D.QUANTUM_SIZE:"i"==e[0]&&(e=parseInt(e.substr(1)),ha(0==e%8),t=e/8)),t},getNativeFieldSize:function(e){return Math.max(D.getNativeTypeSize(e),D.QUANTUM_SIZE)},dedup:function(e,t){var i={};return e.filter(t?function(e){return i[e[t]]?!1:i[e[t]]=!0}:function(e){return i[e]?!1:i[e]=!0})},set:function(){for(var e="object"==typeof arguments[0]?arguments[0]:arguments,t={},i=0;i<e.length;i++)t[e[i]]=0;return t},calculateStructAlignment:function(e){e.flatSize=0,e.alignSize=0;var t=[],i=-1;return e.flatIndexes=e.fields.map(function(a){var r;if(D.isNumberType(a)||D.isPointerType(a))a=r=D.getNativeTypeSize(a);else{if(!D.isStructType(a))throw"Unclear type in struct: "+a+", in "+e.name_+" :: "+dump(Types.types[e.name_]);r=Types.types[a].flatSize,a=Types.types[a].alignSize}return a=e.packed?1:Math.min(a,D.QUANTUM_SIZE),e.alignSize=Math.max(e.alignSize,a),a=D.alignMemory(e.flatSize,a),e.flatSize=a+r,i>=0&&t.push(a-i),i=a}),e.flatSize=D.alignMemory(e.flatSize,e.alignSize),0==t.length?e.flatFactor=e.flatSize:1==D.dedup(t).length&&(e.flatFactor=t[0]),e.needsFlattening=1!=e.flatFactor,e.flatIndexes},generateStructInfo:function(e,t,i){var a,r;if(t){if(i=i||0,a=("undefined"==typeof Types?D.typeInfo:Types.types)[t],!a)return null;ha(a.fields.length===e.length,"Number of named fields must match the type for "+t),r=a.flatIndexes}else a={fields:e.map(function(e){return e[0]})},r=D.calculateStructAlignment(a);var n={__size__:a.flatSize};return e.forEach(t?function(e,t){if("string"==typeof e)n[e]=r[t]+i;else{var o,s;for(s in e)o=s;n[o]=D.generateStructInfo(e[o],a.fields[t],r[t])}}:function(e,t){n[e[1]]=r[t]}),n},stackAlloc:function(e){var t=A;return A+=e,t},staticAlloc:function(e){var t=M;return M+=e,M=M+3>>2<<2,t},alignMemory:function(e,t){return Math.ceil(e/(t?t:4))*(t?t:4)},makeBigInt:function(e,t,i){return i?(e>>>0)+4294967296*(t>>>0):(e>>>0)+4294967296*(0|t)},QUANTUM_SIZE:4,__dummy__:0},le={MAX_ALLOWED:0,corrections:0,sigs:{},note:function(e,t){t||(this.corrections++,this.corrections>=this.MAX_ALLOWED&&T("\n\nToo many corrections!"))},print:function(){}},oe=this;w.ccall=function(a,e,d,g){try{var c=eval("_"+a)}catch(f){try{c=oe.Module["_"+a]}catch(i){}}ha(c,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)");var h=0,a=g?g.map(function(e){if("string"==d[h++]){var t=A;D.stackAlloc(e.length+1),Rb(e,t),e=t}return e}):[];return function(e,t){return"string"==t?ma(e):e}(c.apply(null,a),e)},w.setValue=Ob,w.getValue=function(e,t){switch(t=t||"i8","*"==t.charAt(t.length-1)&&(t="i32"),t){case"i1":return a[e];case"i8":return a[e];case"i16":return a[e];case"i32":return a[e];case"i64":return a[e];case"float":return a[e];case"double":return a[e];default:T("invalid type for setValue: "+t)}return null};var r=2;w.ALLOC_NORMAL=0,w.ALLOC_STACK=1,w.ALLOC_STATIC=r,w.allocate=t,w.Pointer_stringify=ma,w.Array_stringify=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t};var F,vd=4096,a,A,M,pe=w.TOTAL_STACK||5242880,kd=w.TOTAL_MEMORY||10485760,qe=w.FAST_MEMORY||2097152;a=[];for(var ea=0;qe>ea;ea++)a[ea]=0;var Jb=R("(null)");for(M=Jb.length,ea=0;ea<Jb.length;ea++)a[ea]=Jb[ea];w.HEAP=a,M=(A=D.alignMemory(M))+pe+4095>>12<<12;var Bc=[],id=[];w.Array_copy=Gc,w.String_len=Qb,w.String_copy=function(e,t){var i=Qb(e);t&&i++;var a=Gc(e,i);return t&&(a[i-1]=0),a},w.intArrayFromString=R,w.intArrayToString=function(e){for(var t=[],i=0;i<e.length;i++){var a=e[i];a>255&&(a&=255),t.push(String.fromCharCode(a))}return t.join("")},w.writeStringToMemory=Rb;var p=[];Hc.X=1,Jc.X=1,hb.X=1,w._main=ib,ib.X=1,Ic.X=1,ba.X=1,Xb.X=1,Yb.X=1,Ub.X=1,G.X=1,Qc.X=1,Zb.X=1,L.X=1,ec.X=1,fc.X=1,gc.X=1,ic.X=1,hc.X=1,jc.X=1,kc.X=1,Vb.X=1,Wb.X=1,sb.X=1,ae.X=1,ia.X=1,yb.X=1,mc.X=1,zb.X=1,$b.X=1,C.X=1,Zc.X=1,Ab.X=1,oc.X=1,Bb.X=1,nc.X=1,pc.X=1,Gb.X=1,Eb.X=1,Db.X=1,$c.X=1,ad.X=1,oa.X=1,uc.X=1,bd.X=1,Rc.X=1,Cd.X=1,gb.X=1,ed.X=1,fd.X=1,xc.X=1,zc.X=1,da.X=1,Ac.X=1,yc.X=1,hd.X=1,Q=13,O=9,S=22,la=5,Nb=21,ab=6;var Kb=0,Lb=0,Mb=0,J=0,u={currentPath:"/",nextInode:2,streams:[null],ignorePermissions:!0,absolutePath:function(e,t){if("string"!=typeof e)return null;void 0===t&&(t=u.currentPath),e&&"/"==e[0]&&(t="");for(var i=(t+"/"+e).split("/").reverse(),a=[""];i.length;){var r=i.pop();""==r||"."==r||(".."==r?1<a.length&&a.pop():a.push(r))}return 1==a.length?"/":a.join("/")},analyzePath:function(e,t,i){var a={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null},e=u.absolutePath(e);if("/"==e)a.isRoot=!0,a.exists=a.parentExists=!0,a.name="/",a.path=a.parentPath="/",a.object=a.parentObject=u.root;else if(null!==e)for(var i=i||0,e=e.slice(1).split("/"),r=u.root,n=[""];e.length;){1==e.length&&r.isFolder&&(a.parentExists=!0,a.parentPath=1==n.length?"/":n.join("/"),a.parentObject=r,a.name=e[0]);var o=e.shift();if(!r.isFolder){a.error=20;break}if(!r.read){a.error=Q;break}if(!r.contents.hasOwnProperty(o)){a.error=2;break}if(r=r.contents[o],r.link&&(!t||0!=e.length)){if(i>40){a.error=40;break}return a=u.absolutePath(r.link,n.join("/")),u.analyzePath([a].concat(e).join("/"),t,i+1)}n.push(o),0==e.length&&(a.exists=!0,a.path=n.join("/"),a.object=r)}return a},findObject:function(e,t){u.ensureRoot();var i=u.analyzePath(e,t);return i.exists?i.object:(z(i.error),null)},createObject:function(e,t,i,a,r){if(e||(e="/"),"string"==typeof e&&(e=u.findObject(e)),!e)throw z(Q),Error("Parent path must exist.");if(!e.isFolder)throw z(20),Error("Parent must be a folder.");if(!e.write&&!u.ignorePermissions)throw z(Q),Error("Parent folder must be writeable.");if(!t||"."==t||".."==t)throw z(2),Error("Name must not be empty.");if(e.contents.hasOwnProperty(t))throw z(17),Error("Can't overwrite object.");e.contents[t]={read:void 0===a?!0:a,write:void 0===r?!1:r,timestamp:Date.now(),inodeNumber:u.nextInode++};for(var n in i)i.hasOwnProperty(n)&&(e.contents[t][n]=i[n]);return e.contents[t]},createFolder:function(e,t,i,a){return u.createObject(e,t,{isFolder:!0,isDevice:!1,contents:{}},i,a)},createPath:function(e,t,i,a){if(e=u.findObject(e),null===e)throw Error("Invalid parent.");for(t=t.split("/").reverse();t.length;){var r=t.pop();r&&(e.contents.hasOwnProperty(r)||u.createFolder(e,r,i,a),e=e.contents[r])}return e},createFile:function(e,t,i,a,r){return i.isFolder=!1,u.createObject(e,t,i,a,r)},createDataFile:function(e,t,i,a,r){if("string"==typeof i){for(var n=[],o=0;o<i.length;o++)n.push(i.charCodeAt(o));i=n}return u.createFile(e,t,{isDevice:!1,contents:i},a,r)},createLazyFile:function(e,t,i,a,r){return u.createFile(e,t,{isDevice:!1,url:i},a,r)},createLink:function(e,t,i,a,r){return u.createFile(e,t,{isDevice:!1,link:i},a,r)},createDevice:function(e,t,i,a){if(!i&&!a)throw Error("A device must have at least one callback defined.");return u.createFile(e,t,{isDevice:!0,input:i,output:a},Boolean(i),Boolean(a))},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest){var i=new XMLHttpRequest;i.open("GET",e.url,!1),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),200!=i.status&&0!=i.status&&(t=!1),e.contents=void 0!==i.response?new Uint8Array(i.response||[]):R(i.responseText||"",!0)}else{if("undefined"==typeof ka)throw Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=R(ka(e.url),!0)}catch(a){t=!1}}return t||z(la),t},ensureRoot:function(){u.root||(u.root={read:!0,write:!0,isFolder:!0,isDevice:!1,timestamp:Date.now(),inodeNumber:1,contents:{}})},init:function(e,i,a){ha(!u.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),u.init.initialized=!0,u.ensureRoot(),e||(e=function(){if(!e.cache||!e.cache.length){var t;"undefined"!=typeof window&&"function"==typeof window.prompt?t=window.prompt("Input: "):"function"==typeof readline&&(t=readline()),t||(t=""),e.cache=R(t+"\n",!0)}return e.cache.shift()}),i||(i=function(e){null===e||10===e?(i.printer(i.buffer.join("")),i.buffer=[]):i.buffer.push(String.fromCharCode(e))}),i.printer||(i.printer=ga),i.buffer||(i.buffer=[]),a||(a=i),u.createFolder("/","tmp",!0,!0);var n=u.createFolder("/","dev",!0,!0),o=u.createDevice(n,"stdin",e),s=u.createDevice(n,"stdout",null,i),a=u.createDevice(n,"stderr",null,a);u.createDevice(n,"tty",e,i),u.streams[1]={path:"/dev/stdin",object:o,position:0,isRead:!0,isWrite:!1,isAppend:!1,error:!1,eof:!1,ungotten:[]},u.streams[2]={path:"/dev/stdout",object:s,position:0,isRead:!1,isWrite:!0,isAppend:!1,error:!1,eof:!1,ungotten:[]},u.streams[3]={path:"/dev/stderr",object:a,position:0,isRead:!1,isWrite:!0,isAppend:!1,error:!1,eof:!1,ungotten:[]},Kb=t([1],"void*",r),Lb=t([2],"void*",r),Mb=t([3],"void*",r),u.createPath("/","dev/shm/tmp",!0,!0),u.streams[Kb]=u.streams[1],u.streams[Lb]=u.streams[2],u.streams[Mb]=u.streams[3],J=t([t([0,0,0,0,Kb,0,0,0,Lb,0,0,0,Mb,0,0,0],"void*",r)],"void*",r)},quit:function(){u.init.initialized&&(0<u.streams[2].object.output.buffer.length&&u.streams[2].object.output(10),0<u.streams[3].object.output.buffer.length&&u.streams[3].object.output(10))}};Bc.unshift({func:function(){u.ignorePermissions=!1,u.init.initialized||u.init()}}),id.push({func:function(){u.quit()}}),z(0),w.callMain=function(e){function i(){for(var e=0;3>e;e++)n.push(0)}var a=e.length+1,n=[t(R("/bin/this.program"),"i8",r)];i();for(var o=0;a-1>o;o+=1)n.push(t(R(e[o]),"i8",r)),i();return n.push(0),n=t(n,"i32",r),ib(a,n,0)};var ja,pd,Ad,Bd,ra,jb,db,Cb,qc,Fb,rc,sc,tc,Ec,n,vc,cd,wc,dd,m,B;p.__str=t([49,46,50,46,53,0],"i8",r),p.__str1=t([122,112,105,112,101,46,99,0],"i8",r),p.___func___def=t([100,101,102,0],"i8",r),p.__str2=t([114,101,116,32,33,61,32,90,95,83,84,82,69,65,77,95,69,82,82,79,82,0],"i8",r),p.__str3=t([115,116,114,109,46,97,118,97,105,108,95,105,110,32,61,61,32,48,0],"i8",r),p.__str4=t([114,101,116,32,61,61,32,90,95,83,84,82,69,65,77,95,69,78,68,0],"i8",r),p.___func___inf=t([105,110,102,0],"i8",r),p.__str5=t([122,112,105,112,101,58,32,0],"i8",r),p.__str6=t([101,114,114,111,114,32,114,101,97,100,105,110,103,32,115,116,100,105,110,10,0],"i8",r),p.__str7=t([101,114,114,111,114,32,119,114,105,116,105,110,103,32,115,116,100,111,117,116,10,0],"i8",r),p.__str8=t([105,110,118,97,108,105,100,32,99,111,109,112,114,101,115,115,105,111,110,32,108,101,118,101,108,10,0],"i8",r),p.__str9=t([105,110,118,97,108,105,100,32,111,114,32,105,110,99,111,109,112,108,101,116,101,32,100,101,102,108,97,116,101,32,100,97,116,97,10,0],"i8",r),p.__str10=t([111,117,116,32,111,102,32,109,101,109,111,114,121,10,0],"i8",r),p.__str11=t([122,108,105,98,32,118,101,114,115,105,111,110,32,109,105,115,109,97,116,99,104,33,10,0],"i8",r),p.__str12=t([45,100,0],"i8",r),p.__str13=t([122,112,105,112,101,32,117,115,97,103,101,58,32,122,112,105,112,101,32,91,45,100,93,32,60,32,115,111,117,114,99,101,32,62,32,100,101,115,116,10,0],"i8",r),ja=t([0,0,0,0,0,0,0,0,6,0,0,0,4,0,4,0,8,0,4,0,8,0,0,0,4,0,5,0,16,0,8,0,8,0,0,0,4,0,6,0,32,0,32,0,8,0,0,0,4,0,4,0,16,0,16,0,10,0,0,0,8,0,16,0,32,0,32,0,10,0,0,0,8,0,16,0,128,0,128,0,10,0,0,0,8,0,32,0,128,0,256,0,10,0,0,0,32,0,128,0,258,0,1024,0,10,0,0,0,32,0,258,0,258,0,4096,0,10,0,0,0],["i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0],r),pd=t([16,0,17,0,18,0,0,0,8,0,7,0,9,0,6,0,10,0,5,0,11,0,4,0,12,0,3,0,13,0,2,0,14,0,1,0,15,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],r),p.__str115=t([105,110,99,111,114,114,101,99,116,32,104,101,97,100,101,114,32,99,104,101,99,107,0],"i8",r),p.__str216=t([117,110,107,110,111,119,110,32,99,111,109,112,114,101,115,115,105,111,110,32,109,101,116,104,111,100,0],"i8",r),p.__str317=t([105,110,118,97,108,105,100,32,119,105,110,100,111,119,32,115,105,122,101,0],"i8",r),p.__str418=t([117,110,107,110,111,119,110,32,104,101,97,100,101,114,32,102,108,97,103,115,32,115,101,116,0],"i8",r),p.__str519=t([104,101,97,100,101,114,32,99,114,99,32,109,105,115,109,97,116,99,104,0],"i8",r),p.__str620=t([105,110,118,97,108,105,100,32,98,108,111,99,107,32,116,121,112,101,0],"i8",r),p.__str721=t([105,110,118,97,108,105,100,32,115,116,111,114,101,100,32,98,108,111,99,107,32,108,101,110,103,116,104,115,0],"i8",r),p.__str822=t([116,111,111,32,109,97,110,121,32,108,101,110,103,116,104,32,111,114,32,100,105,115,116,97,110,99,101,32,115,121,109,98,111,108,115,0],"i8",r),p.__str923=t([105,110,118,97,108,105,100,32,99,111,100,101,32,108,101,110,103,116,104,115,32,115,101,116,0],"i8",r),p.__str1024=t([105,110,118,97,108,105,100,32,98,105,116,32,108,101,110,103,116,104,32,114,101,112,101,97,116,0],"i8",r),p.__str1125=t([105,110,118,97,108,105,100,32,99,111,100,101,32,45,45,32,109,105,115,115,105,110,103,32,101,110,100,45,111,102,45,98,108,111,99,107,0],"i8",r),p.__str1226=t([105,110,118,97,108,105,100,32,108,105,116,101,114,97,108,47,108,101,110,103,116,104,115,32,115,101,116,0],"i8",r),p.__str1327=t([105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,115,32,115,101,116,0],"i8",r),p.__str17=t([105,110,99,111,114,114,101,99,116,32,100,97,116,97,32,99,104,101,99,107,0],"i8",r),p.__str18=t([105,110,99,111,114,114,101,99,116,32,108,101,110,103,116,104,32,99,104,101,99,107,0],"i8",r),Ad=t([96,7,0,0,0,8,80,0,0,8,16,0,20,8,115,0,18,7,31,0,0,8,112,0,0,8,48,0,0,9,192,0,16,7,10,0,0,8,96,0,0,8,32,0,0,9,160,0,0,8,0,0,0,8,128,0,0,8,64,0,0,9,224,0,16,7,6,0,0,8,88,0,0,8,24,0,0,9,144,0,19,7,59,0,0,8,120,0,0,8,56,0,0,9,208,0,17,7,17,0,0,8,104,0,0,8,40,0,0,9,176,0,0,8,8,0,0,8,136,0,0,8,72,0,0,9,240,0,16,7,4,0,0,8,84,0,0,8,20,0,21,8,227,0,19,7,43,0,0,8,116,0,0,8,52,0,0,9,200,0,17,7,13,0,0,8,100,0,0,8,36,0,0,9,168,0,0,8,4,0,0,8,132,0,0,8,68,0,0,9,232,0,16,7,8,0,0,8,92,0,0,8,28,0,0,9,152,0,20,7,83,0,0,8,124,0,0,8,60,0,0,9,216,0,18,7,23,0,0,8,108,0,0,8,44,0,0,9,184,0,0,8,12,0,0,8,140,0,0,8,76,0,0,9,248,0,16,7,3,0,0,8,82,0,0,8,18,0,21,8,163,0,19,7,35,0,0,8,114,0,0,8,50,0,0,9,196,0,17,7,11,0,0,8,98,0,0,8,34,0,0,9,164,0,0,8,2,0,0,8,130,0,0,8,66,0,0,9,228,0,16,7,7,0,0,8,90,0,0,8,26,0,0,9,148,0,20,7,67,0,0,8,122,0,0,8,58,0,0,9,212,0,18,7,19,0,0,8,106,0,0,8,42,0,0,9,180,0,0,8,10,0,0,8,138,0,0,8,74,0,0,9,244,0,16,7,5,0,0,8,86,0,0,8,22,0,64,8,0,0,19,7,51,0,0,8,118,0,0,8,54,0,0,9,204,0,17,7,15,0,0,8,102,0,0,8,38,0,0,9,172,0,0,8,6,0,0,8,134,0,0,8,70,0,0,9,236,0,16,7,9,0,0,8,94,0,0,8,30,0,0,9,156,0,20,7,99,0,0,8,126,0,0,8,62,0,0,9,220,0,18,7,27,0,0,8,110,0,0,8,46,0,0,9,188,0,0,8,14,0,0,8,142,0,0,8,78,0,0,9,252,0,96,7,0,0,0,8,81,0,0,8,17,0,21,8,131,0,18,7,31,0,0,8,113,0,0,8,49,0,0,9,194,0,16,7,10,0,0,8,97,0,0,8,33,0,0,9,162,0,0,8,1,0,0,8,129,0,0,8,65,0,0,9,226,0,16,7,6,0,0,8,89,0,0,8,25,0,0,9,146,0,19,7,59,0,0,8,121,0,0,8,57,0,0,9,210,0,17,7,17,0,0,8,105,0,0,8,41,0,0,9,178,0,0,8,9,0,0,8,137,0,0,8,73,0,0,9,242,0,16,7,4,0,0,8,85,0,0,8,21,0,16,8,258,0,19,7,43,0,0,8,117,0,0,8,53,0,0,9,202,0,17,7,13,0,0,8,101,0,0,8,37,0,0,9,170,0,0,8,5,0,0,8,133,0,0,8,69,0,0,9,234,0,16,7,8,0,0,8,93,0,0,8,29,0,0,9,154,0,20,7,83,0,0,8,125,0,0,8,61,0,0,9,218,0,18,7,23,0,0,8,109,0,0,8,45,0,0,9,186,0,0,8,13,0,0,8,141,0,0,8,77,0,0,9,250,0,16,7,3,0,0,8,83,0,0,8,19,0,21,8,195,0,19,7,35,0,0,8,115,0,0,8,51,0,0,9,198,0,17,7,11,0,0,8,99,0,0,8,35,0,0,9,166,0,0,8,3,0,0,8,131,0,0,8,67,0,0,9,230,0,16,7,7,0,0,8,91,0,0,8,27,0,0,9,150,0,20,7,67,0,0,8,123,0,0,8,59,0,0,9,214,0,18,7,19,0,0,8,107,0,0,8,43,0,0,9,182,0,0,8,11,0,0,8,139,0,0,8,75,0,0,9,246,0,16,7,5,0,0,8,87,0,0,8,23,0,64,8,0,0,19,7,51,0,0,8,119,0,0,8,55,0,0,9,206,0,17,7,15,0,0,8,103,0,0,8,39,0,0,9,174,0,0,8,7,0,0,8,135,0,0,8,71,0,0,9,238,0,16,7,9,0,0,8,95,0,0,8,31,0,0,9,158,0,20,7,99,0,0,8,127,0,0,8,63,0,0,9,222,0,18,7,27,0,0,8,111,0,0,8,47,0,0,9,190,0,0,8,15,0,0,8,143,0,0,8,79,0,0,9,254,0,96,7,0,0,0,8,80,0,0,8,16,0,20,8,115,0,18,7,31,0,0,8,112,0,0,8,48,0,0,9,193,0,16,7,10,0,0,8,96,0,0,8,32,0,0,9,161,0,0,8,0,0,0,8,128,0,0,8,64,0,0,9,225,0,16,7,6,0,0,8,88,0,0,8,24,0,0,9,145,0,19,7,59,0,0,8,120,0,0,8,56,0,0,9,209,0,17,7,17,0,0,8,104,0,0,8,40,0,0,9,177,0,0,8,8,0,0,8,136,0,0,8,72,0,0,9,241,0,16,7,4,0,0,8,84,0,0,8,20,0,21,8,227,0,19,7,43,0,0,8,116,0,0,8,52,0,0,9,201,0,17,7,13,0,0,8,100,0,0,8,36,0,0,9,169,0,0,8,4,0,0,8,132,0,0,8,68,0,0,9,233,0,16,7,8,0,0,8,92,0,0,8,28,0,0,9,153,0,20,7,83,0,0,8,124,0,0,8,60,0,0,9,217,0,18,7,23,0,0,8,108,0,0,8,44,0,0,9,185,0,0,8,12,0,0,8,140,0,0,8,76,0,0,9,249,0,16,7,3,0,0,8,82,0,0,8,18,0,21,8,163,0,19,7,35,0,0,8,114,0,0,8,50,0,0,9,197,0,17,7,11,0,0,8,98,0,0,8,34,0,0,9,165,0,0,8,2,0,0,8,130,0,0,8,66,0,0,9,229,0,16,7,7,0,0,8,90,0,0,8,26,0,0,9,149,0,20,7,67,0,0,8,122,0,0,8,58,0,0,9,213,0,18,7,19,0,0,8,106,0,0,8,42,0,0,9,181,0,0,8,10,0,0,8,138,0,0,8,74,0,0,9,245,0,16,7,5,0,0,8,86,0,0,8,22,0,64,8,0,0,19,7,51,0,0,8,118,0,0,8,54,0,0,9,205,0,17,7,15,0,0,8,102,0,0,8,38,0,0,9,173,0,0,8,6,0,0,8,134,0,0,8,70,0,0,9,237,0,16,7,9,0,0,8,94,0,0,8,30,0,0,9,157,0,20,7,99,0,0,8,126,0,0,8,62,0,0,9,221,0,18,7,27,0,0,8,110,0,0,8,46,0,0,9,189,0,0,8,14,0,0,8,142,0,0,8,78,0,0,9,253,0,96,7,0,0,0,8,81,0,0,8,17,0,21,8,131,0,18,7,31,0,0,8,113,0,0,8,49,0,0,9,195,0,16,7,10,0,0,8,97,0,0,8,33,0,0,9,163,0,0,8,1,0,0,8,129,0,0,8,65,0,0,9,227,0,16,7,6,0,0,8,89,0,0,8,25,0,0,9,147,0,19,7,59,0,0,8,121,0,0,8,57,0,0,9,211,0,17,7,17,0,0,8,105,0,0,8,41,0,0,9,179,0,0,8,9,0,0,8,137,0,0,8,73,0,0,9,243,0,16,7,4,0,0,8,85,0,0,8,21,0,16,8,258,0,19,7,43,0,0,8,117,0,0,8,53,0,0,9,203,0,17,7,13,0,0,8,101,0,0,8,37,0,0,9,171,0,0,8,5,0,0,8,133,0,0,8,69,0,0,9,235,0,16,7,8,0,0,8,93,0,0,8,29,0,0,9,155,0,20,7,83,0,0,8,125,0,0,8,61,0,0,9,219,0,18,7,23,0,0,8,109,0,0,8,45,0,0,9,187,0,0,8,13,0,0,8,141,0,0,8,77,0,0,9,251,0,16,7,3,0,0,8,83,0,0,8,19,0,21,8,195,0,19,7,35,0,0,8,115,0,0,8,51,0,0,9,199,0,17,7,11,0,0,8,99,0,0,8,35,0,0,9,167,0,0,8,3,0,0,8,131,0,0,8,67,0,0,9,231,0,16,7,7,0,0,8,91,0,0,8,27,0,0,9,151,0,20,7,67,0,0,8,123,0,0,8,59,0,0,9,215,0,18,7,19,0,0,8,107,0,0,8,43,0,0,9,183,0,0,8,11,0,0,8,139,0,0,8,75,0,0,9,247,0,16,7,5,0,0,8,87,0,0,8,23,0,64,8,0,0,19,7,51,0,0,8,119,0,0,8,55,0,0,9,207,0,17,7,15,0,0,8,103,0,0,8,39,0,0,9,175,0,0,8,7,0,0,8,135,0,0,8,71,0,0,9,239,0,16,7,9,0,0,8,95,0,0,8,31,0,0,9,159,0,20,7,99,0,0,8,127,0,0,8,63,0,0,9,223,0,18,7,27,0,0,8,111,0,0,8,47,0,0,9,191,0,0,8,15,0,0,8,143,0,0,8,79,0,0,9,255,0],["i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0],r),Bd=t([16,5,1,0,23,5,257,0,19,5,17,0,27,5,4097,0,17,5,5,0,25,5,1025,0,21,5,65,0,29,5,16385,0,16,5,3,0,24,5,513,0,20,5,33,0,28,5,8193,0,18,5,9,0,26,5,2049,0,22,5,129,0,64,5,0,0,16,5,2,0,23,5,385,0,19,5,25,0,27,5,6145,0,17,5,7,0,25,5,1537,0,21,5,97,0,29,5,24577,0,16,5,4,0,24,5,769,0,20,5,49,0,28,5,12289,0,18,5,13,0,26,5,3073,0,22,5,193,0,64,5,0,0],["i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0],r),p.__dist_code=t([0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29],"i8",r),p.__length_code=t([0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],"i8",r),ra=t([0,0,0,0,0,0,0,0,257,0,0,0,286,0,0,0,15,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),jb=t([0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,15,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),db=t([0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,7,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),Cb=t([12,0,8,0,140,0,8,0,76,0,8,0,204,0,8,0,44,0,8,0,172,0,8,0,108,0,8,0,236,0,8,0,28,0,8,0,156,0,8,0,92,0,8,0,220,0,8,0,60,0,8,0,188,0,8,0,124,0,8,0,252,0,8,0,2,0,8,0,130,0,8,0,66,0,8,0,194,0,8,0,34,0,8,0,162,0,8,0,98,0,8,0,226,0,8,0,18,0,8,0,146,0,8,0,82,0,8,0,210,0,8,0,50,0,8,0,178,0,8,0,114,0,8,0,242,0,8,0,10,0,8,0,138,0,8,0,74,0,8,0,202,0,8,0,42,0,8,0,170,0,8,0,106,0,8,0,234,0,8,0,26,0,8,0,154,0,8,0,90,0,8,0,218,0,8,0,58,0,8,0,186,0,8,0,122,0,8,0,250,0,8,0,6,0,8,0,134,0,8,0,70,0,8,0,198,0,8,0,38,0,8,0,166,0,8,0,102,0,8,0,230,0,8,0,22,0,8,0,150,0,8,0,86,0,8,0,214,0,8,0,54,0,8,0,182,0,8,0,118,0,8,0,246,0,8,0,14,0,8,0,142,0,8,0,78,0,8,0,206,0,8,0,46,0,8,0,174,0,8,0,110,0,8,0,238,0,8,0,30,0,8,0,158,0,8,0,94,0,8,0,222,0,8,0,62,0,8,0,190,0,8,0,126,0,8,0,254,0,8,0,1,0,8,0,129,0,8,0,65,0,8,0,193,0,8,0,33,0,8,0,161,0,8,0,97,0,8,0,225,0,8,0,17,0,8,0,145,0,8,0,81,0,8,0,209,0,8,0,49,0,8,0,177,0,8,0,113,0,8,0,241,0,8,0,9,0,8,0,137,0,8,0,73,0,8,0,201,0,8,0,41,0,8,0,169,0,8,0,105,0,8,0,233,0,8,0,25,0,8,0,153,0,8,0,89,0,8,0,217,0,8,0,57,0,8,0,185,0,8,0,121,0,8,0,249,0,8,0,5,0,8,0,133,0,8,0,69,0,8,0,197,0,8,0,37,0,8,0,165,0,8,0,101,0,8,0,229,0,8,0,21,0,8,0,149,0,8,0,85,0,8,0,213,0,8,0,53,0,8,0,181,0,8,0,117,0,8,0,245,0,8,0,13,0,8,0,141,0,8,0,77,0,8,0,205,0,8,0,45,0,8,0,173,0,8,0,109,0,8,0,237,0,8,0,29,0,8,0,157,0,8,0,93,0,8,0,221,0,8,0,61,0,8,0,189,0,8,0,125,0,8,0,253,0,8,0,19,0,9,0,275,0,9,0,147,0,9,0,403,0,9,0,83,0,9,0,339,0,9,0,211,0,9,0,467,0,9,0,51,0,9,0,307,0,9,0,179,0,9,0,435,0,9,0,115,0,9,0,371,0,9,0,243,0,9,0,499,0,9,0,11,0,9,0,267,0,9,0,139,0,9,0,395,0,9,0,75,0,9,0,331,0,9,0,203,0,9,0,459,0,9,0,43,0,9,0,299,0,9,0,171,0,9,0,427,0,9,0,107,0,9,0,363,0,9,0,235,0,9,0,491,0,9,0,27,0,9,0,283,0,9,0,155,0,9,0,411,0,9,0,91,0,9,0,347,0,9,0,219,0,9,0,475,0,9,0,59,0,9,0,315,0,9,0,187,0,9,0,443,0,9,0,123,0,9,0,379,0,9,0,251,0,9,0,507,0,9,0,7,0,9,0,263,0,9,0,135,0,9,0,391,0,9,0,71,0,9,0,327,0,9,0,199,0,9,0,455,0,9,0,39,0,9,0,295,0,9,0,167,0,9,0,423,0,9,0,103,0,9,0,359,0,9,0,231,0,9,0,487,0,9,0,23,0,9,0,279,0,9,0,151,0,9,0,407,0,9,0,87,0,9,0,343,0,9,0,215,0,9,0,471,0,9,0,55,0,9,0,311,0,9,0,183,0,9,0,439,0,9,0,119,0,9,0,375,0,9,0,247,0,9,0,503,0,9,0,15,0,9,0,271,0,9,0,143,0,9,0,399,0,9,0,79,0,9,0,335,0,9,0,207,0,9,0,463,0,9,0,47,0,9,0,303,0,9,0,175,0,9,0,431,0,9,0,111,0,9,0,367,0,9,0,239,0,9,0,495,0,9,0,31,0,9,0,287,0,9,0,159,0,9,0,415,0,9,0,95,0,9,0,351,0,9,0,223,0,9,0,479,0,9,0,63,0,9,0,319,0,9,0,191,0,9,0,447,0,9,0,127,0,9,0,383,0,9,0,255,0,9,0,511,0,9,0,0,0,7,0,64,0,7,0,32,0,7,0,96,0,7,0,16,0,7,0,80,0,7,0,48,0,7,0,112,0,7,0,8,0,7,0,72,0,7,0,40,0,7,0,104,0,7,0,24,0,7,0,88,0,7,0,56,0,7,0,120,0,7,0,4,0,7,0,68,0,7,0,36,0,7,0,100,0,7,0,20,0,7,0,84,0,7,0,52,0,7,0,116,0,7,0,3,0,8,0,131,0,8,0,67,0,8,0,195,0,8,0,35,0,8,0,163,0,8,0,99,0,8,0,227,0,8,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],r),qc=t([0,0,5,0,16,0,5,0,8,0,5,0,24,0,5,0,4,0,5,0,20,0,5,0,12,0,5,0,28,0,5,0,2,0,5,0,18,0,5,0,10,0,5,0,26,0,5,0,6,0,5,0,22,0,5,0,14,0,5,0,30,0,5,0,1,0,5,0,17,0,5,0,9,0,5,0,25,0,5,0,5,0,5,0,21,0,5,0,13,0,5,0,29,0,5,0,3,0,5,0,19,0,5,0,11,0,5,0,27,0,5,0,7,0,5,0,23,0,5,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],r),Fb=t([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),rc=t([0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,10,0,0,0,12,0,0,0,14,0,0,0,16,0,0,0,20,0,0,0,24,0,0,0,28,0,0,0,32,0,0,0,40,0,0,0,48,0,0,0,56,0,0,0,64,0,0,0,80,0,0,0,96,0,0,0,112,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),sc=t([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,8,0,0,0,9,0,0,0,9,0,0,0,10,0,0,0,10,0,0,0,11,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),tc=t([0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,8,0,0,0,12,0,0,0,16,0,0,0,24,0,0,0,32,0,0,0,48,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,192,0,0,0,256,0,0,0,384,0,0,0,512,0,0,0,768,0,0,0,1024,0,0,0,1536,0,0,0,2048,0,0,0,3072,0,0,0,4096,0,0,0,6144,0,0,0,8192,0,0,0,12288,0,0,0,16384,0,0,0,24576,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),p._bl_order=t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],"i8",r),Ec=t([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,7,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),n=t([0,0,0,0,1996959894,0,0,0,-301047508,0,0,0,-1727442502,0,0,0,124634137,0,0,0,1886057615,0,0,0,-379345611,0,0,0,-1637575261,0,0,0,249268274,0,0,0,2044508324,0,0,0,-522852066,0,0,0,-1747789432,0,0,0,162941995,0,0,0,2125561021,0,0,0,-407360249,0,0,0,-1866523247,0,0,0,498536548,0,0,0,1789927666,0,0,0,-205950648,0,0,0,-2067906082,0,0,0,450548861,0,0,0,1843258603,0,0,0,-187386543,0,0,0,-2083289657,0,0,0,325883990,0,0,0,1684777152,0,0,0,-43845254,0,0,0,-1973040660,0,0,0,335633487,0,0,0,1661365465,0,0,0,-99664541,0,0,0,-1928851979,0,0,0,997073096,0,0,0,1281953886,0,0,0,-715111964,0,0,0,-1570279054,0,0,0,1006888145,0,0,0,1258607687,0,0,0,-770865667,0,0,0,-1526024853,0,0,0,901097722,0,0,0,1119000684,0,0,0,-608450090,0,0,0,-1396901568,0,0,0,853044451,0,0,0,1172266101,0,0,0,-589951537,0,0,0,-1412350631,0,0,0,651767980,0,0,0,1373503546,0,0,0,-925412992,0,0,0,-1076862698,0,0,0,565507253,0,0,0,1454621731,0,0,0,-809855591,0,0,0,-1195530993,0,0,0,671266974,0,0,0,1594198024,0,0,0,-972236366,0,0,0,-1324619484,0,0,0,795835527,0,0,0,1483230225,0,0,0,-1050600021,0,0,0,-1234817731,0,0,0,1994146192,0,0,0,31158534,0,0,0,-1731059524,0,0,0,-271249366,0,0,0,1907459465,0,0,0,112637215,0,0,0,-1614814043,0,0,0,-390540237,0,0,0,2013776290,0,0,0,251722036,0,0,0,-1777751922,0,0,0,-519137256,0,0,0,2137656763,0,0,0,141376813,0,0,0,-1855689577,0,0,0,-429695999,0,0,0,1802195444,0,0,0,476864866,0,0,0,-2056965928,0,0,0,-228458418,0,0,0,1812370925,0,0,0,453092731,0,0,0,-2113342271,0,0,0,-183516073,0,0,0,1706088902,0,0,0,314042704,0,0,0,-1950435094,0,0,0,-54949764,0,0,0,1658658271,0,0,0,366619977,0,0,0,-1932296973,0,0,0,-69972891,0,0,0,1303535960,0,0,0,984961486,0,0,0,-1547960204,0,0,0,-725929758,0,0,0,1256170817,0,0,0,1037604311,0,0,0,-1529756563,0,0,0,-740887301,0,0,0,1131014506,0,0,0,879679996,0,0,0,-1385723834,0,0,0,-631195440,0,0,0,1141124467,0,0,0,855842277,0,0,0,-1442165665,0,0,0,-586318647,0,0,0,1342533948,0,0,0,654459306,0,0,0,-1106571248,0,0,0,-921952122,0,0,0,1466479909,0,0,0,544179635,0,0,0,-1184443383,0,0,0,-832445281,0,0,0,1591671054,0,0,0,702138776,0,0,0,-1328506846,0,0,0,-942167884,0,0,0,1504918807,0,0,0,783551873,0,0,0,-1212326853,0,0,0,-1061524307,0,0,0,-306674912,0,0,0,-1698712650,0,0,0,62317068,0,0,0,1957810842,0,0,0,-355121351,0,0,0,-1647151185,0,0,0,81470997,0,0,0,1943803523,0,0,0,-480048366,0,0,0,-1805370492,0,0,0,225274430,0,0,0,2053790376,0,0,0,-468791541,0,0,0,-1828061283,0,0,0,167816743,0,0,0,2097651377,0,0,0,-267414716,0,0,0,-2029476910,0,0,0,503444072,0,0,0,1762050814,0,0,0,-144550051,0,0,0,-2140837941,0,0,0,426522225,0,0,0,1852507879,0,0,0,-19653770,0,0,0,-1982649376,0,0,0,282753626,0,0,0,1742555852,0,0,0,-105259153,0,0,0,-1900089351,0,0,0,397917763,0,0,0,1622183637,0,0,0,-690576408,0,0,0,-1580100738,0,0,0,953729732,0,0,0,1340076626,0,0,0,-776247311,0,0,0,-1497606297,0,0,0,1068828381,0,0,0,1219638859,0,0,0,-670225446,0,0,0,-1358292148,0,0,0,906185462,0,0,0,1090812512,0,0,0,-547295293,0,0,0,-1469587627,0,0,0,829329135,0,0,0,1181335161,0,0,0,-882789492,0,0,0,-1134132454,0,0,0,628085408,0,0,0,1382605366,0,0,0,-871598187,0,0,0,-1156888829,0,0,0,570562233,0,0,0,1426400815,0,0,0,-977650754,0,0,0,-1296233688,0,0,0,733239954,0,0,0,1555261956,0,0,0,-1026031705,0,0,0,-1244606671,0,0,0,752459403,0,0,0,1541320221,0,0,0,-1687895376,0,0,0,-328994266,0,0,0,1969922972,0,0,0,40735498,0,0,0,-1677130071,0,0,0,-351390145,0,0,0,1913087877,0,0,0,83908371,0,0,0,-1782625662,0,0,0,-491226604,0,0,0,2075208622,0,0,0,213261112,0,0,0,-1831694693,0,0,0,-438977011,0,0,0,2094854071,0,0,0,198958881,0,0,0,-2032938284,0,0,0,-237706686,0,0,0,1759359992,0,0,0,534414190,0,0,0,-2118248755,0,0,0,-155638181,0,0,0,1873836001,0,0,0,414664567,0,0,0,-2012718362,0,0,0,-15766928,0,0,0,1711684554,0,0,0,285281116,0,0,0,-1889165569,0,0,0,-127750551,0,0,0,1634467795,0,0,0,376229701,0,0,0,-1609899400,0,0,0,-686959890,0,0,0,1308918612,0,0,0,956543938,0,0,0,-1486412191,0,0,0,-799009033,0,0,0,1231636301,0,0,0,1047427035,0,0,0,-1362007478,0,0,0,-640263460,0,0,0,1088359270,0,0,0,936918e3,0,0,0,-1447252397,0,0,0,-558129467,0,0,0,1202900863,0,0,0,817233897,0,0,0,-1111625188,0,0,0,-893730166,0,0,0,1404277552,0,0,0,615818150,0,0,0,-1160759803,0,0,0,-841546093,0,0,0,1423857449,0,0,0,601450431,0,0,0,-1285129682,0,0,0,-1000256840,0,0,0,1567103746,0,0,0,711928724,0,0,0,-1274298825,0,0,0,-1022587231,0,0,0,1510334235,0,0,0,755167117,0,0,0,0,0,0,0,421212481,0,0,0,842424962,0,0,0,724390851,0,0,0,1684849924,0,0,0,2105013317,0,0,0,1448781702,0,0,0,1329698503,0,0,0,-925267448,0,0,0,-775767223,0,0,0,-84940662,0,0,0,-470492725,0,0,0,-1397403892,0,0,0,-1246855603,0,0,0,-1635570290,0,0,0,-2020074289,0,0,0,1254232657,0,0,0,1406739216,0,0,0,2029285587,0,0,0,1643069842,0,0,0,783210325,0,0,0,934667796,0,0,0,479770071,0,0,0,92505238,0,0,0,-2112120743,0,0,0,-1694455528,0,0,0,-1339163941,0,0,0,-1456026726,0,0,0,-428384931,0,0,0,-9671652,0,0,0,-733921313,0,0,0,-849736034,0,0,0,-1786501982,0,0,0,-1935731229,0,0,0,-1481488864,0,0,0,-1096190111,0,0,0,-236396122,0,0,0,-386674457,0,0,0,-1008827612,0,0,0,-624577947,0,0,0,1566420650,0,0,0,1145479147,0,0,0,1869335592,0,0,0,1987116393,0,0,0,959540142,0,0,0,539646703,0,0,0,185010476,0,0,0,303839341,0,0,0,-549046541,0,0,0,-966981710,0,0,0,-311405455,0,0,0,-194288336,0,0,0,-1154812937,0,0,0,-1573797194,0,0,0,-1994616459,0,0,0,-1878548428,0,0,0,396344571,0,0,0,243568058,0,0,0,631889529,0,0,0,1018359608,0,0,0,1945336319,0,0,0,1793607870,0,0,0,1103436669,0,0,0,1490954812,0,0,0,-260485371,0,0,0,-379421116,0,0,0,-1034998393,0,0,0,-615244602,0,0,0,-1810527743,0,0,0,-1928414400,0,0,0,-1507596157,0,0,0,-1086793278,0,0,0,950060301,0,0,0,565965900,0,0,0,177645455,0,0,0,328046286,0,0,0,1556873225,0,0,0,1171730760,0,0,0,1861902987,0,0,0,2011255754,0,0,0,-1162125996,0,0,0,-1549767659,0,0,0,-2004009002,0,0,0,-1852436841,0,0,0,-556296112,0,0,0,-942888687,0,0,0,-320734510,0,0,0,-168113261,0,0,0,1919080284,0,0,0,1803150877,0,0,0,1079293406,0,0,0,1498383519,0,0,0,370020952,0,0,0,253043481,0,0,0,607678682,0,0,0,1025720731,0,0,0,1711106983,0,0,0,2095471334,0,0,0,1472923941,0,0,0,1322268772,0,0,0,26324643,0,0,0,411738082,0,0,0,866634785,0,0,0,717028704,0,0,0,-1390091857,0,0,0,-1270886162,0,0,0,-1626176723,0,0,0,-2046184852,0,0,0,-918018901,0,0,0,-799861270,0,0,0,-75610583,0,0,0,-496666776,0,0,0,792689142,0,0,0,908347575,0,0,0,487136116,0,0,0,68299317,0,0,0,1263779058,0,0,0,1380486579,0,0,0,2036719216,0,0,0,1618931505,0,0,0,-404294658,0,0,0,-16923969,0,0,0,-707751556,0,0,0,-859070403,0,0,0,-2088093958,0,0,0,-1701771333,0,0,0,-1313057672,0,0,0,-1465424583,0,0,0,998479947,0,0,0,580430090,0,0,0,162921161,0,0,0,279890824,0,0,0,1609522511,0,0,0,1190423566,0,0,0,1842954189,0,0,0,1958874764,0,0,0,-212200893,0,0,0,-364829950,0,0,0,-1049857855,0,0,0,-663273088,0,0,0,-1758013625,0,0,0,-1909594618,0,0,0,-1526680123,0,0,0,-1139047292,0,0,0,1900120602,0,0,0,1750776667,0,0,0,1131931800,0,0,0,1517083097,0,0,0,355290910,0,0,0,204897887,0,0,0,656092572,0,0,0,1040194781,0,0,0,-1181220846,0,0,0,-1602014893,0,0,0,-1951505776,0,0,0,-1833610287,0,0,0,-571161322,0,0,0,-990907305,0,0,0,-272455788,0,0,0,-153512235,0,0,0,-1375224599,0,0,0,-1222865496,0,0,0,-1674453397,0,0,0,-2060783830,0,0,0,-898926099,0,0,0,-747616084,0,0,0,-128115857,0,0,0,-515495378,0,0,0,1725839073,0,0,0,2143618976,0,0,0,1424512099,0,0,0,1307796770,0,0,0,45282277,0,0,0,464110244,0,0,0,813994343,0,0,0,698327078,0,0,0,-456806728,0,0,0,-35741703,0,0,0,-688665542,0,0,0,-806814341,0,0,0,-2136380484,0,0,0,-1716364547,0,0,0,-1298200258,0,0,0,-1417398145,0,0,0,740041904,0,0,0,889656817,0,0,0,506086962,0,0,0,120682355,0,0,0,1215357364,0,0,0,1366020341,0,0,0,2051441462,0,0,0,1667084919,0,0,0,-872753330,0,0,0,-756947441,0,0,0,-104024628,0,0,0,-522746739,0,0,0,-1349119414,0,0,0,-1232264437,0,0,0,-1650429752,0,0,0,-2068102775,0,0,0,52649286,0,0,0,439905287,0,0,0,823476164,0,0,0,672009861,0,0,0,1733269570,0,0,0,2119477507,0,0,0,1434057408,0,0,0,1281543041,0,0,0,-2126985953,0,0,0,-1742474146,0,0,0,-1290885219,0,0,0,-1441425700,0,0,0,-447479781,0,0,0,-61918886,0,0,0,-681418087,0,0,0,-830909480,0,0,0,1239502615,0,0,0,1358593622,0,0,0,2077699477,0,0,0,1657543892,0,0,0,764250643,0,0,0,882293586,0,0,0,532408465,0,0,0,111204816,0,0,0,1585378284,0,0,0,1197851309,0,0,0,1816695150,0,0,0,1968414767,0,0,0,974272232,0,0,0,587794345,0,0,0,136598634,0,0,0,289367339,0,0,0,-1767409180,0,0,0,-1883486043,0,0,0,-1533994138,0,0,0,-1115018713,0,0,0,-221528864,0,0,0,-338653791,0,0,0,-1057104286,0,0,0,-639176925,0,0,0,347922877,0,0,0,229101820,0,0,0,646611775,0,0,0,1066513022,0,0,0,1892689081,0,0,0,1774917112,0,0,0,1122387515,0,0,0,1543337850,0,0,0,-597333067,0,0,0,-981574924,0,0,0,-296548041,0,0,0,-146261898,0,0,0,-1207325007,0,0,0,-1592614928,0,0,0,-1975530445,0,0,0,-1826292366,0,0,0,0,0,0,0,29518391,0,0,0,59036782,0,0,0,38190681,0,0,0,118073564,0,0,0,114017003,0,0,0,76381362,0,0,0,89069189,0,0,0,236147128,0,0,0,265370511,0,0,0,228034006,0,0,0,206958561,0,0,0,152762724,0,0,0,148411219,0,0,0,178138378,0,0,0,190596925,0,0,0,472294256,0,0,0,501532999,0,0,0,530741022,0,0,0,509615401,0,0,0,456068012,0,0,0,451764635,0,0,0,413917122,0,0,0,426358261,0,0,0,305525448,0,0,0,334993663,0,0,0,296822438,0,0,0,275991697,0,0,0,356276756,0,0,0,352202787,0,0,0,381193850,0,0,0,393929805,0,0,0,944588512,0,0,0,965684439,0,0,0,1003065998,0,0,0,973863097,0,0,0,1061482044,0,0,0,1049003019,0,0,0,1019230802,0,0,0,1023561829,0,0,0,912136024,0,0,0,933002607,0,0,0,903529270,0,0,0,874031361,0,0,0,827834244,0,0,0,815125939,0,0,0,852716522,0,0,0,856752605,0,0,0,611050896,0,0,0,631869351,0,0,0,669987326,0,0,0,640506825,0,0,0,593644876,0,0,0,580921211,0,0,0,551983394,0,0,0,556069653,0,0,0,712553512,0,0,0,733666847,0,0,0,704405574,0,0,0,675154545,0,0,0,762387700,0,0,0,749958851,0,0,0,787859610,0,0,0,792175277,0,0,0,1889177024,0,0,0,1901651959,0,0,0,1931368878,0,0,0,1927033753,0,0,0,2006131996,0,0,0,1985040171,0,0,0,1947726194,0,0,0,1976933189,0,0,0,2122964088,0,0,0,2135668303,0,0,0,2098006038,0,0,0,2093965857,0,0,0,2038461604,0,0,0,2017599123,0,0,0,2047123658,0,0,0,2076625661,0,0,0,1824272048,0,0,0,1836991623,0,0,0,1866005214,0,0,0,1861914857,0,0,0,1807058540,0,0,0,1786244187,0,0,0,1748062722,0,0,0,1777547317,0,0,0,1655668488,0,0,0,1668093247,0,0,0,1630251878,0,0,0,1625932113,0,0,0,1705433044,0,0,0,1684323811,0,0,0,1713505210,0,0,0,1742760333,0,0,0,1222101792,0,0,0,1226154263,0,0,0,1263738702,0,0,0,1251046777,0,0,0,1339974652,0,0,0,1310460363,0,0,0,1281013650,0,0,0,1301863845,0,0,0,1187289752,0,0,0,1191637167,0,0,0,1161842422,0,0,0,1149379777,0,0,0,1103966788,0,0,0,1074747507,0,0,0,1112139306,0,0,0,1133218845,0,0,0,1425107024,0,0,0,1429406311,0,0,0,1467333694,0,0,0,1454888457,0,0,0,1408811148,0,0,0,1379576507,0,0,0,1350309090,0,0,0,1371438805,0,0,0,1524775400,0,0,0,1528845279,0,0,0,1499917702,0,0,0,1487177649,0,0,0,1575719220,0,0,0,1546255107,0,0,0,1584350554,0,0,0,1605185389,0,0,0,-516613248,0,0,0,-520654409,0,0,0,-491663378,0,0,0,-478960167,0,0,0,-432229540,0,0,0,-402728597,0,0,0,-440899790,0,0,0,-461763323,0,0,0,-282703304,0,0,0,-287039473,0,0,0,-324886954,0,0,0,-312413087,0,0,0,-399514908,0,0,0,-370308909,0,0,0,-341100918,0,0,0,-362193731,0,0,0,-49039120,0,0,0,-53357881,0,0,0,-23630690,0,0,0,-11204951,0,0,0,-98955220,0,0,0,-69699045,0,0,0,-107035582,0,0,0,-128143755,0,0,0,-218044088,0,0,0,-222133377,0,0,0,-259769050,0,0,0,-247048431,0,0,0,-200719980,0,0,0,-171234397,0,0,0,-141715974,0,0,0,-162529331,0,0,0,-646423200,0,0,0,-658884777,0,0,0,-620984050,0,0,0,-616635591,0,0,0,-562956868,0,0,0,-541876341,0,0,0,-571137582,0,0,0,-600355867,0,0,0,-680850216,0,0,0,-693541137,0,0,0,-722478922,0,0,0,-718425471,0,0,0,-798841852,0,0,0,-777990605,0,0,0,-739872662,0,0,0,-769385891,0,0,0,-983630320,0,0,0,-996371417,0,0,0,-958780802,0,0,0,-954711991,0,0,0,-1034463540,0,0,0,-1013629701,0,0,0,-1043103070,0,0,0,-1072568171,0,0,0,-884101208,0,0,0,-896547425,0,0,0,-926319674,0,0,0,-922021391,0,0,0,-867956876,0,0,0,-846828221,0,0,0,-809446630,0,0,0,-838682323,0,0,0,-1850763712,0,0,0,-1871840137,0,0,0,-1842658770,0,0,0,-1813436391,0,0,0,-1767489892,0,0,0,-1755032405,0,0,0,-1792873742,0,0,0,-1797226299,0,0,0,-1615017992,0,0,0,-1635865137,0,0,0,-1674046570,0,0,0,-1644529247,0,0,0,-1732939996,0,0,0,-1720253165,0,0,0,-1691239606,0,0,0,-1695297155,0,0,0,-1920387792,0,0,0,-1941217529,0,0,0,-1911692962,0,0,0,-1882223767,0,0,0,-1971282452,0,0,0,-1958545445,0,0,0,-1996207742,0,0,0,-2000280651,0,0,0,-2087033720,0,0,0,-2108158273,0,0,0,-2145472282,0,0,0,-2116232495,0,0,0,-2070688684,0,0,0,-2058246557,0,0,0,-2028529606,0,0,0,-2032831987,0,0,0,-1444753248,0,0,0,-1474250089,0,0,0,-1436154674,0,0,0,-1415287047,0,0,0,-1360299908,0,0,0,-1356262837,0,0,0,-1385190382,0,0,0,-1397897691,0,0,0,-1477345e3,0,0,0,-1506546897,0,0,0,-1535814282,0,0,0,-1514717375,0,0,0,-1594349116,0,0,0,-1590017037,0,0,0,-1552089686,0,0,0,-1564567651,0,0,0,-1245416496,0,0,0,-1274668569,0,0,0,-1237276738,0,0,0,-1216164471,0,0,0,-1295131892,0,0,0,-1290817221,0,0,0,-1320611998,0,0,0,-1333041835,0,0,0,-1143528856,0,0,0,-1173010337,0,0,0,-1202457082,0,0,0,-1181639631,0,0,0,-1126266188,0,0,0,-1122180989,0,0,0,-1084596518,0,0,0,-1097321235,0,0,0,0,0,0,0,-1195612315,0,0,0,-1442199413,0,0,0,313896942,0,0,0,-1889364137,0,0,0,937357362,0,0,0,627793884,0,0,0,-1646839623,0,0,0,-978048785,0,0,0,2097696650,0,0,0,1874714724,0,0,0,-687765759,0,0,0,1255587768,0,0,0,-227878691,0,0,0,-522225869,0,0,0,1482887254,0,0,0,1343838111,0,0,0,-391827206,0,0,0,-99573996,0,0,0,1118632049,0,0,0,-545537848,0,0,0,1741137837,0,0,0,1970407491,0,0,0,-842109146,0,0,0,-1783791760,0,0,0,756094997,0,0,0,1067759611,0,0,0,-2028416866,0,0,0,449832999,0,0,0,-1569484990,0,0,0,-1329192788,0,0,0,142231497,0,0,0,-1607291074,0,0,0,412010587,0,0,0,171665333,0,0,0,-1299775280,0,0,0,793786473,0,0,0,-1746116852,0,0,0,-2057703198,0,0,0,1038456711,0,0,0,1703315409,0,0,0,-583343948,0,0,0,-812691622,0,0,0,1999841343,0,0,0,-354152314,0,0,0,1381529571,0,0,0,1089329165,0,0,0,-128860312,0,0,0,-265553759,0,0,0,1217896388,0,0,0,1512189994,0,0,0,-492939441,0,0,0,2135519222,0,0,0,-940242797,0,0,0,-717183107,0,0,0,1845280792,0,0,0,899665998,0,0,0,-1927039189,0,0,0,-1617553211,0,0,0,657096608,0,0,0,-1157806311,0,0,0,37822588,0,0,0,284462994,0,0,0,-1471616777,0,0,0,-1693165507,0,0,0,598228824,0,0,0,824021174,0,0,0,-1985873965,0,0,0,343330666,0,0,0,-1396004849,0,0,0,-1098971167,0,0,0,113467524,0,0,0,1587572946,0,0,0,-434366537,0,0,0,-190203815,0,0,0,1276501820,0,0,0,-775755899,0,0,0,1769898208,0,0,0,2076913422,0,0,0,-1015592853,0,0,0,-888336478,0,0,0,1941006535,0,0,0,1627703081,0,0,0,-642211764,0,0,0,1148164341,0,0,0,-53215344,0,0,0,-295284610,0,0,0,1457141531,0,0,0,247015245,0,0,0,-1241169880,0,0,0,-1531908154,0,0,0,470583459,0,0,0,-2116308966,0,0,0,963106687,0,0,0,735213713,0,0,0,-1821499404,0,0,0,992409347,0,0,0,-2087022490,0,0,0,-1859174520,0,0,0,697522413,0,0,0,-1270587308,0,0,0,217581361,0,0,0,508405983,0,0,0,-1494102086,0,0,0,-23928852,0,0,0,1177467017,0,0,0,1419450215,0,0,0,-332959742,0,0,0,1911572667,0,0,0,-917753890,0,0,0,-604405712,0,0,0,1665525589,0,0,0,1799331996,0,0,0,-746338311,0,0,0,-1053399017,0,0,0,2039091058,0,0,0,-463652917,0,0,0,1558270126,0,0,0,1314193216,0,0,0,-152528859,0,0,0,-1366587277,0,0,0,372764438,0,0,0,75645176,0,0,0,-1136777315,0,0,0,568925988,0,0,0,-1722451903,0,0,0,-1948198993,0,0,0,861712586,0,0,0,-312887749,0,0,0,1441124702,0,0,0,1196457648,0,0,0,-1304107,0,0,0,1648042348,0,0,0,-628668919,0,0,0,-936187417,0,0,0,1888390786,0,0,0,686661332,0,0,0,-1873675855,0,0,0,-2098964897,0,0,0,978858298,0,0,0,-1483798141,0,0,0,523464422,0,0,0,226935048,0,0,0,-1254447507,0,0,0,-1119821404,0,0,0,100435649,0,0,0,390670639,0,0,0,-1342878134,0,0,0,841119475,0,0,0,-1969352298,0,0,0,-1741963656,0,0,0,546822429,0,0,0,2029308235,0,0,0,-1068978642,0,0,0,-755170880,0,0,0,1782671013,0,0,0,-141140452,0,0,0,1328167289,0,0,0,1570739863,0,0,0,-450629134,0,0,0,1298864389,0,0,0,-170426784,0,0,0,-412954226,0,0,0,1608431339,0,0,0,-1039561134,0,0,0,2058742071,0,0,0,1744848601,0,0,0,-792976964,0,0,0,-1998638614,0,0,0,811816591,0,0,0,584513889,0,0,0,-1704288764,0,0,0,129869501,0,0,0,-1090403880,0,0,0,-1380684234,0,0,0,352848211,0,0,0,494030490,0,0,0,-1513215489,0,0,0,-1216641519,0,0,0,264757620,0,0,0,-1844389427,0,0,0,715964072,0,0,0,941166918,0,0,0,-2136639965,0,0,0,-658086283,0,0,0,1618608400,0,0,0,1926213374,0,0,0,-898381413,0,0,0,1470427426,0,0,0,-283601337,0,0,0,-38979159,0,0,0,1158766284,0,0,0,1984818694,0,0,0,-823031453,0,0,0,-599513459,0,0,0,1693991400,0,0,0,-114329263,0,0,0,1100160564,0,0,0,1395044826,0,0,0,-342174017,0,0,0,-1275476247,0,0,0,189112716,0,0,0,435162722,0,0,0,-1588827897,0,0,0,1016811966,0,0,0,-2077804837,0,0,0,-1768777419,0,0,0,774831696,0,0,0,643086745,0,0,0,-1628905732,0,0,0,-1940033262,0,0,0,887166583,0,0,0,-1456066866,0,0,0,294275499,0,0,0,54519365,0,0,0,-1149009632,0,0,0,-471821962,0,0,0,1532818963,0,0,0,1240029693,0,0,0,-246071656,0,0,0,1820460577,0,0,0,-734109372,0,0,0,-963916118,0,0,0,2117577167,0,0,0,-696303304,0,0,0,1858283101,0,0,0,2088143283,0,0,0,-993333546,0,0,0,1495127663,0,0,0,-509497078,0,0,0,-216785180,0,0,0,1269332353,0,0,0,332098007,0,0,0,-1418260814,0,0,0,-1178427044,0,0,0,25085497,0,0,0,-1666580864,0,0,0,605395429,0,0,0,916469259,0,0,0,-1910746770,0,0,0,-2040129881,0,0,0,1054503362,0,0,0,745528876,0,0,0,-1798063799,0,0,0,151290352,0,0,0,-1313282411,0,0,0,-1559410309,0,0,0,464596510,0,0,0,1137851976,0,0,0,-76654291,0,0,0,-371460413,0,0,0,1365741990,0,0,0,-860837601,0,0,0,1946996346,0,0,0,1723425172,0,0,0,-570095887,0,0,0,0,0,0,0,-1775237257,0,0,0,744558318,0,0,0,-1169094247,0,0,0,432303367,0,0,0,-1879807376,0,0,0,900031465,0,0,0,-1550490466,0,0,0,847829774,0,0,0,-1531388807,0,0,0,518641120,0,0,0,-1998990697,0,0,0,726447625,0,0,0,-1115901570,0,0,0,120436967,0,0,0,-1860321392,0,0,0,1678817053,0,0,0,-232738710,0,0,0,1215412723,0,0,0,-566116732,0,0,0,2111101466,0,0,0,-337322643,0,0,0,1370871028,0,0,0,-947530877,0,0,0,1452829715,0,0,0,-1062704284,0,0,0,2063164157,0,0,0,-322345590,0,0,0,1331429652,0,0,0,-647231901,0,0,0,1664946170,0,0,0,-183695219,0,0,0,-937398725,0,0,0,1578133836,0,0,0,-465477419,0,0,0,1920034722,0,0,0,-773586116,0,0,0,1205077067,0,0,0,-41611822,0,0,0,1807026853,0,0,0,-89606859,0,0,0,1821946434,0,0,0,-691422245,0,0,0,1090108588,0,0,0,-479406030,0,0,0,1969020741,0,0,0,-821176612,0,0,0,1497223595,0,0,0,-1406084826,0,0,0,973135441,0,0,0,-2142119992,0,0,0,375509183,0,0,0,-1242254303,0,0,0,600093526,0,0,0,-1718240561,0,0,0,262520248,0,0,0,-1632107992,0,0,0,143131999,0,0,0,-1294398266,0,0,0,619252657,0,0,0,-2021888209,0,0,0,290220120,0,0,0,-1424137791,0,0,0,1026385590,0,0,0,-1874731914,0,0,0,108124929,0,0,0,-1138699624,0,0,0,705746415,0,0,0,-1987726991,0,0,0,532002310,0,0,0,-1511735393,0,0,0,869578984,0,0,0,-1563883656,0,0,0,888733711,0,0,0,-1901590122,0,0,0,412618465,0,0,0,-1156748673,0,0,0,759000328,0,0,0,-1754504047,0,0,0,22832102,0,0,0,-195990677,0,0,0,1650551836,0,0,0,-667916923,0,0,0,1308648178,0,0,0,-309000596,0,0,0,2074411291,0,0,0,-1040971646,0,0,0,1472466933,0,0,0,-958812059,0,0,0,1357494034,0,0,0,-356991349,0,0,0,2089335292,0,0,0,-551690910,0,0,0,1227741717,0,0,0,-209923188,0,0,0,1699534075,0,0,0,1482797645,0,0,0,-833505990,0,0,0,1946205347,0,0,0,-500122668,0,0,0,1101389642,0,0,0,-678045635,0,0,0,1841615268,0,0,0,-67840301,0,0,0,1793681731,0,0,0,-52859340,0,0,0,1183344557,0,0,0,-793222950,0,0,0,1932330052,0,0,0,-451083469,0,0,0,1598818986,0,0,0,-914616867,0,0,0,1014039888,0,0,0,-1438580185,0,0,0,269487038,0,0,0,-2044719927,0,0,0,632645719,0,0,0,-1283100896,0,0,0,164914873,0,0,0,-1612422706,0,0,0,251256414,0,0,0,-1731602135,0,0,0,580440240,0,0,0,-1264003129,0,0,0,389919577,0,0,0,-2129808338,0,0,0,995933623,0,0,0,-1385383232,0,0,0,545503469,0,0,0,-1229733990,0,0,0,216184323,0,0,0,-1697468044,0,0,0,961009130,0,0,0,-1351101795,0,0,0,354867972,0,0,0,-2095653773,0,0,0,302736355,0,0,0,-2076482412,0,0,0,1047162125,0,0,0,-1470469510,0,0,0,198119140,0,0,0,-1644230253,0,0,0,665714698,0,0,0,-1315043459,0,0,0,1150488560,0,0,0,-761067385,0,0,0,1760690462,0,0,0,-20838807,0,0,0,1566008055,0,0,0,-882416256,0,0,0,1899392025,0,0,0,-419009682,0,0,0,1981535486,0,0,0,-533998711,0,0,0,1518000656,0,0,0,-867508889,0,0,0,1876933113,0,0,0,-101728626,0,0,0,1136572183,0,0,0,-712069024,0,0,0,-391915818,0,0,0,2123616673,0,0,0,-993863624,0,0,0,1391648591,0,0,0,-244859951,0,0,0,1733803174,0,0,0,-586762945,0,0,0,1261875784,0,0,0,-634712616,0,0,0,1276840623,0,0,0,-162921674,0,0,0,1618609217,0,0,0,-1007722273,0,0,0,1440704424,0,0,0,-275878351,0,0,0,2042521926,0,0,0,-1934401077,0,0,0,444819132,0,0,0,-1596821723,0,0,0,920807506,0,0,0,-1787360052,0,0,0,54987707,0,0,0,-1189739998,0,0,0,791020885,0,0,0,-1103381819,0,0,0,671858098,0,0,0,-1839549397,0,0,0,74101596,0,0,0,-1476405310,0,0,0,835702965,0,0,0,-1952523988,0,0,0,497999451,0,0,0,-1329437541,0,0,0,653419500,0,0,0,-1667011979,0,0,0,177433858,0,0,0,-1459222116,0,0,0,1060507371,0,0,0,-2056845454,0,0,0,324468741,0,0,0,-2109030507,0,0,0,343587042,0,0,0,-1372868229,0,0,0,941340172,0,0,0,-1685138798,0,0,0,230610405,0,0,0,-1209017220,0,0,0,568318731,0,0,0,-724380794,0,0,0,1122161905,0,0,0,-122430104,0,0,0,1854134815,0,0,0,-854147455,0,0,0,1529264630,0,0,0,-512249745,0,0,0,2001188632,0,0,0,-430307192,0,0,0,1885999103,0,0,0,-902101402,0,0,0,1544225041,0,0,0,-6396529,0,0,0,1773036280,0,0,0,-738235551,0,0,0,1171221526,0,0,0,2028079776,0,0,0,-288223785,0,0,0,1417872462,0,0,0,-1028455623,0,0,0,1629906855,0,0,0,-149528368,0,0,0,1296525641,0,0,0,-612929986,0,0,0,1248514478,0,0,0,-598026535,0,0,0,1712054080,0,0,0,-264513481,0,0,0,1403960489,0,0,0,-979452962,0,0,0,2144318023,0,0,0,-369117904,0,0,0,485670333,0,0,0,-1966949686,0,0,0,814986067,0,0,0,-1499220956,0,0,0,87478458,0,0,0,-1828268083,0,0,0,693624404,0,0,0,-1083713245,0,0,0,779773619,0,0,0,-1203084860,0,0,0,35350621,0,0,0,-1809092822,0,0,0,935201716,0,0,0,-1584526141,0,0,0,467600730,0,0,0,-1913716179,0,0,0,0,0,0,0,1093737241,0,0,0,-2107492814,0,0,0,-1017959125,0,0,0,80047204,0,0,0,1173649277,0,0,0,-2035852714,0,0,0,-946454193,0,0,0,143317448,0,0,0,1237041873,0,0,0,-1964445702,0,0,0,-874908445,0,0,0,206550444,0,0,0,1300147893,0,0,0,-1909619810,0,0,0,-820209529,0,0,0,1360183882,0,0,0,270784851,0,0,0,-747572104,0,0,0,-1841172639,0,0,0,1440198190,0,0,0,350663991,0,0,0,-675964900,0,0,0,-1769700603,0,0,0,1503140738,0,0,0,413728923,0,0,0,-604361296,0,0,0,-1697958231,0,0,0,1566406630,0,0,0,476867839,0,0,0,-549502508,0,0,0,-1643226419,0,0,0,-1574665067,0,0,0,-485122164,0,0,0,541504167,0,0,0,1635232190,0,0,0,-1495144207,0,0,0,-405736472,0,0,0,612622019,0,0,0,1706214874,0,0,0,-1431413411,0,0,0,-341883324,0,0,0,684485487,0,0,0,1778217078,0,0,0,-1368706759,0,0,0,-279303648,0,0,0,738789131,0,0,0,1832393746,0,0,0,-214546721,0,0,0,-1308140090,0,0,0,1901359341,0,0,0,811953140,0,0,0,-135058757,0,0,0,-1228787294,0,0,0,1972444297,0,0,0,882902928,0,0,0,-71524585,0,0,0,-1165130738,0,0,0,2044635429,0,0,0,955232828,0,0,0,-8785037,0,0,0,-1102518166,0,0,0,2098971969,0,0,0,1009442392,0,0,0,89094640,0,0,0,1149133545,0,0,0,-2027073598,0,0,0,-971221797,0,0,0,25826708,0,0,0,1086000781,0,0,0,-2081938522,0,0,0,-1025951553,0,0,0,231055416,0,0,0,1291107105,0,0,0,-1884842486,0,0,0,-828994285,0,0,0,151047260,0,0,0,1211225925,0,0,0,-1956447634,0,0,0,-900472457,0,0,0,1415429050,0,0,0,359440547,0,0,0,-700478072,0,0,0,-1760651631,0,0,0,1352194014,0,0,0,296340679,0,0,0,-755310100,0,0,0,-1815348491,0,0,0,1557619314,0,0,0,501643627,0,0,0,-558541760,0,0,0,-1618718887,0,0,0,1477578262,0,0,0,421729551,0,0,0,-630179804,0,0,0,-1690229955,0,0,0,-1486095003,0,0,0,-430250372,0,0,0,621398871,0,0,0,1681444942,0,0,0,-1548840703,0,0,0,-492860904,0,0,0,567060275,0,0,0,1627241514,0,0,0,-1344199507,0,0,0,-288342092,0,0,0,763564703,0,0,0,1823607174,0,0,0,-1423685431,0,0,0,-367701040,0,0,0,692485883,0,0,0,1752655330,0,0,0,-159826129,0,0,0,-1220008906,0,0,0,1947928861,0,0,0,891949572,0,0,0,-222538933,0,0,0,-1282586542,0,0,0,1893623161,0,0,0,837779040,0,0,0,-17570073,0,0,0,-1077740034,0,0,0,2089930965,0,0,0,1033948108,0,0,0,-97088893,0,0,0,-1157131878,0,0,0,2018819249,0,0,0,962963368,0,0,0,1268286267,0,0,0,178886690,0,0,0,-906316535,0,0,0,-1999917552,0,0,0,1331556191,0,0,0,242021446,0,0,0,-851453587,0,0,0,-1945189772,0,0,0,1125276403,0,0,0,35865066,0,0,0,-1049596735,0,0,0,-2143193128,0,0,0,1205286551,0,0,0,115748238,0,0,0,-977993563,0,0,0,-2071716932,0,0,0,445268337,0,0,0,1539005032,0,0,0,-1729595581,0,0,0,-640062374,0,0,0,508505365,0,0,0,1602106892,0,0,0,-1674765529,0,0,0,-585367490,0,0,0,302028985,0,0,0,1395753888,0,0,0,-1872580981,0,0,0,-783043182,0,0,0,382072029,0,0,0,1475669956,0,0,0,-1800944913,0,0,0,-711534090,0,0,0,-373553234,0,0,0,-1467147081,0,0,0,1809723804,0,0,0,720317061,0,0,0,-310809654,0,0,0,-1404538669,0,0,0,1864064504,0,0,0,774522593,0,0,0,-516497818,0,0,0,-1610103425,0,0,0,1666508884,0,0,0,577106765,0,0,0,-437014014,0,0,0,-1530746597,0,0,0,1737589808,0,0,0,648060713,0,0,0,-1196505628,0,0,0,-106963203,0,0,0,986510294,0,0,0,2080237775,0,0,0,-1133794944,0,0,0,-44387687,0,0,0,1040818098,0,0,0,2134410411,0,0,0,-1339810772,0,0,0,-250280139,0,0,0,843459102,0,0,0,1937191175,0,0,0,-1260294072,0,0,0,-170890415,0,0,0,914572922,0,0,0,2008178019,0,0,0,1322777291,0,0,0,266789330,0,0,0,-860500743,0,0,0,-1920673824,0,0,0,1242732207,0,0,0,186879414,0,0,0,-932142947,0,0,0,-1992180860,0,0,0,1180508931,0,0,0,124532762,0,0,0,-1002498767,0,0,0,-2062676440,0,0,0,1117278055,0,0,0,61428862,0,0,0,-1057326763,0,0,0,-2117377460,0,0,0,533018753,0,0,0,1593058200,0,0,0,-1649996109,0,0,0,-594143830,0,0,0,453006565,0,0,0,1513181180,0,0,0,-1721605417,0,0,0,-665617970,0,0,0,391110985,0,0,0,1451162192,0,0,0,-1792157829,0,0,0,-736310174,0,0,0,327847213,0,0,0,1388025396,0,0,0,-1847018721,0,0,0,-791044090,0,0,0,-319586722,0,0,0,-1379769017,0,0,0,1855015020,0,0,0,799036277,0,0,0,-399109574,0,0,0,-1459156701,0,0,0,1783899144,0,0,0,728055569,0,0,0,-461789290,0,0,0,-1521959793,0,0,0,1713082788,0,0,0,657099453,0,0,0,-524497934,0,0,0,-1584541461,0,0,0,1658781120,0,0,0,602924761,0,0,0,-1109279724,0,0,0,-53434611,0,0,0,1065585190,0,0,0,2125631807,0,0,0,-1188769680,0,0,0,-132789399,0,0,0,994502210,0,0,0,2054683995,0,0,0,-1251252772,0,0,0,-195395899,0,0,0,923358190,0,0,0,1983400183,0,0,0,-1313994312,0,0,0,-258010463,0,0,0,869023626,0,0,0,1929192595,0,0,0,0,0,0,0,929743361,0,0,0,1859421187,0,0,0,1505641986,0,0,0,-592967417,0,0,0,-339555578,0,0,0,-1300460284,0,0,0,-2062135547,0,0,0,-1202646258,0,0,0,-1891905265,0,0,0,-695888115,0,0,0,-504408820,0,0,0,1694046729,0,0,0,1402198024,0,0,0,170761738,0,0,0,1028086795,0,0,0,1889740316,0,0,0,1204413469,0,0,0,511156767,0,0,0,689791006,0,0,0,-1408553189,0,0,0,-1688081126,0,0,0,-1025529064,0,0,0,-172660455,0,0,0,-923650798,0,0,0,-6752493,0,0,0,-1507413743,0,0,0,-1857260784,0,0,0,341457941,0,0,0,590413332,0,0,0,2056173590,0,0,0,1306819095,0,0,0,-532263624,0,0,0,-684945607,0,0,0,-1902982853,0,0,0,-1174926534,0,0,0,1022247999,0,0,0,193234494,0,0,0,1379582012,0,0,0,1699742269,0,0,0,1477926454,0,0,0,1870502967,0,0,0,918805045,0,0,0,27858996,0,0,0,-2067835087,0,0,0,-1277848272,0,0,0,-362032334,0,0,0,-587132621,0,0,0,-1864013020,0,0,0,-1483757275,0,0,0,-30281945,0,0,0,-916771546,0,0,0,1280139811,0,0,0,2066194466,0,0,0,580511264,0,0,0,368256033,0,0,0,682915882,0,0,0,534690347,0,0,0,1180761129,0,0,0,1896496680,0,0,0,-199462611,0,0,0,-1015631060,0,0,0,-1698106066,0,0,0,-1381877969,0,0,0,-1064461712,0,0,0,-135833487,0,0,0,-1369891213,0,0,0,-1724654478,0,0,0,472224631,0,0,0,726618486,0,0,0,1928402804,0,0,0,1167840629,0,0,0,2027719038,0,0,0,1337346943,0,0,0,369626493,0,0,0,560123772,0,0,0,-1535868807,0,0,0,-1826733448,0,0,0,-895482758,0,0,0,-37042565,0,0,0,-1339114388,0,0,0,-2025554323,0,0,0,-554026897,0,0,0,-376374674,0,0,0,1820767595,0,0,0,1542223722,0,0,0,38941032,0,0,0,892924777,0,0,0,142585698,0,0,0,1058368867,0,0,0,1722493793,0,0,0,1371662688,0,0,0,-724064667,0,0,0,-474127260,0,0,0,-1174199706,0,0,0,-1922441113,0,0,0,550229832,0,0,0,396432713,0,0,0,1310675787,0,0,0,2037748042,0,0,0,-60563889,0,0,0,-888595378,0,0,0,-1833477556,0,0,0,-1512204211,0,0,0,-1734687674,0,0,0,-1343224249,0,0,0,-162643899,0,0,0,-1054571964,0,0,0,1144180033,0,0,0,1935150912,0,0,0,719735106,0,0,0,495749955,0,0,0,1349054804,0,0,0,1728197461,0,0,0,1052538199,0,0,0,165066582,0,0,0,-1933510573,0,0,0,-1146471854,0,0,0,-501973936,0,0,0,-713114031,0,0,0,-398859686,0,0,0,-548200357,0,0,0,-2031262119,0,0,0,-1316510632,0,0,0,881978205,0,0,0,66791772,0,0,0,1514499934,0,0,0,1831841119,0,0,0,-2145700383,0,0,0,-1217267744,0,0,0,-288378398,0,0,0,-643468317,0,0,0,1555250406,0,0,0,1809448679,0,0,0,845658341,0,0,0,84769508,0,0,0,944383727,0,0,0,253813998,0,0,0,1453236972,0,0,0,1643405549,0,0,0,-454938648,0,0,0,-746000919,0,0,0,-1976128533,0,0,0,-1118017046,0,0,0,-256371715,0,0,0,-942484996,0,0,0,-1637050370,0,0,0,-1459202561,0,0,0,739252986,0,0,0,461035771,0,0,0,1120182009,0,0,0,1974361336,0,0,0,1223229683,0,0,0,2139341554,0,0,0,641565936,0,0,0,290932465,0,0,0,-1807676940,0,0,0,-1557410827,0,0,0,-90862089,0,0,0,-838905866,0,0,0,1616738521,0,0,0,1463270104,0,0,0,243924186,0,0,0,971194075,0,0,0,-1124765218,0,0,0,-1952468001,0,0,0,-769526307,0,0,0,-448055332,0,0,0,-670274601,0,0,0,-278484522,0,0,0,-1227296812,0,0,0,-2119029291,0,0,0,77882064,0,0,0,869179601,0,0,0,1785784019,0,0,0,1561994450,0,0,0,285105861,0,0,0,664050884,0,0,0,2116737734,0,0,0,1228937415,0,0,0,-866756670,0,0,0,-79915581,0,0,0,-1568484415,0,0,0,-1779953216,0,0,0,-1464906293,0,0,0,-1614442550,0,0,0,-964965944,0,0,0,-250541111,0,0,0,1946633420,0,0,0,1131251405,0,0,0,450085071,0,0,0,767099598,0,0,0,1083617169,0,0,0,2013031824,0,0,0,776088466,0,0,0,422111635,0,0,0,-1673615722,0,0,0,-1420532585,0,0,0,-219536747,0,0,0,-981409644,0,0,0,-121127777,0,0,0,-810713442,0,0,0,-1777125220,0,0,0,-1585841507,0,0,0,611300760,0,0,0,319125401,0,0,0,1253781915,0,0,0,2110911386,0,0,0,808814989,0,0,0,123685772,0,0,0,1591807374,0,0,0,1770770319,0,0,0,-325222262,0,0,0,-604552565,0,0,0,-2109143927,0,0,0,-1255946616,0,0,0,-2006672765,0,0,0,-1089578878,0,0,0,-424665472,0,0,0,-774185855,0,0,0,1422693252,0,0,0,1671844229,0,0,0,974657415,0,0,0,225629574,0,0,0,-1596923223,0,0,0,-1749409624,0,0,0,-838572374,0,0,0,-110189397,0,0,0,2088299438,0,0,0,1259481519,0,0,0,313290669,0,0,0,633777580,0,0,0,411169191,0,0,0,803943334,0,0,0,1985312164,0,0,0,1094694821,0,0,0,-1003882336,0,0,0,-213697887,0,0,0,-1426228061,0,0,0,-1650999646,0,0,0,-797719371,0,0,0,-417790284,0,0,0,-1096335178,0,0,0,-1983020361,0,0,0,215731634,0,0,0,1001459635,0,0,0,1645169073,0,0,0,1432718256,0,0,0,1747113915,0,0,0,1598559674,0,0,0,116806584,0,0,0,832344505,0,0,0,-1265967428,0,0,0,-2082464579,0,0,0,-631350593,0,0,0,-315320130,0,0,0,0,0,0,0,1701297336,0,0,0,-1949824598,0,0,0,-290474734,0,0,0,1469538959,0,0,0,854646327,0,0,0,-597726427,0,0,0,-1187457123,0,0,0,-282544955,0,0,0,-1974531971,0,0,0,1692450159,0,0,0,25625047,0,0,0,-1195387318,0,0,0,-573019406,0,0,0,863494112,0,0,0,1443914584,0,0,0,-1621681840,0,0,0,-97475096,0,0,0,345968890,0,0,0,1912122434,0,0,0,-926909473,0,0,0,-1381513369,0,0,0,1124627061,0,0,0,644861645,0,0,0,1887415701,0,0,0,353898797,0,0,0,-71850945,0,0,0,-1630529401,0,0,0,669568794,0,0,0,1116697506,0,0,0,-1407138128,0,0,0,-918062584,0,0,0,1051669152,0,0,0,1539870232,0,0,0,-1251525878,0,0,0,-805271630,0,0,0,1765298223,0,0,0,207613079,0,0,0,-487564923,0,0,0,-2020088515,0,0,0,-779647387,0,0,0,-1260373283,0,0,0,1515163599,0,0,0,1059599223,0,0,0,-2045713174,0,0,0,-478717870,0,0,0,232320320,0,0,0,1757368824,0,0,0,-1577571344,0,0,0,-996174008,0,0,0,707797594,0,0,0,1331142370,0,0,0,-160478849,0,0,0,-1828129337,0,0,0,2108113109,0,0,0,415300717,0,0,0,1322295093,0,0,0,733422477,0,0,0,-988244321,0,0,0,-1602278873,0,0,0,424148410,0,0,0,2082488578,0,0,0,-1836059632,0,0,0,-135771992,0,0,0,1029182619,0,0,0,1480566819,0,0,0,-1232069327,0,0,0,-738745975,0,0,0,1791981076,0,0,0,262720172,0,0,0,-519602242,0,0,0,-2074033402,0,0,0,-764370850,0,0,0,-1223222042,0,0,0,1505274356,0,0,0,1021252940,0,0,0,-2048408879,0,0,0,-528449943,0,0,0,238013307,0,0,0,1799911363,0,0,0,-1576071733,0,0,0,-949440141,0,0,0,700908641,0,0,0,1285601497,0,0,0,-174559420,0,0,0,-1862282244,0,0,0,2119198446,0,0,0,456645206,0,0,0,1294448910,0,0,0,675284406,0,0,0,-957370204,0,0,0,-1551365092,0,0,0,447798145,0,0,0,2144823097,0,0,0,-1854352853,0,0,0,-199266669,0,0,0,66528827,0,0,0,1720752771,0,0,0,-2009124975,0,0,0,-312962263,0,0,0,1415595188,0,0,0,822605836,0,0,0,-542618338,0,0,0,-1160777306,0,0,0,-320892162,0,0,0,-1984418234,0,0,0,1729600340,0,0,0,40904684,0,0,0,-1152847759,0,0,0,-567325495,0,0,0,813758939,0,0,0,1441219939,0,0,0,-1667219605,0,0,0,-104365101,0,0,0,392705729,0,0,0,1913621113,0,0,0,-885563932,0,0,0,-1370431140,0,0,0,1090475086,0,0,0,630778102,0,0,0,1938328494,0,0,0,384775958,0,0,0,-129990140,0,0,0,-1658372420,0,0,0,606071073,0,0,0,1098405273,0,0,0,-1344806773,0,0,0,-894411725,0,0,0,1001806317,0,0,0,1590814037,0,0,0,-1333899193,0,0,0,-719721217,0,0,0,1814117218,0,0,0,155617242,0,0,0,-404147512,0,0,0,-2104586640,0,0,0,-727782104,0,0,0,-1309060720,0,0,0,1599530114,0,0,0,976312378,0,0,0,-2096525401,0,0,0,-428985569,0,0,0,146900493,0,0,0,1839610549,0,0,0,-1528741699,0,0,0,-1048118267,0,0,0,791234839,0,0,0,1246688687,0,0,0,-210361806,0,0,0,-1777230198,0,0,0,2025728920,0,0,0,500799264,0,0,0,1271526520,0,0,0,783173824,0,0,0,-1073611310,0,0,0,-1520025238,0,0,0,475961079,0,0,0,2033789519,0,0,0,-1751736483,0,0,0,-219077659,0,0,0,85551949,0,0,0,1618925557,0,0,0,-1898880281,0,0,0,-340337057,0,0,0,1385040322,0,0,0,938063226,0,0,0,-649723800,0,0,0,-1138639664,0,0,0,-365830264,0,0,0,-1890163920,0,0,0,1643763234,0,0,0,77490842,0,0,0,-1113146105,0,0,0,-658439745,0,0,0,913224877,0,0,0,1393100821,0,0,0,-1706135011,0,0,0,-14037339,0,0,0,294026167,0,0,0,1960953615,0,0,0,-841412462,0,0,0,-1463899094,0,0,0,1175525688,0,0,0,594978176,0,0,0,1969669848,0,0,0,268532320,0,0,0,-22098062,0,0,0,-1681296438,0,0,0,586261591,0,0,0,1201019119,0,0,0,-1455837699,0,0,0,-866250427,0,0,0,116280694,0,0,0,1669984718,0,0,0,-1926871844,0,0,0,-398329756,0,0,0,1366896633,0,0,0,874419009,0,0,0,-625924525,0,0,0,-1076454677,0,0,0,-372835917,0,0,0,-1935588085,0,0,0,1645146137,0,0,0,124341409,0,0,0,-1101948100,0,0,0,-617207932,0,0,0,899256982,0,0,0,1358835246,0,0,0,-1715907546,0,0,0,-52500322,0,0,0,309419404,0,0,0,1997988148,0,0,0,-835832151,0,0,0,-1421243887,0,0,0,1172717315,0,0,0,545358779,0,0,0,1989271779,0,0,0,334912603,0,0,0,-44439223,0,0,0,-1740745231,0,0,0,554074732,0,0,0,1147223764,0,0,0,-1429304378,0,0,0,-810993794,0,0,0,943816662,0,0,0,1562821486,0,0,0,-1282836868,0,0,0,-688993596,0,0,0,1876303193,0,0,0,179413473,0,0,0,-467790605,0,0,0,-2122733493,0,0,0,-680932589,0,0,0,-1307674709,0,0,0,1554105017,0,0,0,969309697,0,0,0,-2130794084,0,0,0,-442952412,0,0,0,188129334,0,0,0,1850809486,0,0,0,-1491704186,0,0,0,-1032725954,0,0,0,752774956,0,0,0,1236915092,0,0,0,-259980279,0,0,0,-1780041551,0,0,0,2068385187,0,0,0,506376475,0,0,0,1212076611,0,0,0,760835835,0,0,0,-1007232023,0,0,0,-1500420271,0,0,0,531214540,0,0,0,2060323956,0,0,0,-1805534874,0,0,0,-251263522,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],r),p.__str455=t([115,116,114,101,97,109,32,101,114,114,111,114,0],"i8",r),p.__str657=t([105,110,115,117,102,102,105,99,105,101,110,116,32,109,101,109,111,114,121,0],"i8",r),p.__str758=t([98,117,102,102,101,114,32,101,114,114,111,114,0],"i8",r),vc=t([3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,13,0,15,0,17,0,19,0,23,0,27,0,31,0,35,0,43,0,51,0,59,0,67,0,83,0,99,0,115,0,131,0,163,0,195,0,227,0,258,0,0,0,0,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],r),cd=t([16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,17,0,17,0,17,0,17,0,18,0,18,0,18,0,18,0,19,0,19,0,19,0,19,0,20,0,20,0,20,0,20,0,21,0,21,0,21,0,21,0,16,0,73,0,195,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],r),wc=t([1,0,2,0,3,0,4,0,5,0,7,0,9,0,13,0,17,0,25,0,33,0,49,0,65,0,97,0,129,0,193,0,257,0,385,0,513,0,769,0,1025,0,1537,0,2049,0,3073,0,4097,0,6145,0,8193,0,12289,0,16385,0,24577,0,0,0,0,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],r),dd=t([16,0,16,0,16,0,16,0,17,0,17,0,18,0,18,0,19,0,19,0,20,0,20,0,21,0,21,0,22,0,22,0,23,0,23,0,24,0,24,0,25,0,25,0,26,0,26,0,27,0,27,0,28,0,28,0,29,0,29,0,64,0,64,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],r),p.__str69=t([105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,32,116,111,111,32,102,97,114,32,98,97,99,107,0],"i8",r),p.__str170=t([105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,32,99,111,100,101,0],"i8",r),p.__str271=t([105,110,118,97,108,105,100,32,108,105,116,101,114,97,108,47,108,101,110,103,116,104,32,99,111,100,101,0],"i8",r),m=t(468,["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0,"i32",0,0,0],r),B=t(24,"i32",r),a[ra]=0|Cb,a[ra+4]=0|Fb,a[jb]=0|qc,a[jb+4]=0|sc,a[db+4]=0|Ec,F=[0,0,function(e,t,i){return 0!=(0|e)&&(t=-i+i+t|0),gb(i*t|0)
},0,function(e,t){zc(t)},0,fc,0,gc,0,ic,0],w.FUNCTION_TABLE=F,w.run=Ib;var Fc=$[fa];return function(){var e,t,i;return u.init(function(){if(t<e.length){var i=255&e.charCodeAt(t);return t++,i}return null},function(e){i+=String.fromCharCode(255&e)}),{inflate:function(a){if(e=a,t=0,i="",0!=Ib(["-d"]))throw Error("Could not inflate string");return i},deflate:function(a){if(e=a,t=0,i="",0!=Ib([]))throw Error("Could not deflate string");return i},noConflict:function(){return void 0===Fc?delete $[fa]:$[fa]=Fc,this}}}()});var Ü=function(e){function t(){e.wgl_renderer&&e._.omnibus&&(e.wgl_renderer.setSize(i.offsetWidth,i.offsetHeight),e._.omnibus.update())}e.scene={},e.wgl_renderer={};var i=null;return e.init=function(){e._.preloader.on(),i=document.getElementById("wgl"),e.scene=new THREE.Scene,e.wgl_renderer=new THREE.WebGLRenderer({alpha:!0}),e.wgl_renderer.setSize(i.offsetWidth,i.offsetHeight),e.wgl_renderer.setClearColor(0,0),i.appendChild(e.wgl_renderer.domElement)},window.addEventListener("resize",t),e.setStartingLocation=function(){var t=new e._.unitBuilder(19.486971,-99.117902,[1]);e.scene.add(t.unit);var i=new e._.unitBuilder(19.487229,-99.117819,[0,1]);i.unit.position.x=1e3,e.scene.add(i.unit);var a=new e._.unitBuilder(19.487556,-99.117715,[0],function(){e._.preloader.off()});a.unit.position.x=2e3,e.scene.add(a.unit),e.scene.add(e._.omnibus.van)},e.animate=function(){requestAnimationFrame(e.animate),e._.masterAnimate.bang(),e.wgl_renderer.render(e.scene,e._.omnibus.camera)},e}(Ü||{}),Ü=Ü||{};Ü._=Ü._||{},Ü._.littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();var Ü=Ü||{};Ü._=Ü._||{},Ü._.imageOps=function(e){return e.canvasCopyPrep=function(e,t){var i=e.width,a=e.height,r=e.getContext("2d"),n=r.getImageData(0,0,i,a),o=new Int32Array(n.data.buffer);this.img=document.createElement("canvas"),this.img.width=i,this.img.height=a;var s=this.img.getContext("2d"),l=s.createImageData(i,a),h=new Int32Array(l.data.buffer);t(i,a,o,h,n,l,r,s),s.putImageData(l,0,0)},e.canvasDataPrep=function(e){this.w=e.width,this.h=e.height,this.ctx=e.getContext("2d"),this.dat=this.ctx.getImageData(0,0,this.w,this.h),this.px=new Int32Array(this.dat.data.buffer),this.putData=function(){this.ctx.putImageData(this.dat,0,0)}},e.copy=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.drawImage(e,0,0),t},e.flipX=function(t){var i=new e.canvasCopyPrep(t,function(e,t,i,a){for(y=0;t>y;y++)for(x=0;e>x;x++){var r=e-x;a[r+y*e]=i[x+y*e]}});return i.img},e.flipY=function(t){var i=new e.canvasCopyPrep(t,function(e,t,i,a){for(y=0;srh>y;y++){var r=srh-y;for(x=0;srw>x;x++)a[x+r*srw]=i[x+y*srw]}});return i.img},e.backwards=function(t){var i=new e.canvasCopyPrep(t,function(e,t,i,a){var r=e*t;for(texel=0;r>texel;texel++)a[texel]=i[r-1-texel]});return i.img},e.resize=function(e,t,i,a){var r=e.width,n=e.height,o=document.createElement("canvas");a?(o.width=t,o.height=i):(o.width=r*t,o.height=n*i);var s=o.getContext("2d");return s.drawImage(e,0,0,o.width,o.height),o},e.alphaIntersect=function(t,i,a){var r=-16777216;a&&(r=-1);var n=new e.canvasCopyPrep(t,function(t,a,n,o){var s=e.resize(i,t,a,!0),l=new e.canvasDataPrep(s);for(texel=0;texel<n.length;texel++)o[texel]=l.px[texel]===r?0:-16777216});return n.img},e.cropInPlace=function(e,t,i,a,r,n){var o=document.createElement("canvas");o.width=e.width,o.height=e.height;var s=o.getContext("2d");if(n)var l=t,h=o.width-i-l,c=a,f=o.height-r-c;else var l=o.width*t,h=o.width*(1-i)-l,c=o.height*a,f=o.height*(1-r)-c;return s.drawImage(e,l,c,h,f,l,c,h,f),o},e.makeDisplacementMap=function(t,a,r){var n=document.createElement("canvas");n.width=a,n.height=r;var o=new e.canvasDataPrep(n),s=Ü._.littleEndian;for(i=0;i<t.length;i++){var l=a-i%a,h=i/a|0,c=h*a+l,f=t[i],u=0;u=f>1e4?255:f/199*255,o.px[c]=s?255<<24|u<<16|u<<8|u:u<<24|u<<16|u<<8|255}return o.putData(),n},e.cannyEdge=function(t){var i=new e.canvasCopyPrep(t,function(e,t,i,a,r){var n=new jsfeat.matrix_t(e,t,jsfeat.U8C1_t);if(jsfeat.imgproc.grayscale(r.data,n.data),jsfeat.imgproc.canny(n,n,95,105),Ü._.littleEndian)for(txl=0;txl<a.length;txl++){var o=n.data[txl];a[txl]=255<<24|o<<16|o<<8|o}else for(txl=0;txl<a.length;txl++){var o=n.data[txl];a[txl]=o<<24|o<<16|o<<8|255}});return i.img},e}({});var Ü=Ü||{};Ü._=Ü._||{},Ü._.masterAnimate=function(e){var t=[];return e.start=function(e){if("function"!=typeof e)throw"masterRender only takes functions";t.push(e)},e.stop=function(e){var i=t.indexOf(e);if(!(i>-1))throw"masterRender cannot find that to stop";t.splice(i,1)},e.bang=function(){for(i=0;i<t.length;i++)t[i]()},e}({});var Ü=Ü||{};Ü._=Ü._||{},Ü._.omnibus=function(e){function t(e){E=e.clientX,v=e.clientY,d=!0}function i(){g=0,y=0,d=!1}function a(e){d&&(p=e.clientX,m=e.clientY,g=(v-m)/window.innerWidth*2,y=(p-E)/window.innerHeight*6,v=m,E=p)}function r(e){switch(e.keyCode){case 87:T=50;break;case 65:x=-50;break;case 83:T=-50;break;case 68:x=50}}function n(e){switch(e.keyCode){case 87:T=0;break;case 65:x=0;break;case 83:T=0;break;case 68:x=0}}function o(e){e.addEventListener("mousedown",t,!1),e.addEventListener("mouseup",i,!1),e.addEventListener("mousemove",a,!1),document.addEventListener("keydown",r,!1),document.addEventListener("keyup",n,!1)}function s(){e.van.rotation.y+=-y,e.camera.rotation.x+=-g,e.van.translateOnAxis(l,x),e.van.translateOnAxis(h,T)}e.van=new THREE.Object3D;var l=new THREE.Vector3(1,0,0),h=new THREE.Vector3(0,0,-1),c=70,f=1,u=4e4;e.camera=new THREE.PerspectiveCamera(c,window.innerWidth/window.innerHeight,f,u),e.van.add(l),e.van.add(h),e.van.add(e.camera);var d=!1,p=0,m=0,E=0,v=0,g=0,y=0,T=0,x=0;return $(document).ready(function(){var t=document.getElementById("wgl");e.update=function(){e.camera.projectionMatrix.makePerspective(c,t.offsetWidth/t.offsetHeight,f,u)},e.setCursor=function(e){t.style.cursor=e},o(t)}),Ü._.masterAnimate.start(s),e}({});var Ü=Ü||{};Ü._=Ü._||{},Ü._.preloader=function(e){var t=new Image;return t.src="../static/virgo_preload_draft.gif",e.on=function(){var e=document.getElementById("preloader");t.onload=function(){e.appendChild(t)}},e.off=function(){var e=$("#preloader");e.fadeOut(100,"linear",function(){e.css("display","none")}),Ü._.omnibus.setCursor("all-scroll")},e}({});var Ü=Ü||{};Ü._=Ü._||{},Ü._.project=function(e){var t=new THREE.WebGLRenderer,i=function(e){this.w=e.width,this.h=e.height,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,1,1e-4,1e4);var t=new THREE.Texture(e),i=new THREE.SphereGeometry(100,100,100),a=new THREE.MeshBasicMaterial({map:t}),r=new THREE.Mesh(i,a);r.scale.x=-1,r.material.map.needsUpdate=!0,this.scene.add(r),this.scene.add(this.camera),this.snapshot=function(e,t,i,a){return this.camera.lookAt(new THREE.Vector3(e,t,i)),a.render(this.scene,this.camera),Ü._.imageOps.copy(a.domElement)}};return e.sphereToCube=function(e){var a=new i(e),r=Math.floor(Math.sqrt(a.w*a.h/6));t.setSize(r,r);var n=a.snapshot(-1,0,0,t),o=a.snapshot(1,0,0,t),s=a.snapshot(0,-1,0,t),l=a.snapshot(0,1,0,t),h=a.snapshot(0,0,-1,t),c=a.snapshot(0,0,1,t);return[n,o,s,l,h,c]},e}({});var Ü=Ü||{};Ü._=Ü._||{},Ü._.shaders={basicDisplacement:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap,{enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1}}]),vertexShader:["uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","	uniform sampler2D tDisplacement;","	uniform float uDisplacementScale;","	uniform float uDisplacementBias;","#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"varying vec3 vWorldPosition;","varying vec3 vViewPosition;","void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"	#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,"	#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"	vec3 displacedPosition;","	#ifdef VERTEX_TEXTURES","		if ( enableDisplacement ) {","			vec3 dv = texture2D( tDisplacement, uv ).xyz;","			float df = uDisplacementScale * dv.x + uDisplacementBias;","			displacedPosition = position + normalize( normal ) * df;","		}","	#endif","	vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","	vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","	gl_Position = projectionMatrix * mvPosition;","	vWorldPosition = worldPosition.xyz;","	vViewPosition = -mvPosition.xyz;","	#ifdef USE_SHADOWMAP","		for( int i = 0; i < MAX_SHADOWS; i ++ ) {","			vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","		}","	#endif","}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")}};var Ü=Ü||{};Ü._=Ü._||{},Ü._.unitBuilder=function(e,t,a,r){var n=1e3;this.unit=new THREE.Object3D,this.location=new google.maps.LatLng(e,t),this.knockouts=a,this.callback=r;var o=this,s=new GSVPANO.PanoLoader;s.setZoom(3);var l=new GSVPANO.PanoDepthLoader,h=function(e){var t=0,i=0,a={},r=0,n=0,o=[],s={};return e.setMapData=function(e){t=e.height,i=e.width,a=e},e.setDispDataAndMakeMap=function(e,t,i){r=e,n=t,o=i,s=Ü._.imageOps.makeDisplacementMap(o,n,r)},e.getPanos=function(){return[a,s]},e}({}),c=function(){var e=n/2,t=6-o.knockouts.length,a=h.getPanos(),r=Ü._.project.sphereToCube(a[0]),s=Ü._.project.sphereToCube(a[1]),l=[],c=[],f=0;for(i=0;6>i;i++)-1===o.knockouts.indexOf(i)&&(l[f]=r[i],c[f]=s[i],f++);var u=[];for(i=0;t>i;i++)u[i]=Ü._.imageOps.cannyEdge(l[i]);var d=[];for(i=0;t>i;i++)d[i]=Ü._.imageOps.alphaIntersect(l[i],u[i]);var p=[],m=[];for(i=0;t>i;i++)p[i]=new THREE.Texture(d[i]),m[i]=new THREE.Texture(c[i]);THREE.ShaderMaterial.prototype.map=null,THREE.ShaderMaterial.prototype.tDisplacement=null;var E=[];for(i=0;t>i;i++){var v=Ü._.shaders.basicDisplacement,g=THREE.UniformsUtils.clone(v.uniforms);g.enableDisplacement.value=!0,g.map.value=p[i],g.tDisplacement.value=m[i],g.uDisplacementBias.value=0,g.uDisplacementScale.value=0,E[i]=new THREE.ShaderMaterial({uniforms:g,fragmentShader:v.fragmentShader,vertexShader:v.vertexShader,map:p[i],tDisplacement:m[i],transparent:!0})}var y=[];for(i=0;t>i;i++)y[i]=new THREE.PlaneGeometry(n,n,1,1);var T=[];for(i=0;t>i;i++)T[i]=new THREE.Mesh(y[i],E[i]),T[i].material.map.needsUpdate=!0,T[i].material.tDisplacement.needsUpdate=!0;var x=0;for(i=0;6>i;i++)if(-1===o.knockouts.indexOf(i)){switch(i){case 0:T[x].rotation.y=Math.PI/2,T[x].position.x=-e;break;case 1:T[x].rotation.y=-Math.PI/2,T[x].position.x=e;break;case 2:T[x].rotation.x=-Math.PI/2,T[x].rotation.z=.5*Math.PI,T[x].position.y=-e;break;case 3:T[x].rotation.x=Math.PI/2,T[x].rotation.z=-Math.PI/2,T[x].position.y=e;break;case 4:T[x].position.z=-e;break;case 5:T[x].rotation.y=Math.PI,T[x].position.z=e}o.unit.add(T[x]),x++}};s.load(this.location),s.onPanoramaLoad=function(){h.setMapData(this.canvas[0]),l.load(this.panoId)},l.onDepthLoad=function(){if(h.setDispDataAndMakeMap(this.depthMap.height,this.depthMap.width,this.depthMap.depthMap),c(),o.callback&&"function"==typeof o.callback)o.callback();else if(o.callback&&"function"!=typeof o.callback)throw"invalid unitBuilder callback!!"}};var Ü=Ü||{};Ü._=Ü._||{},Ü._.worldBuilder=function(){}({}),$(document).ready(function(){Ü.init(),Ü.setStartingLocation(19.486357,-99.118097),Ü.animate()});