var GSVPANO=GSVPANO||{};
GSVPANO.PanoLoader=function(a){var b=a||{},d,e,f=new google.maps.StreetViewService,h=0,g=0,k=[],l=[],n=0,p=0,q=[1,2,4,7,13,26],m=[1,1,2,4,7,13],t=[416,832,1664,3328,6656],s=[416,416,832,1664,3328];a=null;try{var u=document.createElement("canvas");a=u.getContext("experimental-webgl");null==a&&(a=u.getContext("webgl"))}catch(r){}var w=1024,A=1024;a&&(u=a.getParameter(a.MAX_TEXTURE_SIZE),console.log("MAX_TEXTURE_SIZE "+u),w=A=u);this.setProgress=function(a){if(this.onProgress)this.onProgress(a)};this.throwError=
function(a){if(this.onError)this.onError(a);else console.error(a)};this.adaptTextureToZoom=function(){var a=416*q[d],b=416*m[d],a=t[d],b=s[d];n=Math.ceil(a/w);p=Math.ceil(b/A);k=[];l=[];for(var f=0,e=0;e<p;e++)for(var h=0;h<n;h++){var g=document.createElement("canvas");g.width=h<n-1?w:a-w*h;g.height=e<p-1?A:b-A*e;console.log("New canvas of "+g.width+"x"+g.height);k.push(g);l.push(g.getContext("2d"));f++}};this.composeFromTile=function(a,b,d){a*=512;b*=512;var f=Math.floor(a/w),e=Math.floor(b/A);a-=
f*w;b-=e*A;l[e*n+f].drawImage(d,0,0,d.width,d.height,a,b,512,512);this.progress()};this.progress=function(){h++;var a=Math.round(100*h/g);this.setProgress(a);if(h===g&&(this.canvas=k,this.panoId=e,this.zoom=d,this.onPanoramaLoad))this.onPanoramaLoad()};this.loadFromId=function(a){e=a;this.composePanorama()};this.composePanorama=function(){this.setProgress(0);var a=q[d],f=m[d],k=this,l,n,p;h=0;g=a*f;k=this;for(p=0;p<f;p++)for(n=0;n<a;n++)l="https://cbks2.google.com/cbk?panoid="+e+"&output=tile&zoom="+
d+"&x="+n+"&y="+p+"&"+Date.now(),l="https://geo0.ggpht.com/cbk?panoid="+e+"&output=tile&x="+n+"&y="+p+"&zoom="+d+"&nbt&fover=2",function(a,d){if(b.useWebGL)var f=THREE.ImageUtils.loadTexture(l,null,function(){k.composeFromTile(a,d,f)});else{var e=new Image;e.addEventListener("load",function(){k.composeFromTile(a,d,this)});e.crossOrigin="";e.src=l}}(n,p)};this.load=function(a){var b=this,d="https://maps.google.com/cbk?output=json&hl=x-local&ll="+a.lat()+","+a.lng()+"&cb_client=maps_sv&v=3",d="https://maps.google.com/cbk?output=polygon&it=1%3A1&rank=closest&ll="+
a.lat()+","+a.lng()+"&radius=350",f=new XMLHttpRequest;f.open("GET",d,!0);f.onreadystatechange=function(){if(4==f.readyState&&200==f.status){var d=JSON.parse(f.responseText);b.loadPano(a,d.result[0].id)}};f.send(null)};this.loadPano=function(a,b){var d=this;f.getPanoramaById(b,function(b,f){if(f===google.maps.StreetViewStatus.OK){d.result=b;if(d.onPanoramaData)d.onPanoramaData(b);google.maps.geometry.spherical.computeHeading(a,b.location.latLng);d.copyright=b.copyright;e=b.location.pano;d.location=
a;d.composePanorama()}else{if(d.onNoPanoramaData)d.onNoPanoramaData(f);d.throwError("Could not retrieve panorama for the following reason: "+f)}})};this.setZoom=function(a){d=a;console.log(a);this.adaptTextureToZoom()};this.setZoom(b.zoom||1)};GSVPANO=GSVPANO||{};
GSVPANO.PanoDepthLoader=function(a){this.load=function(a){var d=this,e;e="http://maps.google.com/cbk?output=json&cb_client=maps_sv&v=4&dm=1&pm=1&ph=1&hl=en&panoid="+a;$.ajax({url:e,dataType:"jsonp"}).done(function(f,e,g){var k,l;try{k=d.decode(f.model.depth_map),l=d.parse(k)}catch(n){console.error("Error loading depth map for pano "+a+"\n"+n.message+"\nAt "+n.filename+"("+n.lineNumber+")"),l=d.createEmptyDepthMap()}d.onDepthLoad&&(d.depthMap=l,d.onDepthLoad())}).fail(function(a,b,g){console.error("Request failed: "+
e+"\n"+b+"\n"+g);a=d.createEmptyDepthMap();d.onDepthLoad&&(d.depthMap=a,d.onDepthLoad())})};this.decode=function(a){for(var d,e;0!=a.length%4;)a+="=";a=a.replace(/-/g,"+");a=a.replace(/_/g,"/");a=$.base64.decode(a);e=zpipe.inflate(a);d=new Uint8Array(e.length);for(a=0;a<e.length;++a)d[a]=e.charCodeAt(a);return d};this.parseHeader=function(a){return{headerSize:a.getUint8(0),numberOfPlanes:a.getUint16(1,!0),width:a.getUint16(3,!0),height:a.getUint16(5,!0),offset:a.getUint16(7,!0)}};this.parsePlanes=
function(a,d){var e=[],f=[],h,g=[0,0,0],k;for(h=0;h<a.width*a.height;++h)f.push(d.getUint8(a.offset+h));for(h=0;h<a.numberOfPlanes;++h)k=a.offset+a.width*a.height+16*h,g[0]=d.getFloat32(k,!0),g[1]=d.getFloat32(k+4,!0),g[2]=d.getFloat32(k+8,!0),k=d.getFloat32(k+12,!0),e.push({n:g.slice(0),d:k});return{planes:e,indices:f}};this.computeDepthMap=function(a,d,e){var f=null,h,g,k,l,n=[0,0,0],p=a.width,q=a.height,f=new Float32Array(p*q);for(h=0;h<q;++h)for(a=0;a<p;++a)g=d[h*p+a],k=(p-a-1)/(p-1)*2*Math.PI+
Math.PI/2,l=(q-h-1)/(q-1)*Math.PI,n[0]=Math.sin(l)*Math.cos(k),n[1]=Math.sin(l)*Math.sin(k),n[2]=Math.cos(l),0<g?(g=e[g],g=g.d/(n[0]*g.n[0]+n[1]*g.n[1]+n[2]*g.n[2]),n[0]*=g,n[1]*=g,n[2]*=g,f[h*p+(p-a-1)]=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])):f[h*p+(p-a-1)]=1E19;return{width:p,height:q,depthMap:f}};this.parse=function(a){var d;d=new DataView(a.buffer);a=this.parseHeader(d);d=this.parsePlanes(a,d);return a=this.computeDepthMap(a,d.indices,d.planes)};this.createEmptyDepthMap=function(){for(var a=
{width:512,height:256,depthMap:new Float32Array(131072)},d=0;131072>d;++d)a.depthMap[d]=1E19;return a}};!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function d(a){var c=a.length,b=v.type(a);return"function"===b||v.isWindow(a)?!1:1===a.nodeType&&c?!0:"array"===b||0===c||"number"==typeof c&&0<c&&c-1 in a}function e(a,c,b){if(v.isFunction(c))return v.grep(a,function(a,d){return!!c.call(a,d,
a)!==b});if(c.nodeType)return v.grep(a,function(a){return a===c!==b});if("string"==typeof c){if(Sa.test(c))return v.filter(c,a,b);c=v.filter(c,a)}return v.grep(a,function(a){return 0<=v.inArray(a,c)!==b})}function f(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function h(a){var c=Za[a]={};return v.each(a.match(Ja)||[],function(a,b){c[b]=!0}),c}function g(){ha.addEventListener?(ha.removeEventListener("DOMContentLoaded",k,!1),a.removeEventListener("load",k,!1)):(ha.detachEvent("onreadystatechange",
k),a.detachEvent("onload",k))}function k(){(ha.addEventListener||"load"===event.type||"complete"===ha.readyState)&&(g(),v.ready())}function l(a,c,b){if(void 0===b&&1===a.nodeType){var d="data-"+c.replace(Bb,"-$1").toLowerCase();if(b=a.getAttribute(d),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:eb.test(b)?v.parseJSON(b):b}catch(B){}v.data(a,c,b)}else b=void 0}return b}function n(a){for(var c in a)if(("data"!==c||!v.isEmptyObject(a[c]))&&"toJSON"!==c)return!1;
return!0}function p(a,c,b,d){if(v.acceptData(a)){var B,f,e=v.expando,h=a.nodeType,g=h?v.cache:a,k=h?a[e]:a[e]&&e;if(k&&g[k]&&(d||g[k].data)||void 0!==b||"string"!=typeof c)return k||(k=h?a[e]=W.pop()||v.guid++:e),g[k]||(g[k]=h?{}:{toJSON:v.noop}),("object"==typeof c||"function"==typeof c)&&(d?g[k]=v.extend(g[k],c):g[k].data=v.extend(g[k].data,c)),f=g[k],d||(f.data||(f.data={}),f=f.data),void 0!==b&&(f[v.camelCase(c)]=b),"string"==typeof c?(B=f[c],null==B&&(B=f[v.camelCase(c)])):B=f,B}}function q(a,
c,b){if(v.acceptData(a)){var d,B,f=a.nodeType,e=f?v.cache:a,h=f?a[v.expando]:v.expando;if(e[h]){if(c&&(d=b?e[h]:e[h].data)){v.isArray(c)?c=c.concat(v.map(c,v.camelCase)):c in d?c=[c]:(c=v.camelCase(c),c=c in d?[c]:c.split(" "));for(B=c.length;B--;)delete d[c[B]];if(b?!n(d):!v.isEmptyObject(d))return}(b||(delete e[h].data,n(e[h])))&&(f?v.cleanData([a],!0):ba.deleteExpando||e!=e.window?delete e[h]:e[h]=null)}}}function m(){return!0}function t(){return!1}function s(){try{return ha.activeElement}catch(a){}}
function u(a){var c=bb.split("|");a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function r(a,c){var b,d,B=0,f="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(c||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(c||"*"):void 0;if(!f)for(f=[],b=a.childNodes||a;null!=(d=b[B]);B++)!c||v.nodeName(d,c)?f.push(d):v.merge(f,r(d,c));return void 0===c||c&&v.nodeName(a,c)?v.merge([a],f):f}function w(a){Ea.test(a.type)&&(a.defaultChecked=
a.checked)}function A(a,c){return v.nodeName(a,"table")&&v.nodeName(11!==c.nodeType?c:c.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function C(a){return a.type=(null!==v.find.attr(a,"type"))+"/"+a.type,a}function G(a){var c=Xb.exec(a.type);return c?a.type=c[1]:a.removeAttribute("type"),a}function F(a,c){for(var b,d=0;null!=(b=a[d]);d++)v._data(b,"globalEval",!c||v._data(c[d],"globalEval"))}function D(a,c){if(1===c.nodeType&&v.hasData(a)){var b,
d,B;d=v._data(a);var f=v._data(c,d),e=d.events;if(e)for(b in delete f.handle,f.events={},e)for(d=0,B=e[b].length;B>d;d++)v.event.add(c,b,e[b][d]);f.data&&(f.data=v.extend({},f.data))}}function I(c,b){var d,B=v(b.createElement(c)).appendTo(b.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(B[0]))?d.display:v.css(B[0],"display");return B.detach(),f}function E(a){var c=ha,b=Ba[a];return b||(b=I(a,c),"none"!==b&&b||(ta=(ta||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),
c=(ta[0].contentWindow||ta[0].contentDocument).document,c.write(),c.close(),b=I(a,c),ta.detach()),Ba[a]=b),b}function P(a,c){return{get:function(){var b=a();if(null!=b)return b?void delete this.get:(this.get=c).apply(this,arguments)}}}function H(a,c){if(c in a)return c;for(var b=c.charAt(0).toUpperCase()+c.slice(1),d=c,B=Yb.length;B--;)if(c=Yb[B]+b,c in a)return c;return d}function M(a,c){for(var b,d,B,f=[],e=0,h=a.length;h>e;e++)d=a[e],d.style&&(f[e]=v._data(d,"olddisplay"),b=d.style.display,c?(f[e]||
"none"!==b||(d.style.display=""),""===d.style.display&&Pb(d)&&(f[e]=v._data(d,"olddisplay",E(d.nodeName)))):(B=Pb(d),(b&&"none"!==b||!B)&&v._data(d,"olddisplay",B?b:v.css(d,"display"))));for(e=0;h>e;e++)d=a[e],d.style&&(c&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=c?f[e]||"":"none"));return a}function K(a,c,b){return(a=nc.exec(c))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):c}function N(a,c,b,d,B){c=b===(d?"border":"content")?4:"width"===c?1:0;for(var f=0;4>c;c+=2)"margin"===b&&(f+=
v.css(a,b+qb[c],!0,B)),d?("content"===b&&(f-=v.css(a,"padding"+qb[c],!0,B)),"margin"!==b&&(f-=v.css(a,"border"+qb[c]+"Width",!0,B))):(f+=v.css(a,"padding"+qb[c],!0,B),"padding"!==b&&(f+=v.css(a,"border"+qb[c]+"Width",!0,B)));return f}function L(a,c,b){var d=!0,B="width"===c?a.offsetWidth:a.offsetHeight,f=da(a),e=ba.boxSizing&&"border-box"===v.css(a,"boxSizing",!1,f);if(0>=B||null==B){if(B=Aa(a,c,f),(0>B||null==B)&&(B=a.style[c]),Zb.test(B))return B;d=e&&(ba.boxSizingReliable()||B===a.style[c]);B=
parseFloat(B)||0}return B+N(a,c,b||(e?"border":"content"),d,f)+"px"}function J(a,c,b,d,B){return new J.prototype.init(a,c,b,d,B)}function Q(){return setTimeout(function(){jb=void 0}),jb=v.now()}function O(a,c){var b,d={height:a},B=0;for(c=c?1:0;4>B;B+=2-c)b=qb[B],d["margin"+b]=d["padding"+b]=a;return c&&(d.opacity=d.width=a),d}function T(a,c,b){for(var d,B=(gb[c]||[]).concat(gb["*"]),f=0,e=B.length;e>f;f++)if(d=B[f].call(b,c,a))return d}function ea(a,c){var b,d,B,f,e;for(b in a)if(d=v.camelCase(b),
B=c[d],f=a[b],v.isArray(f)&&(B=f[1],f=a[b]=f[0]),b!==d&&(a[d]=f,delete a[b]),e=v.cssHooks[d],e&&"expand"in e)for(b in f=e.expand(f),delete a[d],f)b in a||(a[b]=f[b],c[b]=B);else c[d]=B}function X(a,c,b){var d,B=0,f=ic.length,e=v.Deferred().always(function(){delete h.elem}),h=function(){if(d)return!1;for(var c=jb||Q(),c=Math.max(0,g.startTime+g.duration-c),b=1-(c/g.duration||0),B=0,f=g.tweens.length;f>B;B++)g.tweens[B].run(b);return e.notifyWith(a,[g,b,c]),1>b&&f?c:(e.resolveWith(a,[g]),!1)},g=e.promise({elem:a,
props:v.extend({},c),opts:v.extend(!0,{specialEasing:{}},b),originalProperties:c,originalOptions:b,startTime:jb||Q(),duration:b.duration,tweens:[],createTween:function(c,b){var d=v.Tween(a,g.opts,c,b,g.opts.specialEasing[c]||g.opts.easing);return g.tweens.push(d),d},stop:function(c){var b=0,B=c?g.tweens.length:0;if(d)return this;for(d=!0;B>b;b++)g.tweens[b].run(1);return c?e.resolveWith(a,[g,c]):e.rejectWith(a,[g,c]),this}});b=g.props;for(ea(b,g.opts.specialEasing);f>B;B++)if(c=ic[B].call(g,a,b,g.opts))return c;
return v.map(b,T,g),v.isFunction(g.opts.start)&&g.opts.start.call(a,g),v.fx.timer(v.extend(h,{elem:a,anim:g,queue:g.opts.queue})),g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function Z(a){return function(c,b){"string"!=typeof c&&(b=c,c="*");var d,B=0,f=c.toLowerCase().match(Ja)||[];if(v.isFunction(b))for(;d=f[B++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(b)):(a[d]=a[d]||[]).push(b)}}function U(a,c,b,d){function B(h){var g;
return f[h]=!0,v.each(a[h]||[],function(a,h){var k=h(c,b,d);return"string"!=typeof k||e||f[k]?e?!(g=k):void 0:(c.dataTypes.unshift(k),B(k),!1)}),g}var f={},e=a===wc;return B(c.dataTypes[0])||!f["*"]&&B("*")}function Y(a,c){var b,d,B=v.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((B[d]?a:b||(b={}))[d]=c[d]);return b&&v.extend(!0,a,b),a}function R(a,c,b,d){var B;if(v.isArray(c))v.each(c,function(c,B){b||Cb.test(a)?d(a,B):R(a+"["+("object"==typeof B?c:"")+"]",B,b,d)});else if(b||"object"!==
v.type(c))d(a,c);else for(B in c)R(a+"["+B+"]",c[B],b,d)}function fa(){try{return new a.XMLHttpRequest}catch(c){}}function ka(a){return v.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],S=W.slice,ma=W.concat,na=W.push,ra=W.indexOf,ia={},za=ia.toString,Ka=ia.hasOwnProperty,ba={},v=function(a,c){return new v.fn.init(a,c)},Oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,db=/^-ms-/,Ta=/-([\da-z])/gi,Ma=function(a,c){return c.toUpperCase()};v.fn=v.prototype={jquery:"1.11.1",constructor:v,
selector:"",length:0,toArray:function(){return S.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:S.call(this)},pushStack:function(a){a=v.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,c){return v.each(this,a,c)},map:function(a){return this.pushStack(v.map(this,function(c,b){return a.call(c,b,c)}))},slice:function(){return this.pushStack(S.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:na,sort:W.sort,splice:W.splice};v.extend=v.fn.extend=function(){var a,c,b,d,B,f,e=arguments[0]||{},h=1,g=arguments.length,k=!1;"boolean"==typeof e&&(k=e,e=arguments[h]||{},h++);"object"==typeof e||v.isFunction(e)||(e={});for(h===g&&(e=this,h--);g>h;h++)if(null!=(B=arguments[h]))for(d in B)a=e[d],b=B[d],e!==b&&(k&&b&&(v.isPlainObject(b)||
(c=v.isArray(b)))?(c?(c=!1,f=a&&v.isArray(a)?a:[]):f=a&&v.isPlainObject(a)?a:{},e[d]=v.extend(k,f,b)):void 0!==b&&(e[d]=b));return e};v.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===v.type(a)},isArray:Array.isArray||function(a){return"array"===v.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!v.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var c in a)return!1;
return!0},isPlainObject:function(a){var c;if(!a||"object"!==v.type(a)||a.nodeType||v.isWindow(a))return!1;try{if(a.constructor&&!Ka.call(a,"constructor")&&!Ka.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}if(ba.ownLast)for(c in a)return Ka.call(a,c);for(c in a);return void 0===c||Ka.call(a,c)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[za.call(a)]||"object":typeof a},globalEval:function(c){c&&v.trim(c)&&(a.execScript||function(c){a.eval.call(a,
c)})(c)},camelCase:function(a){return a.replace(db,"ms-").replace(Ta,Ma)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c,b){var B,f=0,e=a.length,h=d(a);if(b)if(h)for(;e>f&&(B=c.apply(a[f],b),!1!==B);f++);else for(f in a){if(B=c.apply(a[f],b),!1===B)break}else if(h)for(;e>f&&(B=c.call(a[f],f,a[f]),!1!==B);f++);else for(f in a)if(B=c.call(a[f],f,a[f]),!1===B)break;return a},trim:function(a){return null==a?"":(a+"").replace(Oa,"")},makeArray:function(a,
c){var b=c||[];return null!=a&&(d(Object(a))?v.merge(b,"string"==typeof a?[a]:a):na.call(b,a)),b},inArray:function(a,c,b){var d;if(c){if(ra)return ra.call(c,a,b);d=c.length;for(b=b?0>b?Math.max(0,d+b):b:0;d>b;b++)if(b in c&&c[b]===a)return b}return-1},merge:function(a,c){for(var b=+c.length,d=0,B=a.length;b>d;)a[B++]=c[d++];if(b!==b)for(;void 0!==c[d];)a[B++]=c[d++];return a.length=B,a},grep:function(a,c,b){for(var d=[],B=0,f=a.length,e=!b;f>B;B++)b=!c(a[B],B),b!==e&&d.push(a[B]);return d},map:function(a,
c,b){var B,f=0,e=a.length,h=[];if(d(a))for(;e>f;f++)B=c(a[f],f,b),null!=B&&h.push(B);else for(f in a)B=c(a[f],f,b),null!=B&&h.push(B);return ma.apply([],h)},guid:1,proxy:function(a,c){var b,d,B;return"string"==typeof c&&(B=a[c],c=a,a=B),v.isFunction(a)?(b=S.call(arguments,2),d=function(){return a.apply(c||this,b.concat(S.call(arguments)))},d.guid=a.guid=a.guid||v.guid++,d):void 0},now:function(){return+new Date},support:ba});v.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,c){ia["[object "+c+"]"]=c.toLowerCase()});var xa=function(a){function c(a,b,d,B){var f,e,h,g,k;if((b?b.ownerDocument||b:ya)!==ib&&C(b),b=b||ib,d=d||[],!a||"string"!=typeof a)return d;if(1!==(g=b.nodeType)&&9!==g)return[];if(F&&!B){if(f=xb.exec(a))if(h=f[1])if(9===g){if(e=b.getElementById(h),!e||!e.parentNode)return d;if(e.id===h)return d.push(e),d}else{if(b.ownerDocument&&(e=b.ownerDocument.getElementById(h))&&Ob(b,e)&&e.id===h)return d.push(e),d}else{if(f[2])return wb.apply(d,b.getElementsByTagName(a)),
d;if((h=f[3])&&r.getElementsByClassName&&b.getElementsByClassName)return wb.apply(d,b.getElementsByClassName(h)),d}if(r.qsa&&(!E||!E.test(a))){if(e=f=H,h=b,k=9===g&&a,1===g&&"object"!==b.nodeName.toLowerCase()){g=w(a);(f=b.getAttribute("id"))?e=f.replace(Ab,"\\$&"):b.setAttribute("id",e);e="[id='"+e+"'] ";for(h=g.length;h--;)g[h]=e+m(g[h]);h=U.test(a)&&l(b.parentNode)||b;k=g.join(",")}if(k)try{return wb.apply(d,h.querySelectorAll(k)),d}catch(n){}finally{f||b.removeAttribute("id")}}}return A(a.replace(T,
"$1"),b,d,B)}function b(){function a(b,d){return c.push(b+" ")>u.cacheLength&&delete a[c.shift()],a[b+" "]=d}var c=[];return a}function d(a){return a[H]=!0,a}function B(a){var c=ib.createElement("div");try{return!!a(c)}catch(b){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}}function f(a,c){for(var b=a.split("|"),d=a.length;d--;)u.attrHandle[b[d]]=c}function e(a,c){var b=c&&a,d=b&&1===a.nodeType&&1===c.nodeType&&(~c.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(d)return d;
if(b)for(;b=b.nextSibling;)if(b===c)return-1;return a?1:-1}function h(a){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===a}}function g(a){return function(c){var b=c.nodeName.toLowerCase();return("input"===b||"button"===b)&&c.type===a}}function k(a){return d(function(c){return c=+c,d(function(b,d){for(var B,f=a([],b.length,c),e=f.length;e--;)b[B=f[e]]&&(b[B]=!(d[B]=b[B]))})})}function l(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function n(){}function m(a){for(var c=
0,b=a.length,d="";b>c;c++)d+=a[c].value;return d}function p(a,c,b){var d=c.dir,B=b&&"parentNode"===d,f=vb++;return c.first?function(c,b,f){for(;c=c[d];)if(1===c.nodeType||B)return a(c,b,f)}:function(c,b,e){var h,g,k=[yb,f];if(e)for(;c=c[d];){if((1===c.nodeType||B)&&a(c,b,e))return!0}else for(;c=c[d];)if(1===c.nodeType||B){if(g=c[H]||(c[H]={}),(h=g[d])&&h[0]===yb&&h[1]===f)return k[2]=h[2];if(g[d]=k,k[2]=a(c,b,e))return!0}}}function wa(a){return 1<a.length?function(c,b,d){for(var B=a.length;B--;)if(!a[B](c,
b,d))return!1;return!0}:a[0]}function q(a,c,b,d,B){for(var f,e=[],h=0,g=a.length,k=null!=c;g>h;h++)(f=a[h])&&(!b||b(f,d,B))&&(e.push(f),k&&c.push(h));return e}function La(a,b,B,f,e,h){return f&&!f[H]&&(f=La(f)),e&&!e[H]&&(e=La(e,h)),d(function(d,h,g,k){var l,n,m=[],p=[],ub=h.length,wa;if(!(wa=d)){wa=b||"*";for(var La=g.nodeType?[g]:g,Ra=[],s=0,r=La.length;r>s;s++)c(wa,La[s],Ra);wa=Ra}wa=!a||!d&&b?wa:q(wa,m,a,g,k);La=B?e||(d?a:ub||f)?[]:h:wa;if(B&&B(wa,La,g,k),f)for(l=q(La,p),f(l,[],g,k),g=l.length;g--;)(n=
l[g])&&(La[p[g]]=!(wa[p[g]]=n));if(d){if(e||a){if(e){l=[];for(g=La.length;g--;)(n=La[g])&&l.push(wa[g]=n);e(null,La=[],l,k)}for(g=La.length;g--;)(n=La[g])&&-1<(l=e?O.call(d,n):m[g])&&(d[l]=!(h[l]=n))}}else La=q(La===h?La.splice(ub,La.length):La),e?e(null,h,La,k):wb.apply(h,La)})}function Ra(a){var c,b,d,B=a.length,f=u.relative[a[0].type];b=f||u.relative[" "];for(var e=f?1:0,h=p(function(a){return a===c},b,!0),g=p(function(a){return-1<O.call(c,a)},b,!0),k=[function(a,b,d){return!f&&(d||b!==z)||((c=
b).nodeType?h(a,b,d):g(a,b,d))}];B>e;e++)if(b=u.relative[a[e].type])k=[p(wa(k),b)];else{if(b=u.filter[a[e].type].apply(null,a[e].matches),b[H]){for(d=++e;B>d&&!u.relative[a[d].type];d++);return La(1<e&&wa(k),1<e&&m(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(T,"$1"),b,d>e&&Ra(a.slice(e,d)),B>d&&Ra(a=a.slice(d)),B>d&&m(a))}k.push(b)}return wa(k)}function s(a,b){var B=0<b.length,f=0<a.length,e=function(d,e,h,g,k){var l,n,m,p=0,ub="0",wa=d&&[],La=[],Ra=z,s=d||f&&u.find.TAG("*",k),
r=yb+=null==Ra?1:Math.random()||.1,t=s.length;for(k&&(z=e!==ib&&e);ub!==t&&null!=(l=s[ub]);ub++){if(f&&l){for(n=0;m=a[n++];)if(m(l,e,h)){g.push(l);break}k&&(yb=r)}B&&((l=!m&&l)&&p--,d&&wa.push(l))}if(p+=ub,B&&ub!==p){for(n=0;m=b[n++];)m(wa,La,e,h);if(d){if(0<p)for(;ub--;)wa[ub]||La[ub]||(La[ub]=N.call(g));La=q(La)}wb.apply(g,La);k&&!d&&0<La.length&&1<p+b.length&&c.uniqueSort(g)}return k&&(yb=r,z=Ra),wa};return B?d(e):e}var t,r,u,Ha,Cb,w,v,A,z,Ya,sb,C,ib,G,F,E,Kb,D,Ob,H="sizzle"+-new Date,ya=a.document,
yb=0,vb=0,I=b(),J=b(),P=b(),S=function(a,c){return a===c&&(sb=!0),0},M={}.hasOwnProperty,L=[],N=L.pop,ca=L.push,wb=L.push,K=L.slice,O=L.indexOf||function(a){for(var c=0,b=this.length;b>c;c++)if(this[c]===a)return c;return-1},Q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),mc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Q+"))|)[\\x20\\t\\r\\n\\f]*\\]",nc=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
mc+")*)|.*)\\)|)",T=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Yb=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,lc=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,W=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,R=new RegExp(nc),vc=new RegExp("^"+Q+"$"),X={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+mc),PSEUDO:new RegExp("^"+nc),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ba=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,jb=/^[^{]+\{\s*\[native \w/,xb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,U=/[+~]/,Ab=/'|\\/g,Y=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ia=function(a,c,b){a="0x"+c-65536;
return a!==a||b?c:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{wb.apply(L=K.call(ya.childNodes),ya.childNodes),L[ya.childNodes.length].nodeType}catch(ea){wb={apply:L.length?function(a,c){ca.apply(a,K.call(c))}:function(a,c){for(var b=a.length,d=0;a[b++]=c[d++];);a.length=b-1}}}r=c.support={};Cb=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};C=c.setDocument=function(a){var c,b=a?a.ownerDocument||a:ya;a=b.defaultView;
return b!==ib&&9===b.nodeType&&b.documentElement?(ib=b,G=b.documentElement,F=!Cb(b),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){C()},!1):a.attachEvent&&a.attachEvent("onunload",function(){C()})),r.attributes=B(function(a){return a.className="i",!a.getAttribute("className")}),r.getElementsByTagName=B(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),r.getElementsByClassName=jb.test(b.getElementsByClassName)&&B(function(a){return a.innerHTML=
"<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),r.getById=B(function(a){return G.appendChild(a).id=H,!b.getElementsByName||!b.getElementsByName(H).length}),r.getById?(u.find.ID=function(a,c){if("undefined"!==typeof c.getElementById&&F){var b=c.getElementById(a);return b&&b.parentNode?[b]:[]}},u.filter.ID=function(a){var c=a.replace(Y,ia);return function(a){return a.getAttribute("id")===c}}):(delete u.find.ID,u.filter.ID=function(a){var c=
a.replace(Y,ia);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===c}}),u.find.TAG=r.getElementsByTagName?function(a,c){return"undefined"!==typeof c.getElementsByTagName?c.getElementsByTagName(a):void 0}:function(a,c){var b,d=[],B=0,f=c.getElementsByTagName(a);if("*"===a){for(;b=f[B++];)1===b.nodeType&&d.push(b);return d}return f},u.find.CLASS=r.getElementsByClassName&&function(a,c){return"undefined"!==typeof c.getElementsByClassName&&F?c.getElementsByClassName(a):
void 0},Kb=[],E=[],(r.qsa=jb.test(b.querySelectorAll))&&(B(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&E.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||E.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||E.push(":checked")}),
B(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&E.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||E.push(":enabled",":disabled");a.querySelectorAll("*,:x");E.push(",.*:")})),(r.matchesSelector=jb.test(D=G.matches||G.webkitMatchesSelector||G.mozMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&B(function(a){r.disconnectedMatch=D.call(a,"div");D.call(a,
"[s!='']:x");Kb.push("!=",nc)}),E=E.length&&new RegExp(E.join("|")),Kb=Kb.length&&new RegExp(Kb.join("|")),c=jb.test(G.compareDocumentPosition),Ob=c||jb.test(G.contains)?function(a,c){var b=9===a.nodeType?a.documentElement:a,d=c&&c.parentNode;return a===d||!(!d||1!==d.nodeType||!(b.contains?b.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1},S=c?function(a,c){if(a===c)return sb=!0,0;var d=!a.compareDocumentPosition-
!c.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):1,1&d||!r.sortDetached&&c.compareDocumentPosition(a)===d?a===b||a.ownerDocument===ya&&Ob(ya,a)?-1:c===b||c.ownerDocument===ya&&Ob(ya,c)?1:Ya?O.call(Ya,a)-O.call(Ya,c):0:4&d?-1:1)}:function(a,c){if(a===c)return sb=!0,0;var d,B=0;d=a.parentNode;var f=c.parentNode,h=[a],g=[c];if(!d||!f)return a===b?-1:c===b?1:d?-1:f?1:Ya?O.call(Ya,a)-O.call(Ya,c):0;if(d===f)return e(a,c);for(d=a;d=d.parentNode;)h.unshift(d);
for(d=c;d=d.parentNode;)g.unshift(d);for(;h[B]===g[B];)B++;return B?e(h[B],g[B]):h[B]===ya?-1:g[B]===ya?1:0},b):ib};c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==ib&&C(a),b=b.replace(W,"='$1']"),!(!r.matchesSelector||!F||Kb&&Kb.test(b)||E&&E.test(b)))try{var d=D.call(a,b);if(d||r.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(B){}return 0<c(b,ib,null,[a]).length};c.contains=function(a,c){return(a.ownerDocument||a)!==
ib&&C(a),Ob(a,c)};c.attr=function(a,c){(a.ownerDocument||a)!==ib&&C(a);var b=u.attrHandle[c.toLowerCase()],b=b&&M.call(u.attrHandle,c.toLowerCase())?b(a,c,!F):void 0;return void 0!==b?b:r.attributes||!F?a.getAttribute(c):(b=a.getAttributeNode(c))&&b.specified?b.value:null};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};c.uniqueSort=function(a){var c,b=[],d=0,B=0;if(sb=!r.detectDuplicates,Ya=!r.sortStable&&a.slice(0),a.sort(S),sb){for(;c=a[B++];)c===a[B]&&(d=b.push(B));
for(;d--;)a.splice(b[d],1)}return Ya=null,a};Ha=c.getText=function(a){var c,b="",d=0;if(c=a.nodeType)if(1===c||9===c||11===c){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=Ha(a)}else{if(3===c||4===c)return a.nodeValue}else for(;c=a[d++];)b+=Ha(c);return b};u=c.selectors={cacheLength:50,createPseudo:d,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){return a[1]=a[1].replace(Y,ia),a[3]=(a[3]||a[4]||a[5]||"").replace(Y,ia),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,b=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":b&&R.test(b)&&(c=w(b,!0))&&(c=b.indexOf(")",b.length-
c)-b.length)&&(a[0]=a[0].slice(0,c),a[2]=b.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var c=a.replace(Y,ia).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===c}},CLASS:function(a){var c=I[a+" "];return c||(c=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&I(a,function(a){return c.test("string"==typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,
d){return function(B){B=c.attr(B,a);return null==B?"!="===b:b?(B+="","="===b?B===d:"!="===b?B!==d:"^="===b?d&&0===B.indexOf(d):"*="===b?d&&-1<B.indexOf(d):"$="===b?d&&B.slice(-d.length)===d:"~="===b?-1<(" "+B+" ").indexOf(d):"|="===b?B===d||B.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,c,b,d,B){var f="nth"!==a.slice(0,3),e="last"!==a.slice(-4),h="of-type"===c;return 1===d&&0===B?function(a){return!!a.parentNode}:function(c,b,g){var k,l,n,m,p;b=f!==e?"nextSibling":"previousSibling";var ub=
c.parentNode,wa=h&&c.nodeName.toLowerCase();g=!g&&!h;if(ub){if(f){for(;b;){for(l=c;l=l[b];)if(h?l.nodeName.toLowerCase()===wa:1===l.nodeType)return!1;p=b="only"===a&&!p&&"nextSibling"}return!0}if(p=[e?ub.firstChild:ub.lastChild],e&&g)for(g=ub[H]||(ub[H]={}),k=g[a]||[],m=k[0]===yb&&k[1],n=k[0]===yb&&k[2],l=m&&ub.childNodes[m];l=++m&&l&&l[b]||(n=m=0)||p.pop();){if(1===l.nodeType&&++n&&l===c){g[a]=[yb,m,n];break}}else if(g&&(k=(c[H]||(c[H]={}))[a])&&k[0]===yb)n=k[1];else for(;(l=++m&&l&&l[b]||(n=m=0)||
p.pop())&&((h?l.nodeName.toLowerCase()!==wa:1!==l.nodeType)||!++n||(g&&((l[H]||(l[H]={}))[a]=[yb,n]),l!==c)););return n-=B,n===d||0===n%d&&0<=n/d}}},PSEUDO:function(a,b){var B,f=u.pseudos[a]||u.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[H]?f(b):1<f.length?(B=[a,a,"",b],u.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,c){for(var d,B=f(a,b),e=B.length;e--;)d=O.call(a,B[e]),a[d]=!(c[d]=B[e])}):function(a){return f(a,0,B)}):f}},pseudos:{not:d(function(a){var c=[],
b=[],B=v(a.replace(T,"$1"));return B[H]?d(function(a,c,b,d){var f;b=B(a,null,d,[]);for(d=a.length;d--;)(f=b[d])&&(a[d]=!(c[d]=f))}):function(a,d,f){return c[0]=a,B(c,null,f,b),!b.pop()}}),has:d(function(a){return function(b){return 0<c(a,b).length}}),contains:d(function(a){return function(c){return-1<(c.textContent||c.innerText||Ha(c)).indexOf(a)}}),lang:d(function(a){return vc.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(Y,ia).toLowerCase(),function(c){var b;do if(b=F?c.lang:c.getAttribute("xml:lang")||
c.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(c){var b=a.location&&a.location.hash;return b&&b.slice(1)===c.id},root:function(a){return a===G},focus:function(a){return a===ib.activeElement&&(!ib.hasFocus||ib.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var c=a.nodeName.toLowerCase();return"input"===
c&&!!a.checked||"option"===c&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return V.test(a.nodeName)},input:function(a){return ba.test(a.nodeName)},button:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&"button"===a.type||"button"===c},text:function(a){var c;return"input"===a.nodeName.toLowerCase()&&
"text"===a.type&&(null==(c=a.getAttribute("type"))||"text"===c.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,c){return[c-1]}),eq:k(function(a,c,b){return[0>b?b+c:b]}),even:k(function(a,c){for(var b=0;c>b;b+=2)a.push(b);return a}),odd:k(function(a,c){for(var b=1;c>b;b+=2)a.push(b);return a}),lt:k(function(a,c,b){for(c=0>b?b+c:b;0<=--c;)a.push(c);return a}),gt:k(function(a,c,b){for(b=0>b?b+c:b;++b<c;)a.push(b);return a})}};u.pseudos.nth=u.pseudos.eq;for(t in{radio:!0,checkbox:!0,
file:!0,password:!0,image:!0})u.pseudos[t]=h(t);for(t in{submit:!0,reset:!0})u.pseudos[t]=g(t);n.prototype=u.filters=u.pseudos;u.setFilters=new n;w=c.tokenize=function(a,b){var d,B,f,e,h,g,k;if(h=J[a+" "])return b?0:h.slice(0);h=a;g=[];for(k=u.preFilter;h;){d&&!(B=Yb.exec(h))||(B&&(h=h.slice(B[0].length)||h),g.push(f=[]));d=!1;(B=lc.exec(h))&&(d=B.shift(),f.push({value:d,type:B[0].replace(T," ")}),h=h.slice(d.length));for(e in u.filter)!(B=X[e].exec(h))||k[e]&&!(B=k[e](B))||(d=B.shift(),f.push({value:d,
type:e,matches:B}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):J(a,g).slice(0)};return v=c.compile=function(a,c){var b,d=[],B=[],f=P[a+" "];if(!f){c||(c=w(a));for(b=c.length;b--;)f=Ra(c[b]),f[H]?d.push(f):B.push(f);f=P(a,s(B,d));f.selector=a}return f},A=c.select=function(a,c,b,d){var B,f,e,h,g,k="function"==typeof a&&a,n=!d&&w(a=k.selector||a);if(b=b||[],1===n.length){if(f=n[0]=n[0].slice(0),2<f.length&&"ID"===(e=f[0]).type&&r.getById&&9===c.nodeType&&F&&u.relative[f[1].type]){if(c=
(u.find.ID(e.matches[0].replace(Y,ia),c)||[])[0],!c)return b;k&&(c=c.parentNode);a=a.slice(f.shift().value.length)}for(B=X.needsContext.test(a)?0:f.length;B--&&(e=f[B],!u.relative[h=e.type]);)if((g=u.find[h])&&(d=g(e.matches[0].replace(Y,ia),U.test(f[0].type)&&l(c.parentNode)||c))){if(f.splice(B,1),a=d.length&&m(f),!a)return wb.apply(b,d),b;break}}return(k||v(a,n))(d,c,!F,b,U.test(a)&&l(c.parentNode)||c),b},r.sortStable=H.split("").sort(S).join("")===H,r.detectDuplicates=!!sb,C(),r.sortDetached=B(function(a){return 1&
a.compareDocumentPosition(ib.createElement("div"))}),B(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,c,b){return b?void 0:a.getAttribute(c,"type"===c.toLowerCase()?1:2)}),r.attributes&&B(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,c,b){return b||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),B(function(a){return null==
a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,c,b){var d;return b?void 0:!0===a[c]?c.toLowerCase():(d=a.getAttributeNode(c))&&d.specified?d.value:null}),c}(a);v.find=xa;v.expr=xa.selectors;v.expr[":"]=v.expr.pseudos;v.unique=xa.uniqueSort;v.text=xa.getText;v.isXMLDoc=xa.isXML;v.contains=xa.contains;var va=v.expr.match.needsContext,Da=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sa=/^.[^:#\[\.,]*$/;
v.filter=function(a,c,b){var d=c[0];return b&&(a=":not("+a+")"),1===c.length&&1===d.nodeType?v.find.matchesSelector(d,a)?[d]:[]:v.find.matches(a,v.grep(c,function(a){return 1===a.nodeType}))};v.fn.extend({find:function(a){var c,b=[],d=this,B=d.length;if("string"!=typeof a)return this.pushStack(v(a).filter(function(){for(c=0;B>c;c++)if(v.contains(d[c],this))return!0}));for(c=0;B>c;c++)v.find(a,d[c],b);return b=this.pushStack(1<B?v.unique(b):b),b.selector=this.selector?this.selector+" "+a:a,b},filter:function(a){return this.pushStack(e(this,
a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&va.test(a)?v(a):a||[],!1).length}});var qa,ha=a.document,Wa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(a,c){var b,d;if(!a)return this;if("string"==typeof a){if(b="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Wa.exec(a),!b||!b[1]&&c)return!c||c.jquery?(c||qa).find(a):this.constructor(c).find(a);if(b[1]){if(c=c instanceof v?c[0]:c,v.merge(this,
v.parseHTML(b[1],c&&c.nodeType?c.ownerDocument||c:ha,!0)),Da.test(b[1])&&v.isPlainObject(c))for(b in c)v.isFunction(this[b])?this[b](c[b]):this.attr(b,c[b]);return this}if(d=ha.getElementById(b[2]),d&&d.parentNode){if(d.id!==b[2])return qa.find(a);this.length=1;this[0]=d}return this.context=ha,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):v.isFunction(a)?"undefined"!=typeof qa.ready?qa.ready(a):a(v):(void 0!==a.selector&&(this.selector=a.selector,this.context=
a.context),v.makeArray(a,this))}).prototype=v.fn;qa=v(ha);var cb=/^(?:parents|prev(?:Until|All))/,Xa={children:!0,contents:!0,next:!0,prev:!0};v.extend({dir:function(a,c,b){var d=[];for(a=a[c];a&&9!==a.nodeType&&(void 0===b||1!==a.nodeType||!v(a).is(b));)1===a.nodeType&&d.push(a),a=a[c];return d},sibling:function(a,c){for(var b=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&b.push(a);return b}});v.fn.extend({has:function(a){var c,b=v(a,this),d=b.length;return this.filter(function(){for(c=0;d>c;c++)if(v.contains(this,
b[c]))return!0})},closest:function(a,c){for(var b,d=0,B=this.length,f=[],e=va.test(a)||"string"!=typeof a?v(a,c||this.context):0;B>d;d++)for(b=this[d];b&&b!==c;b=b.parentNode)if(11>b.nodeType&&(e?-1<e.index(b):1===b.nodeType&&v.find.matchesSelector(b,a))){f.push(b);break}return this.pushStack(1<f.length?v.unique(f):f)},index:function(a){return a?"string"==typeof a?v.inArray(this[0],v(a)):v.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(v.unique(v.merge(this.get(),
v(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});v.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return v.dir(a,"parentNode")},parentsUntil:function(a,c,b){return v.dir(a,"parentNode",b)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return v.dir(a,"nextSibling")},prevAll:function(a){return v.dir(a,"previousSibling")},nextUntil:function(a,
c,b){return v.dir(a,"nextSibling",b)},prevUntil:function(a,c,b){return v.dir(a,"previousSibling",b)},siblings:function(a){return v.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return v.sibling(a.firstChild)},contents:function(a){return v.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:v.merge([],a.childNodes)}},function(a,c){v.fn[a]=function(b,d){var B=v.map(this,c,b);return"Until"!==a.slice(-5)&&(d=b),d&&"string"==typeof d&&(B=v.filter(d,B)),1<this.length&&(Xa[a]||
(B=v.unique(B)),cb.test(a)&&(B=B.reverse())),this.pushStack(B)}});var Ja=/\S+/g,Za={};v.Callbacks=function(a){a="string"==typeof a?Za[a]||h(a):v.extend({},a);var c,b,d,B,f,e,g=[],k=!a.once&&[],l=function(h){b=a.memory&&h;d=!0;f=e||0;e=0;B=g.length;for(c=!0;g&&B>f;f++)if(!1===g[f].apply(h[0],h[1])&&a.stopOnFalse){b=!1;break}c=!1;g&&(k?k.length&&l(k.shift()):b?g=[]:n.disable())},n={add:function(){if(g){var d=g.length;!function Ce(c){v.each(c,function(c,b){var d=v.type(b);"function"===d?a.unique&&n.has(b)||
g.push(b):b&&b.length&&"string"!==d&&Ce(b)})}(arguments);c?B=g.length:b&&(e=d,l(b))}return this},remove:function(){return g&&v.each(arguments,function(a,b){for(var d;-1<(d=v.inArray(b,g,d));)g.splice(d,1),c&&(B>=d&&B--,f>=d&&f--)}),this},has:function(a){return a?-1<v.inArray(a,g):!(!g||!g.length)},empty:function(){return g=[],B=0,this},disable:function(){return g=k=b=void 0,this},disabled:function(){return!g},lock:function(){return k=void 0,b||n.disable(),this},locked:function(){return!k},fireWith:function(a,
b){return!g||d&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!d}};return n};v.extend({Deferred:function(a){var c=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],b="pending",d={state:function(){return b},always:function(){return B.done(arguments).fail(arguments),this},then:function(){var a=arguments;
return v.Deferred(function(b){v.each(c,function(c,f){var e=v.isFunction(a[c])&&a[c];B[f[1]](function(){var a=e&&e.apply(this,arguments);a&&v.isFunction(a.promise)?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[f[0]+"With"](this===d?b.promise():this,e?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?v.extend(a,d):d}},B={};return d.pipe=d.then,v.each(c,function(a,f){var e=f[2],h=f[3];d[f[1]]=e.add;h&&e.add(function(){b=h},c[1^a][2].disable,c[2][2].lock);B[f[0]]=
function(){return B[f[0]+"With"](this===B?d:this,arguments),this};B[f[0]+"With"]=e.fireWith}),d.promise(B),a&&a.call(B,B),B},when:function(a){var c=0,b=S.call(arguments),d=b.length,B=1!==d||a&&v.isFunction(a.promise)?d:0,f=1===B?a:v.Deferred(),e=function(a,c,b){return function(d){c[a]=this;b[a]=1<arguments.length?S.call(arguments):d;b===h?f.notifyWith(c,b):--B||f.resolveWith(c,b)}},h,g,k;if(1<d)for(h=Array(d),g=Array(d),k=Array(d);d>c;c++)b[c]&&v.isFunction(b[c].promise)?b[c].promise().done(e(c,k,
b)).fail(f.reject).progress(e(c,g,h)):--B;return B||f.resolveWith(k,b),f.promise()}});var Ca;v.fn.ready=function(a){return v.ready.promise().done(a),this};v.extend({isReady:!1,readyWait:1,holdReady:function(a){a?v.readyWait++:v.ready(!0)},ready:function(a){if(!0===a?!--v.readyWait:!v.isReady){if(!ha.body)return setTimeout(v.ready);v.isReady=!0;!0!==a&&0<--v.readyWait||(Ca.resolveWith(ha,[v]),v.fn.triggerHandler&&(v(ha).triggerHandler("ready"),v(ha).off("ready")))}}});v.ready.promise=function(c){if(!Ca)if(Ca=
v.Deferred(),"complete"===ha.readyState)setTimeout(v.ready);else if(ha.addEventListener)ha.addEventListener("DOMContentLoaded",k,!1),a.addEventListener("load",k,!1);else{ha.attachEvent("onreadystatechange",k);a.attachEvent("onload",k);var b=!1;try{b=null==a.frameElement&&ha.documentElement}catch(d){}b&&b.doScroll&&!function Xc(){if(!v.isReady){try{b.doScroll("left")}catch(a){return setTimeout(Xc,50)}g();v.ready()}}()}return Ca.promise(c)};for(var Na in v(ba))break;ba.ownLast="0"!==Na;ba.inlineBlockNeedsLayout=
!1;v(function(){var a,c,b,d;(b=ha.getElementsByTagName("body")[0])&&b.style&&(c=ha.createElement("div"),d=ha.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(d).appendChild(c),"undefined"!==typeof c.style.zoom&&(c.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ba.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(b.style.zoom=1)),b.removeChild(d))});(function(){var a=ha.createElement("div");if(null==ba.deleteExpando){ba.deleteExpando=
!0;try{delete a.test}catch(c){ba.deleteExpando=!1}}})();v.acceptData=function(a){var c=v.noData[(a.nodeName+" ").toLowerCase()],b=+a.nodeType||1;return 1!==b&&9!==b?!1:!c||!0!==c&&a.getAttribute("classid")===c};var eb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bb=/([A-Z])/g;v.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?v.cache[a[v.expando]]:a[v.expando],!!a&&!n(a)},data:function(a,c,b){return p(a,c,b)},removeData:function(a,
c){return q(a,c)},_data:function(a,c,b){return p(a,c,b,!0)},_removeData:function(a,c){return q(a,c,!0)}});v.fn.extend({data:function(a,c){var b,d,B,f=this[0],e=f&&f.attributes;if(void 0===a){if(this.length&&(B=v.data(f),1===f.nodeType&&!v._data(f,"parsedAttrs"))){for(b=e.length;b--;)e[b]&&(d=e[b].name,0===d.indexOf("data-")&&(d=v.camelCase(d.slice(5)),l(f,d,B[d])));v._data(f,"parsedAttrs",!0)}return B}return"object"==typeof a?this.each(function(){v.data(this,a)}):1<arguments.length?this.each(function(){v.data(this,
a,c)}):f?l(f,a,v.data(f,a)):void 0},removeData:function(a){return this.each(function(){v.removeData(this,a)})}});v.extend({queue:function(a,c,b){var d;return a?(c=(c||"fx")+"queue",d=v._data(a,c),b&&(!d||v.isArray(b)?d=v._data(a,c,v.makeArray(b)):d.push(b)),d||[]):void 0},dequeue:function(a,c){c=c||"fx";var b=v.queue(a,c),d=b.length,B=b.shift(),f=v._queueHooks(a,c),e=function(){v.dequeue(a,c)};"inprogress"===B&&(B=b.shift(),d--);B&&("fx"===c&&b.unshift("inprogress"),delete f.stop,B.call(a,e,f));!d&&
f&&f.empty.fire()},_queueHooks:function(a,c){var b=c+"queueHooks";return v._data(a,b)||v._data(a,b,{empty:v.Callbacks("once memory").add(function(){v._removeData(a,c+"queue");v._removeData(a,b)})})}});v.fn.extend({queue:function(a,c){var b=2;return"string"!=typeof a&&(c=a,a="fx",b--),arguments.length<b?v.queue(this[0],a):void 0===c?this:this.each(function(){var b=v.queue(this,a,c);v._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&v.dequeue(this,a)})},dequeue:function(a){return this.each(function(){v.dequeue(this,
a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var b,d=1,B=v.Deferred(),f=this,e=this.length,h=function(){--d||B.resolveWith(f,[f])};"string"!=typeof a&&(c=a,a=void 0);for(a=a||"fx";e--;)(b=v._data(f[e],a+"queueHooks"))&&b.empty&&(d++,b.empty.add(h));return h(),B.promise(c)}});var sa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qb=["Top","Right","Bottom","Left"],Pb=function(a,c){return a=c||a,"none"===v.css(a,"display")||!v.contains(a.ownerDocument,a)},Ia=v.access=
function(a,c,b,d,B,f,e){var h=0,g=a.length,k=null==b;if("object"===v.type(b))for(h in B=!0,b)v.access(a,c,h,b[h],!0,f,e);else if(void 0!==d&&(B=!0,v.isFunction(d)||(e=!0),k&&(e?(c.call(a,d),c=null):(k=c,c=function(a,c,b){return k.call(v(a),b)})),c))for(;g>h;h++)c(a[h],b,e?d:d.call(a[h],h,c(a[h],b)));return B?a:k?c.call(a):g?c(a[0],b):f},Ea=/^(?:checkbox|radio)$/i;!function(){var a=ha.createElement("input"),c=ha.createElement("div"),b=ha.createDocumentFragment();if(c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
ba.leadingWhitespace=3===c.firstChild.nodeType,ba.tbody=!c.getElementsByTagName("tbody").length,ba.htmlSerialize=!!c.getElementsByTagName("link").length,ba.html5Clone="<:nav></:nav>"!==ha.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,b.appendChild(a),ba.appendChecked=a.checked,c.innerHTML="<textarea>x</textarea>",ba.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue,b.appendChild(c),c.innerHTML="<input type='radio' checked='checked' name='t'/>",ba.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,
ba.noCloneEvent=!0,c.attachEvent&&(c.attachEvent("onclick",function(){ba.noCloneEvent=!1}),c.cloneNode(!0).click()),null==ba.deleteExpando){ba.deleteExpando=!0;try{delete c.test}catch(d){ba.deleteExpando=!1}}}();(function(){var c,b,d=ha.createElement("div");for(c in{submit:!0,change:!0,focusin:!0})b="on"+c,(ba[c+"Bubbles"]=b in a)||(d.setAttribute(b,"t"),ba[c+"Bubbles"]=!1===d.attributes[b].expando)})();var ob=/^(?:input|select|textarea)$/i,Cc=/^key/,z=/^(?:mouse|pointer|contextmenu)|click/,la=/^(?:focusinfocus|focusoutblur)$/,
kc=/^([^.]*)(?:\.(.+)|)$/;v.event={global:{},add:function(a,c,b,d,B){var f,e,h,g,k,l,n,m,p,wa;if(h=v._data(a)){b.handler&&(g=b,b=g.handler,B=g.selector);b.guid||(b.guid=v.guid++);(e=h.events)||(e=h.events={});(l=h.handle)||(l=h.handle=function(a){return"undefined"===typeof v||a&&v.event.triggered===a.type?void 0:v.event.dispatch.apply(l.elem,arguments)},l.elem=a);c=(c||"").match(Ja)||[""];for(h=c.length;h--;)f=kc.exec(c[h])||[],p=wa=f[1],f=(f[2]||"").split(".").sort(),p&&(k=v.event.special[p]||{},
p=(B?k.delegateType:k.bindType)||p,k=v.event.special[p]||{},n=v.extend({type:p,origType:wa,data:d,handler:b,guid:b.guid,selector:B,needsContext:B&&v.expr.match.needsContext.test(B),namespace:f.join(".")},g),(m=e[p])||(m=e[p]=[],m.delegateCount=0,k.setup&&!1!==k.setup.call(a,d,f,l)||(a.addEventListener?a.addEventListener(p,l,!1):a.attachEvent&&a.attachEvent("on"+p,l))),k.add&&(k.add.call(a,n),n.handler.guid||(n.handler.guid=b.guid)),B?m.splice(m.delegateCount++,0,n):m.push(n),v.event.global[p]=!0);
a=null}},remove:function(a,c,b,d,B){var f,e,h,g,k,l,n,m,p,wa,La,q=v.hasData(a)&&v._data(a);if(q&&(l=q.events)){c=(c||"").match(Ja)||[""];for(k=c.length;k--;)if(h=kc.exec(c[k])||[],p=La=h[1],wa=(h[2]||"").split(".").sort(),p){n=v.event.special[p]||{};p=(d?n.delegateType:n.bindType)||p;m=l[p]||[];h=h[2]&&new RegExp("(^|\\.)"+wa.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=f=m.length;f--;)e=m[f],!B&&La!==e.origType||b&&b.guid!==e.guid||h&&!h.test(e.namespace)||d&&d!==e.selector&&("**"!==d||!e.selector)||(m.splice(f,
1),e.selector&&m.delegateCount--,n.remove&&n.remove.call(a,e));g&&!m.length&&(n.teardown&&!1!==n.teardown.call(a,wa,q.handle)||v.removeEvent(a,p,q.handle),delete l[p])}else for(p in l)v.event.remove(a,p+c[k],b,d,!0);v.isEmptyObject(l)&&(delete q.handle,v._removeData(a,"events"))}},trigger:function(c,b,d,B){var f,e,h,g,k,l,n=[d||ha],m=Ka.call(c,"type")?c.type:c;l=Ka.call(c,"namespace")?c.namespace.split("."):[];if(h=f=d=d||ha,3!==d.nodeType&&8!==d.nodeType&&!la.test(m+v.event.triggered)&&(0<=m.indexOf(".")&&
(l=m.split("."),m=l.shift(),l.sort()),e=0>m.indexOf(":")&&"on"+m,c=c[v.expando]?c:new v.Event(m,"object"==typeof c&&c),c.isTrigger=B?2:3,c.namespace=l.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=d),b=null==b?[c]:v.makeArray(b,[c]),k=v.event.special[m]||{},B||!k.trigger||!1!==k.trigger.apply(d,b))){if(!B&&!k.noBubble&&!v.isWindow(d)){g=k.delegateType||m;for(la.test(g+m)||(h=h.parentNode);h;h=h.parentNode)n.push(h),
f=h;f===(d.ownerDocument||ha)&&n.push(f.defaultView||f.parentWindow||a)}for(l=0;(h=n[l++])&&!c.isPropagationStopped();)c.type=1<l?g:k.bindType||m,(f=(v._data(h,"events")||{})[c.type]&&v._data(h,"handle"))&&f.apply(h,b),(f=e&&h[e])&&f.apply&&v.acceptData(h)&&(c.result=f.apply(h,b),!1===c.result&&c.preventDefault());if(c.type=m,!(B||c.isDefaultPrevented()||k._default&&!1!==k._default.apply(n.pop(),b))&&v.acceptData(d)&&e&&d[m]&&!v.isWindow(d)){(f=d[e])&&(d[e]=null);v.event.triggered=m;try{d[m]()}catch(p){}v.event.triggered=
void 0;f&&(d[e]=f)}return c.result}},dispatch:function(a){a=v.event.fix(a);var c,b,d,B,f,e=[],h=S.call(arguments);c=(v._data(this,"events")||{})[a.type]||[];var g=v.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!g.preDispatch||!1!==g.preDispatch.call(this,a)){e=v.event.handlers.call(this,a,c);for(c=0;(B=e[c++])&&!a.isPropagationStopped();)for(a.currentTarget=B.elem,f=0;(d=B.handlers[f++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(d.namespace)||(a.handleObj=
d,a.data=d.data,b=((v.event.special[d.origType]||{}).handle||d.handler).apply(B.elem,h),void 0===b||!1!==(a.result=b)||(a.preventDefault(),a.stopPropagation()));return g.postDispatch&&g.postDispatch.call(this,a),a.result}},handlers:function(a,c){var b,d,B,f,e=[],h=c.delegateCount,g=a.target;if(h&&g.nodeType&&(!a.button||"click"!==a.type))for(;g!=this;g=g.parentNode||this)if(1===g.nodeType&&(!0!==g.disabled||"click"!==a.type)){B=[];for(f=0;h>f;f++)d=c[f],b=d.selector+" ",void 0===B[b]&&(B[b]=d.needsContext?
0<=v(b,this).index(g):v.find(b,this,null,[g]).length),B[b]&&B.push(d);B.length&&e.push({elem:g,handlers:B})}return h<c.length&&e.push({elem:this,handlers:c.slice(h)}),e},fix:function(a){if(a[v.expando])return a;var c,b,d;c=a.type;var B=a,f=this.fixHooks[c];f||(this.fixHooks[c]=f=z.test(c)?this.mouseHooks:Cc.test(c)?this.keyHooks:{});d=f.props?this.props.concat(f.props):this.props;a=new v.Event(B);for(c=d.length;c--;)b=d[c],a[b]=B[b];return a.target||(a.target=B.srcElement||ha),3===a.target.nodeType&&
(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,B):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,c){var b,d,B,f=c.button,e=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||ha,B=d.documentElement,b=d.body,a.pageX=c.clientX+(B&&B.scrollLeft||b&&b.scrollLeft||0)-(B&&B.clientLeft||b&&b.clientLeft||0),a.pageY=c.clientY+(B&&B.scrollTop||b&&b.scrollTop||0)-(B&&B.clientTop||b&&b.clientTop||0)),!a.relatedTarget&&e&&(a.relatedTarget=e===a.target?c.toElement:e),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
s()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===s()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return v.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return v.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,b,d){a=
v.extend(new v.Event,b,{type:a,isSimulated:!0,originalEvent:{}});d?v.event.trigger(a,null,c):v.event.dispatch.call(c,a);a.isDefaultPrevented()&&b.preventDefault()}};v.removeEvent=ha.removeEventListener?function(a,c,b){a.removeEventListener&&a.removeEventListener(c,b,!1)}:function(a,c,b){c="on"+c;a.detachEvent&&("undefined"===typeof a[c]&&(a[c]=null),a.detachEvent(c,b))};v.Event=function(a,c){return this instanceof v.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
void 0===a.defaultPrevented&&!1===a.returnValue?m:t):this.type=a,c&&v.extend(this,c),this.timeStamp=a&&a.timeStamp||v.now(),void(this[v.expando]=!0)):new v.Event(a,c)};v.Event.prototype={isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,c){v.event.special[a]={delegateType:c,bindType:c,handle:function(a){var b,d=a.relatedTarget,B=a.handleObj;return(!d||d!==this&&!v.contains(this,d))&&(a.type=B.origType,
b=B.handler.apply(this,arguments),a.type=c),b}}});ba.submitBubbles||(v.event.special.submit={setup:function(){return v.nodeName(this,"form")?!1:void v.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=v.nodeName(a,"input")||v.nodeName(a,"button")?a.form:void 0)&&!v._data(a,"submitBubbles")&&(v.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),v._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&
!a.isTrigger&&v.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return v.nodeName(this,"form")?!1:void v.event.remove(this,"._submit")}});ba.changeBubbles||(v.event.special.change={setup:function(){return ob.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(v.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=
!1);v.event.simulate("change",this,a,!0)})),!1):void v.event.add(this,"beforeactivate._change",function(a){a=a.target;ob.test(a.nodeName)&&!v._data(a,"changeBubbles")&&(v.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||v.event.simulate("change",this.parentNode,a,!0)}),v._data(a,"changeBubbles",!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):
void 0},teardown:function(){return v.event.remove(this,"._change"),!ob.test(this.nodeName)}});ba.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(a,c){var b=function(a){v.event.simulate(c,a.target,v.event.fix(a),!0)};v.event.special[c]={setup:function(){var d=this.ownerDocument||this,B=v._data(d,c);B||d.addEventListener(a,b,!0);v._data(d,c,(B||0)+1)},teardown:function(){var d=this.ownerDocument||this,B=v._data(d,c)-1;B?v._data(d,c,B):(d.removeEventListener(a,b,!0),v._removeData(d,
c))}}});v.fn.extend({on:function(a,c,b,d,B){var f,e;if("object"==typeof a){"string"!=typeof c&&(b=b||c,c=void 0);for(f in a)this.on(f,c,b,a[f],B);return this}if(null==b&&null==d?(d=c,b=c=void 0):null==d&&("string"==typeof c?(d=b,b=void 0):(d=b,b=c,c=void 0)),!1===d)d=t;else if(!d)return this;return 1===B&&(e=d,d=function(a){return v().off(a),e.apply(this,arguments)},d.guid=e.guid||(e.guid=v.guid++)),this.each(function(){v.event.add(this,a,d,b,c)})},one:function(a,c,b,d){return this.on(a,c,b,d,1)},
off:function(a,c,b){var d,B;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,v(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(B in a)this.off(B,c,a[B]);return this}return(!1===c||"function"==typeof c)&&(b=c,c=void 0),!1===b&&(b=t),this.each(function(){v.event.remove(this,a,b,c)})},trigger:function(a,c){return this.each(function(){v.event.trigger(a,c,this)})},triggerHandler:function(a,c){var b=this[0];return b?v.event.trigger(a,
c,b,!0):void 0}});var bb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",hb=/ jQuery\d+="(?:null|\d+)"/g,rb=new RegExp("<(?:"+bb+")[\\s/>]","i"),pb=/^\s+/,Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,mb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,xc=/<(?:script|style|link)/i,Dc=/checked\s*(?:[^=]|=\s*.checked.)/i,Ub=/^$|\/(?:java|ecma)script/i,Xb=/^true\/(.*)/,yc=
/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$a={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ba.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Vb=u(ha).appendChild(ha.createElement("div"));$a.optgroup=
$a.option;$a.tbody=$a.tfoot=$a.colgroup=$a.caption=$a.thead;$a.th=$a.td;v.extend({clone:function(a,c,b){var d,B,f,e,h,g=v.contains(a.ownerDocument,a);if(ba.html5Clone||v.isXMLDoc(a)||!rb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Vb.innerHTML=a.outerHTML,Vb.removeChild(f=Vb.firstChild)),!(ba.noCloneEvent&&ba.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||v.isXMLDoc(a)))for(d=r(f),h=r(a),e=0;null!=(B=h[e]);++e)if(d[e]){var k=d[e],l=void 0,n=void 0,m=void 0;if(1===k.nodeType){if(l=k.nodeName.toLowerCase(),
!ba.noCloneEvent&&k[v.expando]){m=v._data(k);for(n in m.events)v.removeEvent(k,n,m.handle);k.removeAttribute(v.expando)}"script"===l&&k.text!==B.text?(C(k).text=B.text,G(k)):"object"===l?(k.parentNode&&(k.outerHTML=B.outerHTML),ba.html5Clone&&B.innerHTML&&!v.trim(k.innerHTML)&&(k.innerHTML=B.innerHTML)):"input"===l&&Ea.test(B.type)?(k.defaultChecked=k.checked=B.checked,k.value!==B.value&&(k.value=B.value)):"option"===l?k.defaultSelected=k.selected=B.defaultSelected:("input"===l||"textarea"===l)&&
(k.defaultValue=B.defaultValue)}}if(c)if(b)for(h=h||r(a),d=d||r(f),e=0;null!=(B=h[e]);e++)D(B,d[e]);else D(a,f);return d=r(f,"script"),0<d.length&&F(d,!g&&r(a,"script")),f},buildFragment:function(a,c,b,d){for(var B,f,e,h,g,k,l,n=a.length,m=u(c),p=[],wa=0;n>wa;wa++)if(f=a[wa],f||0===f)if("object"===v.type(f))v.merge(p,f.nodeType?[f]:f);else if(Tb.test(f)){h=h||m.appendChild(c.createElement("div"));g=(mb.exec(f)||["",""])[1].toLowerCase();l=$a[g]||$a._default;h.innerHTML=l[1]+f.replace(Eb,"<$1></$2>")+
l[2];for(B=l[0];B--;)h=h.lastChild;if(!ba.leadingWhitespace&&pb.test(f)&&p.push(c.createTextNode(pb.exec(f)[0])),!ba.tbody)for(B=(f="table"!==g||Sb.test(f)?"<table>"!==l[1]||Sb.test(f)?0:h:h.firstChild)&&f.childNodes.length;B--;)v.nodeName(k=f.childNodes[B],"tbody")&&!k.childNodes.length&&f.removeChild(k);v.merge(p,h.childNodes);for(h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else p.push(c.createTextNode(f));h&&m.removeChild(h);ba.appendChecked||v.grep(r(p,"input"),w);
for(wa=0;f=p[wa++];)if((!d||-1===v.inArray(f,d))&&(e=v.contains(f.ownerDocument,f),h=r(m.appendChild(f),"script"),e&&F(h),b))for(B=0;f=h[B++];)Ub.test(f.type||"")&&b.push(f);return m},cleanData:function(a,c){for(var b,d,B,f,e=0,h=v.expando,g=v.cache,k=ba.deleteExpando,l=v.event.special;null!=(b=a[e]);e++)if((c||v.acceptData(b))&&(B=b[h],f=B&&g[B])){if(f.events)for(d in f.events)l[d]?v.event.remove(b,d):v.removeEvent(b,d,f.handle);g[B]&&(delete g[B],k?delete b[h]:"undefined"!==typeof b.removeAttribute?
b.removeAttribute(h):b[h]=null,W.push(B))}}});v.fn.extend({text:function(a){return Ia(this,function(a){return void 0===a?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ha).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=
A(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,c){for(var b,d=a?v.filter(a,this):this,B=0;null!=(b=d[B]);B++)c||1!==b.nodeType||v.cleanData(r(b)),b.parentNode&&(c&&v.contains(b.ownerDocument,b)&&F(r(b,"script")),b.parentNode.removeChild(b));
return this},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&v.cleanData(r(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&v.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return v.clone(this,a,c)})},html:function(a){return Ia(this,function(a){var c=this[0]||{},b=0,d=this.length;if(void 0===a)return 1===c.nodeType?c.innerHTML.replace(hb,""):void 0;if(!("string"!=typeof a||xc.test(a)||
!ba.htmlSerialize&&rb.test(a)||!ba.leadingWhitespace&&pb.test(a)||$a[(mb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Eb,"<$1></$2>");try{for(;d>b;b++)c=this[b]||{},1===c.nodeType&&(v.cleanData(r(c,!1)),c.innerHTML=a);c=0}catch(B){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(c){a=this.parentNode;v.cleanData(r(this));a&&a.replaceChild(c,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,
!0)},domManip:function(a,c){a=ma.apply([],a);var b,d,B,f,e=0,h=this.length,g=this,k=h-1,l=a[0],n=v.isFunction(l);if(n||1<h&&"string"==typeof l&&!ba.checkClone&&Dc.test(l))return this.each(function(b){var d=g.eq(b);n&&(a[0]=l.call(this,b,d.html()));d.domManip(a,c)});if(h&&(f=v.buildFragment(a,this[0].ownerDocument,!1,this),b=f.firstChild,1===f.childNodes.length&&(f=b),b)){B=v.map(r(f,"script"),C);for(d=B.length;h>e;e++)b=f,e!==k&&(b=v.clone(b,!0,!0),d&&v.merge(B,r(b,"script"))),c.call(this[e],b,e);
if(d)for(f=B[B.length-1].ownerDocument,v.map(B,G),e=0;d>e;e++)b=B[e],Ub.test(b.type||"")&&!v._data(b,"globalEval")&&v.contains(f,b)&&(b.src?v._evalUrl&&v._evalUrl(b.src):v.globalEval((b.text||b.textContent||b.innerHTML||"").replace(yc,"")));f=b=null}return this}});v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){v.fn[a]=function(a){for(var b=0,d=[],B=v(a),f=B.length-1;f>=b;b++)a=b===f?this:this.clone(!0),v(B[b])[c](a),
na.apply(d,a.get());return this.pushStack(d)}});var ta,Ba={};!function(){var a;ba.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,b,d;return b=ha.getElementsByTagName("body")[0],b&&b.style?(c=ha.createElement("div"),d=ha.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(d).appendChild(c),"undefined"!==typeof c.style.zoom&&(c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
c.appendChild(ha.createElement("div")).style.width="5px",a=3!==c.offsetWidth),b.removeChild(d),a):void 0}}();var rc=/^margin/,Zb=new RegExp("^("+sa+")(?!px)[a-z%]+$","i"),da,Aa,sb=/^(top|right|bottom|left)$/;a.getComputedStyle?(da=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Aa=function(a,c,b){var d,B,f,e,h=a.style;return b=b||da(a),e=b?b.getPropertyValue(c)||b[c]:void 0,b&&(""!==e||v.contains(a.ownerDocument,a)||(e=v.style(a,c)),Zb.test(e)&&rc.test(c)&&(d=h.width,B=h.minWidth,
f=h.maxWidth,h.minWidth=h.maxWidth=h.width=e,e=b.width,h.width=d,h.minWidth=B,h.maxWidth=f)),void 0===e?e:e+""}):ha.documentElement.currentStyle&&(da=function(a){return a.currentStyle},Aa=function(a,c,b){var d,B,f,e,h=a.style;return b=b||da(a),e=b?b[c]:void 0,null==e&&h&&h[c]&&(e=h[c]),Zb.test(e)&&!sb.test(c)&&(d=h.left,B=a.runtimeStyle,f=B&&B.left,f&&(B.left=a.currentStyle.left),h.left="fontSize"===c?"1em":e,e=h.pixelLeft+"px",h.left=d,f&&(B.left=f)),void 0===e?e:e+""||"auto"});!function(){var c,
b,d,B,f,e,h;if(c=ha.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=c.getElementsByTagName("a")[0],b=d&&d.style){var g=function(){var c,b,d,g;(b=ha.getElementsByTagName("body")[0])&&b.style&&(c=ha.createElement("div"),d=ha.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(d).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
B=f=!1,h=!0,a.getComputedStyle&&(B="1%"!==(a.getComputedStyle(c,null)||{}).top,f="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width,g=c.appendChild(ha.createElement("div")),g.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",g.style.marginRight=g.style.width="0",c.style.width="1px",h=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
g=c.getElementsByTagName("td"),g[0].style.cssText="margin:0;border:0;padding:0;display:none",e=0===g[0].offsetHeight,e&&(g[0].style.display="",g[1].style.display="none",e=0===g[0].offsetHeight),b.removeChild(d))};b.cssText="float:left;opacity:.5";ba.opacity="0.5"===b.opacity;ba.cssFloat=!!b.cssFloat;c.style.backgroundClip="content-box";c.cloneNode(!0).style.backgroundClip="";ba.clearCloneStyle="content-box"===c.style.backgroundClip;ba.boxSizing=""===b.boxSizing||""===b.MozBoxSizing||""===b.WebkitBoxSizing;
v.extend(ba,{reliableHiddenOffsets:function(){return null==e&&g(),e},boxSizingReliable:function(){return null==f&&g(),f},pixelPosition:function(){return null==B&&g(),B},reliableMarginRight:function(){return null==h&&g(),h}})}}();v.swap=function(a,c,b,d){var B,f={};for(B in c)f[B]=a.style[B],a.style[B]=c[B];b=b.apply(a,d||[]);for(B in c)a.style[B]=f[B];return b};var c=/alpha\([^)]*\)/i,ya=/opacity\s*=\s*([^)]*)/,vb=/^(none|table(?!-c[ea]).+)/,nc=new RegExp("^("+sa+")(.*)$","i"),wb=new RegExp("^([+-])=("+
sa+")","i"),Nc={position:"absolute",visibility:"hidden",display:"block"},Ab={letterSpacing:"0",fontWeight:"400"},Yb=["Webkit","O","Moz","ms"];v.extend({cssHooks:{opacity:{get:function(a,c){if(c){var b=Aa(a,"opacity");return""===b?"1":b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ba.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,b,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&
a.style){var B,f,e,h=v.camelCase(c),g=a.style;if(c=v.cssProps[h]||(v.cssProps[h]=H(g,h)),e=v.cssHooks[c]||v.cssHooks[h],void 0===b)return e&&"get"in e&&void 0!==(B=e.get(a,!1,d))?B:g[c];if(f=typeof b,"string"===f&&(B=wb.exec(b))&&(b=(B[1]+1)*B[2]+parseFloat(v.css(a,c)),f="number"),null!=b&&b===b&&("number"!==f||v.cssNumber[h]||(b+="px"),ba.clearCloneStyle||""!==b||0!==c.indexOf("background")||(g[c]="inherit"),!(e&&"set"in e&&void 0===(b=e.set(a,b,d)))))try{g[c]=b}catch(k){}}},css:function(a,c,b,d){var B,
f,e,h=v.camelCase(c);return c=v.cssProps[h]||(v.cssProps[h]=H(a.style,h)),e=v.cssHooks[c]||v.cssHooks[h],e&&"get"in e&&(f=e.get(a,!0,b)),void 0===f&&(f=Aa(a,c,d)),"normal"===f&&c in Ab&&(f=Ab[c]),""===b||b?(B=parseFloat(f),!0===b||v.isNumeric(B)?B||0:f):f}});v.each(["height","width"],function(a,c){v.cssHooks[c]={get:function(a,b,d){return b?vb.test(v.css(a,"display"))&&0===a.offsetWidth?v.swap(a,Nc,function(){return L(a,c,d)}):L(a,c,d):void 0},set:function(a,b,d){var B=d&&da(a);return K(a,b,d?N(a,
c,d,ba.boxSizing&&"border-box"===v.css(a,"boxSizing",!1,B),B):0)}}});ba.opacity||(v.cssHooks.opacity={get:function(a,c){return ya.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(a,b){var d=a.style,B=a.currentStyle,f=v.isNumeric(b)?"alpha(opacity="+100*b+")":"",e=B&&B.filter||d.filter||"";d.zoom=1;(1<=b||""===b)&&""===v.trim(e.replace(c,""))&&d.removeAttribute&&(d.removeAttribute("filter"),""===b||B&&!B.filter)||(d.filter=c.test(e)?
e.replace(c,f):e+" "+f)}});v.cssHooks.marginRight=P(ba.reliableMarginRight,function(a,c){return c?v.swap(a,{display:"inline-block"},Aa,[a,"marginRight"]):void 0});v.each({margin:"",padding:"",border:"Width"},function(a,c){v.cssHooks[a+c]={expand:function(b){var d=0,B={};for(b="string"==typeof b?b.split(" "):[b];4>d;d++)B[a+qb[d]+c]=b[d]||b[d-2]||b[0];return B}};rc.test(a)||(v.cssHooks[a+c].set=K)});v.fn.extend({css:function(a,c){return Ia(this,function(a,c,b){var d,B={},f=0;if(v.isArray(c)){b=da(a);
for(d=c.length;d>f;f++)B[c[f]]=v.css(a,c[f],!1,b);return B}return void 0!==b?v.style(a,c,b):v.css(a,c)},a,c,1<arguments.length)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Pb(this)?v(this).show():v(this).hide()})}});v.Tween=J;J.prototype={constructor:J,init:function(a,c,b,d,B,f){this.elem=a;this.prop=b;this.easing=B||"swing";this.options=c;this.start=this.now=this.cur();this.end=d;this.unit=
f||(v.cssNumber[b]?"":"px")},cur:function(){var a=J.propHooks[this.prop];return a&&a.get?a.get(this):J.propHooks._default.get(this)},run:function(a){var c,b=J.propHooks[this.prop];return this.pos=c=this.options.duration?v.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):J.propHooks._default.set(this),this}};J.prototype.init.prototype=J.prototype;
J.propHooks={_default:{get:function(a){var c;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(c=v.css(a.elem,a.prop,""),c&&"auto"!==c?c:0):a.elem[a.prop]},set:function(a){v.fx.step[a.prop]?v.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[v.cssProps[a.prop]]||v.cssHooks[a.prop])?v.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};v.easing={linear:function(a){return a},
swing:function(a){return.5-Math.cos(a*Math.PI)/2}};v.fx=J.prototype.init;v.fx.step={};var jb,sc,ca=/^(?:toggle|show|hide)$/,zc=new RegExp("^(?:([+-])=|)("+sa+")([a-z%]*)$","i"),Ec=/queueHooks$/,ic=[function(a,c,b){var d,B,f,e,h,g,k,l=this,n={},m=a.style,p=a.nodeType&&Pb(a),wa=v._data(a,"fxshow");b.queue||(e=v._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,h=e.empty.fire,e.empty.fire=function(){e.unqueued||h()}),e.unqueued++,l.always(function(){l.always(function(){e.unqueued--;v.queue(a,"fx").length||
e.empty.fire()})}));1===a.nodeType&&("height"in c||"width"in c)&&(b.overflow=[m.overflow,m.overflowX,m.overflowY],g=v.css(a,"display"),k="none"===g?v._data(a,"olddisplay")||E(a.nodeName):g,"inline"===k&&"none"===v.css(a,"float")&&(ba.inlineBlockNeedsLayout&&"inline"!==E(a.nodeName)?m.zoom=1:m.display="inline-block"));b.overflow&&(m.overflow="hidden",ba.shrinkWrapBlocks()||l.always(function(){m.overflow=b.overflow[0];m.overflowX=b.overflow[1];m.overflowY=b.overflow[2]}));for(d in c)if(B=c[d],ca.exec(B)){if(delete c[d],
f=f||"toggle"===B,B===(p?"hide":"show")){if("show"!==B||!wa||void 0===wa[d])continue;p=!0}n[d]=wa&&wa[d]||v.style(a,d)}else g=void 0;if(v.isEmptyObject(n))"inline"===("none"===g?E(a.nodeName):g)&&(m.display=g);else for(d in wa?"hidden"in wa&&(p=wa.hidden):wa=v._data(a,"fxshow",{}),f&&(wa.hidden=!p),p?v(a).show():l.done(function(){v(a).hide()}),l.done(function(){var c;v._removeData(a,"fxshow");for(c in n)v.style(a,c,n[c])}),n)c=T(p?wa[d]:0,d,l),d in wa||(wa[d]=c.start,p&&(c.end=c.start,c.start="width"===
d||"height"===d?1:0))}],gb={"*":[function(a,c){var b=this.createTween(a,c),d=b.cur(),B=zc.exec(c),f=B&&B[3]||(v.cssNumber[a]?"":"px"),e=(v.cssNumber[a]||"px"!==f&&+d)&&zc.exec(v.css(b.elem,a)),h=1,g=20;if(e&&e[3]!==f){f=f||e[3];B=B||[];e=+d||1;do h=h||".5",e/=h,v.style(b.elem,a,e+f);while(h!==(h=b.cur()/d)&&1!==h&&--g)}return B&&(e=b.start=+e||+d||0,b.unit=f,b.end=B[1]?e+(B[1]+1)*B[2]:+B[2]),b}]};v.Animation=v.extend(X,{tweener:function(a,c){v.isFunction(a)?(c=a,a=["*"]):a=a.split(" ");for(var b,
d=0,B=a.length;B>d;d++)b=a[d],gb[b]=gb[b]||[],gb[b].unshift(c)},prefilter:function(a,c){c?ic.unshift(a):ic.push(a)}});v.speed=function(a,c,b){var d=a&&"object"==typeof a?v.extend({},a):{complete:b||!b&&c||v.isFunction(a)&&a,duration:a,easing:b&&c||c&&!v.isFunction(c)&&c};return d.duration=v.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in v.fx.speeds?v.fx.speeds[d.duration]:v.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){v.isFunction(d.old)&&
d.old.call(this);d.queue&&v.dequeue(this,d.queue)},d};v.fn.extend({fadeTo:function(a,c,b,d){return this.filter(Pb).css("opacity",0).show().end().animate({opacity:c},a,b,d)},animate:function(a,c,b,d){var B=v.isEmptyObject(a),f=v.speed(c,b,d);c=function(){var c=X(this,v.extend({},a),f);(B||v._data(this,"finish"))&&c.stop(!0)};return c.finish=c,B||!1===f.queue?this.each(c):this.queue(f.queue,c)},stop:function(a,c,b){var d=function(a){var c=a.stop;delete a.stop;c(b)};return"string"!=typeof a&&(b=c,c=
a,a=void 0),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var c=!0,B=null!=a&&a+"queueHooks",f=v.timers,e=v._data(this);if(B)e[B]&&e[B].stop&&d(e[B]);else for(B in e)e[B]&&e[B].stop&&Ec.test(B)&&d(e[B]);for(B=f.length;B--;)f[B].elem!==this||null!=a&&f[B].queue!==a||(f[B].anim.stop(b),c=!1,f.splice(B,1));!c&&b||v.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var c,b=v._data(this),d=b[a+"queue"];c=b[a+"queueHooks"];var B=v.timers,f=d?d.length:0;b.finish=
!0;v.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=B.length;c--;)B[c].elem===this&&B[c].queue===a&&(B[c].anim.stop(!0),B.splice(c,1));for(c=0;f>c;c++)d[c]&&d[c].finish&&d[c].finish.call(this);delete b.finish})}});v.each(["toggle","show","hide"],function(a,c){var b=v.fn[c];v.fn[c]=function(a,d,B){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(O(c,!0),a,d,B)}});v.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,c){v.fn[a]=function(a,b,d){return this.animate(c,a,b,d)}});v.timers=[];v.fx.tick=function(){var a,c=v.timers,b=0;for(jb=v.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||v.fx.stop();jb=void 0};v.fx.timer=function(a){v.timers.push(a);a()?v.fx.start():v.timers.pop()};v.fx.interval=13;v.fx.start=function(){sc||(sc=setInterval(v.fx.tick,v.fx.interval))};v.fx.stop=function(){clearInterval(sc);sc=null};v.fx.speeds={slow:600,fast:200,_default:400};
v.fn.delay=function(a,c){return a=v.fx?v.fx.speeds[a]||a:a,c=c||"fx",this.queue(c,function(c,b){var d=setTimeout(c,a);b.stop=function(){clearTimeout(d)}})};(function(){var a,c,b,d,B;c=ha.createElement("div");c.setAttribute("className","t");c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";d=c.getElementsByTagName("a")[0];b=ha.createElement("select");B=b.appendChild(ha.createElement("option"));a=c.getElementsByTagName("input")[0];d.style.cssText="top:1px";ba.getSetAttribute=
"t"!==c.className;ba.style=/top/.test(d.getAttribute("style"));ba.hrefNormalized="/a"===d.getAttribute("href");ba.checkOn=!!a.value;ba.optSelected=B.selected;ba.enctype=!!ha.createElement("form").enctype;b.disabled=!0;ba.optDisabled=!B.disabled;a=ha.createElement("input");a.setAttribute("value","");ba.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");ba.radioValue="t"===a.value})();var oa=/\r/g;v.fn.extend({val:function(a){var c,b,d,B=this[0];if(arguments.length)return d=
v.isFunction(a),this.each(function(b){var B;1===this.nodeType&&(B=d?a.call(this,b,v(this).val()):a,null==B?B="":"number"==typeof B?B+="":v.isArray(B)&&(B=v.map(B,function(a){return null==a?"":a+""})),c=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&void 0!==c.set(this,B,"value")||(this.value=B))});if(B)return c=v.valHooks[B.type]||v.valHooks[B.nodeName.toLowerCase()],c&&"get"in c&&void 0!==(b=c.get(B,"value"))?b:(b=B.value,"string"==typeof b?b.replace(oa,""):null==b?
"":b)}});v.extend({valHooks:{option:{get:function(a){var c=v.find.attr(a,"value");return null!=c?c:v.trim(v.text(a))}},select:{get:function(a){for(var c,b=a.options,d=a.selectedIndex,B="select-one"===a.type||0>d,f=B?null:[],e=B?d+1:b.length,h=0>d?e:B?d:0;e>h;h++)if(c=b[h],!(!c.selected&&h!==d||(ba.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&v.nodeName(c.parentNode,"optgroup"))){if(a=v(c).val(),B)return a;f.push(a)}return f},set:function(a,c){for(var b,d,B=a.options,
f=v.makeArray(c),e=B.length;e--;)if(d=B[e],0<=v.inArray(v.valHooks.option.get(d),f))try{d.selected=b=!0}catch(h){d.scrollHeight}else d.selected=!1;return b||(a.selectedIndex=-1),B}}}});v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(a,c){return v.isArray(c)?a.checked=0<=v.inArray(v(a).val(),c):void 0}};ba.checkOn||(v.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Ib,Oc,$b=v.expr.attrHandle,Pc=/^(?:checked|selected)$/i,Fb=ba.getSetAttribute,
ac=ba.input;v.fn.extend({attr:function(a,c){return Ia(this,v.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){v.removeAttr(this,a)})}});v.extend({attr:function(a,c,b){var d,B,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return"undefined"===typeof a.getAttribute?v.prop(a,c,b):(1===f&&v.isXMLDoc(a)||(c=c.toLowerCase(),d=v.attrHooks[c]||(v.expr.match.bool.test(c)?Oc:Ib)),void 0===b?d&&"get"in d&&null!==(B=d.get(a,c))?B:(B=v.find.attr(a,c),null==B?void 0:B):null!==b?d&&"set"in
d&&void 0!==(B=d.set(a,b,c))?B:(a.setAttribute(c,b+""),b):void v.removeAttr(a,c))},removeAttr:function(a,c){var b,d,B=0,f=c&&c.match(Ja);if(f&&1===a.nodeType)for(;b=f[B++];)d=v.propFix[b]||b,v.expr.match.bool.test(b)?ac&&Fb||!Pc.test(b)?a[d]=!1:a[v.camelCase("default-"+b)]=a[d]=!1:v.attr(a,b,""),a.removeAttribute(Fb?b:d)},attrHooks:{type:{set:function(a,c){if(!ba.radioValue&&"radio"===c&&v.nodeName(a,"input")){var b=a.value;return a.setAttribute("type",c),b&&(a.value=b),c}}}}});Oc={set:function(a,
c,b){return!1===c?v.removeAttr(a,b):ac&&Fb||!Pc.test(b)?a.setAttribute(!Fb&&v.propFix[b]||b,b):a[v.camelCase("default-"+b)]=a[b]=!0,b}};v.each(v.expr.match.bool.source.match(/\w+/g),function(a,c){var b=$b[c]||v.find.attr;$b[c]=ac&&Fb||!Pc.test(c)?function(a,c,d){var B,f;return d||(f=$b[c],$b[c]=B,B=null!=b(a,c,d)?c.toLowerCase():null,$b[c]=f),B}:function(a,c,b){return b?void 0:a[v.camelCase("default-"+c)]?c.toLowerCase():null}});ac&&Fb||(v.attrHooks.value={set:function(a,c,b){return v.nodeName(a,
"input")?void(a.defaultValue=c):Ib&&Ib.set(a,c,b)}});Fb||(Ib={set:function(a,c,b){var d=a.getAttributeNode(b);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(b)),d.value=c+="","value"===b||c===a.getAttribute(b)?c:void 0}},$b.id=$b.name=$b.coords=function(a,c,b){var d;return b?void 0:(d=a.getAttributeNode(c))&&""!==d.value?d.value:null},v.valHooks.button={get:function(a,c){var b=a.getAttributeNode(c);return b&&b.specified?b.value:void 0},set:Ib.set},v.attrHooks.contenteditable={set:function(a,
c,b){Ib.set(a,""===c?!1:c,b)}},v.each(["width","height"],function(a,c){v.attrHooks[c]={set:function(a,b){return""===b?(a.setAttribute(c,"auto"),b):void 0}}}));ba.style||(v.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+""}});var Fc=/^(?:input|select|textarea|button|object)$/i,Gc=/^(?:a|area)$/i;v.fn.extend({prop:function(a,c){return Ia(this,v.prop,a,c,1<arguments.length)},removeProp:function(a){return a=v.propFix[a]||a,this.each(function(){try{this[a]=
void 0,delete this[a]}catch(c){}})}});v.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,b){var d,B,f,e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e)return f=1!==e||!v.isXMLDoc(a),f&&(c=v.propFix[c]||c,B=v.propHooks[c]),void 0!==b?B&&"set"in B&&void 0!==(d=B.set(a,b,c))?d:a[c]=b:B&&"get"in B&&null!==(d=B.get(a,c))?d:a[c]},propHooks:{tabIndex:{get:function(a){var c=v.find.attr(a,"tabindex");return c?parseInt(c,10):Fc.test(a.nodeName)||Gc.test(a.nodeName)&&a.href?0:-1}}}});ba.hrefNormalized||
v.each(["href","src"],function(a,c){v.propHooks[c]={get:function(a){return a.getAttribute(c,4)}}});ba.optSelected||(v.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});v.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){v.propFix[this.toLowerCase()]=this});ba.enctype||(v.propFix.enctype="encoding");var tc=/[\t\r\n\f]/g;v.fn.extend({addClass:function(a){var c,
b,d,B,f,e=0,h=this.length;c="string"==typeof a&&a;if(v.isFunction(a))return this.each(function(c){v(this).addClass(a.call(this,c,this.className))});if(c)for(c=(a||"").match(Ja)||[];h>e;e++)if(b=this[e],d=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(tc," "):" ")){for(f=0;B=c[f++];)0>d.indexOf(" "+B+" ")&&(d+=B+" ");d=v.trim(d);b.className!==d&&(b.className=d)}return this},removeClass:function(a){var c,b,d,B,f,e=0,h=this.length;c=0===arguments.length||"string"==typeof a&&a;if(v.isFunction(a))return this.each(function(c){v(this).removeClass(a.call(this,
c,this.className))});if(c)for(c=(a||"").match(Ja)||[];h>e;e++)if(b=this[e],d=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(tc," "):"")){for(f=0;B=c[f++];)for(;0<=d.indexOf(" "+B+" ");)d=d.replace(" "+B+" "," ");d=a?v.trim(d):"";b.className!==d&&(b.className=d)}return this},toggleClass:function(a,c){var b=typeof a;return"boolean"==typeof c&&"string"===b?c?this.addClass(a):this.removeClass(a):this.each(v.isFunction(a)?function(b){v(this).toggleClass(a.call(this,b,this.className,c),c)}:
function(){if("string"===b)for(var c,d=0,B=v(this),f=a.match(Ja)||[];c=f[d++];)B.hasClass(c)?B.removeClass(c):B.addClass(c);else("undefined"===b||"boolean"===b)&&(this.className&&v._data(this,"__className__",this.className),this.className=this.className||!1===a?"":v._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var c=0,b=this.length;b>c;c++)if(1===this[c].nodeType&&0<=(" "+this[c].className+" ").replace(tc," ").indexOf(a))return!0;return!1}});v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,c){v.fn[c]=function(a,b){return 0<arguments.length?this.on(c,null,a,b):this.trigger(c)}});v.fn.extend({hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)},bind:function(a,c,b){return this.on(a,null,c,b)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,b,d){return this.on(c,a,b,d)},undelegate:function(a,c,b){return 1===arguments.length?this.off(a,"**"):this.off(c,a||"**",b)}});var uc=v.now(),Ac=/\?/,Hc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
v.parseJSON=function(c){if(a.JSON&&a.JSON.parse)return a.JSON.parse(c+"");var b,d=null,B=v.trim(c+"");return B&&!v.trim(B.replace(Hc,function(a,c,B,f){return b&&c&&(d=0),0===d?a:(b=B||c,d+=!f-!B,"")}))?Function("return "+B)():v.error("Invalid JSON: "+c)};v.parseXML=function(c){var b,d;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(d=new DOMParser,b=d.parseFromString(c,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(c))}catch(B){b=void 0}return b&&b.documentElement&&
!b.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+c),b};var Nb,Gb,ja=/#.*$/,Ic=/([?&])_=[^&]*/,Kc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lc=/^(?:GET|HEAD)$/,Qc=/^\/\//,V=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Va={},wc={},B="*/".concat("*");try{Gb=location.href}catch(Ra){Gb=ha.createElement("a"),Gb.href="",Gb=Gb.href}Nb=V.exec(Gb.toLowerCase())||[];v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nb[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":B,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?Y(Y(a,
v.ajaxSettings),c):Y(v.ajaxSettings,a)},ajaxPrefilter:Z(Va),ajaxTransport:Z(wc),ajax:function(a,c){function b(a,c,d,B){var f,n,s,r,u=c;if(2!==t){t=2;g&&clearTimeout(g);l=void 0;h=B||"";Ha.readyState=0<a?4:0;B=200<=a&&300>a||304===a;if(d){s=m;for(var Cb=Ha,w,A,z,Ya,sb=s.contents,ib=s.dataTypes;"*"===ib[0];)ib.shift(),void 0===A&&(A=s.mimeType||Cb.getResponseHeader("Content-Type"));if(A)for(Ya in sb)if(sb[Ya]&&sb[Ya].test(A)){ib.unshift(Ya);break}if(ib[0]in d)z=ib[0];else{for(Ya in d){if(!ib[0]||s.converters[Ya+
" "+ib[0]]){z=Ya;break}w||(w=Ya)}z=z||w}s=z?(z!==ib[0]&&ib.unshift(z),d[z]):void 0}var C;a:{d=m;w=s;A=Ha;z=B;var G,F,E;s={};Cb=d.dataTypes.slice();if(Cb[1])for(G in d.converters)s[G.toLowerCase()]=d.converters[G];for(Ya=Cb.shift();Ya;)if(d.responseFields[Ya]&&(A[d.responseFields[Ya]]=w),!E&&z&&d.dataFilter&&(w=d.dataFilter(w,d.dataType)),E=Ya,Ya=Cb.shift())if("*"===Ya)Ya=E;else if("*"!==E&&E!==Ya){if(G=s[E+" "+Ya]||s["* "+Ya],!G)for(C in s)if(F=C.split(" "),F[1]===Ya&&(G=s[E+" "+F[0]]||s["* "+F[0]])){!0===
G?G=s[C]:!0!==s[C]&&(Ya=F[0],Cb.unshift(F[1]));break}if(!0!==G)if(G&&d["throws"])w=G(w);else try{w=G(w)}catch(Kb){C={state:"parsererror",error:G?Kb:"No conversion from "+E+" to "+Ya};break a}}C={state:"success",data:w}}s=C;B?(m.ifModified&&(r=Ha.getResponseHeader("Last-Modified"),r&&(v.lastModified[e]=r),r=Ha.getResponseHeader("etag"),r&&(v.etag[e]=r)),204===a||"HEAD"===m.type?u="nocontent":304===a?u="notmodified":(u=s.state,f=s.data,n=s.error,B=!n)):(n=u,(a||!u)&&(u="error",0>a&&(a=0)));Ha.status=
a;Ha.statusText=(c||u)+"";B?La.resolveWith(p,[f,u,Ha]):La.rejectWith(p,[Ha,u,n]);Ha.statusCode(Ra);Ra=void 0;k&&wa.trigger(B?"ajaxSuccess":"ajaxError",[Ha,m,B?f:n]);q.fireWith(p,[Ha,u]);k&&(wa.trigger("ajaxComplete",[Ha,m]),--v.active||v.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=void 0);c=c||{};var d,f,e,h,g,k,l,n,m=v.ajaxSetup({},c),p=m.context||m,wa=m.context&&(p.nodeType||p.jquery)?v(p):v.event,La=v.Deferred(),q=v.Callbacks("once memory"),Ra=m.statusCode||{},s={},r={},t=0,u="canceled",
Ha={readyState:0,getResponseHeader:function(a){var c;if(2===t){if(!n)for(n={};c=Kc.exec(h);)n[c[1].toLowerCase()]=c[2];c=n[a.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return 2===t?h:null},setRequestHeader:function(a,c){var b=a.toLowerCase();return t||(a=r[b]=r[b]||a,s[a]=c),this},overrideMimeType:function(a){return t||(m.mimeType=a),this},statusCode:function(a){var c;if(a)if(2>t)for(c in a)Ra[c]=[Ra[c],a[c]];else Ha.always(a[Ha.status]);return this},abort:function(a){a=
a||u;return l&&l.abort(a),b(0,a),this}};if(La.promise(Ha).complete=q.add,Ha.success=Ha.done,Ha.error=Ha.fail,m.url=((a||m.url||Gb)+"").replace(ja,"").replace(Qc,Nb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=v.trim(m.dataType||"*").toLowerCase().match(Ja)||[""],null==m.crossDomain&&(d=V.exec(m.url.toLowerCase()),m.crossDomain=!(!d||d[1]===Nb[1]&&d[2]===Nb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Nb[3]||("http:"===Nb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&
(m.data=v.param(m.data,m.traditional)),U(Va,m,c,Ha),2===t)return Ha;(k=m.global)&&0===v.active++&&v.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=!Lc.test(m.type);e=m.url;m.hasContent||(m.data&&(e=m.url+=(Ac.test(e)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Ic.test(e)?e.replace(Ic,"$1_="+uc++):e+(Ac.test(e)?"&":"?")+"_="+uc++));m.ifModified&&(v.lastModified[e]&&Ha.setRequestHeader("If-Modified-Since",v.lastModified[e]),v.etag[e]&&Ha.setRequestHeader("If-None-Match",
v.etag[e]));(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&Ha.setRequestHeader("Content-Type",m.contentType);Ha.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+B+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)Ha.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(!1===m.beforeSend.call(p,Ha,m)||2===t))return Ha.abort();u="abort";for(f in{success:1,error:1,complete:1})Ha[f](m[f]);if(l=U(wc,m,c,Ha)){Ha.readyState=
1;k&&wa.trigger("ajaxSend",[Ha,m]);m.async&&0<m.timeout&&(g=setTimeout(function(){Ha.abort("timeout")},m.timeout));try{t=1,l.send(s,b)}catch(Cb){if(!(2>t))throw Cb;b(-1,Cb)}}else b(-1,"No Transport");return Ha},getJSON:function(a,c,b){return v.get(a,c,b,"json")},getScript:function(a,c){return v.get(a,void 0,c,"script")}});v.each(["get","post"],function(a,c){v[c]=function(a,b,d,B){return v.isFunction(b)&&(B=B||d,d=b,b=void 0),v.ajax({url:a,type:c,dataType:B,data:b,success:d})}});v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,c){v.fn[c]=function(a){return this.on(c,a)}});v._evalUrl=function(a){return v.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};v.fn.extend({wrapAll:function(a){if(v.isFunction(a))return this.each(function(c){v(this).wrapAll(a.call(this,c))});if(this[0]){var c=v(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){return this.each(v.isFunction(a)?function(c){v(this).wrapInner(a.call(this,c))}:function(){var c=v(this),b=c.contents();b.length?b.wrapAll(a):c.append(a)})},wrap:function(a){var c=v.isFunction(a);return this.each(function(b){v(this).wrapAll(c?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()}});v.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!ba.reliableHiddenOffsets()&&
"none"===(a.style&&a.style.display||v.css(a,"display"))};v.expr.filters.visible=function(a){return!v.expr.filters.hidden(a)};var La=/%20/g,Cb=/\[\]$/,wa=/\r?\n/g,Ha=/^(?:submit|button|image|reset|file)$/i,ib=/^(?:input|select|textarea|keygen)/i;v.param=function(a,c){var b,d=[],B=function(a,c){c=v.isFunction(c)?c():null==c?"":c;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if(void 0===c&&(c=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(a)||a.jquery&&!v.isPlainObject(a))v.each(a,
function(){B(this.name,this.value)});else for(b in a)R(b,a[b],c,B);return d.join("&").replace(La,"+")};v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=v.prop(this,"elements");return a?v.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!v(this).is(":disabled")&&ib.test(this.nodeName)&&!Ha.test(a)&&(this.checked||!Ea.test(a))}).map(function(a,c){var b=v(this).val();return null==b?null:v.isArray(b)?
v.map(b,function(a){return{name:c.name,value:a.replace(wa,"\r\n")}}):{name:c.name,value:b.replace(wa,"\r\n")}}).get()}});v.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&fa()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}c=void 0}return c}:fa;var Ya=0,yb={},Ob=v.ajaxSettings.xhr();a.ActiveXObject&&v(a).on("unload",function(){for(var a in yb)yb[a](void 0,!0)});ba.cors=!!Ob&&"withCredentials"in
Ob;(Ob=ba.ajax=!!Ob)&&v.ajaxTransport(function(a){if(!a.crossDomain||ba.cors){var c;return{send:function(b,d){var B,f=a.xhr(),e=++Ya;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(B in a.xhrFields)f[B]=a.xhrFields[B];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(B in b)void 0!==b[B]&&f.setRequestHeader(B,b[B]+"");f.send(a.hasContent&&a.data||null);c=function(b,B){var h,g,k;if(c&&
(B||4===f.readyState))if(delete yb[e],c=void 0,f.onreadystatechange=v.noop,B)4!==f.readyState&&f.abort();else{k={};h=f.status;"string"==typeof f.responseText&&(k.text=f.responseText);try{g=f.statusText}catch(l){g=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=k.text?200:404}k&&d(h,g,k,f.getAllResponseHeaders())};a.async?4===f.readyState?setTimeout(c):f.onreadystatechange=yb[e]=c:c()},abort:function(){c&&c(void 0,!0)}}}});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return v.globalEval(a),a}}});v.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});v.ajaxTransport("script",function(a){if(a.crossDomain){var c,b=ha.head||v("head")[0]||ha.documentElement;return{send:function(d,B){c=ha.createElement("script");c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||
/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||B(200,"success"))};b.insertBefore(c,b.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var Kb=[],lc=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Kb.pop()||v.expando+"_"+uc++;return this[a]=!0,a}});v.ajaxPrefilter("json jsonp",function(c,b,d){var B,f,e,h=!1!==c.jsonp&&(lc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||
"").indexOf("application/x-www-form-urlencoded")&&lc.test(c.data)&&"data");return h||"jsonp"===c.dataTypes[0]?(B=c.jsonpCallback=v.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,h?c[h]=c[h].replace(lc,"$1"+B):!1!==c.jsonp&&(c.url+=(Ac.test(c.url)?"&":"?")+c.jsonp+"="+B),c.converters["script json"]=function(){return e||v.error(B+" was not called"),e[0]},c.dataTypes[0]="json",f=a[B],a[B]=function(){e=arguments},d.always(function(){a[B]=f;c[B]&&(c.jsonpCallback=b.jsonpCallback,Kb.push(B));
e&&v.isFunction(f)&&f(e[0]);e=f=void 0}),"script"):void 0});v.parseHTML=function(a,c,b){if(!a||"string"!=typeof a)return null;"boolean"==typeof c&&(b=c,c=!1);c=c||ha;var d=Da.exec(a);b=!b&&[];return d?[c.createElement(d[1])]:(d=v.buildFragment([a],c,b),b&&b.length&&v(b).remove(),v.merge([],d.childNodes))};var vc=v.fn.load;v.fn.load=function(a,c,b){if("string"!=typeof a&&vc)return vc.apply(this,arguments);var d,B,f,e=this,h=a.indexOf(" ");return 0<=h&&(d=v.trim(a.slice(h,a.length)),a=a.slice(0,h)),
v.isFunction(c)?(b=c,c=void 0):c&&"object"==typeof c&&(f="POST"),0<e.length&&v.ajax({url:a,type:f,dataType:"html",data:c}).done(function(a){B=arguments;e.html(d?v("<div>").append(v.parseHTML(a)).find(d):a)}).complete(b&&function(a,c){e.each(b,B||[a.responseText,c,a])}),this};v.expr.filters.animated=function(a){return v.grep(v.timers,function(c){return a===c.elem}).length};var mc=a.document.documentElement;v.offset={setOffset:function(a,c,b){var d,B,f,e,h,g,k=v.css(a,"position"),l=v(a),m={};"static"===
k&&(a.style.position="relative");h=l.offset();f=v.css(a,"top");g=v.css(a,"left");("absolute"===k||"fixed"===k)&&-1<v.inArray("auto",[f,g])?(d=l.position(),e=d.top,B=d.left):(e=parseFloat(f)||0,B=parseFloat(g)||0);v.isFunction(c)&&(c=c.call(a,b,h));null!=c.top&&(m.top=c.top-h.top+e);null!=c.left&&(m.left=c.left-h.left+B);"using"in c?c.using.call(a,m):l.css(m)}};v.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(c){v.offset.setOffset(this,a,c)});var c,b,d=
{top:0,left:0},B=this[0],f=B&&B.ownerDocument;if(f)return c=f.documentElement,v.contains(c,B)?("undefined"!==typeof B.getBoundingClientRect&&(d=B.getBoundingClientRect()),b=ka(f),{top:d.top+(b.pageYOffset||c.scrollTop)-(c.clientTop||0),left:d.left+(b.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):d},position:function(){if(this[0]){var a,c,b={top:0,left:0},d=this[0];return"fixed"===v.css(d,"position")?c=d.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),v.nodeName(a[0],"html")||(b=a.offset()),
b.top+=v.css(a[0],"borderTopWidth",!0),b.left+=v.css(a[0],"borderLeftWidth",!0)),{top:c.top-b.top-v.css(d,"marginTop",!0),left:c.left-b.left-v.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||mc;a&&!v.nodeName(a,"html")&&"static"===v.css(a,"position");)a=a.offsetParent;return a||mc})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var b=/Y/.test(c);v.fn[a]=function(d){return Ia(this,function(a,d,B){var f=ka(a);return void 0===
B?f?c in f?f[c]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(b?v(f).scrollLeft():B,b?B:v(f).scrollTop()):a[d]=B)},a,d,arguments.length,null)}});v.each(["top","left"],function(a,c){v.cssHooks[c]=P(ba.pixelPosition,function(a,b){return b?(b=Aa(a,c),Zb.test(b)?v(a).position()[c]+"px":b):void 0})});v.each({Height:"height",Width:"width"},function(a,c){v.each({padding:"inner"+a,content:c,"":"outer"+a},function(b,d){v.fn[d]=function(d,B){var f=arguments.length&&(b||"boolean"!=typeof d),e=b||(!0===
d||!0===B?"margin":"border");return Ia(this,function(c,b,d){var B;return v.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(B=c.documentElement,Math.max(c.body["scroll"+a],B["scroll"+a],c.body["offset"+a],B["offset"+a],B["client"+a])):void 0===d?v.css(c,b,e):v.style(c,b,d,e)},c,f?d:void 0,f,null)}})});v.fn.size=function(){return this.length};v.fn.andSelf=v.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return v});var xb=a.jQuery,fd=a.$;return v.noConflict=
function(c){return a.$===v&&(a.$=fd),c&&a.jQuery===v&&(a.jQuery=xb),v},"undefined"===typeof b&&(a.jQuery=a.$=v),v});jQuery.base64=function(a){function b(a,b){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b));if(-1===d)throw"Cannot decode base64";return d}function d(a,b){var d=a.charCodeAt(b);if(255<d)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return d}return{decode:function(a){var d=0,h,g,k=a.length,l=[];a=String(a);if(0===k)return a;if(0!==k%4)throw"Cannot decode base64";"="===a.charAt(k-1)&&(d=1,"="===a.charAt(k-2)&&(d=2),k-=4);for(h=0;h<k;h+=4)g=b(a,h)<<18|b(a,
h+1)<<12|b(a,h+2)<<6|b(a,h+3),l.push(String.fromCharCode(g>>16,g>>8&255,g&255));switch(d){case 1:g=b(a,h)<<18|b(a,h+1)<<12|b(a,h+2)<<6;l.push(String.fromCharCode(g>>16,g>>8&255));break;case 2:g=b(a,h)<<18|b(a,h+1)<<12,l.push(String.fromCharCode(g>>16))}return l.join("")},encode:function(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);var b,h,g=[],k=a.length-a.length%3;if(0===a.length)return a;for(b=0;b<k;b+=3)h=d(a,b)<<16|d(a,b+1)<<8|d(a,b+2),g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>
18)),g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>12&63)),g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>6&63)),g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h&63));switch(a.length-k){case 1:h=d(a,b)<<16;g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>12&63)+"==");break;case 2:h=
d(a,b)<<16|d(a,b+1)<<8,g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>6&63)+"=")}return g.join("")},VERSION:"1.0"}}(jQuery);var jsfeat=jsfeat||{REVISION:"ALPHA"};
(function(a){var b=new Int32Array([-1,1,4,-1,4,-1,-1,-1,8,-1,-1,-1,-1,-1,-1,-1,8]),d=function(){return function(a){return a&65280}}(),e=function(){return function(a){return a&255}}(),f=function(){return function(a){return b[(a&65280)>>8]}}(),h=function(){return function(a,b){this.size=(a+7|0)&-8;"undefined"===typeof b?this.buffer=new ArrayBuffer(this.size):(this.buffer=b,this.size=b.length);this.u8=new Uint8Array(this.buffer);this.i32=new Int32Array(this.buffer);this.f32=new Float32Array(this.buffer);
this.f64=new Float64Array(this.buffer)}}(),g=function(){function a(b,f,h,g){this.type=d(h)|0;this.channel=e(h)|0;this.cols=b|0;this.rows=f|0;"undefined"===typeof g?this.allocate():(this.buffer=g,this.data=this.type&256?this.buffer.u8:this.type&512?this.buffer.i32:this.type&1024?this.buffer.f32:this.buffer.f64)}a.prototype.allocate=function(){delete this.data;delete this.buffer;this.buffer=new h(this.cols*f(this.type)*this.channel*this.rows);this.data=this.type&256?this.buffer.u8:this.type&512?this.buffer.i32:
this.type&1024?this.buffer.f32:this.buffer.f64};a.prototype.copy_to=function(a){a=a.data;for(var b=this.data,d=0,f=this.cols*this.rows*this.channel|0;d<f-4;d+=4)a[d]=b[d],a[d+1]=b[d+1],a[d+2]=b[d+2],a[d+3]=b[d+3];for(;d<f;++d)a[d]=b[d]};a.prototype.resize=function(a,b,d){"undefined"===typeof d&&(d=this.channel);a*d*b>this.rows*this.cols*this.channel?(this.cols=a,this.rows=b,this.channel=d,this.allocate()):(this.cols=a,this.rows=b,this.channel=d)};return a}(),k=function(){function a(b){this.levels=
b|0;this.data=Array(b);this.pyrdown=jsfeat.imgproc.pyrdown}a.prototype.allocate=function(a,b,d){for(var f=this.levels;0<=--f;)this.data[f]=new g(a>>f,b>>f,d)};a.prototype.build=function(a,b){"undefined"===typeof b&&(b=!0);var d=2,f,e=this.data[0];if(!b)for(f=a.cols*a.rows;0<=--f;)e.data[f]=a.data[f];e=this.data[1];for(this.pyrdown(a,e);d<this.levels;++d)f=e,e=this.data[d],this.pyrdown(f,e)};return a}(),l=function(){return function(a,b,d,f){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=
0);"undefined"===typeof d&&(d=0);"undefined"===typeof f&&(f=0);this.x=a;this.y=b;this.score=d;this.level=f}}();a.U8_t=256;a.S32_t=512;a.F32_t=1024;a.S64_t=2048;a.F64_t=4096;a.C1_t=1;a.C2_t=2;a.C3_t=3;a.C4_t=4;a.U8C1_t=257;a.U8C3_t=259;a.U8C4_t=260;a.F32C1_t=1025;a.F32C2_t=1026;a.S32C1_t=513;a.S32C2_t=514;a.EPSILON=1.192092896E-7;a.FLT_MIN=1E-37;a.BOX_BLUR_NOSCALE=1;a.SVD_U_T=1;a.SVD_V_T=2;a.get_data_type=d;a.get_channel=e;a.get_data_type_size=f;a.data_t=h;a.matrix_t=g;a.pyramid_t=k;a.point2d_t=l})(jsfeat);
(function(a){var b=function(){var a=function(){function a(b){this.next=null;this.data=new jsfeat.data_t(b);this.size=this.data.size;this.buffer=this.data.buffer;this.u8=this.data.u8;this.i32=this.data.i32;this.f32=this.data.f32;this.f64=this.data.f64}a.prototype.resize=function(a){delete this.data;this.data=new jsfeat.data_t(a);this.size=this.data.size;this.buffer=this.data.buffer;this.u8=this.data.u8;this.i32=this.data.i32;this.f32=this.data.f32;this.f64=this.data.f64};return a}(),b,f,h=0;return{allocate:function(g,
k){b=f=new a(k);for(var l=0;l<g;++l){var n=new a(k);f=f.next=n;h++}},get_buffer:function(a){var d=b;b=b.next;h--;a>d.size&&d.resize(a);return d},put_buffer:function(a){f=f.next=a;h++}}}();a.cache=b;b.allocate(30,2560)})(jsfeat);
(function(a){var b=function(){var a=new Int32Array(96);return{get_gaussian_kernel:function(a,b,d,g){var k=0,l=0,n=l=0,p=n=0,q=jsfeat.cache.get_buffer(a<<2),m=q.f32;if(1==(a&1)&&7>=a&&0>=b)switch(a>>1){case 0:p=m[0]=1;break;case 1:m[0]=.25;m[1]=.5;m[2]=.25;p=1;break;case 2:m[0]=.0625;m[1]=.25;m[2]=.375;m[3]=.25;m[4]=.0625;p=1;break;case 3:m[0]=.03125,m[1]=.109375,m[2]=.21875,m[3]=.28125,m[4]=.21875,m[5]=.109375,m[6]=.03125,p=1}else for(n=0<b?b:.3*(.5*(a-1)-1)+.8,n=-.5/(n*n);k<a;++k)l=k-.5*(a-1),l=
Math.exp(n*l*l),m[k]=l,p+=l;if(g&jsfeat.U8_t)for(p=256/p,k=0;k<a;++k)d[k]=m[k]*p+.5|0;else for(p=1/p,k=0;k<a;++k)d[k]=m[k]*p;jsfeat.cache.put_buffer(q)},perspective_4point_transform:function(a,b,d,g,k,l,n,p,q,m,t,s,u,r,w,A,C){var G=b,F=m;m=G*F*n;var D=w;w=G*D;b=F*w;var I=t;t=G*I;var E=l,P=d,H=r,M=P*H;r=M*E;var K=H*E*I,N=H*n,L=H*I,J=F*n,Q=D*F,O=D*E,T=I*E,ea=1/(N-L-J+Q-O+T),X=G*H;d=P*E;var Z=n*G,U=D*Z,H=P*F,Y=M*I;l=P*I*E;var R=n*D*F,D=D*P,fa=-(b-m+t*E-E*w-M*F+r-K+N*F)*ea,ka=(m-b-X*n+X*I+r-F*d+O*F-K)*
ea,W=G,S=(-I*w+U+H*n-M*n+Y-l+O*I-R)*ea,ma=(-U+Z*I-D*F+Y-l+D*E+R-N*I)*ea,na=P,ra=(-t+Z+H-d+L-N-Q+O)*ea,ia=(-w+t+M-H+O-T-N+J)*ea,G=g,F=s;n=q;m=G*F*n;D=C;w=G*D;b=F*w;I=u;t=G*I;E=p;P=k;H=A;M=P*H;r=M*E;K=H*E*I;N=H*n;L=H*I;J=F*n;Q=D*F;O=D*E;T=I*E;ea=1/(N-L-J+Q-O+T);X=G*H;d=P*E;Z=n*G;U=D*Z;H=P*F;Y=M*I;l=P*I*E;R=n*D*F;D*=P;g=-(b-m+t*E-E*w-M*F+r-K+N*F)*ea;k=(m-b-X*n+X*I+r-F*d+O*F-K)*ea;p=(-I*w+U+H*n-M*n+Y-l+O*I-R)*ea;F=(-U+Z*I-D*F+Y-l+D*E+R-N*I)*ea;q=P;s=(-t+Z+H-d+L-N-Q+O)*ea;u=(-w+t+M-H+O-T-N+J)*ea;n=fa*
ma;m=fa*na;w=S*ka;b=W*S;t=ka*ra;d=W*ra;H=1/(n-m*ia-w+b*ia+t*na-d*ma);r=-S+na*ra;S=-S*ia+ma*ra;ra=fa-d;d=fa*ia-t;m-=b;n-=w;l=(ma-ia*na)*H;w=(-ka+W*ia)*H;b=(-ka*na+W*ma)*H;a=a.data;a[0]=g*l+k*r*H-G*S*H;a[1]=g*w+k*ra*H-G*d*H;a[2]=-g*b-k*m*H+G*n*H;a[3]=p*l+F*r*H-q*S*H;a[4]=p*w+F*ra*H-q*d*H;a[5]=-p*b-F*m*H+q*n*H;a[6]=s*l+u*r*H-S*H;a[7]=s*w+u*ra*H-d*H;a[8]=-s*b-u*m*H+n*H},qsort:function(b,f,h,g){var k,l=0,n=0,p=0,q=0,m=0,t=0,s=0,u=0,r=0,w=u=r=s=0,A=m=w=q=0,t=0;if(!(1>=h-f+1))for(a[0]=f,a[1]=h;0<=l;)for(n=
a[l<<1],p=a[(l<<1)+1],l--;;)if(m=p-n+1,7>=m){for(s=n+1;s<=p;s++)for(u=s;u>n&&g(b[u],b[u-1]);u--)h=b[u],b[u]=b[u-1],b[u-1]=h;break}else{t=0;s=n;u=p;q=n+(m>>1);40<m&&(r=m>>3,w=n,m=n+r,A=n+(r<<1),f=b[w],h=b[m],k=b[A],n=g(f,h)?g(h,k)?m:g(f,k)?A:w:g(k,h)?m:g(f,k)?w:A,w=q-r,m=q,A=q+r,f=b[w],h=b[m],k=b[A],q=g(f,h)?g(h,k)?m:g(f,k)?A:w:g(k,h)?m:g(f,k)?w:A,w=p-(r<<1),m=p-r,A=p,f=b[w],h=b[m],k=b[A],p=g(f,h)?g(h,k)?m:g(f,k)?A:w:g(k,h)?m:g(f,k)?w:A);w=n;m=q;A=p;f=b[w];h=b[m];k=b[A];q=g(f,h)?g(h,k)?m:g(f,k)?A:
w:g(k,h)?m:g(f,k)?w:A;q!=s&&(h=b[q],b[q]=b[s],b[s]=h,q=s);n=r=s+1;p=w=u;for(f=b[q];;){for(;n<=p&&!g(f,b[n]);)g(b[n],f)||(n>r&&(h=b[r],b[r]=b[n],b[n]=h),t=1,r++),n++;for(;n<=p&&!g(b[p],f);)g(f,b[p])||(p<w&&(h=b[w],b[w]=b[p],b[p]=h),t=1,w--),p--;if(n>p)break;h=b[n];b[n]=b[p];b[p]=h;t=1;n++;p--}if(0==t){n=s;p=u;for(s=n+1;s<=p;s++)for(u=s;u>n&&g(b[u],b[u-1]);u--)h=b[u],b[u]=b[u-1],b[u-1]=h;break}m=Math.min(r-s,n-r);t=n-m|0;for(q=0;q<m;++q,++t)h=b[s+q],b[s+q]=b[t],b[t]=h;m=Math.min(u-w,w-p);t=u-m+1|0;
for(q=0;q<m;++q,++t)h=b[n+q],b[n+q]=b[t],b[t]=h;m=n-r;t=w-p;if(1<m)1<t?m>t?(++l,a[l<<1]=s,a[(l<<1)+1]=s+m-1,n=u-t+1,p=u):(++l,a[l<<1]=u-t+1,a[(l<<1)+1]=u,n=s,p=s+m-1):(n=s,p=s+m-1);else if(1<t)n=u-t+1,p=u;else break}},median:function(a,b,d){for(var g,k=0,l=0,k=0,n=b+d>>1;;){if(d<=b)return a[n];if(d==b+1)return a[b]>a[d]&&(g=a[b],a[b]=a[d],a[d]=g),a[n];k=b+d>>1;a[k]>a[d]&&(g=a[k],a[k]=a[d],a[d]=g);a[b]>a[d]&&(g=a[b],a[b]=a[d],a[d]=g);a[k]>a[b]&&(g=a[k],a[k]=a[b],a[b]=g);l=b+1;g=a[k];a[k]=a[l];a[l]=
g;for(k=d;;){do++l;while(a[b]>a[l]);do--k;while(a[k]>a[b]);if(k<l)break;g=a[l];a[l]=a[k];a[k]=g}g=a[b];a[b]=a[k];a[k]=g;k<=n?b=l:k>=n&&(d=k-1)}return 0}}}();a.math=b})(jsfeat);
(function(a){var b=function(){return{identity:function(a,b){"undefined"===typeof b&&(b=1);for(var f=a.data,h=a.cols,g=h+1|0,k=h*=a.rows;0<=--h;)f[h]=0;h=k;for(k=0;k<h;)f[k]=b,k+=g},transpose:function(a,b){for(var f=0,h=0,g=b.rows,k=b.cols,l=0,n=0,p=0,q=b.data,m=a.data;f<g;n+=1,l+=k,f++)for(p=n,h=0;h<k;p+=g,h++)m[p]=q[l+h]},multiply:function(a,b,f){var h=0,g=0,k=0,l=0,n=0,p=0,q=0,m=0,t=b.cols,s=b.rows,u=f.cols;b=b.data;f=f.data;a=a.data;for(var r=0;h<s;l+=t,h++)for(g=q=0;g<u;m++,q++,g++){p=q;n=l;for(k=
r=0;k<t;n++,p+=u,k++)r+=b[n]*f[p];a[m]=r}},multiply_ABt:function(a,b,f){var h=0,g=0,k=0,l=0,n=0,p=0,q=0,m=b.cols,t=b.rows,s=f.rows;b=b.data;f=f.data;a=a.data;for(var u=0;h<t;l+=m,h++)for(g=p=0;g<s;q++,g++){n=l;for(k=u=0;k<m;n++,p++,k++)u+=b[n]*f[p];a[q]=u}},multiply_AtB:function(a,b,f){var h=0,g=0,k=0,l=0,n=0,p=0,q=0,m=0,t=b.cols,s=b.rows,u=f.cols;b=b.data;f=f.data;a=a.data;for(var r=0;h<t;l++,h++)for(g=q=0;g<u;m++,q++,g++){p=q;n=l;for(k=r=0;k<s;n+=t,p+=u,k++)r+=b[n]*f[p];a[m]=r}},multiply_AAt:function(a,
b){for(var f=0,h=0,g=0,k=0,l=0,n=0,p=0,q=0,m=0,t=b.cols,s=b.rows,u=b.data,r=a.data,w=0;f<s;k+=s+1,l=n,f++)for(m=q=k,p=l,h=f;h<s;q++,m+=s,h++){n=l;for(g=w=0;g<t;g++)w+=u[n++]*u[p++];r[q]=w;r[m]=w}},multiply_AtA:function(a,b){for(var f=0,h=0,g=0,k=0,l=0,n=0,p=0,q=0,m=0,t=b.cols,s=b.rows,u=b.data,r=a.data,w=0;f<t;p+=t,f++)for(k=f,q=m=p+f,h=f;h<t;q++,m+=t,h++){l=k;n=h;for(g=w=0;g<s;l+=t,n+=t,g++)w+=u[l]*u[n];r[q]=w;r[m]=w}},identity_3x3:function(a,b){"undefined"===typeof b&&(b=1);var f=a.data;f[0]=f[4]=
f[8]=b;f[1]=f[2]=f[3]=0;f[5]=f[6]=f[7]=0},invert_3x3:function(a,b){var f=a.data,h=b.data,g=f[4],k=f[8],l=f[5],n=f[7],p=f[0],q=p*g,m=p*l,t=f[3],s=f[1],u=t*s,r=f[2],w=t*r,f=f[6],A=f*s,C=f*r,G=1/(q*k-m*n-u*k+w*n+A*l-C*g);h[0]=(g*k-l*n)*G;h[1]=-(s*k-r*n)*G;h[2]=-(-s*l+r*g)*G;h[3]=-(t*k-l*f)*G;h[4]=(p*k-C)*G;h[5]=-(m-w)*G;h[6]=-(-t*n+g*f)*G;h[7]=-(p*n-A)*G;h[8]=(q-u)*G},multiply_3x3:function(a,b,f){a=a.data;var h=b.data,g=f.data;f=h[0];b=h[1];var k=h[2],l=h[3],n=h[4],p=h[5],q=h[6],m=h[7],h=h[8],t=g[0],
s=g[1],u=g[2],r=g[3],w=g[4],A=g[5],C=g[6],G=g[7],g=g[8];a[0]=f*t+b*r+k*C;a[1]=f*s+b*w+k*G;a[2]=f*u+b*A+k*g;a[3]=l*t+n*r+p*C;a[4]=l*s+n*w+p*G;a[5]=l*u+n*A+p*g;a[6]=q*t+m*r+h*C;a[7]=q*s+m*w+h*G;a[8]=q*u+m*A+h*g},mat3x3_determinant:function(a){a=a.data;return a[0]*a[4]*a[8]-a[0]*a[5]*a[7]-a[3]*a[1]*a[8]+a[3]*a[2]*a[7]+a[6]*a[1]*a[5]-a[6]*a[2]*a[4]},determinant_3x3:function(a,b,f,h,g,k,l,n,p){return a*g*p-a*k*n-h*b*p+h*f*n+l*b*k-l*f*g}}}();a.matmath=b})(jsfeat);
(function(a){var b=function(){var a=function(a,b,d,e){e=a[b];a[b]=a[d];a[d]=e},b=function(a,b){a=Math.abs(a);b=Math.abs(b);return a>b?(b/=a,a*Math.sqrt(1+b*b)):0<b?(a/=b,b*Math.sqrt(1+a*a)):0};return{lu_solve:function(b,e){for(var g=0,k=0,l=0,n=b.cols,p=b.data,q=e.data,m,t,g=0;g<n;g++){l=g;for(k=g+1;k<n;k++)Math.abs(p[k*n+g])>Math.abs(p[l*n+g])&&(l=k);if(Math.abs(p[l*n+g])<jsfeat.EPSILON)return 0;if(l!=g){for(k=g;k<n;k++)a(p,g*n+k,l*n+k,void 0);a(q,g,l,void 0)}t=-1/p[g*n+g];for(k=g+1;k<n;k++){m=p[k*
n+g]*t;for(l=g+1;l<n;l++)p[k*n+l]+=m*p[g*n+l];q[k]+=m*q[g]}p[g*n+g]=-t}for(g=n-1;0<=g;g--){k=q[g];for(l=g+1;l<n;l++)k-=p[g*n+l]*q[l];q[g]=k*p[g*n+g]}return 1},cholesky_solve:function(a,b){for(var d=0,e=0,l=0,n=0,p=0,e=d=0,q=a.cols,m=a.data,t=b.data,s,u,d=0;d<q;d++)for(u=1,p=n=d*q,e=d;e<q;e++){s=m[p+d];for(l=0;l<d;l++)s-=m[l*q+d]*m[p+l];if(e==d){m[p+d]=s;if(0==s)return 0;u=1/s}else m[n+e]=s,m[p+d]=s*u;p+=q}for(d=n=0;d<q;d++){s=t[d];for(e=0;e<d;e++)s-=m[n+e]*t[e];t[d]=s;n+=q}for(d=n=0;d<q;d++)t[d]/=
m[n+d],n+=q;for(d=q-1;0<=d;d--){s=t[d];e=d+1;for(n=e*q;e<q;e++)s-=m[n+d]*t[e],n+=q;t[d]=s}return 1},svd_decompose:function(f,h,g,k,l){"undefined"===typeof l&&(l=0);var n=0,p=0,q=f.rows,m=f.cols,t=q,s=m,u=f.type|jsfeat.C1_t;t<s&&(n=1,p=t,t=s,s=p);var r=jsfeat.cache.get_buffer(t*t<<3),w=jsfeat.cache.get_buffer(s<<3),A=jsfeat.cache.get_buffer(s*s<<3),C=new jsfeat.matrix_t(t,t,u,r.data),G=new jsfeat.matrix_t(1,s,u,w.data),u=new jsfeat.matrix_t(s,s,u,A.data);if(0==n)jsfeat.matmath.transpose(C,f);else{for(p=
0;p<m*q;p++)C.data[p]=f.data[p];for(;p<s*t;p++)C.data[p]=0}f=C.data;for(var p=t,q=G.data,F=u.data,D=s,I=t,E=s,P=t,H=2*jsfeat.EPSILON,M=jsfeat.FLT_MIN,K=0,N=0,L=0,J=0,Q=Math.max(I,30),O=0,T=0,ea=T=O=0,X=0,Z=0,U=0,Y=0,R=0,fa=0,ka=X=L=X=0,W=Y=0,S=4660,O=O=N=0,ma=jsfeat.cache.get_buffer(E<<3),na=ma.f64;K<E;K++){for(fa=L=0;L<I;L++)U=f[K*p+L],fa+=U*U;na[K]=fa;if(F){for(L=0;L<E;L++)F[K*D+L]=0;F[K*D+K]=1}}for(;J<Q;J++){for(K=ea=0;K<E-1;K++)for(N=K+1;N<E;N++){O=K*p|0;T=N*p|0;ka=na[K];Y=0;W=na[N];L=2;Y+=f[O]*
f[T];for(Y+=f[O+1]*f[T+1];L<I;L++)Y+=f[O+L]*f[T+L];if(!(Math.abs(Y)<=H*Math.sqrt(ka*W))){Y*=2;X=ka-W;L=b(Y,X);0>X?(X=.5*(L-X),Z=Math.sqrt(X/L),X=Y/(L*Z*2)):(X=Math.sqrt((L+X)/(2*L)),Z=Y/(L*X*2));W=ka=0;L=2;Y=X*f[O]+Z*f[T];R=-Z*f[O]+X*f[T];f[O]=Y;f[T]=R;ka+=Y*Y;W+=R*R;Y=X*f[O+1]+Z*f[T+1];R=-Z*f[O+1]+X*f[T+1];f[O+1]=Y;f[T+1]=R;ka+=Y*Y;for(W+=R*R;L<I;L++)Y=X*f[O+L]+Z*f[T+L],R=-Z*f[O+L]+X*f[T+L],f[O+L]=Y,f[T+L]=R,ka+=Y*Y,W+=R*R;na[K]=ka;na[N]=W;ea=1;if(F)for(O=K*D|0,T=N*D|0,L=2,Y=X*F[O]+Z*F[T],R=-Z*F[O]+
X*F[T],F[O]=Y,F[T]=R,Y=X*F[O+1]+Z*F[T+1],R=-Z*F[O+1]+X*F[T+1],F[O+1]=Y,F[T+1]=R;L<E;L++)Y=X*F[O+L]+Z*F[T+L],R=-Z*F[O+L]+X*F[T+L],F[O+L]=Y,F[T+L]=R}}if(0==ea)break}for(K=0;K<E;K++){for(fa=L=0;L<I;L++)U=f[K*p+L],fa+=U*U;na[K]=Math.sqrt(fa)}for(K=0;K<E-1;K++){N=K;for(L=K+1;L<E;L++)na[N]<na[L]&&(N=L);if(K!=N&&(a(na,K,N,fa),F)){for(L=0;L<I;L++)a(f,K*p+L,N*p+L,U);for(L=0;L<E;L++)a(F,K*D+L,N*D+L,U)}}for(K=0;K<E;K++)q[K]=na[K];if(F)for(K=0;K<P;K++){for(fa=K<E?na[K]:0;fa<=M;){O=1/I;for(L=0;L<I;L++)S=214013*
S+2531011,N=0!=(S>>16&256)?O:-O,f[K*p+L]=N;for(J=0;2>J;J++)for(N=0;N<K;N++){for(L=fa=0;L<I;L++)fa+=f[K*p+L]*f[N*p+L];for(L=O=0;L<I;L++)U=f[K*p+L]-fa*f[N*p+L],f[K*p+L]=U,O+=Math.abs(U);O=O?1/O:0;for(L=0;L<I;L++)f[K*p+L]*=O}for(L=fa=0;L<I;L++)U=f[K*p+L],fa+=U*U;fa=Math.sqrt(fa)}Z=1/fa;for(L=0;L<I;L++)f[K*p+L]*=Z}jsfeat.cache.put_buffer(ma);if(h){for(p=0;p<s;p++)h.data[p]=G.data[p];for(;p<m;p++)h.data[p]=0}if(0==n){if(g&&l&jsfeat.SVD_U_T)for(p=t*t;0<=--p;)g.data[p]=C.data[p];else g&&jsfeat.matmath.transpose(g,
C);if(k&&l&jsfeat.SVD_V_T)for(p=s*s;0<=--p;)k.data[p]=u.data[p];else k&&jsfeat.matmath.transpose(k,u)}else{if(g&&l&jsfeat.SVD_U_T)for(p=s*s;0<=--p;)g.data[p]=u.data[p];else g&&jsfeat.matmath.transpose(g,u);if(k&&l&jsfeat.SVD_V_T)for(p=t*t;0<=--p;)k.data[p]=C.data[p];else k&&jsfeat.matmath.transpose(k,C)}jsfeat.cache.put_buffer(r);jsfeat.cache.put_buffer(w);jsfeat.cache.put_buffer(A)},svd_solve:function(a,b,d){var e=0,l=0,n=0,p=0,q=0,m=a.rows,t=a.cols,s=0,u=0,r=0,w=a.type|jsfeat.C1_t,A=jsfeat.cache.get_buffer(m*
m<<3),C=jsfeat.cache.get_buffer(t<<3),G=jsfeat.cache.get_buffer(t*t<<3),l=new jsfeat.matrix_t(m,m,w,A.data),n=new jsfeat.matrix_t(1,t,w,C.data),p=new jsfeat.matrix_t(t,t,w,G.data);d=d.data;var w=l.data,F=n.data,D=p.data;this.svd_decompose(a,n,l,p,0);for(r=jsfeat.EPSILON*F[0]*t;e<t;e++,q+=t){for(l=u=0;l<t;l++)if(F[l]>r){for(p=s=n=0;n<m;n++,p+=t)s+=w[p+l]*d[n];u+=s*D[q+l]/F[l]}b.data[e]=u}jsfeat.cache.put_buffer(A);jsfeat.cache.put_buffer(C);jsfeat.cache.put_buffer(G)},svd_invert:function(a,b){var d=
0,e=0,l=0,n=0,p=0,q=0,m=b.rows,t=b.cols,s=0,u=0,r=b.type|jsfeat.C1_t,w=jsfeat.cache.get_buffer(m*m<<3),A=jsfeat.cache.get_buffer(t<<3),C=jsfeat.cache.get_buffer(t*t<<3),e=new jsfeat.matrix_t(m,m,r,w.data),l=new jsfeat.matrix_t(1,t,r,A.data),n=new jsfeat.matrix_t(t,t,r,C.data),r=a.data,G=e.data,F=l.data,D=n.data;this.svd_decompose(b,l,e,n,0);for(u=jsfeat.EPSILON*F[0]*t;d<t;d++,p+=t)for(n=e=0;e<m;e++,q++){for(s=l=0;l<t;l++,n++)F[l]>u&&(s+=D[p+l]*G[n]/F[l]);r[q]=s}jsfeat.cache.put_buffer(w);jsfeat.cache.put_buffer(A);
jsfeat.cache.put_buffer(C)},eigenVV:function(f,h,g){for(var k=f.cols,l=k*k,n=f.type|jsfeat.C1_t,p=jsfeat.cache.get_buffer(k*k<<3),q=jsfeat.cache.get_buffer(k<<3),m=new jsfeat.matrix_t(k,k,n,p.data),n=new jsfeat.matrix_t(1,k,n,q.data);0<=--l;)m.data[l]=f.data[l];f=m.data;l=k;m=n.data;h=h?h.data:null;var t=k,s=k,u=jsfeat.EPSILON,r=0,w=0,A=0,C=0,G=0,F=0,D=F=0,I=0,E=s*s*30,P=0,H=D=F=D=0,M=H=C=w=0,K=jsfeat.cache.get_buffer(s<<2),N=jsfeat.cache.get_buffer(s<<2),L=K.i32,J=N.i32;if(h)for(;r<s;r++){A=r*t;
for(w=0;w<s;w++)h[A+w]=0;h[A+r]=1}for(A=0;A<s;A++){m[A]=f[(l+1)*A];if(A<s-1){C=A+1;P=Math.abs(f[l*A+C]);for(r=A+2;r<s;r++)D=Math.abs(f[l*A+r]),P<D&&(P=D,C=r);L[A]=C}if(0<A){C=0;P=Math.abs(f[A]);for(r=1;r<A;r++)D=Math.abs(f[l*r+A]),P<D&&(P=D,C=r);J[A]=C}}if(1<s)for(;I<E;I++){A=0;P=Math.abs(f[L[0]]);for(r=1;r<s-1;r++)D=Math.abs(f[l*r+L[r]]),P<D&&(P=D,A=r);G=L[A];for(r=1;r<s;r++)D=Math.abs(f[l*J[r]+r]),P<D&&(P=D,A=J[r],G=r);F=f[l*A+G];if(Math.abs(F)<=u)break;D=.5*(m[G]-m[A]);H=Math.abs(D)+b(F,D);w=b(F,
H);C=H/w;w=F/w;H=F/H*F;0>D&&(w=-w,H=-H);f[l*A+G]=0;m[A]-=H;m[G]+=H;for(r=0;r<A;r++)F=l*r+A,D=l*r+G,H=f[F],M=f[D],f[F]=H*C-M*w,f[D]=H*w+M*C;for(r=A+1;r<G;r++)F=l*A+r,D=l*r+G,H=f[F],M=f[D],f[F]=H*C-M*w,f[D]=H*w+M*C;r=G+1;F=l*A+r;for(D=l*G+r;r<s;r++,F++,D++)H=f[F],M=f[D],f[F]=H*C-M*w,f[D]=H*w+M*C;if(h)for(F=t*A,D=t*G,r=0;r<s;r++,F++,D++)H=h[F],M=h[D],h[F]=H*C-M*w,h[D]=H*w+M*C;for(w=0;2>w;w++){F=0==w?A:G;if(F<s-1){C=F+1;P=Math.abs(f[l*F+C]);for(r=F+2;r<s;r++)D=Math.abs(f[l*F+r]),P<D&&(P=D,C=r);L[F]=C}if(0<
F){C=0;P=Math.abs(f[F]);for(r=1;r<F;r++)D=Math.abs(f[l*r+F]),P<D&&(P=D,C=r);J[F]=C}}}for(A=0;A<s-1;A++){C=A;for(r=A+1;r<s;r++)m[C]<m[r]&&(C=r);if(A!=C&&(a(m,C,A,P),h))for(r=0;r<s;r++)a(h,t*C+r,t*A+r,P)}jsfeat.cache.put_buffer(K);jsfeat.cache.put_buffer(N);if(g)for(;0<=--k;)g.data[k]=n.data[k];jsfeat.cache.put_buffer(p);jsfeat.cache.put_buffer(q)}}}();a.linalg=b})(jsfeat);
(function(a){var b=function(){var a=function(a,b){for(var d=0,f=0,e=b-1|0,h=0,g=0,k=0,l=0;d<e;++d)for(h=a[d].x-a[e].x,g=a[d].y-a[e].y,f=0;f<d;++f)if(k=a[f].x-a[e].x,l=a[f].y-a[e].y,Math.abs(k*g-l*h)<=jsfeat.EPSILON*(Math.abs(h)+Math.abs(g)+Math.abs(k)+Math.abs(l)))return!0;return!1},b=new jsfeat.matrix_t(3,3,jsfeat.F32_t|jsfeat.C1_t),d=new jsfeat.matrix_t(3,3,jsfeat.F32_t|jsfeat.C1_t),e=new jsfeat.matrix_t(6,6,jsfeat.F32_t|jsfeat.C1_t),l=new jsfeat.matrix_t(6,1,jsfeat.F32_t|jsfeat.C1_t),n=function(){function a(){}
a.prototype.run=function(a,f,m,n){for(var p=0,q=0,t=m.type|jsfeat.C1_t,F=m.data,D=b.data,I=d.data,E,P=0,H=P=E=0,M=0,K=0,N=0,L=E=0,J=0,q=N=q=0;P<n;++P)H+=a[P].x,M+=a[P].y,E+=f[P].x,L+=f[P].y;H/=n;M/=n;E/=n;L/=n;for(P=0;P<n;++P)N=a[P].x-H,q=a[P].y-M,K+=Math.sqrt(N*N+q*q),N=f[P].x-E,q=f[P].y-L,J+=Math.sqrt(N*N+q*q);N=Math.SQRT2/(K/n);q=Math.SQRT2/(J/n);D[0]=D[4]=N;D[2]=-H*N;D[5]=-M*N;D[1]=D[3]=D[6]=D[7]=0;D[8]=1;I[0]=I[4]=q;I[2]=-E*q;I[5]=-L*q;I[1]=I[3]=I[6]=I[7]=0;I[8]=1;H=jsfeat.cache.get_buffer(12*
n<<3);M=jsfeat.cache.get_buffer(2*n<<3);K=new jsfeat.matrix_t(6,2*n,t,H.data);L=new jsfeat.matrix_t(1,2*n,t,M.data);J=K.data;for(N=L.data;p<n;++p)E=a[p],t=f[p],P=D[0]*E.x+D[1]*E.y+D[2],E=D[3]*E.x+D[4]*E.y+D[5],q=12*p,J[q]=P,J[q+1]=E,J[q+2]=1,J[q+3]=0,J[q+4]=0,J[q+5]=0,q+=6,J[q]=0,J[q+1]=0,J[q+2]=0,J[q+3]=P,J[q+4]=E,J[q+5]=1,N[p<<1]=I[0]*t.x+I[1]*t.y+I[2],N[(p<<1)+1]=I[3]*t.x+I[4]*t.y+I[5];jsfeat.matmath.multiply_AtA(e,K);jsfeat.matmath.multiply_AtB(l,K,L);jsfeat.linalg.lu_solve(e,l);F[0]=l.data[0];
F[1]=l.data[1];F[2]=l.data[2];F[3]=l.data[3];F[4]=l.data[4];F[5]=l.data[5];F[6]=0;F[7]=0;F[8]=1;jsfeat.matmath.invert_3x3(d,d);jsfeat.matmath.multiply_3x3(m,d,m);jsfeat.matmath.multiply_3x3(m,m,b);jsfeat.cache.put_buffer(H);jsfeat.cache.put_buffer(M);return 1};a.prototype.error=function(a,b,d,f,e){var h=0,g,k;for(d=d.data;h<e;++h){g=a[h];k=b[h];var l=k.x-d[0]*g.x-d[1]*g.y-d[2];g=k.y-d[3]*g.x-d[4]*g.y-d[5];f[h]=l*l+g*g}};a.prototype.check_subset=function(a,b,d){return!0};return a}(),p=new jsfeat.matrix_t(9,
9,jsfeat.F32_t|jsfeat.C1_t),q=new jsfeat.matrix_t(9,9,jsfeat.F32_t|jsfeat.C1_t),m=function(){function e(){}e.prototype.run=function(a,f,e,k){for(var l=0,m=0,n=e.data,m=b.data,t=d.data,D=p.data,I=q.data,E=0,P=0,H=0,M=0,K=0,N=0,L=0,J=0,Q=0,O=0,T=0,ea=0;l<k;++l)L+=f[l].x,J+=f[l].y,T+=a[l].x,ea+=a[l].y;L/=k;J/=k;T/=k;ea/=k;for(l=0;l<k;++l)K+=Math.abs(f[l].x-L),N+=Math.abs(f[l].y-J),Q+=Math.abs(a[l].x-T),O+=Math.abs(a[l].y-ea);if(Math.abs(K)<jsfeat.EPSILON||Math.abs(N)<jsfeat.EPSILON||Math.abs(Q)<jsfeat.EPSILON||
Math.abs(O)<jsfeat.EPSILON)return 0;K=k/K;N=k/N;Q=k/Q;O=k/O;m[0]=Q;m[1]=0;m[2]=-T*Q;m[3]=0;m[4]=O;m[5]=-ea*O;m[6]=0;m[7]=0;m[8]=1;t[0]=1/K;t[1]=0;t[2]=L;t[3]=0;t[4]=1/N;t[5]=J;t[6]=0;t[7]=0;t[8]=1;for(l=81;0<=--l;)D[l]=0;for(l=0;l<k;++l)E=(f[l].x-L)*K,P=(f[l].y-J)*N,H=(a[l].x-T)*Q,M=(a[l].y-ea)*O,D[0]+=H*H,D[1]+=H*M,D[2]+=H,D[6]+=H*-E*H,D[7]+=H*-E*M,D[8]+=H*-E,D[10]+=M*M,D[11]+=M,D[15]+=M*-E*H,D[16]+=M*-E*M,D[17]+=M*-E,D[20]+=1,D[24]+=-E*H,D[25]+=-E*M,D[26]+=-E,D[30]+=H*H,D[31]+=H*M,D[32]+=H,D[33]+=
H*-P*H,D[34]+=H*-P*M,D[35]+=H*-P,D[40]+=M*M,D[41]+=M,D[42]+=M*-P*H,D[43]+=M*-P*M,D[44]+=M*-P,D[50]+=1,D[51]+=-P*H,D[52]+=-P*M,D[53]+=-P,D[60]+=-E*H*-E*H+-P*H*-P*H,D[61]+=-E*H*-E*M+-P*H*-P*M,D[62]+=-E*H*-E+-P*H*-P,D[70]+=-E*M*-E*M+-P*M*-P*M,D[71]+=-E*M*-E+-P*M*-P,D[80]+=-E*-E+-P*-P;for(l=0;9>l;++l)for(m=0;m<l;++m)D[9*l+m]=D[9*m+l];jsfeat.linalg.eigenVV(p,q);n[0]=I[72];n[1]=I[73];n[2]=I[74];n[3]=I[75];n[4]=I[76];n[5]=I[77];n[6]=I[78];n[7]=I[79];n[8]=I[80];jsfeat.matmath.multiply_3x3(e,d,e);jsfeat.matmath.multiply_3x3(e,
e,b);E=1/n[8];n[0]*=E;n[1]*=E;n[2]*=E;n[3]*=E;n[4]*=E;n[5]*=E;n[6]*=E;n[7]*=E;return n[8]=1};e.prototype.error=function(a,b,d,f,e){var h=0,g,k,l=0,m=0,l=0;for(d=d.data;h<e;++h)g=a[h],k=b[h],l=1/(d[6]*g.x+d[7]*g.y+1),m=(d[0]*g.x+d[1]*g.y+d[2])*l-k.x,l=(d[3]*g.x+d[4]*g.y+d[5])*l-k.y,f[h]=m*m+l*l};e.prototype.check_subset=function(b,d,e){if(a(b,e)||a(d,e))return!1;if(4==e){e=0;var h=b[0],g=b[1],k=b[2];b=b[3];var l=d[0],m=d[1],n=d[2];d=d[3];var p=h.x,q=h.y,t=g.x,H=g.y,M=k.x,K=k.y,N=l.x,L=l.y,J=m.x,Q=
m.y,O=n.x,T=n.y,p=jsfeat.matmath.determinant_3x3(p,q,1,t,H,1,M,K,1),N=jsfeat.matmath.determinant_3x3(N,L,1,J,Q,1,O,T,1);0>p*N&&e++;p=g.x;q=g.y;t=k.x;H=k.y;M=b.x;K=b.y;N=m.x;L=m.y;J=n.x;Q=n.y;O=d.x;T=d.y;p=jsfeat.matmath.determinant_3x3(p,q,1,t,H,1,M,K,1);N=jsfeat.matmath.determinant_3x3(N,L,1,J,Q,1,O,T,1);0>p*N&&e++;p=h.x;q=h.y;t=k.x;H=k.y;M=b.x;K=b.y;N=l.x;L=l.y;J=n.x;Q=n.y;O=d.x;T=d.y;p=jsfeat.matmath.determinant_3x3(p,q,1,t,H,1,M,K,1);N=jsfeat.matmath.determinant_3x3(N,L,1,J,Q,1,O,T,1);0>p*N&&
e++;p=h.x;q=h.y;t=g.x;H=g.y;M=b.x;K=b.y;N=l.x;L=l.y;J=m.x;Q=m.y;O=d.x;T=d.y;p=jsfeat.matmath.determinant_3x3(p,q,1,t,H,1,M,K,1);N=jsfeat.matmath.determinant_3x3(N,L,1,J,Q,1,O,T,1);0>p*N&&e++;if(0!=e&&4!=e)return!1}return!0};return e}();return{affine2d:n,homography2d:m}}(),d=function(){function a(b,d,f,e){"undefined"===typeof b&&(b=0);"undefined"===typeof d&&(d=.5);"undefined"===typeof f&&(f=.5);"undefined"===typeof e&&(e=.99);this.size=b;this.thresh=d;this.eps=f;this.prob=e}a.prototype.update_iters=
function(a,b){var d=Math.log(1-this.prob),f=Math.log(1-Math.pow(1-a,this.size));return(0<=f||-d>=b*-f?b:Math.round(d/f))|0};return a}(),e=function(){var a=function(a,b,d,f,e,h,m){for(var t=[],s=0,u=0,r=0,w=0,A=!1;1E3>r;){for(s=0;s<f&&1E3>r;){A=!1;for(w=0;!A;)for(A=!0,w=t[s]=Math.floor(Math.random()*e)|0,u=0;u<s;++u)if(w==t[u]){A=!1;break}h[s]=b[w];m[s]=d[w];a.check_subset(h,m,s+1)?++s:r++}break}return s==f&&1E3>r},b=function(a,b,d,f,e,h,m,t){var s=0,u=0,r=0;h*=h;for(a.error(d,f,b,m,e);u<e;++u)r=m[u]<=
h,t[u]=r,s+=r;return s};return{ransac:function(d,e,l,n,p,q,m,t){"undefined"===typeof t&&(t=1E3);if(p<d.size)return!1;var s=d.size,u=0,r=!1,w=[],A=[],C=!1,G=q.cols,F=q.rows,D=q.type|jsfeat.C1_t,I=jsfeat.cache.get_buffer(G*F<<3),E=jsfeat.cache.get_buffer(p),P=jsfeat.cache.get_buffer(p<<2),G=new jsfeat.matrix_t(G,F,D,I.data),F=new jsfeat.matrix_t(p,1,jsfeat.U8C1_t,E.data),D=-1,C=C=0,H=P.f32;if(p==s){if(0>=e.run(l,n,G,p))return jsfeat.cache.put_buffer(I),jsfeat.cache.put_buffer(E),jsfeat.cache.put_buffer(P),
!1;G.copy_to(q);if(m)for(;0<=--p;)m.data[p]=1;jsfeat.cache.put_buffer(I);jsfeat.cache.put_buffer(E);jsfeat.cache.put_buffer(P);return!0}for(;u<t;++u){C=a(e,l,n,s,p,w,A);if(!C){if(0==u)return jsfeat.cache.put_buffer(I),jsfeat.cache.put_buffer(E),jsfeat.cache.put_buffer(P),!1;break}C=e.run(w,A,G,s);0>=C||(C=b(e,G,l,n,p,d.thresh,H,F.data),C>Math.max(D,s-1)&&(G.copy_to(q),D=C,m&&F.copy_to(m),t=d.update_iters((p-C)/p,t),r=!0))}jsfeat.cache.put_buffer(I);jsfeat.cache.put_buffer(E);jsfeat.cache.put_buffer(P);
return r},lmeds:function(d,e,l,n,p,q,m,t){"undefined"===typeof t&&(t=1E3);if(p<d.size)return!1;var s=d.size,u=0,r=!1,w=[],A=[],C=!1,G=q.cols,F=q.rows,D=q.type|jsfeat.C1_t,I=jsfeat.cache.get_buffer(G*F<<3),E=jsfeat.cache.get_buffer(p),P=jsfeat.cache.get_buffer(p<<2),G=new jsfeat.matrix_t(G,F,D,I.data),F=new jsfeat.matrix_t(p,1,jsfeat.U8_t|jsfeat.C1_t,E.data),C=D=0,D=P.f32,H=1E9,C=C=0;d.eps=.45;t=d.update_iters(d.eps,t);if(p==s){if(0>=e.run(l,n,G,p))return jsfeat.cache.put_buffer(I),jsfeat.cache.put_buffer(E),
jsfeat.cache.put_buffer(P),!1;G.copy_to(q);if(m)for(;0<=--p;)m.data[p]=1;jsfeat.cache.put_buffer(I);jsfeat.cache.put_buffer(E);jsfeat.cache.put_buffer(P);return!0}for(;u<t;++u){C=a(e,l,n,s,p,w,A);if(!C){if(0==u)return jsfeat.cache.put_buffer(I),jsfeat.cache.put_buffer(E),jsfeat.cache.put_buffer(P),!1;break}C=e.run(w,A,G,s);0>=C||(e.error(l,n,G,D,p),C=jsfeat.math.median(D,0,p-1),C<H&&(H=C,G.copy_to(q),r=!0))}r&&(C=2.5*1.4826*(1+5/(p-s))*Math.sqrt(H),C=Math.max(C,.001),D=b(e,q,l,n,p,C,D,F.data),m&&
F.copy_to(m),r=D>=s);jsfeat.cache.put_buffer(I);jsfeat.cache.put_buffer(E);jsfeat.cache.put_buffer(P);return r}}}();a.ransac_params_t=d;a.motion_model=b;a.motion_estimator=e})(jsfeat);
(function(a){var b=function(){return{grayscale:function(a,b){for(var f=a.length|0,h=f-16|0,g=0,k=0;k<=h;k+=16,g+=4)b[g]=4899*a[k]+9617*a[k+1]+1868*a[k+2]+8192>>14,b[g+1]=4899*a[k+4]+9617*a[k+5]+1868*a[k+6]+8192>>14,b[g+2]=4899*a[k+8]+9617*a[k+9]+1868*a[k+10]+8192>>14,b[g+3]=4899*a[k+12]+9617*a[k+13]+1868*a[k+14]+8192>>14;for(;k<f;k+=4,++g)b[g]=4899*a[k]+9617*a[k+1]+1868*a[k+2]+8192>>14},resample:function(a,b,f,h){var g=a.rows,k=a.cols;if(g>h&&k>f){if(a.type&jsfeat.U8_t&&b.type&jsfeat.U8_t&&256>g*
k/(h*f)){var g=0,k=a.channel,l=a.cols,n=a.rows;a=a.data;b=b.data;var p=l/f;h=n/h;for(var q=p*h*65536|0,m=0,t=0,s=0,u=0,r=t=s=0,w=0,A=u=r=0,C=s=0,G=0,A=r=0,F=jsfeat.cache.get_buffer(f*k<<2),D=jsfeat.cache.get_buffer(f*k<<2),I=jsfeat.cache.get_buffer(6*l<<2),E=F.i32,P=D.i32,H=I.i32;m<f;m++){r=m*p;u=r+p;s=r+1-1E-6|0;t=u|0;s=Math.min(s,l-1);t=Math.min(t,l-1);s>r&&(H[w++]=m*k|0,H[w++]=(s-1)*k|0,H[w++]=256*(s-r)|0,g++);for(;s<t;s++)g++,H[w++]=m*k|0,H[w++]=s*k|0,H[w++]=256;.001<u-t&&(g++,H[w++]=m*k|0,H[w++]=
t*k|0,H[w++]=256*(u-t)|0)}for(m=0;m<f*k;m++)E[m]=P[m]=0;for(u=t=0;u<n;u++){A=l*u;for(w=0;w<g;w++)for(C=H[3*w],s=H[3*w+1],G=H[3*w+2],r=0;r<k;r++)E[C+r]+=a[A+s+r]*G;if((t+1)*h<=u+1||u==n-1){r=256*Math.max(u+1-(t+1)*h,0)|0;A=256-r;s=f*t;if(0>=r)for(m=0;m<f*k;m++)b[s+m]=Math.min(Math.max((P[m]+256*E[m])/q,0),255),P[m]=E[m]=0;else for(m=0;m<f*k;m++)b[s+m]=Math.min(Math.max((P[m]+E[m]*A)/q,0),255),P[m]=E[m]*r,E[m]=0;t++}else for(m=0;m<f*k;m++)P[m]+=256*E[m],E[m]=0}}else{g=0;k=a.channel;l=a.cols;n=a.rows;
a=a.data;b=b.data;p=l/f;h=n/h;q=1/(p*h);A=r=G=C=s=A=u=r=w=r=t=s=u=s=t=m=0;F=jsfeat.cache.get_buffer(f*k<<2);D=jsfeat.cache.get_buffer(f*k<<2);I=jsfeat.cache.get_buffer(6*l<<2);E=F.f32;P=D.f32;for(H=I.f32;m<f;m++){r=m*p;u=r+p;s=r+1-1E-6|0;t=u|0;s=Math.min(s,l-1);t=Math.min(t,l-1);s>r&&(g++,H[w++]=(s-1)*k|0,H[w++]=m*k|0,H[w++]=(s-r)*q);for(;s<t;s++)g++,H[w++]=s*k|0,H[w++]=m*k|0,H[w++]=q;.001<u-t&&(g++,H[w++]=t*k|0,H[w++]=m*k|0,H[w++]=(u-t)*q)}for(m=0;m<f*k;m++)E[m]=P[m]=0;for(u=t=0;u<n;u++){A=l*u;for(w=
0;w<g;w++)for(s=H[3*w]|0,C=H[3*w+1]|0,G=H[3*w+2],r=0;r<k;r++)E[C+r]+=a[A+s+r]*G;if((t+1)*h<=u+1||u==n-1){r=Math.max(u+1-(t+1)*h,0);A=1-r;s=f*t;if(.001>Math.abs(r))for(m=0;m<f*k;m++)b[s+m]=P[m]+E[m],P[m]=E[m]=0;else for(m=0;m<f*k;m++)b[s+m]=P[m]+E[m]*A,P[m]=E[m]*r,E[m]=0;t++}else for(m=0;m<f*k;m++)P[m]+=E[m],E[m]=0}}jsfeat.cache.put_buffer(D);jsfeat.cache.put_buffer(F);jsfeat.cache.put_buffer(I)}},box_blur_gray:function(a,b,f,h){"undefined"===typeof h&&(h=0);var g=a.cols,k=a.rows,l=k<<1,n=g<<1,p=0,
q=p=0,m=0,q=(f<<1)+1|0,t=f+1|0,s=t+1|0;h=h&jsfeat.BOX_BLUR_NOSCALE?1:1/(q*q);var u=jsfeat.cache.get_buffer(g*k<<2),r=0,w=0,A=0,C=m=0,G=u.i32;a=a.data;for(var F=0,q=0;q<k;++q){w=q;r=t*a[A];p=A+1|0;for(m=A+f|0;p<=m;++p)r+=a[p];m=A+t|0;C=A;F=a[C];for(p=0;p<f;++p,w+=k)G[w]=r,r+=a[m]-F,m++;for(;p<g-s;p+=2,w+=l)G[w]=r,r+=a[m]-a[C],G[w+k]=r,r+=a[m+1]-a[C+1],m+=2,C+=2;for(;p<g-t;++p,w+=k)G[w]=r,r+=a[m]-a[C],m++,C++;for(F=a[m-1];p<g;++p,w+=k)G[w]=r,r+=F-a[C],C++;A+=g}A=0;a=b.data;if(1==h)for(q=0;q<g;++q){w=
q;r=t*G[A];p=A+1|0;for(m=A+f|0;p<=m;++p)r+=G[p];m=A+t;C=A;F=G[C];for(p=0;p<f;++p,w+=g)a[w]=r,r+=G[m]-F,m++;for(;p<k-s;p+=2,w+=n)a[w]=r,r+=G[m]-G[C],a[w+g]=r,r+=G[m+1]-G[C+1],m+=2,C+=2;for(;p<k-t;++p,w+=g)a[w]=r,r+=G[m]-G[C],m++,C++;for(F=G[m-1];p<k;++p,w+=g)a[w]=r,r+=F-G[C],C++;A+=k}else for(q=0;q<g;++q){w=q;r=t*G[A];p=A+1|0;for(m=A+f|0;p<=m;++p)r+=G[p];m=A+t;C=A;F=G[C];for(p=0;p<f;++p,w+=g)a[w]=r*h,r+=G[m]-F,m++;for(;p<k-s;p+=2,w+=n)a[w]=r*h,r+=G[m]-G[C],a[w+g]=r*h,r+=G[m+1]-G[C+1],m+=2,C+=2;for(;p<
k-t;++p,w+=g)a[w]=r*h,r+=G[m]-G[C],m++,C++;for(F=G[m-1];p<k;++p,w+=g)a[w]=r*h,r+=F-G[C],C++;A+=k}jsfeat.cache.put_buffer(u)},gaussian_blur:function(a,b,f,h){"undefined"===typeof h&&(h=0);"undefined"===typeof f&&(f=0);f=0==f?2*Math.max(1,4*h+1-1E-8)+1|0:f;var g=f>>1,k=a.cols,l=a.rows,n=a.type,p=n&jsfeat.U8_t;a=a.data;b=b.data;var q,m,t=f+Math.max(l,k)|0,t=jsfeat.cache.get_buffer(t<<2),s=jsfeat.cache.get_buffer(f<<2);p?(q=t.i32,m=s.i32):(q=n&jsfeat.S32_t?t.i32:t.f32,m=s.f32);jsfeat.math.get_gaussian_kernel(f,
h,m,n);if(p){h=q;for(var n=m,u=q=m=p=0,r=0,w=0,A=0,C=0,G=0,F=n[0],D=0,I=k<<1,E=3*k,P=k<<2;p<l;++p){w=a[u];for(m=0;m<g;++m)h[m]=w;for(m=0;m<=k-2;m+=2)h[m+g]=a[u+m],h[m+g+1]=a[u+m+1];for(;m<k;++m)h[m+g]=a[u+m];w=a[u+k-1];for(m=k;m<g+k;++m)h[m+g]=w;for(m=0;m<=k-4;m+=4){w=h[m]*F;A=h[m+1]*F;C=h[m+2]*F;G=h[m+3]*F;for(q=1;q<f;++q)D=n[q],w+=h[q+m]*D,A+=h[q+m+1]*D,C+=h[q+m+2]*D,G+=h[q+m+3]*D;b[r+m]=Math.min(w>>8,255);b[r+m+1]=Math.min(A>>8,255);b[r+m+2]=Math.min(C>>8,255);b[r+m+3]=Math.min(G>>8,255)}for(;m<
k;++m){w=h[m]*F;for(q=1;q<f;++q)w+=h[q+m]*n[q];b[r+m]=Math.min(w>>8,255)}u+=k;r+=k}for(p=0;p<k;++p){w=b[p];for(m=0;m<g;++m)h[m]=w;q=p;for(m=0;m<=l-2;m+=2,q+=I)h[m+g]=b[q],h[m+g+1]=b[q+k];for(;m<l;++m,q+=k)h[m+g]=b[q];w=b[(l-1)*k+p];for(m=l;m<g+l;++m)h[m+g]=w;r=p;for(m=0;m<=l-4;m+=4,r+=P){w=h[m]*F;A=h[m+1]*F;C=h[m+2]*F;G=h[m+3]*F;for(q=1;q<f;++q)D=n[q],w+=h[q+m]*D,A+=h[q+m+1]*D,C+=h[q+m+2]*D,G+=h[q+m+3]*D;b[r]=Math.min(w>>8,255);b[r+k]=Math.min(A>>8,255);b[r+I]=Math.min(C>>8,255);b[r+E]=Math.min(G>>
8,255)}for(;m<l;++m,r+=k){w=h[m]*F;for(q=1;q<f;++q)w+=h[q+m]*n[q];b[r]=Math.min(w>>8,255)}}}else{h=q;n=m;G=C=A=w=r=u=q=m=p=0;F=n[0];D=0;I=k<<1;E=3*k;for(P=k<<2;p<l;++p){w=a[u];for(m=0;m<g;++m)h[m]=w;for(m=0;m<=k-2;m+=2)h[m+g]=a[u+m],h[m+g+1]=a[u+m+1];for(;m<k;++m)h[m+g]=a[u+m];w=a[u+k-1];for(m=k;m<g+k;++m)h[m+g]=w;for(m=0;m<=k-4;m+=4){w=h[m]*F;A=h[m+1]*F;C=h[m+2]*F;G=h[m+3]*F;for(q=1;q<f;++q)D=n[q],w+=h[q+m]*D,A+=h[q+m+1]*D,C+=h[q+m+2]*D,G+=h[q+m+3]*D;b[r+m]=w;b[r+m+1]=A;b[r+m+2]=C;b[r+m+3]=G}for(;m<
k;++m){w=h[m]*F;for(q=1;q<f;++q)w+=h[q+m]*n[q];b[r+m]=w}u+=k;r+=k}for(p=0;p<k;++p){w=b[p];for(m=0;m<g;++m)h[m]=w;q=p;for(m=0;m<=l-2;m+=2,q+=I)h[m+g]=b[q],h[m+g+1]=b[q+k];for(;m<l;++m,q+=k)h[m+g]=b[q];w=b[(l-1)*k+p];for(m=l;m<g+l;++m)h[m+g]=w;r=p;for(m=0;m<=l-4;m+=4,r+=P){w=h[m]*F;A=h[m+1]*F;C=h[m+2]*F;G=h[m+3]*F;for(q=1;q<f;++q)D=n[q],w+=h[q+m]*D,A+=h[q+m+1]*D,C+=h[q+m+2]*D,G+=h[q+m+3]*D;b[r]=w;b[r+k]=A;b[r+I]=C;b[r+E]=G}for(;m<l;++m,r+=k){w=h[m]*F;for(q=1;q<f;++q)w+=h[q+m]*n[q];b[r]=w}}}jsfeat.cache.put_buffer(t);
jsfeat.cache.put_buffer(s)},pyrdown:function(a,b,f,h){"undefined"===typeof f&&(f=0);"undefined"===typeof h&&(h=0);var g=a.cols,k=g>>1,l=k-(f<<1),n=(a.rows>>1)-(h<<1),p=0,q=0;f+=h*g;var m=h=0,t=0;a=a.data;b=b.data;for(q=0;q<n;++q){h=f;t=m;for(p=0;p<=l-2;p+=2,t+=2,h+=4)b[t]=a[h]+a[h+1]+a[h+g]+a[h+g+1]+2>>2,b[t+1]=a[h+2]+a[h+3]+a[h+g+2]+a[h+g+3]+2>>2;for(;p<l;++p,++t,h+=2)b[t]=a[h]+a[h+1]+a[h+g]+a[h+g+1]+2>>2;f+=g<<1;m+=k}},scharr_derivatives:function(a,b){var f=a.cols,h=a.rows,g=f<<1,k=0,l=0,n=0,p,
q,m,t,s,u=m=0,r=t=0,w,A,C=a.data,G=b.data,F=jsfeat.cache.get_buffer(f+2<<2),D=jsfeat.cache.get_buffer(f+2<<2);a.type&jsfeat.U8_t||a.type&jsfeat.S32_t?(w=F.i32,A=D.i32):(w=F.f32,A=D.f32);for(;l<h;++l,u+=f){m=(0<l?l-1:1)*f|0;t=(l<h-1?l+1:h-2)*f|0;r=l*g|0;k=0;for(n=1;k<=f-2;k+=2,n+=2)p=C[m+k],q=C[t+k],w[n]=3*(p+q)+10*C[u+k],A[n]=q-p,p=C[m+k+1],q=C[t+k+1],w[n+1]=3*(p+q)+10*C[u+k+1],A[n+1]=q-p;for(;k<f;++k,++n)p=C[m+k],q=C[t+k],w[n]=3*(p+q)+10*C[u+k],A[n]=q-p;k=f+1|0;w[0]=w[1];w[k]=w[f];A[0]=A[1];A[k]=
A[f];for(k=0;k<=f-4;k+=4)p=A[k+2],q=A[k+1],n=A[k+3],m=A[k+4],t=w[k+2],s=w[k+3],G[r++]=t-w[k],G[r++]=3*(p+A[k])+10*q,G[r++]=s-w[k+1],G[r++]=3*(n+q)+10*p,G[r++]=w[k+4]-t,G[r++]=3*(m+p)+10*n,G[r++]=w[k+5]-s,G[r++]=3*(A[k+5]+n)+10*m;for(;k<f;++k)G[r++]=w[k+2]-w[k],G[r++]=3*(A[k+2]+A[k])+10*A[k+1]}jsfeat.cache.put_buffer(F);jsfeat.cache.put_buffer(D)},sobel_derivatives:function(a,b){var f=a.cols,h=a.rows,g=f<<1,k=0,l=0,n=0,p,q,m,t,s,u=m=0,r=t=0,w,A,C=a.data,G=b.data,F=jsfeat.cache.get_buffer(f+2<<2),D=
jsfeat.cache.get_buffer(f+2<<2);a.type&jsfeat.U8_t||a.type&jsfeat.S32_t?(w=F.i32,A=D.i32):(w=F.f32,A=D.f32);for(;l<h;++l,u+=f){m=(0<l?l-1:1)*f|0;t=(l<h-1?l+1:h-2)*f|0;r=l*g|0;k=0;for(n=1;k<=f-2;k+=2,n+=2)p=C[m+k],q=C[t+k],w[n]=p+q+2*C[u+k],A[n]=q-p,p=C[m+k+1],q=C[t+k+1],w[n+1]=p+q+2*C[u+k+1],A[n+1]=q-p;for(;k<f;++k,++n)p=C[m+k],q=C[t+k],w[n]=p+q+2*C[u+k],A[n]=q-p;k=f+1|0;w[0]=w[1];w[k]=w[f];A[0]=A[1];A[k]=A[f];for(k=0;k<=f-4;k+=4)p=A[k+2],q=A[k+1],n=A[k+3],m=A[k+4],t=w[k+2],s=w[k+3],G[r++]=t-w[k],
G[r++]=p+A[k]+2*q,G[r++]=s-w[k+1],G[r++]=n+q+2*p,G[r++]=w[k+4]-t,G[r++]=m+p+2*n,G[r++]=w[k+5]-s,G[r++]=A[k+5]+n+2*m;for(;k<f;++k)G[r++]=w[k+2]-w[k],G[r++]=A[k+2]+A[k]+2*A[k+1]}jsfeat.cache.put_buffer(F);jsfeat.cache.put_buffer(D)},compute_integral_image:function(a,b,f,h){var g=a.cols|0,k=a.rows|0;a=a.data;var l=g+1|0,n=0,p=0,q=0,m=0,t=0,s=0,u=0,r=0;if(b&&f){for(;t<l;++t)b[t]=0,f[t]=0;q=l+1|0;m=1;for(r=t=0;t<k;++t,++q,++m){for(s=n=p=0;s<=g-2;s+=2,r+=2,q+=2,m+=2)u=a[r],n+=u,p+=u*u,b[q]=b[m]+n,f[q]=
f[m]+p,u=a[r+1],n+=u,p+=u*u,b[q+1]=b[m+1]+n,f[q+1]=f[m+1]+p;for(;s<g;++s,++r,++q,++m)u=a[r],n+=u,p+=u*u,b[q]=b[m]+n,f[q]=f[m]+p}}else if(b){for(;t<l;++t)b[t]=0;q=l+1|0;m=1;for(r=t=0;t<k;++t,++q,++m){for(s=n=0;s<=g-2;s+=2,r+=2,q+=2,m+=2)n+=a[r],b[q]=b[m]+n,n+=a[r+1],b[q+1]=b[m+1]+n;for(;s<g;++s,++r,++q,++m)n+=a[r],b[q]=b[m]+n}}else if(f){for(;t<l;++t)f[t]=0;q=l+1|0;m=1;for(r=t=0;t<k;++t,++q,++m){for(s=p=0;s<=g-2;s+=2,r+=2,q+=2,m+=2)u=a[r],p+=u*u,f[q]=f[m]+p,u=a[r+1],p+=u*u,f[q+1]=f[m+1]+p;for(;s<g;++s,
++r,++q,++m)u=a[r],p+=u*u,f[q]=f[m]+p}}if(h){for(t=0;t<l;++t)h[t]=0;q=l+1|0;for(r=t=m=0;t<k;++t,++q,++m){for(s=0;s<=g-2;s+=2,r+=2,q+=2,m+=2)h[q]=a[r]+h[m],h[q+1]=a[r+1]+h[m+1];for(;s<g;++s,++r,++q,++m)h[q]=a[r]+h[m]}q=l+g|0;m=g;for(t=0;t<k;++t,q+=l,m+=l)h[q]+=h[m];for(s=g-1;0<s;--s)for(q=s+k*l,m=q-l,t=k;0<t;--t,q-=l,m-=l)h[q]+=h[m]+h[m+1]}},equalize_histogram:function(a,b){var f=a.data,h=b.data,g=a.cols*a.rows,k=0,l=0,n,p=jsfeat.cache.get_buffer(1024);for(n=p.i32;256>k;++k)n[k]=0;for(k=0;k<g;++k)++n[f[k]];
l=n[0];for(k=1;256>k;++k)l=n[k]+=l;l=255/g;for(k=0;k<g;++k)h[k]=n[f[k]]*l+.5|0;jsfeat.cache.put_buffer(p)},canny:function(a,b,f,h){var g=a.cols,k=a.rows;b=b.data;var l=0,n=0,p=0,q=g<<1,m=0,t=0,s=0,u=0,r=0,w=0,A=0,u=0,C=jsfeat.cache.get_buffer(k*q<<2),G=jsfeat.cache.get_buffer(3*(g+2)<<2),F=jsfeat.cache.get_buffer((k+2)*(g+2)<<2),D=jsfeat.cache.get_buffer(k*g<<2),I=G.i32,E=F.i32,P=D.i32,H=C.i32,l=new jsfeat.matrix_t(g,k,jsfeat.S32C2_t,C.data),M=1,K=g+2+1|0,N=2*(g+2)+1|0,L=g+2|0,J=L+1|0,Q=0;this.sobel_derivatives(a,
l);f>h&&(l=f,f=h,h=l);for(l=3*(g+2)|0;0<=--l;)I[l]=0;for(l=(k+2)*(g+2)|0;0<=--l;)E[l]=0;for(;n<g;++n,p+=2)u=H[p],r=H[p+1],I[K+n]=(u^u>>31)-(u>>31)+((r^r>>31)-(r>>31));for(l=1;l<=k;++l,p+=q){if(l==k)for(n=N+g;--n>=N;)I[n]=0;else for(n=0;n<g;n++)u=H[p+(n<<1)],r=H[p+(n<<1)+1],I[N+n]=(u^u>>31)-(u>>31)+((r^r>>31)-(r>>31));m=p-q|0;for(n=t=E[J-1]=0;n<g;++n,m+=2){s=I[K+n];if(s>f)if(u=H[m],r=H[m+1],w=u^r,u=(u^u>>31)-(u>>31)|0,r=(r^r>>31)-(r>>31)|0,A=13573*u,u=A+(u+u<<15),r<<=15,r<A){if(s>I[K+n-1]&&s>=I[K+
n+1]){s>h&&!t&&2!=E[J+n-L]?(E[J+n]=2,t=1,P[Q++]=J+n):E[J+n]=1;continue}}else if(r>u){if(s>I[M+n]&&s>=I[N+n]){s>h&&!t&&2!=E[J+n-L]?(E[J+n]=2,t=1,P[Q++]=J+n):E[J+n]=1;continue}}else if(w=0>w?-1:1,s>I[M+n-w]&&s>I[N+n+w]){s>h&&!t&&2!=E[J+n-L]?(E[J+n]=2,t=1,P[Q++]=J+n):E[J+n]=1;continue}t=E[J+n]=0}E[J+g]=0;J+=L;n=M;M=K;K=N;N=n}n=J-L-1;for(l=0;l<L;++l,++n)E[n]=0;for(;0<Q;)J=P[--Q],J-=L+1,1==E[J]&&(E[J]=2,P[Q++]=J),J+=1,1==E[J]&&(E[J]=2,P[Q++]=J),J+=1,1==E[J]&&(E[J]=2,P[Q++]=J),J+=L,1==E[J]&&(E[J]=2,P[Q++]=
J),J-=2,1==E[J]&&(E[J]=2,P[Q++]=J),J+=L,1==E[J]&&(E[J]=2,P[Q++]=J),J+=1,1==E[J]&&(E[J]=2,P[Q++]=J),J+=1,1==E[J]&&(E[J]=2,P[Q++]=J);J=L+1;for(l=M=0;l<k;++l,J+=L)for(n=0;n<g;++n)b[M++]=255*(2==E[J+n]);jsfeat.cache.put_buffer(C);jsfeat.cache.put_buffer(G);jsfeat.cache.put_buffer(F);jsfeat.cache.put_buffer(D)},warp_perspective:function(a,b,f,h){"undefined"===typeof h&&(h=0);var g=a.cols|0,k=a.rows|0,l=b.cols|0,n=b.rows|0;a=a.data;b=b.data;var p=0,q=0,m=0,t=0,s=m=0,u=0,r=0,w=0,A=0,s=t=u=s=u=0,p=f.data;
f=p[0];for(var C=p[1],G=p[2],F=p[3],D=p[4],I=p[5],E=p[6],P=p[7],H=p[8],M=0;q<n;++q)for(r=C*q+G,w=D*q+I,A=P*q+H,p=0;p<l;++p,++M,r+=f,w+=F,A+=E)u=1/A,s=r*u,u*=w,t=s|0,m=u|0,0<s&&0<u&&t<g-1&&m<k-1?(s=Math.max(s-t,0),u=Math.max(u-m,0),m=g*m+t|0,t=a[m]+s*(a[m+1]-a[m]),s=a[m+g]+s*(a[m+g+1]-a[m+g]),b[M]=t+u*(s-t)):b[M]=h},warp_affine:function(a,b,f,h){"undefined"===typeof h&&(h=0);var g=a.cols,k=a.rows,l=b.cols,n=b.rows;a=a.data;b=b.data;var p=0,q=0,m=0,t=0,s=m=0,u=0,r=0,w=0,r=t=0,p=f.data;f=p[0];for(var A=
p[1],C=p[2],G=p[3],F=p[4],D=p[5],I=0;q<n;++q)for(s=A*q+C,u=F*q+D,p=0;p<l;++p,++I,s+=f,u+=G)t=s|0,m=u|0,0<s&&0<u&&t<g-1&&m<k-1?(r=Math.max(s-t,0),w=Math.max(u-m,0),m=g*m+t,t=a[m]+r*(a[m+1]-a[m]),r=a[m+g]+r*(a[m+g+1]-a[m+g]),b[I]=t+w*(r-t)):b[I]=h},skindetector:function(a,b){for(var f,h,g,k=a.width*a.height;k--;)g=4*k,f=a.data[g],h=a.data[g+1],g=a.data[g+2],95<f&&40<h&&20<g&&f>h&&f>g&&15<f-Math.min(h,g)&&15<Math.abs(f-h)?b[k]=255:b[k]=0}}}();a.imgproc=b})(jsfeat);
(function(a){var b=function(){var a=new Int32Array([0,3,1,3,2,2,3,1,3,0,3,-1,2,-2,1,-3,0,-3,-1,-3,-2,-2,-3,-1,-3,0,-3,1,-2,2,-1,3]),b=new Uint8Array(512),f=new Int32Array(25),h=new Int32Array(25),g=function(a,b,d,f,h){for(var e=0,g=a[b],k=0,r=k=0;25>e;++e)f[e]=g-a[b+d[e]];for(e=0;16>e;e+=2)k=Math.min(f[e+1],f[e+2]),k=Math.min(k,f[e+3]),k<=h||(k=Math.min(k,f[e+4]),k=Math.min(k,f[e+5]),k=Math.min(k,f[e+6]),k=Math.min(k,f[e+7]),k=Math.min(k,f[e+8]),h=Math.max(h,Math.min(k,f[e])),h=Math.max(h,Math.min(k,
f[e+9])));k=-h;for(e=0;16>e;e+=2)r=Math.max(f[e+1],f[e+2]),r=Math.max(r,f[e+3]),r=Math.max(r,f[e+4]),r=Math.max(r,f[e+5]),r>=k||(r=Math.max(r,f[e+6]),r=Math.max(r,f[e+7]),r=Math.max(r,f[e+8]),k=Math.min(k,Math.max(r,f[e])),k=Math.min(k,Math.max(r,f[e+9])));return-k-1},k=20;return{set_threshold:function(a){k=Math.min(Math.max(a,0),255);for(a=-255;255>=a;++a)b[a+255]=a<-k?1:a>k?2:0;return k},detect:function(l,n,p){"undefined"===typeof p&&(p=3);var q=l.data,m=l.cols,t=l.rows,s=0,u=0,r=0,w=0,A=0,u=0;
l=jsfeat.cache.get_buffer(3*m);var C=jsfeat.cache.get_buffer(3*(m+1)<<2),G=l.u8,F=C.i32,D=Math.max(3,p),t=Math.min(t-2,t-p),I=Math.max(3,p);p=Math.min(m-3,m-p);for(var E=0,P=0,H,M=k,K=r=H=0,N=0,L=0,J=0,Q=0,s=Q=K=H=A=w=0;16>s;++s)f[s]=a[s<<1]+a[(s<<1)+1]*m;for(;25>s;++s)f[s]=f[s-16];for(var O=f[0],T=f[1],ea=f[2],X=f[3],Z=f[4],U=f[5],Y=f[6],R=f[7],fa=f[8],ka=f[9],W=f[10],S=f[11],ma=f[12],na=f[13],ra=f[14],ia=f[15],s=0;s<3*m;++s)G[s]=0;for(s=D;s<t;++s){Q=s*m+I|0;u=(s-3)%3;J=u*m|0;L=u*(m+1)|0;for(u=0;u<
m;++u)G[J+u]=0;N=0;if(s<t-1)for(u=I;u<p;++u,++Q)if(H=q[Q],r=-H+255,K=b[r+q[Q+O]]|b[r+q[Q+fa]],0!=K&&(K&=b[r+q[Q+ea]]|b[r+q[Q+W]],K&=b[r+q[Q+Z]]|b[r+q[Q+ma]],K&=b[r+q[Q+Y]]|b[r+q[Q+ra]],0!=K)){K&=b[r+q[Q+T]]|b[r+q[Q+ka]];K&=b[r+q[Q+X]]|b[r+q[Q+S]];K&=b[r+q[Q+U]]|b[r+q[Q+na]];K&=b[r+q[Q+R]]|b[r+q[Q+ia]];if(K&1)for(w=H-M,r=E=0;25>r;++r)if(A=q[Q+f[r]],A<w){if(++E,8<E){++N;F[L+N]=u;G[J+u]=g(q,Q,f,h,M);break}}else E=0;if(K&2)for(w=H+M,r=E=0;25>r;++r)if(A=q[Q+f[r]],A>w){if(++E,8<E){++N;F[L+N]=u;G[J+u]=g(q,
Q,f,h,M);break}}else E=0}F[L+m]=N;if(s!=D)for(u=(s-4+3)%3,w=u*m|0,L=u*(m+1)|0,u=(s-5+3)%3,A=u*m|0,N=F[L+m],r=0;r<N;++r)u=F[L+r],H=u+1|0,K=u-1|0,Q=G[w+u],Q>G[w+H]&&Q>G[w+K]&&Q>G[A+K]&&Q>G[A+u]&&Q>G[A+H]&&Q>G[J+K]&&Q>G[J+u]&&Q>G[J+H]&&(H=n[P],H.x=u,H.y=s-1,H.score=Q,P++)}jsfeat.cache.put_buffer(l);jsfeat.cache.put_buffer(C);return P}}}();a.fast_corners=b;b.set_threshold(20)})(jsfeat);
(function(a){var b=function(){return{laplacian_threshold:30,min_eigen_value_threshold:25,detect:function(a,b){for(var f=0,h=0,g=a.cols,k=a.rows,l=a.data,n=5*g|0,p=3+3*g|0,q=3-3*g|0,m=jsfeat.cache.get_buffer(g*k<<2),t=m.i32,s=0,u=0,r=0,s=0,w,A=0,C=this.laplacian_threshold,G=this.min_eigen_value_threshold,f=g*k;0<=--f;)t[f]=0;h=f=0;r=u=5*g|0;for(f=5;f<k-5;++f,u+=g,r=u)for(h=g-5;5<=h;--h)t[r]=-4*l[r]+l[r+5]+l[r-5]+l[r+n]+l[r-n],++r;u=g+1|0;for(h=1;h<k-1;++h,u+=g)for(f=1,r=u;f<g-1;++f,++r)if(s=t[r],s<
-C&&s<t[r-1]&&s<t[r+1]&&s<t[r-g]&&s<t[r+g]&&s<t[r-g-1]&&s<t[r+g-1]&&s<t[r-g+1]&&s<t[r+g+1]||s>C&&s>t[r-1]&&s>t[r+1]&&s>t[r-g]&&s>t[r+g]&&s>t[r-g-1]&&s>t[r+g-1]&&s>t[r-g+1]&&s>t[r+g+1]){w=-2*l[r]+l[r+5]+l[r-5];var F=-2*l[r]+l[r+n]+l[r-n],D=l[r+p]+l[r-p]-l[r+q]-l[r-q];w=Math.sqrt((w-F)*(w-F)+4*D*D)|0;s=Math.min(Math.abs(s-w),Math.abs(-(s+w)));s>G&&(w=b[A],w.x=f,w.y=h,w.score=s,++A,++f,++r)}jsfeat.cache.put_buffer(m);return A}}}();a.yape06=b})(jsfeat);
(function(a){var b=function(){var a=function(a,b,d,e,l,n,p,q){var m=0,t,s=p-1|0,u=0,r=t=0,w=0,A=0,u=a[b+n[0]];if(u<=l)if(u>=e)if(t=a[b+n[s]],t<=l){if(t>=e){d[b]=0;return}s++;r=a[b+n[s]];if(r>l)if(s++,w=a[b+n[s]],w>l)A=3;else if(w<e)A=6;else{d[b]=0;return}else if(s++,w=a[b+n[s]],w>l)A=7;else if(w<e)A=2;else{d[b]=0;return}}else if(s++,r=a[b+n[s]],r>l)if(s++,w=a[b+n[s]],w>l)A=3;else if(w<e)A=6;else{d[b]=0;return}else if(r<e)if(s++,w=a[b+n[s]],w>l)A=7;else if(w<e)A=2;else{d[b]=0;return}else{d[b]=0;return}else{t=
a[b+n[s]];if(t>l){d[b]=0;return}s++;r=a[b+n[s]];if(r>l){d[b]=0;return}s++;w=a[b+n[s]];if(w>l){d[b]=0;return}A=1}else{t=a[b+n[s]];if(t<e){d[b]=0;return}s++;r=a[b+n[s]];if(r<e){d[b]=0;return}s++;w=a[b+n[s]];if(w<e){d[b]=0;return}A=0}for(t=1;t<=p;t++)switch(u=a[b+n[t]],A){case 0:if(u>l){r=w;s++;w=a[b+n[s]];if(w<e){d[b]=0;return}m-=u+r;A=0;break}if(u<e){if(r>l){d[b]=0;return}if(w>l){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w>l){d[b]=0;return}m-=u+r;A=8;break}if(r<=l){d[b]=0;return}if(w<=l){d[b]=0;return}r=
w;s++;w=a[b+n[s]];if(w>l){m-=u+r;A=3;break}if(w<e){m-=u+r;A=6;break}d[b]=0;return;case 1:if(u<e){r=w;s++;w=a[b+n[s]];if(w>l){d[b]=0;return}m-=u+r;A=1;break}if(u>l){if(r<e){d[b]=0;return}if(w<e){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w<e){d[b]=0;return}m-=u+r;A=9;break}if(r>=e){d[b]=0;return}if(w>=e){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w<e){m-=u+r;A=2;break}if(w>l){m-=u+r;A=7;break}d[b]=0;return;case 2:if(u>l){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(u<e){if(w>l){d[b]=0;return}m-=u+r;A=4;break}if(w>l){m-=
u+r;A=7;break}if(w<e){m-=u+r;A=2;break}d[b]=0;return;case 3:if(u<e){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(u>l){if(w<e){d[b]=0;return}m-=u+r;A=5;break}if(w>l){m-=u+r;A=3;break}if(w<e){m-=u+r;A=6;break}d[b]=0;return;case 4:if(u>l){d[b]=0;return}if(u<e){r=w;s++;w=a[b+n[s]];if(w>l){d[b]=0;return}m-=u+r;A=1;break}if(w>=e){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w<e){m-=u+r;A=2;break}if(w>l){m-=u+r;A=7;break}d[b]=0;return;case 5:if(u<e){d[b]=0;return}if(u>l){r=w;s++;w=a[b+n[s]];if(w<e){d[b]=0;return}m-=u+r;
A=0;break}if(w<=l){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w>l){m-=u+r;A=3;break}if(w<e){m-=u+r;A=6;break}d[b]=0;return;case 7:if(u>l){d[b]=0;return}if(u<e){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w>l){m-=u+r;A=3;break}if(w<e){m-=u+r;A=6;break}d[b]=0;return;case 6:if(u>l){d[b]=0;return}if(u<e){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w<e){m-=u+r;A=2;break}if(w>l){m-=u+r;A=7;break}d[b]=0;return;case 8:if(u>l){if(w<e){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w<e){d[b]=0;return}m-=u+r;A=9;break}if(u<e){r=w;s++;w=
a[b+n[s]];if(w>l){d[b]=0;return}m-=u+r;A=1;break}d[b]=0;return;case 9:if(u<e){if(w>l){d[b]=0;return}r=w;s++;w=a[b+n[s]];if(w>l){d[b]=0;return}m-=u+r;A=8;break}if(u>l){r=w;s++;w=a[b+n[s]];if(w<e){d[b]=0;return}m-=u+r;A=0;break}d[b]=0;return}d[b]=m+q*a[b]},b=function(){return function(a,b,d){var e=this.dirs=new Int32Array(1024),l=0,n,p;n=d;for(p=0;p<n;p++,l++)n=Math.sqrt(d*d-p*p)+.5|0,e[l]=n+a*p;for(n--;n<p&&0<=n;n--,l++)p=Math.sqrt(d*d-n*n)+.5|0,e[l]=n+a*p;for(;-n<p;n--,l++)p=Math.sqrt(d*d-n*n)+.5|
0,e[l]=n+a*p;for(p--;0<=p;p--,l++)n=-Math.sqrt(d*d-p*p)-.5|0,e[l]=n+a*p;for(;p>n;p--,l++)n=-Math.sqrt(d*d-p*p)-.5|0,e[l]=n+a*p;for(n++;0>=n;n++,l++)p=-Math.sqrt(d*d-n*n)-.5|0,e[l]=n+a*p;for(;n<-p;n++,l++)p=-Math.sqrt(d*d-n*n)-.5|0,e[l]=n+a*p;for(p++;0>p;p++,l++)n=Math.sqrt(d*d-p*p)+.5|0,e[l]=n+a*p;e[l]=e[0];e[l+1]=e[1];this.dirs_count=l|0;this.scores=new Int32Array(a*b);this.radius=d|0}}();return{level_tables:[],tau:7,init:function(a,d,g,k){"undefined"===typeof k&&(k=1);var l;g=Math.min(g,7);g=Math.max(g,
3);for(l=0;l<k;++l)this.level_tables[l]=new b(a>>l,d>>l,g)},detect:function(b,e,g){"undefined"===typeof g&&(g=4);var k=this.level_tables[0],l=k.radius|0,n=l-1|0,p=k.dirs,q=k.dirs_count|0,m=q>>1,t=b.data,s=b.cols|0,u=b.rows|0;b=s>>1;var k=k.scores,r=0,w=0,A=0,C=0,G=0,F=0,F=G=0,D=this.tau|0,I=0,E=Math.max(l+1,g)|0,P=Math.max(l+1,g)|0,H=Math.min(s-l-2,s-g)|0;g=Math.min(u-l-2,u-g)|0;A=P*s+E|0;for(w=P;w<g;++w,A+=s)for(r=E,C=A;r<H;++r,++C)G=t[C]+D,F=t[C]-D,F<t[C+l]&&t[C+l]<G&&F<t[C-l]&&t[C-l]<G?k[C]=0:
a(t,C,k,F,G,p,m,q);A=P*s+E|0;for(w=P;w<g;++w,A+=s)for(r=E,C=A;r<H;++r,++C)if(F=k[C],G=Math.abs(F),5>G)++r,++C;else{p=0;0!=k[C+1]&&p++;0!=k[C-1]&&p++;0!=k[C+s]&&p++;0!=k[C+s+1]&&p++;0!=k[C+s-1]&&p++;0!=k[C-s]&&p++;0!=k[C-s+1]&&p++;0!=k[C-s-1]&&p++;if(p=3<=p)a:{p=C;m=q=void 0;if(0<F)for(p-=b*l,m=-l;m<=l;++m){for(q=-l;q<=l;++q)if(k[p+q]>F){p=!1;break a}p+=b}else for(p-=b*l,m=-l;m<=l;++m){for(q=-l;q<=l;++q)if(k[p+q]<F){p=!1;break a}p+=b}p=!0}p&&(p=e[I],p.x=r,p.y=w,p.score=G,++I,r+=n,C+=n)}return I}}}();
a.yape=b})(jsfeat);
(function(a){var b=function(){var a=jsfeat.imgproc.scharr_derivatives;return{track:function(b,f,h,g,k,l,n,p,q,m){"undefined"===typeof n&&(n=30);"undefined"===typeof p&&(p=new Uint8Array(k));"undefined"===typeof q&&(q=.01);"undefined"===typeof m&&(m=1E-4);var t=.5*(l-1),s=l*l|0,u=s<<1,r=b.data;f=f.data;var w=r[0].data,A=f[0].data,C=r[0].cols,G=r[0].rows,F=0,D=0,s=jsfeat.cache.get_buffer(s<<2),I=jsfeat.cache.get_buffer(u<<2),E=jsfeat.cache.get_buffer(G*(C<<1)<<2),P=new jsfeat.matrix_t(C,G,jsfeat.S32C2_t,
E.data),H=s.i32,M=I.i32,K=E.i32,N=0,L=0,J=0,Q=0,O=0,T=0,ea=0,X=0,Z=0,U=D=0,Y=0,R=L=0,fa=0,ka=0,W=Y=0,S=0,ma=0,na=0,ra=R=0,ia=0,za=0,Ka=J=0,ba=0,v=Q=R=0,Oa=0,db=1/1048576,Ta=fa=0,Ma=0,xa=0,va=0,Da=X=Z=S=W=0,R=ka=0;for(q*=q;ma<k;++ma)p[ma]=1;for(ia=b=b.levels-1|0;0<=ia;--ia)for(ea=1/(1<<ia),F=C>>ia,D=G>>ia,N=F<<1,w=r[ia].data,A=f[ia].data,Ka=F-l|0,ba=D-l|0,a(r[ia],P),za=0;za<k;++za)if(ma=za<<1,na=ma+1,X=h[ma]*ea,Z=h[na]*ea,ia==b?(D=X,U=Z):(D=2*g[ma],U=2*g[na]),g[ma]=D,g[na]=U,X-=t,Z-=t,ka=X|0,Y=Z|0,
R=0>=ka|ka>=Ka|0>=Y|Y>=ba,0!=R)0==ia&&(p[za]=0);else{R=X-ka;Q=Z-Y;fa=(1-R)*(1-Q)*16384+.5|0;Ta=R*(1-Q)*16384+.5|0;Ma=(1-R)*Q*16384+.5|0;xa=16384-fa-Ta-Ma;for(ra=Da=X=Z=0;ra<l;++ra)for(L=(ra+Y)*F+ka|0,J=L<<1,Q=ra*l|0,O=Q<<1,R=0;R<l;++R,++L,++Q,J+=2)va=w[L]*fa+w[L+1]*Ta+w[L+F]*Ma+w[L+F+1]*xa,va=va+256>>9,W=K[J]*fa+K[J+2]*Ta+K[J+N]*Ma+K[J+N+2]*xa,W=W+8192>>14,S=K[J+1]*fa+K[J+3]*Ta+K[J+N+1]*Ma+K[J+N+3]*xa,S=S+8192>>14,H[Q]=va,M[O++]=W,M[O++]=S,Z+=W*W,X+=W*S,Da+=S*S;Z*=db;X*=db;Da*=db;ka=Z*Da-X*X;R=(Da+
Z-Math.sqrt((Z-Da)*(Z-Da)+4*X*X))/u;if(R<m||1.1920929E-7>ka)0==ia&&(p[za]=0);else for(ka=1/ka,D-=t,U-=t,J=L=Y=0;J<n;++J){W=D|0;S=U|0;R=0>=W|W>=Ka|0>=S|S>=ba;if(0!=R){0==ia&&(p[za]=0);break}R=D-W;Q=U-S;fa=(1-R)*(1-Q)*16384+.5|0;Ta=R*(1-Q)*16384+.5|0;Ma=(1-R)*Q*16384+.5|0;xa=16384-fa-Ta-Ma;for(ra=Oa=v=0;ra<l;++ra)for(T=(ra+S)*F+W|0,Q=ra*l|0,O=Q<<1,R=0;R<l;++R,++T,++Q)va=A[T]*fa+A[T+1]*Ta+A[T+F]*Ma+A[T+F+1]*xa,va=va+256>>9,va-=H[Q],v+=va*M[O++],Oa+=va*M[O++];v*=db;Oa*=db;R=(X*Oa-Da*v)*ka;fa=(X*v-Z*Oa)*
ka;D+=R;U+=fa;g[ma]=D+t;g[na]=U+t;if(R*R+fa*fa<=q)break;if(0<J&&.01>Math.abs(R+Y)&&.01>Math.abs(fa+L)){g[ma]-=.5*R;g[na]-=.5*fa;break}Y=R;L=fa}}jsfeat.cache.put_buffer(s);jsfeat.cache.put_buffer(I);jsfeat.cache.put_buffer(E)}}}();a.optical_flow_lk=b})(jsfeat);
(function(a){var b=function(){return{edges_density:.07,detect_single_scale:function(a,b,f,h,g,k,l,n){var p=n.size[0]*l|0,q=n.size[1]*l|0,m=.5*l+1.5|0,t,s,u,r,w=g-p|0;k=k-q|0;var A=g+1|0,C,G=1/(p*q),F,D,I,E,P,H,M,K=!0,N,L,J,Q,O,T,ea,X,Z,U=0,Y=q*A,R=Y+p,fa=p*q*255*this.edges_density|0,ka=[];for(r=0;r<k;r+=m)for(U=r*A,g=0;g<w;g+=m,U+=m){C=a[U]-a[U+p]-a[U+Y]+a[U+R];if(h&&(t=h[U]-h[U+p]-h[U+Y]+h[U+R],t<fa||20>C)){g+=m;U+=m;continue}C*=G;t=(b[U]-b[U+p]-b[U+Y]+b[U+R])*G-C*C;C=0<t?Math.sqrt(t):1;F=n.complexClassifiers;
P=F.length;K=!0;for(t=0;t<P;++t){D=F[t];N=D.threshold;I=D.simpleClassifiers;H=I.length;for(s=D=0;s<H;++s){E=I[s];L=0;Q=E.features;M=Q.length;if(1===E.tilted)for(u=0;u<M;++u)J=Q[u],O=~~(g+J[0]*l)+~~(r+J[1]*l)*A,X=~~(J[2]*l),Z=~~(J[3]*l),T=X*A,ea=Z*A,L+=(f[O]-f[O+X+T]-f[O-Z+ea]+f[O+X-Z+T+ea])*J[4];else for(u=0;u<M;++u)J=Q[u],O=~~(g+J[0]*l)+~~(r+J[1]*l)*A,X=~~(J[2]*l),Z=~~(J[3]*l),ea=Z*A,L+=(a[O]-a[O+X]-a[O+ea]+a[O+ea+X])*J[4];D+=L*G<E.threshold*C?E.left_val:E.right_val}if(D<N){K=!1;break}}K&&(ka.push({x:g,
y:r,width:p,height:q,neighbor:1,confidence:D}),g+=m,U+=m)}return ka},detect_multi_scale:function(a,b,f,h,g,k,l,n,p){"undefined"===typeof n&&(n=1.2);"undefined"===typeof p&&(p=1);for(var q=l.size[0],m=l.size[1],t=[];p*q<g&&p*m<k;)t=t.concat(this.detect_single_scale(a,b,f,h,g,k,p,l)),p*=n;return t},group_rectangles:function(a,b){"undefined"===typeof b&&(b=1);var f,h,g=a.length,k=[];for(f=0;f<g;++f)k[f]={parent:-1,element:a[f],rank:0};for(f=0;f<g;++f)if(k[f].element){for(var l=f;-1!=k[l].parent;)l=k[l].parent;
for(h=0;h<g;++h){var n;if(n=f!=h&&k[h].element){n=k[f].element;var p=k[h].element,q=.25*n.width+.5|0;n=p.x<=n.x+q&&p.x>=n.x-q&&p.y<=n.y+q&&p.y>=n.y-q&&p.width<=1.5*n.width+.5|0&&1.5*p.width+.5|0>=n.width}if(n){for(n=h;-1!=k[n].parent;)n=k[n].parent;if(n!=l){k[l].rank>k[n].rank?k[n].parent=l:(k[l].parent=n,k[l].rank==k[n].rank&&k[n].rank++,l=n);for(p=h;-1!=k[p].parent;)n=p,p=k[p].parent,k[n].parent=l;for(p=f;-1!=k[p].parent;)n=p,p=k[p].parent,k[n].parent=l}}}}n=[];for(f=l=0;f<g;f++){h=-1;p=f;if(k[p].element){for(;-1!=
k[p].parent;)p=k[p].parent;0<=k[p].rank&&(k[p].rank=~l++);h=~k[p].rank}n[f]=h}h=[];for(f=0;f<l+1;++f)h[f]={neighbors:0,x:0,y:0,width:0,height:0,confidence:0};for(f=0;f<g;++f)k=a[f],p=n[f],0==h[p].neighbors&&(h[p].confidence=k.confidence),++h[p].neighbors,h[p].x+=k.x,h[p].y+=k.y,h[p].width+=k.width,h[p].height+=k.height,h[p].confidence=Math.max(h[p].confidence,k.confidence);n=[];for(f=0;f<l;++f)g=h[f].neighbors,g>=b&&n.push({x:(2*h[f].x+g)/(2*g),y:(2*h[f].y+g)/(2*g),width:(2*h[f].width+g)/(2*g),height:(2*
h[f].height+g)/(2*g),neighbors:h[f].neighbors,confidence:h[f].confidence});l=[];g=n.length;for(f=0;f<g;++f){k=n[f];p=!0;for(h=0;h<g;++h){var q=n[h],m=.25*q.width+.5|0;if(f!=h&&k.x>=q.x-m&&k.y>=q.y-m&&k.x+k.width<=q.x+q.width+m&&k.y+k.height<=q.y+q.height+m&&(q.neighbors>Math.max(3,k.neighbors)||3>k.neighbors)){p=!1;break}}p&&l.push(k)}return l}}}();a.haar=b})(jsfeat);
(function(a){var b=function(){var a=new jsfeat.pyramid_t(1);return{interval:4,scale:1.1486,next:5,scale_to:1,prepare_cascade:function(a){for(var b=a.stage_classifier.length,d=0;d<b;d++)for(var g=a.stage_classifier[d].feature,k=a.stage_classifier[d].count,l=a.stage_classifier[d]._feature=Array(k),n=0;n<k;n++)l[n]={size:g[n].size,px:Array(g[n].size),pz:Array(g[n].size),nx:Array(g[n].size),nz:Array(g[n].size)}},build_pyramid:function(b,f,h,g){"undefined"===typeof g&&(g=4);var k=b.cols,l=b.rows,n=0,p=
0,q=0,m=!1,t=b,s=b,u=jsfeat.U8_t|jsfeat.C1_t;this.interval=g;this.scale=Math.pow(2,1/(this.interval+1));this.next=this.interval+1|0;this.scale_to=Math.log(Math.min(k/f,l/h))/Math.log(this.scale)|0;f=4*(this.scale_to+2*this.next)|0;a.levels!=f&&(a.levels=f,a.data=Array(f),m=!0,a.data[0]=b);for(n=1;n<=this.interval;++n){p=k/Math.pow(this.scale,n)|0;q=l/Math.pow(this.scale,n)|0;t=a.data[n<<2];if(m||p!=t.cols||q!=t.rows)a.data[n<<2]=new jsfeat.matrix_t(p,q,u),t=a.data[n<<2];jsfeat.imgproc.resample(b,
t,p,q)}for(n=this.next;n<this.scale_to+2*this.next;++n){s=a.data[(n<<2)-(this.next<<2)];t=a.data[n<<2];p=s.cols>>1;q=s.rows>>1;if(m||p!=t.cols||q!=t.rows)a.data[n<<2]=new jsfeat.matrix_t(p,q,u),t=a.data[n<<2];jsfeat.imgproc.pyrdown(s,t)}for(n=2*this.next;n<this.scale_to+2*this.next;++n){s=a.data[(n<<2)-(this.next<<2)];p=s.cols>>1;q=s.rows>>1;t=a.data[(n<<2)+1];if(m||p!=t.cols||q!=t.rows)a.data[(n<<2)+1]=new jsfeat.matrix_t(p,q,u),t=a.data[(n<<2)+1];jsfeat.imgproc.pyrdown(s,t,1,0);t=a.data[(n<<2)+
2];if(m||p!=t.cols||q!=t.rows)a.data[(n<<2)+2]=new jsfeat.matrix_t(p,q,u),t=a.data[(n<<2)+2];jsfeat.imgproc.pyrdown(s,t,0,1);t=a.data[(n<<2)+3];if(m||p!=t.cols||q!=t.rows)a.data[(n<<2)+3]=new jsfeat.matrix_t(p,q,u),t=a.data[(n<<2)+3];jsfeat.imgproc.pyrdown(s,t,1,1)}return a},detect:function(a,b){for(var d=this.scale,g=this.next,k=this.scale_to,l=0,n=0,p=0,q=0,m=0,t=0,s=0,u=0,r=0,w=0,A=q=0,C=0,G=0,F=0,D=0,I=0,E=0,P,H,M,K=!0,N=!0,L=1,J=1,Q=[0,1,0,1],O=[0,0,1,1],T=[],ea=a.data,X=[],Z=[0,0,0],U=[0,0,
0],Y=[0,0,0],l=0;l<k;l++){F=l<<2;D=ea[F+(g<<3)].cols-(b.width>>2);I=ea[F+(g<<3)].rows-(b.height>>2);U[0]=1*ea[F].cols;U[1]=1*ea[F+(g<<2)].cols;U[2]=1*ea[F+(g<<3)].cols;Y[0]=4*ea[F].cols-4*D;Y[1]=2*ea[F+(g<<2)].cols-2*D;Y[2]=1*ea[F+(g<<3)].cols-1*D;u=b.stage_classifier.length;for(n=0;n<u;n++)for(m=b.stage_classifier[n].feature,H=b.stage_classifier[n]._feature,r=b.stage_classifier[n].count,p=0;p<r;p++)for(M=H[p],t=m[p],w=t.size|0,s=0;s<w;s++)M.px[s]=1*t.px[s]+t.py[s]*U[t.pz[s]],M.pz[s]=t.pz[s],M.nx[s]=
1*t.nx[s]+t.ny[s]*U[t.nz[s]],M.nz[s]=t.nz[s];X[0]=ea[F].data;X[1]=ea[F+(g<<2)].data;for(s=0;4>s;s++)for(X[2]=ea[F+(g<<3)+s].data,Z[0]=2*Q[s]+2*O[s]*ea[F].cols,Z[1]=1*Q[s]+1*O[s]*ea[F+(g<<2)].cols,t=Z[2]=0;t<I;t++){for(m=0;m<D;m++){E=0;K=!0;u=b.stage_classifier.length;for(n=0;n<u;n++){E=0;P=b.stage_classifier[n].alpha;H=b.stage_classifier[n]._feature;r=b.stage_classifier[n].count;for(p=0;p<r;p++)if(M=H[p],A=X[M.pz[0]][Z[M.pz[0]]+M.px[0]],C=X[M.nz[0]][Z[M.nz[0]]+M.nx[0]],A<=C)E+=P[p<<1];else{N=!0;w=
M.size;for(G=1;G<w;G++){if(0<=M.pz[G]&&(q=X[M.pz[G]][Z[M.pz[G]]+M.px[G]],q<A)){if(q<=C){N=!1;break}A=q}if(0<=M.nz[G]&&(q=X[M.nz[G]][Z[M.nz[G]]+M.nx[G]],q>C)){if(A<=q){N=!1;break}C=q}}E+=N?P[(p<<1)+1]:P[p<<1]}if(E<b.stage_classifier[n].threshold){K=!1;break}}K&&(T.push({x:(4*m+2*Q[s])*L,y:(4*t+2*O[s])*J,width:b.width*L,height:b.height*J,neighbor:1,confidence:E}),++m,Z[0]+=4,Z[1]+=2,Z[2]+=1);Z[0]+=4;Z[1]+=2;Z[2]+=1}Z[0]+=Y[0];Z[1]+=Y[1];Z[2]+=Y[2]}L*=d;J*=d}return T},group_rectangles:function(a,b){"undefined"===
typeof b&&(b=1);var d,g,k=a.length,l=[];for(d=0;d<k;++d)l[d]={parent:-1,element:a[d],rank:0};for(d=0;d<k;++d)if(l[d].element){for(var n=d;-1!=l[n].parent;)n=l[n].parent;for(g=0;g<k;++g){var p;if(p=d!=g&&l[g].element){p=l[d].element;var q=l[g].element,m=.25*p.width+.5|0;p=q.x<=p.x+m&&q.x>=p.x-m&&q.y<=p.y+m&&q.y>=p.y-m&&q.width<=1.5*p.width+.5|0&&1.5*q.width+.5|0>=p.width}if(p){for(p=g;-1!=l[p].parent;)p=l[p].parent;if(p!=n){l[n].rank>l[p].rank?l[p].parent=n:(l[n].parent=p,l[n].rank==l[p].rank&&l[p].rank++,
n=p);for(q=g;-1!=l[q].parent;)p=q,q=l[q].parent,l[p].parent=n;for(q=d;-1!=l[q].parent;)p=q,q=l[q].parent,l[p].parent=n}}}}p=[];for(d=n=0;d<k;d++){g=-1;q=d;if(l[q].element){for(;-1!=l[q].parent;)q=l[q].parent;0<=l[q].rank&&(l[q].rank=~n++);g=~l[q].rank}p[d]=g}g=[];for(d=0;d<n+1;++d)g[d]={neighbors:0,x:0,y:0,width:0,height:0,confidence:0};for(d=0;d<k;++d)l=a[d],q=p[d],0==g[q].neighbors&&(g[q].confidence=l.confidence),++g[q].neighbors,g[q].x+=l.x,g[q].y+=l.y,g[q].width+=l.width,g[q].height+=l.height,
g[q].confidence=Math.max(g[q].confidence,l.confidence);p=[];for(d=0;d<n;++d)k=g[d].neighbors,k>=b&&p.push({x:(2*g[d].x+k)/(2*k),y:(2*g[d].y+k)/(2*k),width:(2*g[d].width+k)/(2*k),height:(2*g[d].height+k)/(2*k),neighbors:g[d].neighbors,confidence:g[d].confidence});n=[];k=p.length;for(d=0;d<k;++d){l=p[d];q=!0;for(g=0;g<k;++g){var m=p[g],t=.25*m.width+.5|0;if(d!=g&&l.x>=m.x-t&&l.y>=m.y-t&&l.x+l.width<=m.x+m.width+t&&l.y+l.height<=m.y+m.height+t&&(m.neighbors>Math.max(3,l.neighbors)||3>l.neighbors)){q=
!1;break}}q&&n.push(l)}return n}}}();a.bbf=b})(jsfeat);(function(a){"undefined"===typeof module||"undefined"===typeof module.exports?window.jsfeat=a:module.exports=a})(jsfeat);var THREE={REVISION:"67"};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}};
(function(){for(var a=0,b=["ms","moz","webkit","o"],d=0;d<b.length&&!self.requestAnimationFrame;++d)self.requestAnimationFrame=self[b[d]+"RequestAnimationFrame"],self.cancelAnimationFrame=self[b[d]+"CancelAnimationFrame"]||self[b[d]+"CancelRequestAnimationFrame"];void 0===self.requestAnimationFrame&&void 0!==self.setTimeout&&(self.requestAnimationFrame=function(b){var d=Date.now(),h=Math.max(0,16-(d-a)),g=self.setTimeout(function(){b(d+h)},h);a=d+h;return g});void 0===self.cancelAnimationFrame&&void 0!==
self.clearTimeout&&(self.cancelAnimationFrame=function(a){self.clearTimeout(a)})})();THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;
THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;
THREE.SrcAlphaSaturateFactor=210;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.UVMapping=function(){};THREE.CubeReflectionMapping=function(){};THREE.CubeRefractionMapping=function(){};THREE.SphericalReflectionMapping=function(){};THREE.SphericalRefractionMapping=function(){};THREE.RepeatWrapping=1E3;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;
THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;THREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;
THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;THREE.RGBA_S3TC_DXT5_Format=2004;THREE.Color=function(a){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(a)};
THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(a){a instanceof THREE.Color?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,d){this.r=a;this.g=b;this.b=d;return this},setHSL:function(a,b,d){if(0===b)this.r=this.g=this.b=d;else{var e=function(a,b,d){0>d&&(d+=1);1<d&&(d-=1);return d<1/6?a+6*(b-a)*
d:.5>d?b:d<2/3?a+6*(b-a)*(2/3-d):a};b=.5>=d?d*(1+b):d+b-d*b;d=2*d-b;this.r=e(d,b,a+1/3);this.g=e(d,b,a);this.b=e(d,b,a-1/3)}return this},setStyle:function(a){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(a))return a=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(a),this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,this;if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(a))return a=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(a),this.r=
Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,this;if(/^\#([0-9a-f]{6})$/i.test(a))return a=/^\#([0-9a-f]{6})$/i.exec(a),this.setHex(parseInt(a[1],16)),this;if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(a))return a=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a),this.setHex(parseInt(a[1]+a[1]+a[2]+a[2]+a[3]+a[3],16)),this;if(/^(\w+)$/i.test(a))return this.setHex(THREE.ColorKeywords[a]),this},copy:function(a){this.r=a.r;this.g=
a.g;this.b=a.b;return this},copyGammaToLinear:function(a){this.r=a.r*a.r;this.g=a.g*a.g;this.b=a.b*a.b;return this},copyLinearToGamma:function(a){this.r=Math.sqrt(a.r);this.g=Math.sqrt(a.g);this.b=Math.sqrt(a.b);return this},convertGammaToLinear:function(){var a=this.r,b=this.g,d=this.b;this.r=a*a;this.g=b*b;this.b=d*d;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return 255*this.r<<16^255*this.g<<
8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var b=this.r,d=this.g,e=this.b,f=Math.max(b,d,e),h=Math.min(b,d,e),g,k=(h+f)/2;if(h===f)h=g=0;else{var l=f-h,h=.5>=k?l/(f+h):l/(2-f-h);switch(f){case b:g=(d-e)/l+(d<e?6:0);break;case d:g=(e-b)/l+2;break;case e:g=(b-d)/l+4}g/=6}a.h=g;a.s=h;a.l=k;return a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,
b,d){var e=this.getHSL();e.h+=a;e.s+=b;e.l+=d;this.setHSL(e.h,e.s,e.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;
this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a){this.r=a[0];this.g=a[1];this.b=a[2];return this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}};
THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};THREE.Quaternion=function(a,b,d,e){this._x=a||0;this._y=b||0;this._z=d||0;this._w=void 0!==e?e:1};
THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,d,e){this._x=a;this._y=b;this._z=d;this._w=e;this.onChangeCallback();return this},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;
this._w=a._w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!1===a instanceof THREE.Euler)throw Error("ERROR: Quaternion's .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var d=Math.cos(a._x/2),e=Math.cos(a._y/2),f=Math.cos(a._z/2),h=Math.sin(a._x/2),g=Math.sin(a._y/2),k=Math.sin(a._z/2);"XYZ"===a.order?(this._x=h*e*f+d*g*k,this._y=d*g*f-h*e*k,this._z=d*e*k+h*g*f,this._w=d*e*f-h*g*k):"YXZ"===a.order?(this._x=h*e*f+d*g*k,
this._y=d*g*f-h*e*k,this._z=d*e*k-h*g*f,this._w=d*e*f+h*g*k):"ZXY"===a.order?(this._x=h*e*f-d*g*k,this._y=d*g*f+h*e*k,this._z=d*e*k+h*g*f,this._w=d*e*f-h*g*k):"ZYX"===a.order?(this._x=h*e*f-d*g*k,this._y=d*g*f+h*e*k,this._z=d*e*k-h*g*f,this._w=d*e*f+h*g*k):"YZX"===a.order?(this._x=h*e*f+d*g*k,this._y=d*g*f+h*e*k,this._z=d*e*k-h*g*f,this._w=d*e*f-h*g*k):"XZY"===a.order&&(this._x=h*e*f-d*g*k,this._y=d*g*f-h*e*k,this._z=d*e*k+h*g*f,this._w=d*e*f+h*g*k);if(!1!==b)this.onChangeCallback();return this},
setFromAxisAngle:function(a,b){var d=b/2,e=Math.sin(d);this._x=a.x*e;this._y=a.y*e;this._z=a.z*e;this._w=Math.cos(d);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,d=b[0];a=b[4];var e=b[8],f=b[1],h=b[5],g=b[9],k=b[2],l=b[6],b=b[10],n=d+h+b;0<n?(d=.5/Math.sqrt(n+1),this._w=.25/d,this._x=(l-g)*d,this._y=(e-k)*d,this._z=(f-a)*d):d>h&&d>b?(d=2*Math.sqrt(1+d-h-b),this._w=(l-g)/d,this._x=.25*d,this._y=(a+f)/d,this._z=(e+k)/d):h>b?(d=2*Math.sqrt(1+h-d-b),this._w=
(e-k)/d,this._x=(a+f)/d,this._y=.25*d,this._z=(g+l)/d):(d=2*Math.sqrt(1+b-d-h),this._w=(f-a)/d,this._x=(e+k)/d,this._y=(g+l)/d,this._z=.25*d);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(d,e){void 0===a&&(a=new THREE.Vector3);b=d.dot(e)+1;1E-6>b?(b=0,Math.abs(d.x)>Math.abs(d.z)?a.set(-d.y,d.x,0):a.set(0,-d.z,d.y)):a.crossVectors(d,e);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;this.normalize();return this}}(),inverse:function(){this.conjugate().normalize();
return this},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==
b?(console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,b){var d=a._x,e=a._y,f=a._z,h=a._w,g=b._x,k=b._y,l=b._z,n=b._w;this._x=d*n+h*g+e*l-f*k;this._y=e*n+h*k+f*g-d*l;this._z=f*n+h*l+d*k-e*g;this._w=h*n-d*g-e*k-f*l;this.onChangeCallback();return this},multiplyVector3:function(a){console.warn("DEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");
return a.applyQuaternion(this)},slerp:function(a,b){var d=this._x,e=this._y,f=this._z,h=this._w,g=h*a._w+d*a._x+e*a._y+f*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=h,this._x=d,this._y=e,this._z=f,this;var k=Math.acos(g),l=Math.sqrt(1-g*g);if(.001>Math.abs(l))return this._w=.5*(h+this._w),this._x=.5*(d+this._x),this._y=.5*(e+this._y),this._z=.5*(f+this._z),this;g=Math.sin((1-b)*k)/l;k=Math.sin(b*k)/l;this._w=h*g+this._w*k;this._x=d*g+
this._x*k;this._y=e*g+this._y*k;this._z=f*g+this._z*k;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];this._w=a[3];this.onChangeCallback();return this},toArray:function(){return[this._x,this._y,this._z,this._w]},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this._x,this._y,
this._z,this._w)}};THREE.Quaternion.slerp=function(a,b,d,e){return d.copy(a).slerp(b,e)};THREE.Vector2=function(a,b){this.x=a||0;this.y=b||0};
THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(a,b){this.x=a;this.y=b;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,
b){if(void 0!==b)return console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},sub:function(a,b){if(void 0!==b)return console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=
a.y;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);return this},
clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);return this},clampScalar:function(){var a,b;return function(d,e){void 0===a&&(a=new THREE.Vector2,b=new THREE.Vector2);a.set(d,d);b.set(e,e);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);
return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},
distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a){this.x=a[0];this.y=a[1];return this},toArray:function(){return[this.x,this.y]},clone:function(){return new THREE.Vector2(this.x,this.y)}};
THREE.Vector3=function(a,b,d){this.x=a||0;this.y=b||0;this.z=d||0};
THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(a,b,d){this.x=a;this.y=b;this.z=d;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+
a);}},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;return this},multiplyVectors:function(a,b){this.x=a.x*
b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a;return function(b){!1===b instanceof THREE.Euler&&console.error("ERROR: Vector3's .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromEuler(b));return this}}(),applyAxisAngle:function(){var a;return function(b,d){void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromAxisAngle(b,d));return this}}(),
applyMatrix3:function(a){var b=this.x,d=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[3]*d+a[6]*e;this.y=a[1]*b+a[4]*d+a[7]*e;this.z=a[2]*b+a[5]*d+a[8]*e;return this},applyMatrix4:function(a){var b=this.x,d=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*e+a[12];this.y=a[1]*b+a[5]*d+a[9]*e+a[13];this.z=a[2]*b+a[6]*d+a[10]*e+a[14];return this},applyProjection:function(a){var b=this.x,d=this.y,e=this.z;a=a.elements;var f=1/(a[3]*b+a[7]*d+a[11]*e+a[15]);this.x=(a[0]*b+a[4]*d+a[8]*e+a[12])*f;this.y=
(a[1]*b+a[5]*d+a[9]*e+a[13])*f;this.z=(a[2]*b+a[6]*d+a[10]*e+a[14])*f;return this},applyQuaternion:function(a){var b=this.x,d=this.y,e=this.z,f=a.x,h=a.y,g=a.z;a=a.w;var k=a*b+h*e-g*d,l=a*d+g*b-f*e,n=a*e+f*d-h*b,b=-f*b-h*d-g*e;this.x=k*a+b*-f+l*-g-n*-h;this.y=l*a+b*-h+n*-f-k*-g;this.z=n*a+b*-g+k*-h-l*-f;return this},transformDirection:function(a){var b=this.x,d=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*e;this.y=a[1]*b+a[5]*d+a[9]*e;this.z=a[2]*b+a[6]*d+a[10]*e;this.normalize();return this},
divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<
a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);return this},clampScalar:function(){var a,b;return function(d,e){void 0===a&&(a=new THREE.Vector3,b=new THREE.Vector3);a.set(d,d,d);b.set(e,e,e);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);
return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},cross:function(a,b){if(void 0!==b)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);var d=this.x,e=this.y,f=this.z;this.x=
e*a.z-f*a.y;this.y=f*a.x-d*a.z;this.z=d*a.y-e*a.x;return this},crossVectors:function(a,b){var d=a.x,e=a.y,f=a.z,h=b.x,g=b.y,k=b.z;this.x=e*k-f*g;this.y=f*h-d*k;this.z=d*g-e*h;return this},projectOnVector:function(){var a,b;return function(d){void 0===a&&(a=new THREE.Vector3);a.copy(d).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;
return function(b){void 0===a&&(a=new THREE.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/(this.length()*a.length());return Math.acos(THREE.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,d=this.y-a.y;a=this.z-a.z;return b*b+d*d+a*a},setEulerFromRotationMatrix:function(a,b){console.error("REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.")},
setEulerFromQuaternion:function(a,b){console.error("REMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.")},getPositionFromMatrix:function(a){console.warn("DEPRECATED: Vector3's .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code.");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("DEPRECATED: Vector3's .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code.");
return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("DEPRECATED: Vector3's .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code.");return this.setFromMatrixColumn(a,b)},setFromMatrixPosition:function(a){this.x=a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setFromMatrixScale:function(a){var b=this.set(a.elements[0],a.elements[1],a.elements[2]).length(),d=this.set(a.elements[4],a.elements[5],a.elements[6]).length();
a=this.set(a.elements[8],a.elements[9],a.elements[10]).length();this.x=b;this.y=d;this.z=a;return this},setFromMatrixColumn:function(a,b){var d=4*a,e=b.elements;this.x=e[d];this.y=e[d+1];this.z=e[d+2];return this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a){this.x=a[0];this.y=a[1];this.z=a[2];return this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}};
THREE.Vector4=function(a,b,d,e){this.x=a||0;this.y=b||0;this.z=d||0;this.w=void 0!==e?e:1};
THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(a,b,d,e){this.x=a;this.y=b;this.z=d;this.w=e;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},
addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},sub:function(a,b){if(void 0!==b)return console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},
applyMatrix4:function(a){var b=this.x,d=this.y,e=this.z,f=this.w;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*e+a[12]*f;this.y=a[1]*b+a[5]*d+a[9]*e+a[13]*f;this.z=a[2]*b+a[6]*d+a[10]*e+a[14]*f;this.w=a[3]*b+a[7]*d+a[11]*e+a[15]*f;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a):(this.z=this.y=this.x=0,this.w=1);return this},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,
this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){var b,d,e;a=a.elements;var f=a[0];e=a[4];var h=a[8],g=a[1],k=a[5],l=a[9];d=a[2];b=a[6];var n=a[10];if(.01>Math.abs(e-g)&&.01>Math.abs(h-d)&&.01>Math.abs(l-b)){if(.1>Math.abs(e+g)&&.1>Math.abs(h+d)&&.1>Math.abs(l+b)&&.1>Math.abs(f+k+n-3))return this.set(1,0,0,0),this;a=Math.PI;f=(f+1)/2;k=(k+1)/2;n=(n+1)/2;e=(e+g)/4;h=(h+d)/4;l=(l+b)/4;f>k&&f>n?.01>f?(b=0,e=d=.707106781):(b=Math.sqrt(f),d=e/b,e=h/b):k>n?.01>k?(b=.707106781,
d=0,e=.707106781):(d=Math.sqrt(k),b=e/d,e=l/d):.01>n?(d=b=.707106781,e=0):(e=Math.sqrt(n),b=h/e,d=l/e);this.set(b,d,e,a);return this}a=Math.sqrt((b-l)*(b-l)+(h-d)*(h-d)+(g-e)*(g-e));.001>Math.abs(a)&&(a=1);this.x=(b-l)/a;this.y=(h-d)/a;this.z=(g-e)/a;this.w=Math.acos((f+k+n-1)/2);return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);this.w>a.w&&(this.w=a.w);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&
(this.z=a.z);this.w<a.w&&(this.w=a.w);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);this.w<a.w?this.w=a.w:this.w>b.w&&(this.w=b.w);return this},clampScalar:function(){var a,b;return function(d,e){void 0===a&&(a=new THREE.Vector4,b=new THREE.Vector4);a.set(d,d,d,d);b.set(e,e,e,e);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);
this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);
this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},
setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a){this.x=a[0];this.y=a[1];this.z=a[2];this.w=a[3];return this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,
this.w)}};THREE.Euler=function(a,b,d,e){this._x=a||0;this._y=b||0;this._z=d||0;this._order=e||THREE.Euler.DefaultOrder};THREE.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");THREE.Euler.DefaultOrder="XYZ";
THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,d,e){this._x=a;this._y=b;this._z=d;this._order=e||this._order;this.onChangeCallback();return this},copy:function(a){this._x=
a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b){var d=THREE.Math.clamp,e=a.elements,f=e[0],h=e[4],g=e[8],k=e[1],l=e[5],n=e[9],p=e[2],q=e[6],e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-n,e),this._z=Math.atan2(-h,f)):(this._x=Math.atan2(q,l),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(n,-1,1)),.99999>Math.abs(n)?(this._y=Math.atan2(g,e),this._z=Math.atan2(k,l)):(this._y=
Math.atan2(-p,f),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(q,-1,1)),.99999>Math.abs(q)?(this._y=Math.atan2(-p,e),this._z=Math.atan2(-h,l)):(this._y=0,this._z=Math.atan2(k,f))):"ZYX"===b?(this._y=Math.asin(-d(p,-1,1)),.99999>Math.abs(p)?(this._x=Math.atan2(q,e),this._z=Math.atan2(k,f)):(this._x=0,this._z=Math.atan2(-h,l))):"YZX"===b?(this._z=Math.asin(d(k,-1,1)),.99999>Math.abs(k)?(this._x=Math.atan2(-n,l),this._y=Math.atan2(-p,f)):(this._x=0,this._y=Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(h,
-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(q,l),this._y=Math.atan2(g,f)):(this._x=Math.atan2(-n,e),this._y=0)):console.warn("WARNING: Euler.setFromRotationMatrix() given unsupported order: "+b);this._order=b;this.onChangeCallback();return this},setFromQuaternion:function(a,b,d){var e=THREE.Math.clamp,f=a.x*a.x,h=a.y*a.y,g=a.z*a.z,k=a.w*a.w;b=b||this._order;"XYZ"===b?(this._x=Math.atan2(2*(a.x*a.w-a.y*a.z),k-f-h+g),this._y=Math.asin(e(2*(a.x*a.z+a.y*a.w),-1,1)),this._z=Math.atan2(2*(a.z*a.w-a.x*
a.y),k+f-h-g)):"YXZ"===b?(this._x=Math.asin(e(2*(a.x*a.w-a.y*a.z),-1,1)),this._y=Math.atan2(2*(a.x*a.z+a.y*a.w),k-f-h+g),this._z=Math.atan2(2*(a.x*a.y+a.z*a.w),k-f+h-g)):"ZXY"===b?(this._x=Math.asin(e(2*(a.x*a.w+a.y*a.z),-1,1)),this._y=Math.atan2(2*(a.y*a.w-a.z*a.x),k-f-h+g),this._z=Math.atan2(2*(a.z*a.w-a.x*a.y),k-f+h-g)):"ZYX"===b?(this._x=Math.atan2(2*(a.x*a.w+a.z*a.y),k-f-h+g),this._y=Math.asin(e(2*(a.y*a.w-a.x*a.z),-1,1)),this._z=Math.atan2(2*(a.x*a.y+a.z*a.w),k+f-h-g)):"YZX"===b?(this._x=Math.atan2(2*
(a.x*a.w-a.z*a.y),k-f+h-g),this._y=Math.atan2(2*(a.y*a.w-a.x*a.z),k+f-h-g),this._z=Math.asin(e(2*(a.x*a.y+a.z*a.w),-1,1))):"XZY"===b?(this._x=Math.atan2(2*(a.x*a.w+a.y*a.z),k-f+h-g),this._y=Math.atan2(2*(a.x*a.z+a.y*a.w),k+f-h-g),this._z=Math.asin(e(2*(a.z*a.w-a.x*a.y),-1,1))):console.warn("WARNING: Euler.setFromQuaternion() given unsupported order: "+b);this._order=b;if(!1!==d)this.onChangeCallback();return this},reorder:function(){var a=new THREE.Quaternion;return function(b){a.setFromEuler(this);
this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(){return[this._x,this._y,this._z,this._order]},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}};
THREE.Line3=function(a,b){this.start=void 0!==a?a:new THREE.Vector3;this.end=void 0!==b?b:new THREE.Vector3};
THREE.Line3.prototype={constructor:THREE.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,
b){var d=b||new THREE.Vector3;return this.delta(d).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(d,e){a.subVectors(d,this.start);b.subVectors(this.end,this.start);var f=b.dot(b),f=b.dot(a)/f;e&&(f=THREE.Math.clamp(f,0,1));return f}}(),closestPointToPoint:function(a,b,d){a=this.closestPointToPointParameter(a,b);d=d||new THREE.Vector3;return this.delta(d).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);
this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}};THREE.Box2=function(a,b){this.min=void 0!==a?a:new THREE.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector2(-Infinity,-Infinity)};
THREE.Box2.prototype={constructor:THREE.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){if(0<a.length){var b=a[0];this.min.copy(b);this.max.copy(b);for(var d=1,e=a.length;d<e;d++)b=a[d],b.x<this.min.x?this.min.x=b.x:b.x>this.max.x&&(this.max.x=b.x),b.y<this.min.y?this.min.y=b.y:b.y>this.max.y&&(this.max.y=b.y)}else this.makeEmpty();return this},setFromCenterAndSize:function(){var a=new THREE.Vector2;return function(b,d){var e=a.copy(d).multiplyScalar(.5);
this.min.copy(b).sub(e);this.max.copy(b).add(e);return this}}(),copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);
this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new THREE.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),
(a.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},clampPoint:function(a,b){return(b||new THREE.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);
return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}};THREE.Box3=function(a,b){this.min=void 0!==a?a:new THREE.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector3(-Infinity,-Infinity,-Infinity)};
THREE.Box3.prototype={constructor:THREE.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},addPoint:function(a){a.x<this.min.x?this.min.x=a.x:a.x>this.max.x&&(this.max.x=a.x);a.y<this.min.y?this.min.y=a.y:a.y>this.max.y&&(this.max.y=a.y);a.z<this.min.z?this.min.z=a.z:a.z>this.max.z&&(this.max.z=a.z);return this},setFromPoints:function(a){if(0<a.length){var b=a[0];this.min.copy(b);this.max.copy(b);for(var b=1,d=a.length;b<d;b++)this.addPoint(a[b])}else this.makeEmpty();return this},
setFromCenterAndSize:function(){var a=new THREE.Vector3;return function(b,d){var e=a.copy(d).multiplyScalar(.5);this.min.copy(b).sub(e);this.max.copy(b).add(e);return this}}(),setFromObject:function(){var a=new THREE.Vector3;return function(b){var d=this;b.updateMatrixWorld(!0);this.makeEmpty();b.traverse(function(b){if(void 0!==b.geometry&&void 0!==b.geometry.vertices)for(var f=b.geometry.vertices,h=0,g=f.length;h<g;h++)a.copy(f[h]),a.applyMatrix4(b.matrixWorld),d.expandByPoint(a)});return this}}(),
copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);
this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,
b){return(b||new THREE.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},clampPoint:function(a,b){return(b||new THREE.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector3;return function(b){return a.copy(b).clamp(this.min,
this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new THREE.Vector3;return function(b){b=b||new THREE.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];
return function(b){a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.makeEmpty();
this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}};THREE.Matrix3=function(a,b,d,e,f,h,g,k,l){var n=this.elements=new Float32Array(9);n[0]=void 0!==a?a:1;n[3]=b||0;n[6]=d||0;n[1]=e||0;n[4]=void 0!==f?f:1;n[7]=h||0;n[2]=g||0;n[5]=k||0;n[8]=void 0!==l?l:1};
THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(a,b,d,e,f,h,g,k,l){var n=this.elements;n[0]=a;n[3]=b;n[6]=d;n[1]=e;n[4]=f;n[7]=h;n[2]=g;n[5]=k;n[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},multiplyVector3:function(a){console.warn("DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},
multiplyVector3Array:function(a){console.warn("DEPRECATED: Matrix3's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new THREE.Vector3;return function(b,d,e){void 0===d&&(d=0);void 0===e&&(e=b.length);for(var f=0;f<e;f+=3,d+=3)a.x=b[d],a.y=b[d+1],a.z=b[d+2],a.applyMatrix3(this),b[d]=a.x,b[d+1]=a.y,b[d+2]=a.z;return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=
a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],d=a[1],e=a[2],f=a[3],h=a[4],g=a[5],k=a[6],l=a[7],a=a[8];return b*h*a-b*g*l-d*f*a+d*g*k+e*f*l-e*h*k},getInverse:function(a,b){var d=a.elements,e=this.elements;e[0]=d[10]*d[5]-d[6]*d[9];e[1]=-d[10]*d[1]+d[2]*d[9];e[2]=d[6]*d[1]-d[2]*d[5];e[3]=-d[10]*d[4]+d[6]*d[8];e[4]=d[10]*d[0]-d[2]*d[8];e[5]=-d[6]*d[0]+d[2]*d[4];e[6]=d[9]*d[4]-d[5]*d[8];e[7]=-d[9]*d[0]+d[1]*d[8];e[8]=d[5]*d[0]-
d[1]*d[4];d=d[0]*e[0]+d[1]*e[3]+d[2]*e[6];if(0===d){if(b)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/d);return this},transpose:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this},flattenToArrayOffset:function(a,b){var d=this.elements;a[b]=d[0];a[b+1]=d[1];a[b+2]=d[2];a[b+3]=d[3];
a[b+4]=d[4];a[b+5]=d[5];a[b+6]=d[6];a[b+7]=d[7];a[b+8]=d[8];return a},getNormalMatrix:function(a){this.getInverse(a).transpose();return this},transposeIntoArray:function(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]},clone:function(){var a=this.elements;return new THREE.Matrix3(a[0],
a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};THREE.Matrix4=function(a,b,d,e,f,h,g,k,l,n,p,q,m,t,s,u){var r=this.elements=new Float32Array(16);r[0]=void 0!==a?a:1;r[4]=b||0;r[8]=d||0;r[12]=e||0;r[1]=f||0;r[5]=void 0!==h?h:1;r[9]=g||0;r[13]=k||0;r[2]=l||0;r[6]=n||0;r[10]=void 0!==p?p:1;r[14]=q||0;r[3]=m||0;r[7]=t||0;r[11]=s||0;r[15]=void 0!==u?u:1};
THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(a,b,d,e,f,h,g,k,l,n,p,q,m,t,s,u){var r=this.elements;r[0]=a;r[4]=b;r[8]=d;r[12]=e;r[1]=f;r[5]=h;r[9]=g;r[13]=k;r[2]=l;r[6]=n;r[10]=p;r[14]=q;r[3]=m;r[7]=t;r[11]=s;r[15]=u;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){this.elements.set(a.elements);return this},extractPosition:function(a){console.warn("DEPRECATED: Matrix4's .extractPosition() has been renamed to .copyPosition().");
return this.copyPosition(a)},copyPosition:function(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractRotation:function(){var a=new THREE.Vector3;return function(b){var d=this.elements;b=b.elements;var e=1/a.set(b[0],b[1],b[2]).length(),f=1/a.set(b[4],b[5],b[6]).length(),h=1/a.set(b[8],b[9],b[10]).length();d[0]=b[0]*e;d[1]=b[1]*e;d[2]=b[2]*e;d[4]=b[4]*f;d[5]=b[5]*f;d[6]=b[6]*f;d[8]=b[8]*h;d[9]=b[9]*h;d[10]=b[10]*h;return this}}(),makeRotationFromEuler:function(a){!1===
a instanceof THREE.Euler&&console.error("ERROR: Matrix's .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var b=this.elements,d=a.x,e=a.y,f=a.z,h=Math.cos(d),d=Math.sin(d),g=Math.cos(e),e=Math.sin(e),k=Math.cos(f),f=Math.sin(f);if("XYZ"===a.order){a=h*k;var l=h*f,n=d*k,p=d*f;b[0]=g*k;b[4]=-g*f;b[8]=e;b[1]=l+n*e;b[5]=a-p*e;b[9]=-d*g;b[2]=p-a*e;b[6]=n+l*e;b[10]=h*g}else"YXZ"===a.order?(a=g*k,l=g*f,n=e*k,p=e*f,b[0]=a+p*d,b[4]=n*d-l,b[8]=
h*e,b[1]=h*f,b[5]=h*k,b[9]=-d,b[2]=l*d-n,b[6]=p+a*d,b[10]=h*g):"ZXY"===a.order?(a=g*k,l=g*f,n=e*k,p=e*f,b[0]=a-p*d,b[4]=-h*f,b[8]=n+l*d,b[1]=l+n*d,b[5]=h*k,b[9]=p-a*d,b[2]=-h*e,b[6]=d,b[10]=h*g):"ZYX"===a.order?(a=h*k,l=h*f,n=d*k,p=d*f,b[0]=g*k,b[4]=n*e-l,b[8]=a*e+p,b[1]=g*f,b[5]=p*e+a,b[9]=l*e-n,b[2]=-e,b[6]=d*g,b[10]=h*g):"YZX"===a.order?(a=h*g,l=h*e,n=d*g,p=d*e,b[0]=g*k,b[4]=p-a*f,b[8]=n*f+l,b[1]=f,b[5]=h*k,b[9]=-d*k,b[2]=-e*k,b[6]=l*f+n,b[10]=a-p*f):"XZY"===a.order&&(a=h*g,l=h*e,n=d*g,p=d*e,b[0]=
g*k,b[4]=-f,b[8]=e*k,b[1]=a*f+p,b[5]=h*k,b[9]=l*f-n,b[2]=n*f-l,b[6]=d*k,b[10]=p*f+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},setRotationFromQuaternion:function(a){console.warn("DEPRECATED: Matrix4's .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code.");return this.makeRotationFromQuaternion(a)},makeRotationFromQuaternion:function(a){var b=this.elements,d=a.x,e=a.y,f=a.z,h=a.w,g=d+d,k=e+e,l=f+f;a=d*g;var n=d*
k,d=d*l,p=e*k,e=e*l,f=f*l,g=h*g,k=h*k,h=h*l;b[0]=1-(p+f);b[4]=n-h;b[8]=d+k;b[1]=n+h;b[5]=1-(a+f);b[9]=e-g;b[2]=d-k;b[6]=e+g;b[10]=1-(a+p);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a=new THREE.Vector3,b=new THREE.Vector3,d=new THREE.Vector3;return function(e,f,h){var g=this.elements;d.subVectors(e,f).normalize();0===d.length()&&(d.z=1);a.crossVectors(h,d).normalize();0===a.length()&&(d.x+=1E-4,a.crossVectors(h,d).normalize());b.crossVectors(d,a);g[0]=
a.x;g[4]=b.x;g[8]=d.x;g[1]=a.y;g[5]=b.y;g[9]=d.y;g[2]=a.z;g[6]=b.z;g[10]=d.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},multiplyMatrices:function(a,b){var d=a.elements,e=b.elements,f=this.elements,h=d[0],g=d[4],k=d[8],l=d[12],n=d[1],p=d[5],q=d[9],m=d[13],t=d[2],s=d[6],u=d[10],r=d[14],w=d[3],A=d[7],C=d[11],
d=d[15],G=e[0],F=e[4],D=e[8],I=e[12],E=e[1],P=e[5],H=e[9],M=e[13],K=e[2],N=e[6],L=e[10],J=e[14],Q=e[3],O=e[7],T=e[11],e=e[15];f[0]=h*G+g*E+k*K+l*Q;f[4]=h*F+g*P+k*N+l*O;f[8]=h*D+g*H+k*L+l*T;f[12]=h*I+g*M+k*J+l*e;f[1]=n*G+p*E+q*K+m*Q;f[5]=n*F+p*P+q*N+m*O;f[9]=n*D+p*H+q*L+m*T;f[13]=n*I+p*M+q*J+m*e;f[2]=t*G+s*E+u*K+r*Q;f[6]=t*F+s*P+u*N+r*O;f[10]=t*D+s*H+u*L+r*T;f[14]=t*I+s*M+u*J+r*e;f[3]=w*G+A*E+C*K+d*Q;f[7]=w*F+A*P+C*N+d*O;f[11]=w*D+A*H+C*L+d*T;f[15]=w*I+A*M+C*J+d*e;return this},multiplyToArray:function(a,
b,d){var e=this.elements;this.multiplyMatrices(a,b);d[0]=e[0];d[1]=e[1];d[2]=e[2];d[3]=e[3];d[4]=e[4];d[5]=e[5];d[6]=e[6];d[7]=e[7];d[8]=e[8];d[9]=e[9];d[10]=e[10];d[11]=e[11];d[12]=e[12];d[13]=e[13];d[14]=e[14];d[15]=e[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},multiplyVector3:function(a){console.warn("DEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
return a.applyProjection(this)},multiplyVector4:function(a){console.warn("DEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("DEPRECATED: Matrix4's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new THREE.Vector3;return function(b,d,e){void 0===d&&(d=0);
void 0===e&&(e=b.length);for(var f=0;f<e;f+=3,d+=3)a.x=b[d],a.y=b[d+1],a.z=b[d+2],a.applyMatrix4(this),b[d]=a.x,b[d+1]=a.y,b[d+2]=a.z;return b}}(),rotateAxis:function(a){console.warn("DEPRECATED: Matrix4's .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("DEPRECATED: Matrix4's .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},determinant:function(){var a=
this.elements,b=a[0],d=a[4],e=a[8],f=a[12],h=a[1],g=a[5],k=a[9],l=a[13],n=a[2],p=a[6],q=a[10],m=a[14];return a[3]*(+f*k*p-e*l*p-f*g*q+d*l*q+e*g*m-d*k*m)+a[7]*(+b*k*m-b*l*q+f*h*q-e*h*m+e*l*n-f*k*n)+a[11]*(+b*l*p-b*g*m-f*h*p+d*h*m+f*g*n-d*l*n)+a[15]*(-e*g*n-b*k*p+b*g*q+e*h*p-d*h*q+d*k*n)},transpose:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},flattenToArrayOffset:function(a,
b){var d=this.elements;a[b]=d[0];a[b+1]=d[1];a[b+2]=d[2];a[b+3]=d[3];a[b+4]=d[4];a[b+5]=d[5];a[b+6]=d[6];a[b+7]=d[7];a[b+8]=d[8];a[b+9]=d[9];a[b+10]=d[10];a[b+11]=d[11];a[b+12]=d[12];a[b+13]=d[13];a[b+14]=d[14];a[b+15]=d[15];return a},getPosition:function(){var a=new THREE.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var b=this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=
this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,b){var d=this.elements,e=a.elements,f=e[0],h=e[4],g=e[8],k=e[12],l=e[1],n=e[5],p=e[9],q=e[13],m=e[2],t=e[6],s=e[10],u=e[14],r=e[3],w=e[7],A=e[11],e=e[15];d[0]=p*u*w-q*s*w+q*t*A-n*u*A-p*t*e+n*s*e;d[4]=k*s*w-g*u*w-k*t*A+h*u*A+g*t*e-h*s*e;d[8]=g*q*w-k*p*w+k*n*A-h*q*A-g*n*e+h*p*e;d[12]=k*p*t-g*q*t-k*n*s+h*q*s+g*n*u-h*p*u;d[1]=q*s*r-p*u*r-q*m*A+l*u*A+p*m*e-l*s*e;d[5]=g*u*r-k*s*r+k*m*A-f*u*A-g*m*e+f*s*e;d[9]=k*p*r-g*q*r-k*l*
A+f*q*A+g*l*e-f*p*e;d[13]=g*q*m-k*p*m+k*l*s-f*q*s-g*l*u+f*p*u;d[2]=n*u*r-q*t*r+q*m*w-l*u*w-n*m*e+l*t*e;d[6]=k*t*r-h*u*r-k*m*w+f*u*w+h*m*e-f*t*e;d[10]=h*q*r-k*n*r+k*l*w-f*q*w-h*l*e+f*n*e;d[14]=k*n*m-h*q*m-k*l*t+f*q*t+h*l*u-f*n*u;d[3]=p*t*r-n*s*r-p*m*w+l*s*w+n*m*A-l*t*A;d[7]=h*s*r-g*t*r+g*m*w-f*s*w-h*m*A+f*t*A;d[11]=g*n*r-h*p*r-g*l*w+f*p*w+h*l*A-f*n*A;d[15]=h*p*m-g*n*m+g*l*t-f*p*t-h*l*s+f*n*s;d=f*d[0]+l*d[4]+m*d[8]+r*d[12];if(0==d){if(b)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");
console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/d);return this},translate:function(a){console.warn("DEPRECATED: Matrix4's .translate() has been removed.")},rotateX:function(a){console.warn("DEPRECATED: Matrix4's .rotateX() has been removed.")},rotateY:function(a){console.warn("DEPRECATED: Matrix4's .rotateY() has been removed.")},rotateZ:function(a){console.warn("DEPRECATED: Matrix4's .rotateZ() has been removed.")},rotateByAxis:function(a,
b){console.warn("DEPRECATED: Matrix4's .rotateByAxis() has been removed.")},scale:function(a){var b=this.elements,d=a.x,e=a.y;a=a.z;b[0]*=d;b[4]*=e;b[8]*=a;b[1]*=d;b[5]*=e;b[9]*=a;b[2]*=d;b[6]*=e;b[10]*=a;b[3]*=d;b[7]*=e;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeTranslation:function(a,b,d){this.set(1,0,0,a,0,1,0,b,0,0,1,d,0,0,0,1);return this},
makeRotationX:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var d=Math.cos(b),e=Math.sin(b),f=1-d,h=a.x,g=a.y,k=a.z,l=f*h,n=f*g;this.set(l*h+d,l*g-e*k,l*k+e*g,0,l*g+e*k,n*g+d,n*k-e*h,0,l*k-
e*g,n*k+e*h,f*k*k+d,0,0,0,0,1);return this},makeScale:function(a,b,d){this.set(a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1);return this},compose:function(a,b,d){this.makeRotationFromQuaternion(b);this.scale(d);this.setPosition(a);return this},decompose:function(){var a=new THREE.Vector3,b=new THREE.Matrix4;return function(d,e,f){var h=this.elements,g=a.set(h[0],h[1],h[2]).length(),k=a.set(h[4],h[5],h[6]).length(),l=a.set(h[8],h[9],h[10]).length();0>this.determinant()&&(g=-g);d.x=h[12];d.y=h[13];d.z=h[14];b.elements.set(this.elements);
d=1/g;var h=1/k,n=1/l;b.elements[0]*=d;b.elements[1]*=d;b.elements[2]*=d;b.elements[4]*=h;b.elements[5]*=h;b.elements[6]*=h;b.elements[8]*=n;b.elements[9]*=n;b.elements[10]*=n;e.setFromRotationMatrix(b);f.x=g;f.y=k;f.z=l;return this}}(),makeFrustum:function(a,b,d,e,f,h){var g=this.elements;g[0]=2*f/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*f/(e-d);g[9]=(e+d)/(e-d);g[13]=0;g[2]=0;g[6]=0;g[10]=-(h+f)/(h-f);g[14]=-2*h*f/(h-f);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makePerspective:function(a,
b,d,e){a=d*Math.tan(THREE.Math.degToRad(.5*a));var f=-a;return this.makeFrustum(f*b,a*b,f,a,d,e)},makeOrthographic:function(a,b,d,e,f,h){var g=this.elements,k=b-a,l=d-e,n=h-f;g[0]=2/k;g[4]=0;g[8]=0;g[12]=-((b+a)/k);g[1]=0;g[5]=2/l;g[9]=0;g[13]=-((d+e)/l);g[2]=0;g[6]=0;g[10]=-2/n;g[14]=-((h+f)/n);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],
a[12],a[13],a[14],a[15]]},clone:function(){var a=this.elements;return new THREE.Matrix4(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};THREE.Ray=function(a,b){this.origin=void 0!==a?a:new THREE.Vector3;this.direction=void 0!==b?b:new THREE.Vector3};
THREE.Ray.prototype={constructor:THREE.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new THREE.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new THREE.Vector3;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,b){var d=b||new THREE.Vector3;d.subVectors(a,this.origin);
var e=d.dot(this.direction);return 0>e?d.copy(this.origin):d.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(){var a=new THREE.Vector3;return function(b){var d=a.subVectors(b,this.origin).dot(this.direction);if(0>d)return this.origin.distanceTo(b);a.copy(this.direction).multiplyScalar(d).add(this.origin);return a.distanceTo(b)}}(),distanceSqToSegment:function(a,b,d,e){var f=a.clone().add(b).multiplyScalar(.5),h=b.clone().sub(a).normalize(),g=.5*a.distanceTo(b),k=
this.origin.clone().sub(f);a=-this.direction.dot(h);b=k.dot(this.direction);var l=-k.dot(h),n=k.lengthSq(),p=Math.abs(1-a*a),q,m;0<=p?(k=a*l-b,q=a*b-l,m=g*p,0<=k?q>=-m?q<=m?(g=1/p,k*=g,q*=g,a=k*(k+a*q+2*b)+q*(a*k+q+2*l)+n):(q=g,k=Math.max(0,-(a*q+b)),a=-k*k+q*(q+2*l)+n):(q=-g,k=Math.max(0,-(a*q+b)),a=-k*k+q*(q+2*l)+n):q<=-m?(k=Math.max(0,-(-a*g+b)),q=0<k?-g:Math.min(Math.max(-g,-l),g),a=-k*k+q*(q+2*l)+n):q<=m?(k=0,q=Math.min(Math.max(-g,-l),g),a=q*(q+2*l)+n):(k=Math.max(0,-(a*g+b)),q=0<k?g:Math.min(Math.max(-g,
-l),g),a=-k*k+q*(q+2*l)+n)):(q=0<a?-g:g,k=Math.max(0,-(a*q+b)),a=-k*k+q*(q+2*l)+n);d&&d.copy(this.direction.clone().multiplyScalar(k).add(this.origin));e&&e.copy(h.clone().multiplyScalar(q).add(f));return a},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0==b)return 0==a.distanceToPoint(this.origin)?
0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function(a,b){var d=this.distanceToPlane(a);return null===d?null:this.at(d,b)},isIntersectionBox:function(){var a=new THREE.Vector3;return function(b){return null!==this.intersectBox(b,a)}}(),intersectBox:function(a,b){var d,e,f,h,g;e=1/this.direction.x;h=1/this.direction.y;g=1/this.direction.z;var k=this.origin;0<=e?(d=(a.min.x-k.x)*e,e*=a.max.x-k.x):(d=(a.max.x-k.x)*e,e*=a.min.x-k.x);0<=h?(f=(a.min.y-k.y)*h,h*=
a.max.y-k.y):(f=(a.max.y-k.y)*h,h*=a.min.y-k.y);if(d>h||f>e)return null;if(f>d||d!==d)d=f;if(h<e||e!==e)e=h;0<=g?(f=(a.min.z-k.z)*g,g*=a.max.z-k.z):(f=(a.max.z-k.z)*g,g*=a.min.z-k.z);if(d>g||f>e)return null;if(f>d||d!==d)d=f;if(g<e||e!==e)e=g;return 0>e?null:this.at(0<=d?d:e,b)},intersectTriangle:function(){var a=new THREE.Vector3,b=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Vector3;return function(f,h,g,k,l){b.subVectors(h,f);d.subVectors(g,f);e.crossVectors(b,d);h=this.direction.dot(e);if(0<
h){if(k)return null;k=1}else if(0>h)k=-1,h=-h;else return null;a.subVectors(this.origin,f);f=k*this.direction.dot(d.crossVectors(a,d));if(0>f)return null;g=k*this.direction.dot(b.cross(a));if(0>g||f+g>h)return null;f=-k*a.dot(e);return 0>f?null:this.at(f/h,l)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},
clone:function(){return(new THREE.Ray).copy(this)}};THREE.Sphere=function(a,b){this.center=void 0!==a?a:new THREE.Vector3;this.radius=void 0!==b?b:0};
THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new THREE.Box3;return function(b,d){var e=this.center;void 0!==d?e.copy(d):a.setFromPoints(b).center(e);for(var f=0,h=0,g=b.length;h<g;h++)f=Math.max(f,e.distanceToSquared(b[h]));this.radius=Math.sqrt(f);return this}}(),copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=
this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},clampPoint:function(a,b){var d=this.center.distanceToSquared(a),e=b||new THREE.Vector3;e.copy(a);d>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center));return e},getBoundingBox:function(a){a=a||new THREE.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);
return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}};
THREE.Frustum=function(a,b,d,e,f,h){this.planes=[void 0!==a?a:new THREE.Plane,void 0!==b?b:new THREE.Plane,void 0!==d?d:new THREE.Plane,void 0!==e?e:new THREE.Plane,void 0!==f?f:new THREE.Plane,void 0!==h?h:new THREE.Plane]};
THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(a,b,d,e,f,h){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(d);g[3].copy(e);g[4].copy(f);g[5].copy(h);return this},copy:function(a){for(var b=this.planes,d=0;6>d;d++)b[d].copy(a.planes[d]);return this},setFromMatrix:function(a){var b=this.planes,d=a.elements;a=d[0];var e=d[1],f=d[2],h=d[3],g=d[4],k=d[5],l=d[6],n=d[7],p=d[8],q=d[9],m=d[10],t=d[11],s=d[12],u=d[13],r=d[14],d=d[15];b[0].setComponents(h-a,n-g,t-p,d-s).normalize();b[1].setComponents(h+
a,n+g,t+p,d+s).normalize();b[2].setComponents(h+e,n+k,t+q,d+u).normalize();b[3].setComponents(h-e,n-k,t-q,d-u).normalize();b[4].setComponents(h-f,n-l,t-m,d-r).normalize();b[5].setComponents(h+f,n+l,t+m,d+r).normalize();return this},intersectsObject:function(){var a=new THREE.Sphere;return function(b){var d=b.geometry;null===d.boundingSphere&&d.computeBoundingSphere();a.copy(d.boundingSphere);a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,
d=a.center;a=-a.radius;for(var e=0;6>e;e++)if(b[e].distanceToPoint(d)<a)return!1;return!0},intersectsBox:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(d){for(var e=this.planes,f=0;6>f;f++){var h=e[f];a.x=0<h.normal.x?d.min.x:d.max.x;b.x=0<h.normal.x?d.max.x:d.min.x;a.y=0<h.normal.y?d.min.y:d.max.y;b.y=0<h.normal.y?d.max.y:d.min.y;a.z=0<h.normal.z?d.min.z:d.max.z;b.z=0<h.normal.z?d.max.z:d.min.z;var g=h.distanceToPoint(a),h=h.distanceToPoint(b);if(0>g&&0>h)return!1}return!0}}(),
containsPoint:function(a){for(var b=this.planes,d=0;6>d;d++)if(0>b[d].distanceToPoint(a))return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}};THREE.Plane=function(a,b){this.normal=void 0!==a?a:new THREE.Vector3(1,0,0);this.constant=void 0!==b?b:0};
THREE.Plane.prototype={constructor:THREE.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,d,e){this.normal.set(a,b,d);this.constant=e;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(d,e,f){e=a.subVectors(f,e).cross(b.subVectors(d,e)).normalize();this.setFromNormalAndCoplanarPoint(e,
d);return this}}(),copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,
b){var d=this.distanceToPoint(a);return(b||new THREE.Vector3).copy(this.normal).multiplyScalar(d)},isIntersectionLine:function(a){var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectLine:function(){var a=new THREE.Vector3;return function(b,d){var e=d||new THREE.Vector3,f=b.delta(a),h=this.normal.dot(f);if(0==h){if(0==this.distanceToPoint(b.start))return e.copy(b.start)}else return h=-(b.start.dot(this.normal)+this.constant)/h,0>h||1<h?void 0:e.copy(f).multiplyScalar(h).add(b.start)}}(),
coplanarPoint:function(a){return(a||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new THREE.Vector3,b=new THREE.Vector3,d=new THREE.Matrix3;return function(e,f){var h=f||d.getNormalMatrix(e),h=a.copy(this.normal).applyMatrix3(h),g=this.coplanarPoint(b);g.applyMatrix4(e);this.setFromNormalAndCoplanarPoint(h,g);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&
a.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}};
THREE.Math={generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),d=0,e;return function(){for(var f=0;36>f;f++)8==f||13==f||18==f||23==f?b[f]="-":14==f?b[f]="4":(2>=d&&(d=33554432+16777216*Math.random()|0),e=d&15,d>>=4,b[f]=a[19==f?e&3|8:e]);return b.join("")}}(),clamp:function(a,b,d){return a<b?b:a>d?d:a},clampBottom:function(a,b){return a<b?b:a},mapLinear:function(a,b,d,e,f){return e+(a-b)*(f-e)/(d-b)},smoothstep:function(a,b,d){if(a<=
b)return 0;if(a>=d)return 1;a=(a-b)/(d-b);return a*a*(3-2*a)},smootherstep:function(a,b,d){if(a<=b)return 0;if(a>=d)return 1;a=(a-b)/(d-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},sign:function(a){return 0>a?-1:0<a?1:0},degToRad:function(){var a=Math.PI/180;return function(b){return b*
a}}(),radToDeg:function(){var a=180/Math.PI;return function(b){return b*a}}(),isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a}};
THREE.Spline=function(a){function b(a,b,d,f,e,h,g){a=.5*(d-a);f=.5*(f-b);return(2*(b-d)+a+f)*g+(-3*(b-d)-2*a-f)*h+a*e+b}this.points=a;var d=[],e={x:0,y:0,z:0},f,h,g,k,l,n,p,q,m;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){f=(this.points.length-1)*a;h=Math.floor(f);g=f-h;d[0]=0===h?h:h-1;d[1]=h;d[2]=h>this.points.length-2?this.points.length-1:h+1;d[3]=h>this.points.length-3?this.points.length-1:h+
2;n=this.points[d[0]];p=this.points[d[1]];q=this.points[d[2]];m=this.points[d[3]];k=g*g;l=g*k;e.x=b(n.x,p.x,q.x,m.x,g,k,l);e.y=b(n.y,p.y,q.y,m.y,g,k,l);e.z=b(n.z,p.z,q.z,m.z,g,k,l);return e};this.getControlPointsArray=function(){var a,b,d=this.points.length,f=[];for(a=0;a<d;a++)b=this.points[a],f[a]=[b.x,b.y,b.z];return f};this.getLength=function(a){var b,d,f,e=0,h=new THREE.Vector3,g=new THREE.Vector3,k=[],l=0;k[0]=0;a||(a=100);d=this.points.length*a;h.copy(this.points[0]);for(a=1;a<d;a++)b=a/d,
f=this.getPoint(b),g.copy(f),l+=g.distanceTo(h),h.copy(f),b*=this.points.length-1,b=Math.floor(b),b!=e&&(k[b]=l,e=b);k[k.length]=l;return{chunks:k,total:l}};this.reparametrizeByArcLength=function(a){var b,d,f,e,h,g,k=[],l=new THREE.Vector3,m=this.getLength();k.push(l.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){d=m.chunks[b]-m.chunks[b-1];g=Math.ceil(a*d/m.total);e=(b-1)/(this.points.length-1);h=b/(this.points.length-1);for(d=1;d<g-1;d++)f=e+1/g*d*(h-e),f=this.getPoint(f),k.push(l.copy(f).clone());
k.push(l.copy(this.points[b]).clone())}this.points=k}};THREE.Triangle=function(a,b,d){this.a=void 0!==a?a:new THREE.Vector3;this.b=void 0!==b?b:new THREE.Vector3;this.c=void 0!==d?d:new THREE.Vector3};THREE.Triangle.normal=function(){var a=new THREE.Vector3;return function(b,d,e,f){f=f||new THREE.Vector3;f.subVectors(e,d);a.subVectors(b,d);f.cross(a);b=f.lengthSq();return 0<b?f.multiplyScalar(1/Math.sqrt(b)):f.set(0,0,0)}}();
THREE.Triangle.barycoordFromPoint=function(){var a=new THREE.Vector3,b=new THREE.Vector3,d=new THREE.Vector3;return function(e,f,h,g,k){a.subVectors(g,f);b.subVectors(h,f);d.subVectors(e,f);e=a.dot(a);f=a.dot(b);h=a.dot(d);var l=b.dot(b);g=b.dot(d);var n=e*l-f*f;k=k||new THREE.Vector3;if(0==n)return k.set(-2,-1,-1);n=1/n;l=(l*h-f*g)*n;e=(e*g-f*h)*n;return k.set(1-l-e,e,l)}}();
THREE.Triangle.containsPoint=function(){var a=new THREE.Vector3;return function(b,d,e,f){b=THREE.Triangle.barycoordFromPoint(b,d,e,f,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(a,b,d){this.a.copy(a);this.b.copy(b);this.c.copy(d);return this},setFromPointsAndIndices:function(a,b,d,e){this.a.copy(a[b]);this.b.copy(a[d]);this.c.copy(a[e]);return this},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*a.cross(b).length()}}(),midpoint:function(a){return(a||
new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return THREE.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return THREE.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return THREE.Triangle.containsPoint(a,this.a,this.b,this.c)},equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)},
clone:function(){return(new THREE.Triangle).copy(this)}};THREE.Vertex=function(a){console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.");return a};THREE.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.oldTime=this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();this.running=!0},stop:function(){this.getElapsedTime();this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;this.autoStart&&!this.running&&this.start();if(this.running){var b=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),
a=.001*(b-this.oldTime);this.oldTime=b;this.elapsedTime+=a}return a}};THREE.EventDispatcher=function(){};
THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(a){a.addEventListener=THREE.EventDispatcher.prototype.addEventListener;a.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;a.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;a.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var d=this._listeners;void 0===d[a]&&(d[a]=[]);-1===d[a].indexOf(b)&&
d[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var d=this._listeners;return void 0!==d[a]&&-1!==d[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){if(void 0!==this._listeners){var d=this._listeners[a];if(void 0!==d){var e=d.indexOf(b);-1!==e&&d.splice(e,1)}}},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;for(var d=[],e=b.length,f=0;f<e;f++)d[f]=b[f];for(f=0;f<e;f++)d[f].call(this,a)}}}};
(function(a){a.Raycaster=function(b,d,f,e){this.ray=new a.Ray(b,d);this.near=f||0;this.far=e||Infinity};var b=new a.Sphere,d=new a.Ray;new a.Plane;new a.Vector3;var e=new a.Vector3,f=new a.Matrix4,h=function(a,b){return a.distance-b.distance},g=new a.Vector3,k=new a.Vector3,l=new a.Vector3,n=function(h,m,p){if(h instanceof a.Sprite){e.setFromMatrixPosition(h.matrixWorld);var s=m.ray.distanceToPoint(e);if(s>h.scale.x)return p;p.push({distance:s,point:h.position,face:null,object:h})}else if(h instanceof
a.LOD)e.setFromMatrixPosition(h.matrixWorld),s=m.ray.origin.distanceTo(e),n(h.getObjectForDistance(s),m,p);else if(h instanceof a.Mesh){var u=h.geometry;null===u.boundingSphere&&u.computeBoundingSphere();b.copy(u.boundingSphere);b.applyMatrix4(h.matrixWorld);if(!1===m.ray.isIntersectionSphere(b))return p;f.getInverse(h.matrixWorld);d.copy(m.ray).applyMatrix4(f);if(null!==u.boundingBox&&!1===d.isIntersectionBox(u.boundingBox))return p;if(u instanceof a.BufferGeometry){var r=h.material;if(void 0===
r)return p;var w=u.attributes,A,C,G=m.precision;if(void 0!==w.index){var F=w.index.array,D=w.position.array,I=u.offsets;0===I.length&&(I=[{start:0,count:D.length,index:0}]);for(var E=0,P=I.length;E<P;++E)for(var w=I[E].start,H=I[E].index,u=w,M=w+I[E].count;u<M;u+=3){w=H+F[u];A=H+F[u+1];C=H+F[u+2];g.set(D[3*w],D[3*w+1],D[3*w+2]);k.set(D[3*A],D[3*A+1],D[3*A+2]);l.set(D[3*C],D[3*C+1],D[3*C+2]);var K=r.side===a.BackSide?d.intersectTriangle(l,k,g,!0):d.intersectTriangle(g,k,l,r.side!==a.DoubleSide);null!==
K&&(K.applyMatrix4(h.matrixWorld),s=m.ray.origin.distanceTo(K),s<G||s<m.near||s>m.far||p.push({distance:s,point:K,indices:[w,A,C],face:null,faceIndex:null,object:h}))}}else for(D=w.position.array,u=0,M=w.position.array.length;u<M;u+=3)w=u,A=u+1,C=u+2,g.set(D[3*w],D[3*w+1],D[3*w+2]),k.set(D[3*A],D[3*A+1],D[3*A+2]),l.set(D[3*C],D[3*C+1],D[3*C+2]),K=r.side===a.BackSide?d.intersectTriangle(l,k,g,!0):d.intersectTriangle(g,k,l,r.side!==a.DoubleSide),null!==K&&(K.applyMatrix4(h.matrixWorld),s=m.ray.origin.distanceTo(K),
s<G||s<m.near||s>m.far||p.push({distance:s,point:K,indices:[w,A,C],face:null,faceIndex:null,object:h}))}else if(u instanceof a.Geometry)for(D=h.material instanceof a.MeshFaceMaterial,I=!0===D?h.material.materials:null,G=m.precision,F=u.vertices,E=0,P=u.faces.length;E<P;E++)if(H=u.faces[E],r=!0===D?I[H.materialIndex]:h.material,void 0!==r){w=F[H.a];A=F[H.b];C=F[H.c];if(!0===r.morphTargets){s=u.morphTargets;K=h.morphTargetInfluences;g.set(0,0,0);k.set(0,0,0);l.set(0,0,0);for(var M=0,N=s.length;M<N;M++){var L=
K[M];if(0!==L){var J=s[M].vertices;g.x+=(J[H.a].x-w.x)*L;g.y+=(J[H.a].y-w.y)*L;g.z+=(J[H.a].z-w.z)*L;k.x+=(J[H.b].x-A.x)*L;k.y+=(J[H.b].y-A.y)*L;k.z+=(J[H.b].z-A.z)*L;l.x+=(J[H.c].x-C.x)*L;l.y+=(J[H.c].y-C.y)*L;l.z+=(J[H.c].z-C.z)*L}}g.add(w);k.add(A);l.add(C);w=g;A=k;C=l}K=r.side===a.BackSide?d.intersectTriangle(C,A,w,!0):d.intersectTriangle(w,A,C,r.side!==a.DoubleSide);null!==K&&(K.applyMatrix4(h.matrixWorld),s=m.ray.origin.distanceTo(K),s<G||s<m.near||s>m.far||p.push({distance:s,point:K,face:H,
faceIndex:E,object:h}))}}else if(h instanceof a.Line){G=m.linePrecision;r=G*G;u=h.geometry;null===u.boundingSphere&&u.computeBoundingSphere();b.copy(u.boundingSphere);b.applyMatrix4(h.matrixWorld);if(!1===m.ray.isIntersectionSphere(b))return p;f.getInverse(h.matrixWorld);d.copy(m.ray).applyMatrix4(f);if(u instanceof a.Geometry)for(F=u.vertices,G=F.length,w=new a.Vector3,A=new a.Vector3,C=h.type===a.LineStrip?1:2,u=0;u<G-1;u+=C)d.distanceSqToSegment(F[u],F[u+1],A,w)>r||(s=d.origin.distanceTo(A),s<
m.near||s>m.far||p.push({distance:s,point:w.clone().applyMatrix4(h.matrixWorld),face:null,faceIndex:null,object:h}))}},p=function(a,b,d){a=a.getDescendants();for(var f=0,e=a.length;f<e;f++)n(a[f],b,d)};a.Raycaster.prototype.precision=1E-4;a.Raycaster.prototype.linePrecision=1;a.Raycaster.prototype.set=function(a,b){this.ray.set(a,b)};a.Raycaster.prototype.intersectObject=function(a,b){var d=[];!0===b&&p(a,this,d);n(a,this,d);d.sort(h);return d};a.Raycaster.prototype.intersectObjects=function(a,b){for(var d=
[],f=0,e=a.length;f<e;f++)n(a[f],this,d),!0===b&&p(a[f],this,d);d.sort(h);return d}})(THREE);
THREE.Object3D=function(){this.id=THREE.Object3DIdCount++;this.uuid=THREE.Math.generateUUID();this.name="";this.parent=void 0;this.children=[];this.up=new THREE.Vector3(0,1,0);this.position=new THREE.Vector3;var a=this;Object.defineProperties(this,{rotation:{enumerable:!0,value:(new THREE.Euler).onChange(function(){a.quaternion.setFromEuler(a.rotation,!1)})},quaternion:{enumerable:!0,value:(new THREE.Quaternion).onChange(function(){a.rotation.setFromQuaternion(a.quaternion,void 0,!1)})},scale:{enumerable:!0,
value:new THREE.Vector3(1,1,1)}});this.renderDepth=null;this.rotationAutoUpdate=!0;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixAutoUpdate=!0;this.matrixWorldNeedsUpdate=!1;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.userData={}};
THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order.");return this.rotation.order},set eulerOrder(a){console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order.");this.rotation.order=a},get useQuaternion(){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(a){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},
applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new THREE.Quaternion;return function(b,d){a.setFromAxisAngle(b,
d);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new THREE.Vector3;return function(b,d){a.copy(b);a.applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(d));
return this}}(),translate:function(a,b){console.warn("DEPRECATED: Object3D's .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed.");return this.translateOnAxis(b,a)},translateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,
b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new THREE.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new THREE.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(a===this)console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");else if(a instanceof THREE.Object3D){void 0!==a.parent&&
a.parent.remove(a);a.parent=this;a.dispatchEvent({type:"added"});this.children.push(a);for(var b=this;void 0!==b.parent;)b=b.parent;void 0!==b&&b instanceof THREE.Scene&&b.__addObject(a)}},remove:function(a){var b=this.children.indexOf(a);if(-1!==b){a.parent=void 0;a.dispatchEvent({type:"removed"});this.children.splice(b,1);for(b=this;void 0!==b.parent;)b=b.parent;void 0!==b&&b instanceof THREE.Scene&&b.__removeObject(a)}},traverse:function(a){a(this);for(var b=0,d=this.children.length;b<d;b++)this.children[b].traverse(a)},
getObjectById:function(a,b){for(var d=0,e=this.children.length;d<e;d++){var f=this.children[d];if(f.id===a||!0===b&&(f=f.getObjectById(a,b),void 0!==f))return f}},getObjectByName:function(a,b){for(var d=0,e=this.children.length;d<e;d++){var f=this.children[d];if(f.name===a||!0===b&&(f=f.getObjectByName(a,b),void 0!==f))return f}},getChildByName:function(a,b){console.warn("DEPRECATED: Object3D's .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a,b)},getDescendants:function(a){void 0===
a&&(a=[]);Array.prototype.push.apply(a,this.children);for(var b=0,d=this.children.length;b<d;b++)this.children[b].getDescendants(a);return a},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,d=this.children.length;b<d;b++)this.children[b].updateMatrixWorld(a)},clone:function(a,b){void 0===a&&(a=new THREE.Object3D);void 0===b&&(b=!0);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.quaternion.copy(this.quaternion);a.scale.copy(this.scale);a.renderDepth=this.renderDepth;a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.matrixAutoUpdate=this.matrixAutoUpdate;a.matrixWorldNeedsUpdate=
this.matrixWorldNeedsUpdate;a.visible=this.visible;a.castShadow=this.castShadow;a.receiveShadow=this.receiveShadow;a.frustumCulled=this.frustumCulled;a.userData=JSON.parse(JSON.stringify(this.userData));if(!0===b)for(var d=0;d<this.children.length;d++)a.add(this.children[d].clone());return a}};THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3DIdCount=0;
THREE.Projector=function(){function a(){if(p===m){var a=new THREE.RenderableVertex;q.push(a);m++;p++;return a}return q[p++]}function b(){if(s===r){var a=new THREE.RenderableFace;u.push(a);r++;s++;return a}return u[s++]}function d(){if(A===G){var a=new THREE.RenderableLine;C.push(a);G++;A++;return a}return C[A++]}function e(a,b){return a.z!==b.z?b.z-a.z:a.id!==b.id?a.id-b.id:0}function f(a,b){var d=0,f=1,e=a.z+a.w,h=b.z+b.w,g=-a.z+a.w,k=-b.z+b.w;if(0<=e&&0<=h&&0<=g&&0<=k)return!0;if(0>e&&0>h||0>g&&
0>k)return!1;0>e?d=Math.max(d,e/(e-h)):0>h&&(f=Math.min(f,e/(e-h)));0>g?d=Math.max(d,g/(g-k)):0>k&&(f=Math.min(f,g/(g-k)));if(f<d)return!1;a.lerp(b,d);b.lerp(a,1-f);return!0}var h,g,k=[],l=0,n,p,q=[],m=0,t,s,u=[],r=0,w,A,C=[],G=0,F,D,I=[],E=0,P={objects:[],lights:[],elements:[]},H=new THREE.Vector3,M=new THREE.Vector3,K=new THREE.Vector3,N=new THREE.Vector3,L=new THREE.Vector4,J=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),Q=new THREE.Box3,O=Array(3),T=new THREE.Matrix4,ea=
new THREE.Matrix4,X,Z=new THREE.Matrix4,U=new THREE.Matrix3,Y=new THREE.Frustum,R=new THREE.Vector4,fa=new THREE.Vector4;this.projectVector=function(a,b){b.matrixWorldInverse.getInverse(b.matrixWorld);ea.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);return a.applyProjection(ea)};this.unprojectVector=function(){var a=new THREE.Matrix4;return function(b,d){a.getInverse(d.projectionMatrix);ea.multiplyMatrices(d.matrixWorld,a);return b.applyProjection(ea)}}();this.pickingRay=function(a,b){a.z=
-1;var d=new THREE.Vector3(a.x,a.y,1);this.unprojectVector(a,b);this.unprojectVector(d,b);d.sub(a).normalize();return new THREE.Raycaster(a,d)};var ka=function(a){if(!1!==a.visible){if(a instanceof THREE.Light)P.lights.push(a);else if(a instanceof THREE.Mesh||a instanceof THREE.Line||a instanceof THREE.Sprite)if(!1===a.frustumCulled||!0===Y.intersectsObject(a)){if(g===l){var b=new THREE.RenderableObject;k.push(b);l++;g++;h=b}else h=k[g++];h.id=a.id;h.object=a;null!==a.renderDepth?h.z=a.renderDepth:
(N.setFromMatrixPosition(a.matrixWorld),N.applyProjection(ea),h.z=N.z);P.objects.push(h)}for(var b=0,d=a.children.length;b<d;b++)ka(a.children[b])}},W=new function(){var f=[],e=[],h=null,g=null,k=new THREE.Matrix3,l=function(a){var b=a.positionWorld,d=a.positionScreen;b.copy(a.position).applyMatrix4(X);d.copy(b).applyMatrix4(ea);b=1/d.w;d.x*=b;d.y*=b;d.z*=b;a.visible=-1<=d.x&&1>=d.x&&-1<=d.y&&1>=d.y&&-1<=d.z&&1>=d.z},m=function(a,b,d){if(!0===a.visible||!0===b.visible||!0===d.visible)return!0;O[0]=
a.positionScreen;O[1]=b.positionScreen;O[2]=d.positionScreen;return J.isIntersectionBox(Q.setFromPoints(O))},p=function(a,b,d){return 0>(d.positionScreen.x-a.positionScreen.x)*(b.positionScreen.y-a.positionScreen.y)-(d.positionScreen.y-a.positionScreen.y)*(b.positionScreen.x-a.positionScreen.x)};return{setObject:function(a){h=a;g=h.material;k.getNormalMatrix(h.matrixWorld);f.length=0;e.length=0},projectVertex:l,checkTriangleVisibility:m,checkBackfaceCulling:p,pushVertex:function(b,d,f){n=a();n.position.set(b,
d,f);l(n)},pushNormal:function(a,b,d){f.push(a,b,d)},pushUv:function(a,b){e.push(a,b)},pushLine:function(a,b){var f=q[a],e=q[b];w=d();w.id=h.id;w.v1.copy(f);w.v2.copy(e);w.z=(f.positionScreen.z+e.positionScreen.z)/2;w.material=h.material;P.elements.push(w)},pushTriangle:function(a,d,l){var n=q[a],r=q[d],s=q[l];if(!1!==m(n,r,s)&&(g.side===THREE.DoubleSide||!0===p(n,r,s))){t=b();t.id=h.id;t.v1.copy(n);t.v2.copy(r);t.v3.copy(s);t.z=(n.positionScreen.z+r.positionScreen.z+s.positionScreen.z)/3;for(n=0;3>
n;n++)r=3*arguments[n],s=t.vertexNormalsModel[n],s.set(f[r],f[r+1],f[r+2]),s.applyMatrix3(k).normalize(),r=2*arguments[n],t.uvs[n].set(e[r],e[r+1]);t.vertexNormalsLength=3;t.material=h.material;P.elements.push(t)}}}};this.projectScene=function(h,k,l,m){var n,r,u,C,v,G,J,N;D=A=s=0;P.elements.length=0;!0===h.autoUpdate&&h.updateMatrixWorld();void 0===k.parent&&k.updateMatrixWorld();T.copy(k.matrixWorldInverse.getInverse(k.matrixWorld));ea.multiplyMatrices(k.projectionMatrix,T);Y.setFromMatrix(ea);g=
0;P.objects.length=0;P.lights.length=0;ka(h);!0===l&&P.objects.sort(e);h=0;for(l=P.objects.length;h<l;h++)if(n=P.objects[h].object,r=n.geometry,W.setObject(n),X=n.matrixWorld,p=0,n instanceof THREE.Mesh)if(r instanceof THREE.BufferGeometry){if(G=r.attributes,n=r.offsets,void 0!==G.position){J=G.position.array;r=0;for(C=J.length;r<C;r+=3)W.pushVertex(J[r],J[r+1],J[r+2]);if(void 0!==G.normal)for(N=G.normal.array,r=0,C=N.length;r<C;r+=3)W.pushNormal(N[r],N[r+1],N[r+2]);if(void 0!==G.uv)for(N=G.uv.array,
r=0,C=N.length;r<C;r+=2)W.pushUv(N[r],N[r+1]);if(void 0!==G.index)if(G=G.index.array,0<n.length)for(h=0;h<n.length;h++)for(C=n[h],J=C.index,r=C.start,C=C.start+C.count;r<C;r+=3)W.pushTriangle(G[r]+J,G[r+1]+J,G[r+2]+J);else for(r=0,C=G.length;r<C;r+=3)W.pushTriangle(G[r],G[r+1],G[r+2]);else for(r=0,C=J.length/3;r<C;r+=3)W.pushTriangle(r,r+1,r+2)}}else{if(r instanceof THREE.Geometry){u=r.vertices;C=r.faces;G=r.faceVertexUvs[0];U.getNormalMatrix(X);J=n.material instanceof THREE.MeshFaceMaterial;N=!0===
J?n.material:null;for(var O=0,Q=u.length;O<Q;O++){var va=u[O];W.pushVertex(va.x,va.y,va.z)}O=0;for(Q=C.length;O<Q;O++){u=C[O];var Da=!0===J?N.materials[u.materialIndex]:n.material;if(void 0!==Da){var Sa=Da.side,va=q[u.a],qa=q[u.b],ha=q[u.c];if(!0===Da.morphTargets){v=r.morphTargets;var Wa=n.morphTargetInfluences,cb=va.position,Xa=qa.position,Ja=ha.position;H.set(0,0,0);M.set(0,0,0);K.set(0,0,0);for(var Za=0,Ca=v.length;Za<Ca;Za++){var Na=Wa[Za];if(0!==Na){var eb=v[Za].vertices;H.x+=(eb[u.a].x-cb.x)*
Na;H.y+=(eb[u.a].y-cb.y)*Na;H.z+=(eb[u.a].z-cb.z)*Na;M.x+=(eb[u.b].x-Xa.x)*Na;M.y+=(eb[u.b].y-Xa.y)*Na;M.z+=(eb[u.b].z-Xa.z)*Na;K.x+=(eb[u.c].x-Ja.x)*Na;K.y+=(eb[u.c].y-Ja.y)*Na;K.z+=(eb[u.c].z-Ja.z)*Na}}va.position.add(H);qa.position.add(M);ha.position.add(K);W.projectVertex(va);W.projectVertex(qa);W.projectVertex(ha)}if(!1!==W.checkTriangleVisibility(va,qa,ha)){Wa=W.checkBackfaceCulling(va,qa,ha);if(Sa!==THREE.DoubleSide){if(Sa===THREE.FrontSide&&!1===Wa)continue;if(Sa===THREE.BackSide&&!0===Wa)continue}t=
b();t.id=n.id;t.v1.copy(va);t.v2.copy(qa);t.v3.copy(ha);t.normalModel.copy(u.normal);!1!==Wa||Sa!==THREE.BackSide&&Sa!==THREE.DoubleSide||t.normalModel.negate();t.normalModel.applyMatrix3(U).normalize();v=u.vertexNormals;cb=0;for(Xa=Math.min(v.length,3);cb<Xa;cb++)Ja=t.vertexNormalsModel[cb],Ja.copy(v[cb]),!1!==Wa||Sa!==THREE.BackSide&&Sa!==THREE.DoubleSide||Ja.negate(),Ja.applyMatrix3(U).normalize();t.vertexNormalsLength=v.length;Sa=G[O];if(void 0!==Sa)for(v=0;3>v;v++)t.uvs[v].copy(Sa[v]);t.color=
u.color;t.material=Da;t.z=(va.positionScreen.z+qa.positionScreen.z+ha.positionScreen.z)/3;P.elements.push(t)}}}}}else if(n instanceof THREE.Line)if(r instanceof THREE.BufferGeometry){if(G=r.attributes,void 0!==G.position){J=G.position.array;r=0;for(C=J.length;r<C;r+=3)W.pushVertex(J[r],J[r+1],J[r+2]);if(void 0!==G.index)for(G=G.index.array,r=0,C=G.length;r<C;r+=2)W.pushLine(G[r],G[r+1]);else for(r=0,C=J.length/3-1;r<C;r++)W.pushLine(r,r+1)}}else{if(r instanceof THREE.Geometry&&(Z.multiplyMatrices(ea,
X),u=n.geometry.vertices,0!==u.length))for(va=a(),va.positionScreen.copy(u[0]).applyMatrix4(Z),r=n.type===THREE.LinePieces?2:1,O=1,Q=u.length;O<Q;O++)va=a(),va.positionScreen.copy(u[O]).applyMatrix4(Z),0<(O+1)%r||(qa=q[p-2],R.copy(va.positionScreen),fa.copy(qa.positionScreen),!0===f(R,fa)&&(R.multiplyScalar(1/R.w),fa.multiplyScalar(1/fa.w),w=d(),w.id=n.id,w.v1.positionScreen.copy(R),w.v2.positionScreen.copy(fa),w.z=Math.max(R.z,fa.z),w.material=n.material,n.material.vertexColors===THREE.VertexColors&&
(w.vertexColors[0].copy(n.geometry.colors[O]),w.vertexColors[1].copy(n.geometry.colors[O-1])),P.elements.push(w)))}else n instanceof THREE.Sprite&&(L.set(X.elements[12],X.elements[13],X.elements[14],1),L.applyMatrix4(ea),r=1/L.w,L.z*=r,-1<=L.z&&1>=L.z&&(D===E?(C=new THREE.RenderableSprite,I.push(C),E++,D++,F=C):F=I[D++],F.id=n.id,F.x=L.x*r,F.y=L.y*r,F.z=L.z,F.object=n,F.rotation=n.rotation,F.scale.x=n.scale.x*Math.abs(F.x-(L.x+k.projectionMatrix.elements[0])/(L.w+k.projectionMatrix.elements[12])),
F.scale.y=n.scale.y*Math.abs(F.y-(L.y+k.projectionMatrix.elements[5])/(L.w+k.projectionMatrix.elements[13])),F.material=n.material,P.elements.push(F)));!0===m&&P.elements.sort(e);return P}};
THREE.Face3=function(a,b,d,e,f,h){this.a=a;this.b=b;this.c=d;this.normal=e instanceof THREE.Vector3?e:new THREE.Vector3;this.vertexNormals=e instanceof Array?e:[];this.color=f instanceof THREE.Color?f:new THREE.Color;this.vertexColors=f instanceof Array?f:[];this.vertexTangents=[];this.materialIndex=void 0!==h?h:0};
THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var a=new THREE.Face3(this.a,this.b,this.c);a.normal.copy(this.normal);a.color.copy(this.color);a.materialIndex=this.materialIndex;var b,d;b=0;for(d=this.vertexNormals.length;b<d;b++)a.vertexNormals[b]=this.vertexNormals[b].clone();b=0;for(d=this.vertexColors.length;b<d;b++)a.vertexColors[b]=this.vertexColors[b].clone();b=0;for(d=this.vertexTangents.length;b<d;b++)a.vertexTangents[b]=this.vertexTangents[b].clone();return a}};
THREE.Face4=function(a,b,d,e,f,h,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new THREE.Face3(a,b,d,f,h,g)};THREE.BufferAttribute=function(){};
THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return this.array.length},set:function(a){this.array.set(a)},setX:function(a,b){this.array[a*this.itemSize]=b},setY:function(a,b){this.array[a*this.itemSize+1]=b},setZ:function(a,b){this.array[a*this.itemSize+2]=b},setXY:function(a,b,d){a*=this.itemSize;this.array[a]=b;this.array[a+1]=d},setXYZ:function(a,b,d,e){a*=this.itemSize;this.array[a]=b;this.array[a+1]=d;this.array[a+2]=e},setXYZW:function(a,b,d,e,f){a*=this.itemSize;
this.array[a]=b;this.array[a+1]=d;this.array[a+2]=e;this.array[a+3]=f}};THREE.Int8Attribute=function(a,b){this.array=new Int8Array(a*b);this.itemSize=b};THREE.Int8Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Uint8Attribute=function(a,b){this.array=new Uint8Array(a*b);this.itemSize=b};THREE.Uint8Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Uint8ClampedAttribute=function(a,b){this.array=new Uint8ClampedArray(a*b);this.itemSize=b};
THREE.Uint8ClampedAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Int16Attribute=function(a,b){this.array=new Int16Array(a*b);this.itemSize=b};THREE.Int16Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Uint16Attribute=function(a,b){this.array=new Uint16Array(a*b);this.itemSize=b};THREE.Uint16Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Int32Attribute=function(a,b){this.array=new Int32Array(a*b);this.itemSize=b};
THREE.Int32Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Uint32Attribute=function(a,b){this.array=new Uint32Array(a*b);this.itemSize=b};THREE.Uint32Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Float32Attribute=function(a,b){this.array=new Float32Array(a*b);this.itemSize=b};THREE.Float32Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.Float64Attribute=function(a,b){this.array=new Float64Array(a*b);this.itemSize=b};
THREE.Float64Attribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.BufferGeometry=function(){this.id=THREE.GeometryIdCount++;this.uuid=THREE.Math.generateUUID();this.name="";this.attributes={};this.offsets=this.drawcalls=[];this.boundingSphere=this.boundingBox=null};
THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(a,b,d){!1===b instanceof THREE.BufferAttribute?(console.warn("DEPRECATED: BufferGeometry's addAttribute() now expects ( name, attribute )."),this.attributes[a]={array:b,itemSize:d}):this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addDrawCall:function(a,b,d){this.drawcalls.push({start:a,count:b,index:void 0!==d?d:0})},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),
b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&((new THREE.Matrix3).getNormalMatrix(a).applyToVector3Array(b.array),b.needsUpdate=!0)},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var a=this.attributes.position.array;if(a){var b=this.boundingBox;3<=a.length&&(b.min.x=b.max.x=a[0],b.min.y=b.max.y=a[1],b.min.z=b.max.z=a[2]);for(var d=3,e=a.length;d<e;d+=3){var f=a[d],h=a[d+1],g=a[d+2];f<b.min.x?b.min.x=f:f>b.max.x&&(b.max.x=f);h<b.min.y?b.min.y=h:
h>b.max.y&&(b.max.y=h);g<b.min.z?b.min.z=g:g>b.max.z&&(b.max.z=g)}}if(void 0===a||0===a.length)this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)},computeBoundingSphere:function(){var a=new THREE.Box3,b=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var d=this.attributes.position.array;if(d){a.makeEmpty();for(var e=this.boundingSphere.center,f=0,h=d.length;f<h;f+=3)b.set(d[f],d[f+1],d[f+2]),a.addPoint(b);a.center(e);for(var g=0,
f=0,h=d.length;f<h;f+=3)b.set(d[f],d[f+1],d[f+2]),g=Math.max(g,e.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(g)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){if(this.attributes.position){var a,b,d,e;a=this.attributes.position.array.length;if(void 0===this.attributes.normal)this.attributes.normal={itemSize:3,array:new Float32Array(a)};else for(a=0,b=this.attributes.normal.array.length;a<b;a++)this.attributes.normal.array[a]=0;var f=this.attributes.position.array,
h=this.attributes.normal.array,g,k,l,n,p,q,m=new THREE.Vector3,t=new THREE.Vector3,s=new THREE.Vector3,u=new THREE.Vector3,r=new THREE.Vector3;if(this.attributes.index){var w=this.attributes.index.array,A=0<this.offsets.length?this.offsets:[{start:0,count:w.length,index:0}];d=0;for(e=A.length;d<e;++d){b=A[d].start;g=A[d].count;var C=A[d].index;a=b;for(b+=g;a<b;a+=3)g=C+w[a],k=C+w[a+1],l=C+w[a+2],n=f[3*g],p=f[3*g+1],q=f[3*g+2],m.set(n,p,q),n=f[3*k],p=f[3*k+1],q=f[3*k+2],t.set(n,p,q),n=f[3*l],p=f[3*
l+1],q=f[3*l+2],s.set(n,p,q),u.subVectors(s,t),r.subVectors(m,t),u.cross(r),h[3*g]+=u.x,h[3*g+1]+=u.y,h[3*g+2]+=u.z,h[3*k]+=u.x,h[3*k+1]+=u.y,h[3*k+2]+=u.z,h[3*l]+=u.x,h[3*l+1]+=u.y,h[3*l+2]+=u.z}}else for(a=0,b=f.length;a<b;a+=9)n=f[a],p=f[a+1],q=f[a+2],m.set(n,p,q),n=f[a+3],p=f[a+4],q=f[a+5],t.set(n,p,q),n=f[a+6],p=f[a+7],q=f[a+8],s.set(n,p,q),u.subVectors(s,t),r.subVectors(m,t),u.cross(r),h[a]=u.x,h[a+1]=u.y,h[a+2]=u.z,h[a+3]=u.x,h[a+4]=u.y,h[a+5]=u.z,h[a+6]=u.x,h[a+7]=u.y,h[a+8]=u.z;this.normalizeNormals();
this.normalsNeedUpdate=!0}},computeTangents:function(){function a(a,b,d){q=e[3*a];m=e[3*a+1];t=e[3*a+2];s=e[3*b];u=e[3*b+1];r=e[3*b+2];w=e[3*d];A=e[3*d+1];C=e[3*d+2];G=h[2*a];F=h[2*a+1];D=h[2*b];I=h[2*b+1];E=h[2*d];P=h[2*d+1];H=s-q;M=w-q;K=u-m;N=A-m;L=r-t;J=C-t;Q=D-G;O=E-G;T=I-F;ea=P-F;X=1/(Q*ea-O*T);Z.set((ea*H-T*M)*X,(ea*K-T*N)*X,(ea*L-T*J)*X);U.set((Q*M-O*H)*X,(Q*N-O*K)*X,(Q*J-O*L)*X);l[a].add(Z);l[b].add(Z);l[d].add(Z);n[a].add(U);n[b].add(U);n[d].add(U)}function b(a){ia.x=f[3*a];ia.y=f[3*a+1];
ia.z=f[3*a+2];za.copy(ia);ba=l[a];na.copy(ba);na.sub(ia.multiplyScalar(ia.dot(ba))).normalize();ra.crossVectors(za,ba);v=ra.dot(n[a]);Ka=0>v?-1:1;k[4*a]=na.x;k[4*a+1]=na.y;k[4*a+2]=na.z;k[4*a+3]=Ka}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");else{var d=this.attributes.index.array,e=this.attributes.position.array,
f=this.attributes.normal.array,h=this.attributes.uv.array,g=e.length/3;void 0===this.attributes.tangent&&(this.attributes.tangent={itemSize:4,array:new Float32Array(4*g)});for(var k=this.attributes.tangent.array,l=[],n=[],p=0;p<g;p++)l[p]=new THREE.Vector3,n[p]=new THREE.Vector3;var q,m,t,s,u,r,w,A,C,G,F,D,I,E,P,H,M,K,N,L,J,Q,O,T,ea,X,Z=new THREE.Vector3,U=new THREE.Vector3,Y,R,fa,ka,W,S=this.offsets,p=0;for(R=S.length;p<R;++p){Y=S[p].start;fa=S[p].count;var ma=S[p].index,g=Y;for(Y+=fa;g<Y;g+=3)fa=
ma+d[g],ka=ma+d[g+1],W=ma+d[g+2],a(fa,ka,W)}var na=new THREE.Vector3,ra=new THREE.Vector3,ia=new THREE.Vector3,za=new THREE.Vector3,Ka,ba,v,p=0;for(R=S.length;p<R;++p)for(Y=S[p].start,fa=S[p].count,ma=S[p].index,g=Y,Y+=fa;g<Y;g+=3)fa=ma+d[g],ka=ma+d[g+1],W=ma+d[g+2],b(fa),b(ka),b(W)}},computeOffsets:function(a){var b=a;void 0===a&&(b=65535);Date.now();a=this.attributes.index.array;for(var d=this.attributes.position.array,e=a.length/3,f=new Uint16Array(a.length),h=0,g=0,k=[{start:0,count:0,index:0}],
l=k[0],n=0,p=0,q=new Int32Array(6),m=new Int32Array(d.length),t=new Int32Array(d.length),s=0;s<d.length;s++)m[s]=-1,t[s]=-1;for(d=0;d<e;d++){for(var u=p=0;3>u;u++)s=a[3*d+u],-1==m[s]?(q[2*u]=s,q[2*u+1]=-1,p++):m[s]<l.index?(q[2*u]=s,q[2*u+1]=-1,n++):(q[2*u]=s,q[2*u+1]=m[s]);if(g+p>l.index+b)for(l={start:h,count:0,index:g},k.push(l),p=0;6>p;p+=2)u=q[p+1],-1<u&&u<l.index&&(q[p+1]=-1);for(p=0;6>p;p+=2)s=q[p],u=q[p+1],-1===u&&(u=g++),m[s]=u,t[u]=s,f[h++]=u-l.index,l.count++}this.reorderBuffers(f,t,g);
return this.offsets=k},merge:function(){console.log("BufferGeometry.merge(): TODO")},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,d,e,f=0,h=a.length;f<h;f+=3)b=a[f],d=a[f+1],e=a[f+2],b=1/Math.sqrt(b*b+d*d+e*e),a[f]*=b,a[f+1]*=b,a[f+2]*=b},reorderBuffers:function(a,b,d){var e={},f=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],h;for(h in this.attributes)if("index"!=h)for(var g=this.attributes[h].array,k=0,l=f.length;k<
l;k++){var n=f[k];if(g instanceof n){e[h]=new n(this.attributes[h].itemSize*d);break}}for(f=0;f<d;f++)for(h in g=b[f],this.attributes)if("index"!=h)for(var k=this.attributes[h].array,l=this.attributes[h].itemSize,n=e[h],p=0;p<l;p++)n[f*l+p]=k[g*l+p];this.attributes.index.array=a;for(h in this.attributes)"index"!=h&&(this.attributes[h].array=e[h],this.attributes[h].numItems=this.attributes[h].itemSize*d)},clone:function(){var a=new THREE.BufferGeometry,b=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,
Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],d;for(d in this.attributes){for(var e=this.attributes[d],f=e.array,h={itemSize:e.itemSize,array:null},e=0,g=b.length;e<g;e++){var k=b[e];if(f instanceof k){h.array=new k(f);break}}a.attributes[d]=h}e=0;for(g=this.offsets.length;e<g;e++)b=this.offsets[e],a.offsets.push({start:b.start,index:b.index,count:b.count});return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);
THREE.Geometry=function(){this.id=THREE.GeometryIdCount++;this.uuid=THREE.Math.generateUUID();this.name="";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphColors=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.hasTangents=!1;this.dynamic=!0;this.buffersNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.tangentsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=
this.elementsNeedUpdate=this.verticesNeedUpdate=!1};
THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(a){for(var b=(new THREE.Matrix3).getNormalMatrix(a),d=0,e=this.vertices.length;d<e;d++)this.vertices[d].applyMatrix4(a);d=0;for(e=this.faces.length;d<e;d++){a=this.faces[d];a.normal.applyMatrix3(b).normalize();for(var f=0,h=a.vertexNormals.length;f<h;f++)a.vertexNormals[f].applyMatrix3(b).normalize()}this.boundingBox instanceof THREE.Box3&&this.computeBoundingBox();this.boundingSphere instanceof THREE.Sphere&&this.computeBoundingSphere()},
computeFaceNormals:function(){for(var a=new THREE.Vector3,b=new THREE.Vector3,d=0,e=this.faces.length;d<e;d++){var f=this.faces[d],h=this.vertices[f.a],g=this.vertices[f.b];a.subVectors(this.vertices[f.c],g);b.subVectors(h,g);a.cross(b);a.normalize();f.normal.copy(a)}},computeVertexNormals:function(a){var b,d,e;e=Array(this.vertices.length);b=0;for(d=this.vertices.length;b<d;b++)e[b]=new THREE.Vector3;if(a){var f,h,g,k=new THREE.Vector3,l=new THREE.Vector3;new THREE.Vector3;new THREE.Vector3;new THREE.Vector3;
a=0;for(b=this.faces.length;a<b;a++)d=this.faces[a],f=this.vertices[d.a],h=this.vertices[d.b],g=this.vertices[d.c],k.subVectors(g,h),l.subVectors(f,h),k.cross(l),e[d.a].add(k),e[d.b].add(k),e[d.c].add(k)}else for(a=0,b=this.faces.length;a<b;a++)d=this.faces[a],e[d.a].add(d.normal),e[d.b].add(d.normal),e[d.c].add(d.normal);b=0;for(d=this.vertices.length;b<d;b++)e[b].normalize();a=0;for(b=this.faces.length;a<b;a++)d=this.faces[a],d.vertexNormals[0]=e[d.a].clone(),d.vertexNormals[1]=e[d.b].clone(),d.vertexNormals[2]=
e[d.c].clone()},computeMorphNormals:function(){var a,b,d,e,f;d=0;for(e=this.faces.length;d<e;d++)for(f=this.faces[d],f.__originalFaceNormal?f.__originalFaceNormal.copy(f.normal):f.__originalFaceNormal=f.normal.clone(),f.__originalVertexNormals||(f.__originalVertexNormals=[]),a=0,b=f.vertexNormals.length;a<b;a++)f.__originalVertexNormals[a]?f.__originalVertexNormals[a].copy(f.vertexNormals[a]):f.__originalVertexNormals[a]=f.vertexNormals[a].clone();var h=new THREE.Geometry;h.faces=this.faces;a=0;for(b=
this.morphTargets.length;a<b;a++){if(!this.morphNormals[a]){this.morphNormals[a]={};this.morphNormals[a].faceNormals=[];this.morphNormals[a].vertexNormals=[];f=this.morphNormals[a].faceNormals;var g=this.morphNormals[a].vertexNormals,k,l;d=0;for(e=this.faces.length;d<e;d++)k=new THREE.Vector3,l={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},f.push(k),g.push(l)}g=this.morphNormals[a];h.vertices=this.morphTargets[a].vertices;h.computeFaceNormals();h.computeVertexNormals();d=0;for(e=this.faces.length;d<
e;d++)f=this.faces[d],k=g.faceNormals[d],l=g.vertexNormals[d],k.copy(f.normal),l.a.copy(f.vertexNormals[0]),l.b.copy(f.vertexNormals[1]),l.c.copy(f.vertexNormals[2])}d=0;for(e=this.faces.length;d<e;d++)f=this.faces[d],f.normal=f.__originalFaceNormal,f.vertexNormals=f.__originalVertexNormals},computeTangents:function(){var a,b,d,e,f,h,g,k,l,n,p,q,m,t,s,u,r,w=[],A=[];d=new THREE.Vector3;var C=new THREE.Vector3,G=new THREE.Vector3,F=new THREE.Vector3,D=new THREE.Vector3;a=0;for(b=this.vertices.length;a<
b;a++)w[a]=new THREE.Vector3,A[a]=new THREE.Vector3;a=0;for(b=this.faces.length;a<b;a++)f=this.faces[a],h=this.faceVertexUvs[0][a],e=f.a,r=f.b,f=f.c,g=this.vertices[e],k=this.vertices[r],l=this.vertices[f],n=h[0],p=h[1],q=h[2],h=k.x-g.x,m=l.x-g.x,t=k.y-g.y,s=l.y-g.y,k=k.z-g.z,g=l.z-g.z,l=p.x-n.x,u=q.x-n.x,p=p.y-n.y,n=q.y-n.y,q=1/(l*n-u*p),d.set((n*h-p*m)*q,(n*t-p*s)*q,(n*k-p*g)*q),C.set((l*m-u*h)*q,(l*s-u*t)*q,(l*g-u*k)*q),w[e].add(d),w[r].add(d),w[f].add(d),A[e].add(C),A[r].add(C),A[f].add(C);C=
["a","b","c","d"];a=0;for(b=this.faces.length;a<b;a++)for(f=this.faces[a],d=0;d<Math.min(f.vertexNormals.length,3);d++)D.copy(f.vertexNormals[d]),e=f[C[d]],r=w[e],G.copy(r),G.sub(D.multiplyScalar(D.dot(r))).normalize(),F.crossVectors(f.vertexNormals[d],r),e=F.dot(A[e]),e=0>e?-1:1,f.vertexTangents[d]=new THREE.Vector4(G.x,G.y,G.z,e);this.hasTangents=!0},computeLineDistances:function(){for(var a=0,b=this.vertices,d=0,e=b.length;d<e;d++)0<d&&(a+=b[d].distanceTo(b[d-1])),this.lineDistances[d]=a},computeBoundingBox:function(){null===
this.boundingBox&&(this.boundingBox=new THREE.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,d){if(!1===a instanceof THREE.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a);else{var e,f=this.vertices.length,h=this.vertices,g=a.vertices,k=this.faces,l=a.faces,n=this.faceVertexUvs[0];
a=a.faceVertexUvs[0];void 0===d&&(d=0);void 0!==b&&(e=(new THREE.Matrix3).getNormalMatrix(b));for(var p=0,q=g.length;p<q;p++){var m=g[p].clone();void 0!==b&&m.applyMatrix4(b);h.push(m)}p=0;for(q=l.length;p<q;p++){var g=l[p],t,s=g.vertexNormals,u=g.vertexColors,m=new THREE.Face3(g.a+f,g.b+f,g.c+f);m.normal.copy(g.normal);void 0!==e&&m.normal.applyMatrix3(e).normalize();b=0;for(h=s.length;b<h;b++)t=s[b].clone(),void 0!==e&&t.applyMatrix3(e).normalize(),m.vertexNormals.push(t);m.color.copy(g.color);
b=0;for(h=u.length;b<h;b++)t=u[b],m.vertexColors.push(t.clone());m.materialIndex=g.materialIndex+d;k.push(m)}p=0;for(q=a.length;p<q;p++)if(d=a[p],e=[],void 0!==d){b=0;for(h=d.length;b<h;b++)e.push(new THREE.Vector2(d[b].x,d[b].y));n.push(e)}}},mergeVertices:function(){var a={},b=[],d=[],e,f=Math.pow(10,4),h,g;h=0;for(g=this.vertices.length;h<g;h++)e=this.vertices[h],e=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f),void 0===a[e]?(a[e]=h,b.push(this.vertices[h]),d[h]=b.length-1):d[h]=
d[a[e]];a=[];h=0;for(g=this.faces.length;h<g;h++)for(f=this.faces[h],f.a=d[f.a],f.b=d[f.b],f.c=d[f.c],f=[f.a,f.b,f.c],e=0;3>e;e++)if(f[e]==f[(e+1)%3]){a.push(h);break}for(h=a.length-1;0<=h;h--)for(f=a[h],this.faces.splice(f,1),d=0,g=this.faceVertexUvs.length;d<g;d++)this.faceVertexUvs[d].splice(f,1);h=this.vertices.length-b.length;this.vertices=b;return h},makeGroups:function(){var a=0;return function(b,d){var e,f,h,g,k={},l=this.morphTargets.length,n=this.morphNormals.length;this.geometryGroups=
{};e=0;for(f=this.faces.length;e<f;e++)h=this.faces[e],h=b?h.materialIndex:0,h in k||(k[h]={hash:h,counter:0}),g=k[h].hash+"_"+k[h].counter,g in this.geometryGroups||(this.geometryGroups[g]={faces3:[],materialIndex:h,vertices:0,numMorphTargets:l,numMorphNormals:n}),this.geometryGroups[g].vertices+3>d&&(k[h].counter+=1,g=k[h].hash+"_"+k[h].counter,g in this.geometryGroups||(this.geometryGroups[g]={faces3:[],materialIndex:h,vertices:0,numMorphTargets:l,numMorphNormals:n})),this.geometryGroups[g].faces3.push(e),
this.geometryGroups[g].vertices+=3;this.geometryGroupsList=[];for(var p in this.geometryGroups)this.geometryGroups[p].id=a++,this.geometryGroupsList.push(this.geometryGroups[p])}}(),clone:function(){for(var a=new THREE.Geometry,b=this.vertices,d=0,e=b.length;d<e;d++)a.vertices.push(b[d].clone());b=this.faces;d=0;for(e=b.length;d<e;d++)a.faces.push(b[d].clone());b=this.faceVertexUvs[0];d=0;for(e=b.length;d<e;d++){for(var f=b[d],h=[],g=0,k=f.length;g<k;g++)h.push(new THREE.Vector2(f[g].x,f[g].y));a.faceVertexUvs[0].push(h)}return a},
dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;THREE.Camera=function(){THREE.Object3D.call(this);this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.lookAt=function(){var a=new THREE.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();
THREE.Camera.prototype.clone=function(a){void 0===a&&(a=new THREE.Camera);THREE.Object3D.prototype.clone.call(this,a);a.matrixWorldInverse.copy(this.matrixWorldInverse);a.projectionMatrix.copy(this.projectionMatrix);return a};THREE.OrthographicCamera=function(a,b,d,e,f,h){THREE.Camera.call(this);this.left=a;this.right=b;this.top=d;this.bottom=e;this.near=void 0!==f?f:.1;this.far=void 0!==h?h:2E3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);
THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)};THREE.OrthographicCamera.prototype.clone=function(){var a=new THREE.OrthographicCamera;THREE.Camera.prototype.clone.call(this,a);a.left=this.left;a.right=this.right;a.top=this.top;a.bottom=this.bottom;a.near=this.near;a.far=this.far;return a};
THREE.PerspectiveCamera=function(a,b,d,e){THREE.Camera.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==b?b:1;this.near=void 0!==d?d:.1;this.far=void 0!==e?e:2E3;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.setLens=function(a,b){void 0===b&&(b=24);this.fov=2*THREE.Math.radToDeg(Math.atan(b/(2*a)));this.updateProjectionMatrix()};
THREE.PerspectiveCamera.prototype.setViewOffset=function(a,b,d,e,f,h){this.fullWidth=a;this.fullHeight=b;this.x=d;this.y=e;this.width=f;this.height=h;this.updateProjectionMatrix()};
THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var a=this.fullWidth/this.fullHeight,b=Math.tan(THREE.Math.degToRad(.5*this.fov))*this.near,d=-b,e=a*d,a=Math.abs(a*b-e),d=Math.abs(b-d);this.projectionMatrix.makeFrustum(e+this.x*a/this.fullWidth,e+(this.x+this.width)*a/this.fullWidth,b-(this.y+this.height)*d/this.fullHeight,b-this.y*d/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)};
THREE.PerspectiveCamera.prototype.clone=function(){var a=new THREE.PerspectiveCamera;THREE.Camera.prototype.clone.call(this,a);a.fov=this.fov;a.aspect=this.aspect;a.near=this.near;a.far=this.far;return a};THREE.Light=function(a){THREE.Object3D.call(this);this.color=new THREE.Color(a)};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.clone=function(a){void 0===a&&(a=new THREE.Light);THREE.Object3D.prototype.clone.call(this,a);a.color.copy(this.color);return a};
THREE.AmbientLight=function(a){THREE.Light.call(this,a)};THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.clone=function(){var a=new THREE.AmbientLight;THREE.Light.prototype.clone.call(this,a);return a};
THREE.AreaLight=function(a,b){THREE.Light.call(this,a);this.normal=new THREE.Vector3(0,-1,0);this.right=new THREE.Vector3(1,0,0);this.intensity=void 0!==b?b:1;this.height=this.width=1;this.constantAttenuation=1.5;this.linearAttenuation=.5;this.quadraticAttenuation=.1};THREE.AreaLight.prototype=Object.create(THREE.Light.prototype);
THREE.DirectionalLight=function(a,b){THREE.Light.call(this,a);this.position.set(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraLeft=-500;this.shadowCameraTop=this.shadowCameraRight=500;this.shadowCameraBottom=-500;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapHeight=this.shadowMapWidth=512;this.shadowCascade=!1;this.shadowCascadeOffset=new THREE.Vector3(0,
0,-1E3);this.shadowCascadeCount=2;this.shadowCascadeBias=[0,0,0];this.shadowCascadeWidth=[512,512,512];this.shadowCascadeHeight=[512,512,512];this.shadowCascadeNearZ=[-1,.99,.998];this.shadowCascadeFarZ=[.99,.998,1];this.shadowCascadeArray=[];this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);
THREE.DirectionalLight.prototype.clone=function(){var a=new THREE.DirectionalLight;THREE.Light.prototype.clone.call(this,a);a.target=this.target.clone();a.intensity=this.intensity;a.castShadow=this.castShadow;a.onlyShadow=this.onlyShadow;a.shadowCameraNear=this.shadowCameraNear;a.shadowCameraFar=this.shadowCameraFar;a.shadowCameraLeft=this.shadowCameraLeft;a.shadowCameraRight=this.shadowCameraRight;a.shadowCameraTop=this.shadowCameraTop;a.shadowCameraBottom=this.shadowCameraBottom;a.shadowCameraVisible=
this.shadowCameraVisible;a.shadowBias=this.shadowBias;a.shadowDarkness=this.shadowDarkness;a.shadowMapWidth=this.shadowMapWidth;a.shadowMapHeight=this.shadowMapHeight;a.shadowCascade=this.shadowCascade;a.shadowCascadeOffset.copy(this.shadowCascadeOffset);a.shadowCascadeCount=this.shadowCascadeCount;a.shadowCascadeBias=this.shadowCascadeBias.slice(0);a.shadowCascadeWidth=this.shadowCascadeWidth.slice(0);a.shadowCascadeHeight=this.shadowCascadeHeight.slice(0);a.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0);
a.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0);return a};THREE.HemisphereLight=function(a,b,d){THREE.Light.call(this,a);this.position.set(0,100,0);this.groundColor=new THREE.Color(b);this.intensity=void 0!==d?d:1};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.clone=function(){var a=new THREE.HemisphereLight;THREE.Light.prototype.clone.call(this,a);a.groundColor.copy(this.groundColor);a.intensity=this.intensity;return a};
THREE.PointLight=function(a,b,d){THREE.Light.call(this,a);this.intensity=void 0!==b?b:1;this.distance=void 0!==d?d:0};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.clone=function(){var a=new THREE.PointLight;THREE.Light.prototype.clone.call(this,a);a.intensity=this.intensity;a.distance=this.distance;return a};
THREE.SpotLight=function(a,b,d,e,f){THREE.Light.call(this,a);this.position.set(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.distance=void 0!==d?d:0;this.angle=void 0!==e?e:Math.PI/3;this.exponent=void 0!==f?f:10;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraFov=50;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapHeight=this.shadowMapWidth=512;this.shadowMatrix=this.shadowCamera=this.shadowMapSize=
this.shadowMap=null};THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);
THREE.SpotLight.prototype.clone=function(){var a=new THREE.SpotLight;THREE.Light.prototype.clone.call(this,a);a.target=this.target.clone();a.intensity=this.intensity;a.distance=this.distance;a.angle=this.angle;a.exponent=this.exponent;a.castShadow=this.castShadow;a.onlyShadow=this.onlyShadow;a.shadowCameraNear=this.shadowCameraNear;a.shadowCameraFar=this.shadowCameraFar;a.shadowCameraFov=this.shadowCameraFov;a.shadowCameraVisible=this.shadowCameraVisible;a.shadowBias=this.shadowBias;a.shadowDarkness=
this.shadowDarkness;a.shadowMapWidth=this.shadowMapWidth;a.shadowMapHeight=this.shadowMapHeight;return a};THREE.Cache=function(){this.files={}};THREE.Cache.prototype={constructor:THREE.Cache,add:function(a,b){this.files[a]=b},get:function(a){return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
THREE.Loader=function(a){this.statusDomElement=(this.showStatus=a)?THREE.Loader.prototype.addStatusElement():null;this.imageLoader=new THREE.ImageLoader;this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};
THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var a=document.createElement("div");a.style.position="absolute";a.style.right="0px";a.style.top="0px";a.style.fontSize="0.8em";a.style.textAlign="left";a.style.background="rgba(0,0,0,0.25)";a.style.color="#fff";a.style.width="120px";a.style.padding="0.5em 0.5em 0.5em 0.5em";a.style.zIndex=1E3;a.innerHTML="Loading ...";return a},updateProgress:function(a){var b="Loaded ",b=a.total?b+((100*a.loaded/a.total).toFixed(0)+
"%"):b+((a.loaded/1024).toFixed(2)+" KB");this.statusDomElement.innerHTML=b},extractUrlBase:function(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"},initMaterials:function(a,b){for(var d=[],e=0;e<a.length;++e)d[e]=this.createMaterial(a[e],b);return d},needsTangents:function(a){for(var b=0,d=a.length;b<d;b++)if(a[b]instanceof THREE.ShaderMaterial)return!0;return!1},createMaterial:function(a,b){function d(a){a=Math.log(a)/Math.LN2;return Math.pow(2,Math.round(a))}function e(a,
f,e,g,k,l,u){var r=/\.dds$/i.test(e),w=b+e;if(r){var A=THREE.ImageUtils.loadCompressedTexture(w);a[f]=A}else A=document.createElement("canvas"),a[f]=new THREE.Texture(A);a[f].sourceFile=e;g&&(a[f].repeat.set(g[0],g[1]),1!==g[0]&&(a[f].wrapS=THREE.RepeatWrapping),1!==g[1]&&(a[f].wrapT=THREE.RepeatWrapping));k&&a[f].offset.set(k[0],k[1]);l&&(e={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==e[l[0]]&&(a[f].wrapS=e[l[0]]),void 0!==e[l[1]]&&(a[f].wrapT=e[l[1]]));u&&(a[f].anisotropy=
u);r||(A=a[f],h.imageLoader.crossOrigin=h.crossOrigin,h.imageLoader.load(w,function(a){if(!1===THREE.Math.isPowerOfTwo(a.width)||!1===THREE.Math.isPowerOfTwo(a.height)){var b=d(a.width),f=d(a.height);A.image.width=b;A.image.height=f;A.image.getContext("2d").drawImage(a,0,0,b,f)}else A.image=a;A.needsUpdate=!0}))}function f(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]}var h=this,g="MeshLambertMaterial",k={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(a.shading){var l=
a.shading.toLowerCase();"phong"===l?g="MeshPhongMaterial":"basic"===l&&(g="MeshBasicMaterial")}void 0!==a.blending&&void 0!==THREE[a.blending]&&(k.blending=THREE[a.blending]);if(void 0!==a.transparent||1>a.opacity)k.transparent=a.transparent;void 0!==a.depthTest&&(k.depthTest=a.depthTest);void 0!==a.depthWrite&&(k.depthWrite=a.depthWrite);void 0!==a.visible&&(k.visible=a.visible);void 0!==a.flipSided&&(k.side=THREE.BackSide);void 0!==a.doubleSided&&(k.side=THREE.DoubleSide);void 0!==a.wireframe&&
(k.wireframe=a.wireframe);void 0!==a.vertexColors&&("face"===a.vertexColors?k.vertexColors=THREE.FaceColors:a.vertexColors&&(k.vertexColors=THREE.VertexColors));a.colorDiffuse?k.color=f(a.colorDiffuse):a.DbgColor&&(k.color=a.DbgColor);a.colorSpecular&&(k.specular=f(a.colorSpecular));a.colorAmbient&&(k.ambient=f(a.colorAmbient));a.colorEmissive&&(k.emissive=f(a.colorEmissive));a.transparency&&(k.opacity=a.transparency);a.specularCoef&&(k.shininess=a.specularCoef);a.mapDiffuse&&b&&e(k,"map",a.mapDiffuse,
a.mapDiffuseRepeat,a.mapDiffuseOffset,a.mapDiffuseWrap,a.mapDiffuseAnisotropy);a.mapLight&&b&&e(k,"lightMap",a.mapLight,a.mapLightRepeat,a.mapLightOffset,a.mapLightWrap,a.mapLightAnisotropy);a.mapBump&&b&&e(k,"bumpMap",a.mapBump,a.mapBumpRepeat,a.mapBumpOffset,a.mapBumpWrap,a.mapBumpAnisotropy);a.mapNormal&&b&&e(k,"normalMap",a.mapNormal,a.mapNormalRepeat,a.mapNormalOffset,a.mapNormalWrap,a.mapNormalAnisotropy);a.mapSpecular&&b&&e(k,"specularMap",a.mapSpecular,a.mapSpecularRepeat,a.mapSpecularOffset,
a.mapSpecularWrap,a.mapSpecularAnisotropy);a.mapBumpScale&&(k.bumpScale=a.mapBumpScale);a.mapNormal?(g=THREE.ShaderLib.normalmap,l=THREE.UniformsUtils.clone(g.uniforms),l.tNormal.value=k.normalMap,a.mapNormalFactor&&l.uNormalScale.value.set(a.mapNormalFactor,a.mapNormalFactor),k.map&&(l.tDiffuse.value=k.map,l.enableDiffuse.value=!0),k.specularMap&&(l.tSpecular.value=k.specularMap,l.enableSpecular.value=!0),k.lightMap&&(l.tAO.value=k.lightMap,l.enableAO.value=!0),l.diffuse.value.setHex(k.color),l.specular.value.setHex(k.specular),
l.ambient.value.setHex(k.ambient),l.shininess.value=k.shininess,void 0!==k.opacity&&(l.opacity.value=k.opacity),g=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,vertexShader:g.vertexShader,uniforms:l,lights:!0,fog:!0}),k.transparent&&(g.transparent=!0)):g=new THREE[g](k);void 0!==a.DbgName&&(g.name=a.DbgName);return g}};THREE.XHRLoader=function(a){this.cache=new THREE.Cache;this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(a,b,d,e){var f=this,h=f.cache.get(a);void 0!==h?b(h):(h=new XMLHttpRequest,void 0!==b&&h.addEventListener("load",function(d){f.cache.add(a,d.target.responseText);b(d.target.responseText);f.manager.itemEnd(a)},!1),void 0!==d&&h.addEventListener("progress",function(a){d(a)},!1),void 0!==e&&h.addEventListener("error",function(a){e(a)},!1),void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),h.open("GET",a,!0),h.send(null),f.manager.itemStart(a))},
setCrossOrigin:function(a){this.crossOrigin=a}};THREE.ImageLoader=function(a){this.cache=new THREE.Cache;this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(a,b,d,e){var f=this,h=f.cache.get(a);if(void 0!==h)b(h);else return h=document.createElement("img"),void 0!==b&&h.addEventListener("load",function(d){f.cache.add(a,this);b(this);f.manager.itemEnd(a)},!1),void 0!==d&&h.addEventListener("progress",function(a){d(a)},!1),void 0!==e&&h.addEventListener("error",function(a){e(a)},!1),void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),h.src=a,f.manager.itemStart(a),h},setCrossOrigin:function(a){this.crossOrigin=
a}};THREE.JSONLoader=function(a){THREE.Loader.call(this,a);this.withCredentials=!1};THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype);THREE.JSONLoader.prototype.load=function(a,b,d){d=d&&"string"===typeof d?d:this.extractUrlBase(a);this.onLoadStart();this.loadAjaxJSON(this,a,b,d)};
THREE.JSONLoader.prototype.loadAjaxJSON=function(a,b,d,e,f){var h=new XMLHttpRequest,g=0;h.onreadystatechange=function(){if(h.readyState===h.DONE)if(200===h.status||0===h.status){if(h.responseText){var k=JSON.parse(h.responseText);if(void 0!==k.metadata&&"scene"===k.metadata.type){console.error('THREE.JSONLoader: "'+b+'" seems to be a Scene. Use THREE.SceneLoader instead.');return}k=a.parse(k,e);d(k.geometry,k.materials)}else console.error('THREE.JSONLoader: "'+b+'" seems to be unreachable or the file is empty.');
a.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+b+'" ('+h.status+")");else h.readyState===h.LOADING?f&&(0===g&&(g=h.getResponseHeader("Content-Length")),f({total:g,loaded:h.responseText.length})):h.readyState===h.HEADERS_RECEIVED&&void 0!==f&&(g=h.getResponseHeader("Content-Length"))};h.open("GET",b,!0);h.withCredentials=this.withCredentials;h.send(null)};
THREE.JSONLoader.prototype.parse=function(a,b){var d=new THREE.Geometry,e=void 0!==a.scale?1/a.scale:1;(function(b){var e,g,k,l,n,p,q,m,t,s,u,r,w,A=a.faces;p=a.vertices;var C=a.normals,G=a.colors,F=0;if(void 0!==a.uvs){for(e=0;e<a.uvs.length;e++)a.uvs[e].length&&F++;for(e=0;e<F;e++)d.faceVertexUvs[e]=[]}l=0;for(n=p.length;l<n;)e=new THREE.Vector3,e.x=p[l++]*b,e.y=p[l++]*b,e.z=p[l++]*b,d.vertices.push(e);l=0;for(n=A.length;l<n;)if(b=A[l++],t=b&1,k=b&2,e=b&8,q=b&16,s=b&32,p=b&64,b&=128,t){t=new THREE.Face3;
t.a=A[l];t.b=A[l+1];t.c=A[l+3];u=new THREE.Face3;u.a=A[l+1];u.b=A[l+2];u.c=A[l+3];l+=4;k&&(k=A[l++],t.materialIndex=k,u.materialIndex=k);k=d.faces.length;if(e)for(e=0;e<F;e++)for(r=a.uvs[e],d.faceVertexUvs[e][k]=[],d.faceVertexUvs[e][k+1]=[],g=0;4>g;g++)m=A[l++],w=r[2*m],m=r[2*m+1],w=new THREE.Vector2(w,m),2!==g&&d.faceVertexUvs[e][k].push(w),0!==g&&d.faceVertexUvs[e][k+1].push(w);q&&(q=3*A[l++],t.normal.set(C[q++],C[q++],C[q]),u.normal.copy(t.normal));if(s)for(e=0;4>e;e++)q=3*A[l++],s=new THREE.Vector3(C[q++],
C[q++],C[q]),2!==e&&t.vertexNormals.push(s),0!==e&&u.vertexNormals.push(s);p&&(p=A[l++],p=G[p],t.color.setHex(p),u.color.setHex(p));if(b)for(e=0;4>e;e++)p=A[l++],p=G[p],2!==e&&t.vertexColors.push(new THREE.Color(p)),0!==e&&u.vertexColors.push(new THREE.Color(p));d.faces.push(t);d.faces.push(u)}else{t=new THREE.Face3;t.a=A[l++];t.b=A[l++];t.c=A[l++];k&&(k=A[l++],t.materialIndex=k);k=d.faces.length;if(e)for(e=0;e<F;e++)for(r=a.uvs[e],d.faceVertexUvs[e][k]=[],g=0;3>g;g++)m=A[l++],w=r[2*m],m=r[2*m+1],
w=new THREE.Vector2(w,m),d.faceVertexUvs[e][k].push(w);q&&(q=3*A[l++],t.normal.set(C[q++],C[q++],C[q]));if(s)for(e=0;3>e;e++)q=3*A[l++],s=new THREE.Vector3(C[q++],C[q++],C[q]),t.vertexNormals.push(s);p&&(p=A[l++],t.color.setHex(G[p]));if(b)for(e=0;3>e;e++)p=A[l++],t.vertexColors.push(new THREE.Color(G[p]));d.faces.push(t)}})(e);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var e=0,g=a.skinWeights.length;e<g;e+=b)d.skinWeights.push(new THREE.Vector4(a.skinWeights[e],
1<b?a.skinWeights[e+1]:0,2<b?a.skinWeights[e+2]:0,3<b?a.skinWeights[e+3]:0));if(a.skinIndices)for(e=0,g=a.skinIndices.length;e<g;e+=b)d.skinIndices.push(new THREE.Vector4(a.skinIndices[e],1<b?a.skinIndices[e+1]:0,2<b?a.skinIndices[e+2]:0,3<b?a.skinIndices[e+3]:0));d.bones=a.bones;d.bones&&0<d.bones.length&&(d.skinWeights.length!==d.skinIndices.length||d.skinIndices.length!==d.vertices.length)&&console.warn("When skinning, number of vertices ("+d.vertices.length+"), skinIndices ("+d.skinIndices.length+
"), and skinWeights ("+d.skinWeights.length+") should match.");d.animation=a.animation;d.animations=a.animations})();(function(b){if(void 0!==a.morphTargets){var e,g,k,l,n,p;e=0;for(g=a.morphTargets.length;e<g;e++)for(d.morphTargets[e]={},d.morphTargets[e].name=a.morphTargets[e].name,d.morphTargets[e].vertices=[],n=d.morphTargets[e].vertices,p=a.morphTargets[e].vertices,k=0,l=p.length;k<l;k+=3){var q=new THREE.Vector3;q.x=p[k]*b;q.y=p[k+1]*b;q.z=p[k+2]*b;n.push(q)}}if(void 0!==a.morphColors)for(e=
0,g=a.morphColors.length;e<g;e++)for(d.morphColors[e]={},d.morphColors[e].name=a.morphColors[e].name,d.morphColors[e].colors=[],l=d.morphColors[e].colors,n=a.morphColors[e].colors,b=0,k=n.length;b<k;b+=3)p=new THREE.Color(16755200),p.setRGB(n[b],n[b+1],n[b+2]),l.push(p)})(e);d.computeFaceNormals();d.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:d};e=this.initMaterials(a.materials,b);this.needsTangents(e)&&d.computeTangents();return{geometry:d,materials:e}};
THREE.LoadingManager=function(a,b,d){var e=this,f=0,h=0;this.onLoad=a;this.onProgress=b;this.onError=d;this.itemStart=function(a){h++};this.itemEnd=function(a){f++;if(void 0!==e.onProgress)e.onProgress(a,f,h);if(f===h&&void 0!==e.onLoad)e.onLoad()}};THREE.DefaultLoadingManager=new THREE.LoadingManager;THREE.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(a,b,d,e){var f=this;d=new THREE.XHRLoader;d.setCrossOrigin(this.crossOrigin);d.load(a,function(a){b(f.parse(JSON.parse(a)))})},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){var b=new THREE.BufferGeometry,d=a.attributes,e=a.offsets;a=a.boundingSphere;for(var f in d){var h=d[f];b.attributes[f]={itemSize:h.itemSize,array:new self[h.type](h.array)}}void 0!==e&&(b.offsets=JSON.parse(JSON.stringify(e)));
void 0!==a&&(b.boundingSphere=new THREE.Sphere((new THREE.Vector3).fromArray(void 0!==a.center?a.center:[0,0,0]),a.radius));return b}};THREE.MaterialLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(a,b,d,e){var f=this;d=new THREE.XHRLoader;d.setCrossOrigin(this.crossOrigin);d.load(a,function(a){b(f.parse(JSON.parse(a)))})},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){var b=new THREE[a.type];void 0!==a.color&&b.color.setHex(a.color);void 0!==a.ambient&&b.ambient.setHex(a.ambient);void 0!==a.emissive&&b.emissive.setHex(a.emissive);void 0!==a.specular&&b.specular.setHex(a.specular);void 0!==a.shininess&&
(b.shininess=a.shininess);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.wireframe&&(b.wireframe=a.wireframe);if(void 0!==a.materials)for(var d=0,e=a.materials.length;d<e;d++)b.materials.push(this.parse(a.materials[d]));return b}};THREE.ObjectLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(a,b,d,e){var f=this;d=new THREE.XHRLoader(f.manager);d.setCrossOrigin(this.crossOrigin);d.load(a,function(a){b(f.parse(JSON.parse(a)))})},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){var b=this.parseGeometries(a.geometries),d=this.parseMaterials(a.materials);return this.parseObject(a.object,b,d)},parseGeometries:function(a){var b={};if(void 0!==a)for(var d=new THREE.JSONLoader,e=new THREE.BufferGeometryLoader,
f=0,h=a.length;f<h;f++){var g,k=a[f];switch(k.type){case "PlaneGeometry":g=new THREE.PlaneGeometry(k.width,k.height,k.widthSegments,k.heightSegments);break;case "BoxGeometry":case "CubeGeometry":g=new THREE.BoxGeometry(k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case "CircleGeometry":g=new THREE.CircleGeometry(k.radius,k.segments);break;case "CylinderGeometry":g=new THREE.CylinderGeometry(k.radiusTop,k.radiusBottom,k.height,k.radialSegments,k.heightSegments,k.openEnded);
break;case "SphereGeometry":g=new THREE.SphereGeometry(k.radius,k.widthSegments,k.heightSegments,k.phiStart,k.phiLength,k.thetaStart,k.thetaLength);break;case "IcosahedronGeometry":g=new THREE.IcosahedronGeometry(k.radius,k.detail);break;case "TorusGeometry":g=new THREE.TorusGeometry(k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case "TorusKnotGeometry":g=new THREE.TorusKnotGeometry(k.radius,k.tube,k.radialSegments,k.tubularSegments,k.p,k.q,k.heightScale);break;case "BufferGeometry":g=
e.parse(k.data);break;case "Geometry":g=d.parse(k.data).geometry}g.uuid=k.uuid;void 0!==k.name&&(g.name=k.name);b[k.uuid]=g}return b},parseMaterials:function(a){var b={};if(void 0!==a)for(var d=new THREE.MaterialLoader,e=0,f=a.length;e<f;e++){var h=a[e],g=d.parse(h);g.uuid=h.uuid;void 0!==h.name&&(g.name=h.name);b[h.uuid]=g}return b},parseObject:function(){var a=new THREE.Matrix4;return function(b,d,e){var f;switch(b.type){case "Scene":f=new THREE.Scene;break;case "PerspectiveCamera":f=new THREE.PerspectiveCamera(b.fov,
b.aspect,b.near,b.far);break;case "OrthographicCamera":f=new THREE.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":f=new THREE.AmbientLight(b.color);break;case "DirectionalLight":f=new THREE.DirectionalLight(b.color,b.intensity);break;case "PointLight":f=new THREE.PointLight(b.color,b.intensity,b.distance);break;case "SpotLight":f=new THREE.SpotLight(b.color,b.intensity,b.distance,b.angle,b.exponent);break;case "HemisphereLight":f=new THREE.HemisphereLight(b.color,
b.groundColor,b.intensity);break;case "Mesh":f=d[b.geometry];var h=e[b.material];void 0===f&&console.error("THREE.ObjectLoader: Undefined geometry "+b.geometry);void 0===h&&console.error("THREE.ObjectLoader: Undefined material "+b.material);f=new THREE.Mesh(f,h);break;case "Sprite":h=e[b.material];void 0===h&&console.error("THREE.ObjectLoader: Undefined material "+b.material);f=new THREE.Sprite(h);break;default:f=new THREE.Object3D}f.uuid=b.uuid;void 0!==b.name&&(f.name=b.name);void 0!==b.matrix?
(a.fromArray(b.matrix),a.decompose(f.position,f.quaternion,f.scale)):(void 0!==b.position&&f.position.fromArray(b.position),void 0!==b.rotation&&f.rotation.fromArray(b.rotation),void 0!==b.scale&&f.scale.fromArray(b.scale));void 0!==b.visible&&(f.visible=b.visible);void 0!==b.userData&&(f.userData=b.userData);if(void 0!==b.children)for(var g in b.children)f.add(this.parseObject(b.children[g],d,e));return f}}()};
THREE.SceneLoader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){};this.callbackSync=function(){};this.callbackProgress=function(){};this.geometryHandlers={};this.hierarchyHandlers={};this.addGeometryHandler("ascii",THREE.JSONLoader)};
THREE.SceneLoader.prototype={constructor:THREE.SceneLoader,load:function(a,b,d,e){var f=this;d=new THREE.XHRLoader(f.manager);d.setCrossOrigin(this.crossOrigin);d.load(a,function(d){f.parse(JSON.parse(d),b,a)})},setCrossOrigin:function(a){this.crossOrigin=a},addGeometryHandler:function(a,b){this.geometryHandlers[a]={loaderClass:b}},addHierarchyHandler:function(a,b){this.hierarchyHandlers[a]={loaderClass:b}},parse:function(a,b,d){function e(a,b){return"relativeToHTML"==b?a:t+a}function f(){h(E.scene,
H.objects)}function h(a,b){var d,f,g,k,n,p;for(p in b){var q=E.objects[p],t=b[p];if(void 0===q){if(t.type&&t.type in m.hierarchyHandlers){if(void 0===t.loading){d={type:1,url:1,material:1,position:1,rotation:1,scale:1,visible:1,children:1,userData:1,skin:1,morph:1,mirroredLoop:1,duration:1};var w={},A;for(A in t)A in d||(w[A]=t[A]);u=E.materials[t.material];t.loading=!0;d=m.hierarchyHandlers[t.type].loaderObject;d.options?d.load(e(t.url,H.urlBaseType),l(p,a,u,t)):d.load(e(t.url,H.urlBaseType),l(p,
a,u,t),w)}}else if(void 0!==t.geometry){if(s=E.geometries[t.geometry]){u=E.materials[t.material];q=u instanceof THREE.ShaderMaterial;f=t.position;g=t.rotation;k=t.scale;d=t.matrix;n=t.quaternion;t.material||(u=new THREE.MeshFaceMaterial(E.face_materials[t.geometry]));u instanceof THREE.MeshFaceMaterial&&0===u.materials.length&&(u=new THREE.MeshFaceMaterial(E.face_materials[t.geometry]));if(u instanceof THREE.MeshFaceMaterial)for(w=0;w<u.materials.length;w++)q=q||u.materials[w]instanceof THREE.ShaderMaterial;
q&&s.computeTangents();t.skin?q=new THREE.SkinnedMesh(s,u):t.morph?(q=new THREE.MorphAnimMesh(s,u),void 0!==t.duration&&(q.duration=t.duration),void 0!==t.time&&(q.time=t.time),void 0!==t.mirroredLoop&&(q.mirroredLoop=t.mirroredLoop),u.morphNormals&&s.computeMorphNormals()):q=new THREE.Mesh(s,u);q.name=p;d?(q.matrixAutoUpdate=!1,q.matrix.set(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])):(q.position.fromArray(f),n?q.quaternion.fromArray(n):q.rotation.fromArray(g),
q.scale.fromArray(k));q.visible=t.visible;q.castShadow=t.castShadow;q.receiveShadow=t.receiveShadow;a.add(q);E.objects[p]=q}}else if("AmbientLight"===t.type||"PointLight"===t.type||"DirectionalLight"===t.type||"SpotLight"===t.type||"HemisphereLight"===t.type||"AreaLight"===t.type){w=t.color;d=t.intensity;f=t.distance;g=t.position;k=t.rotation;switch(t.type){case "AmbientLight":C=new THREE.AmbientLight(w);break;case "PointLight":C=new THREE.PointLight(w,d,f);C.position.fromArray(g);break;case "DirectionalLight":C=
new THREE.DirectionalLight(w,d);C.position.fromArray(t.direction);break;case "SpotLight":C=new THREE.SpotLight(w,d,f,1);C.angle=t.angle;C.position.fromArray(g);C.target.set(g[0],g[1]-f,g[2]);C.target.applyEuler(new THREE.Euler(k[0],k[1],k[2],"XYZ"));break;case "HemisphereLight":C=new THREE.DirectionalLight(w,d,f);C.target.set(g[0],g[1]-f,g[2]);C.target.applyEuler(new THREE.Euler(k[0],k[1],k[2],"XYZ"));break;case "AreaLight":C=new THREE.AreaLight(w,d),C.position.fromArray(g),C.width=t.size,C.height=
t.size_y}a.add(C);C.name=p;E.lights[p]=C;E.objects[p]=C}else"PerspectiveCamera"===t.type||"OrthographicCamera"===t.type?(f=t.position,g=t.rotation,n=t.quaternion,"PerspectiveCamera"===t.type?r=new THREE.PerspectiveCamera(t.fov,t.aspect,t.near,t.far):"OrthographicCamera"===t.type&&(r=new THREE.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far)),r.name=p,r.position.fromArray(f),void 0!==n?r.quaternion.fromArray(n):void 0!==g&&r.rotation.fromArray(g),a.add(r),E.cameras[p]=r,E.objects[p]=
r):(f=t.position,g=t.rotation,k=t.scale,n=t.quaternion,q=new THREE.Object3D,q.name=p,q.position.fromArray(f),n?q.quaternion.fromArray(n):q.rotation.fromArray(g),q.scale.fromArray(k),q.visible=void 0!==t.visible?t.visible:!1,a.add(q),E.objects[p]=q,E.empties[p]=q);if(q){if(void 0!==t.userData)for(var G in t.userData)q.userData[G]=t.userData[G];if(void 0!==t.groups)for(w=0;w<t.groups.length;w++)d=t.groups[w],void 0===E.groups[d]&&(E.groups[d]=[]),E.groups[d].push(p)}}void 0!==q&&void 0!==t.children&&
h(q,t.children)}}function g(a,b,d,e,g){var h=g.rotation,k=g.quaternion,l=g.scale;a.position.fromArray(g.position);k?a.quaternion.fromArray(k):a.rotation.fromArray(h);a.scale.fromArray(l);e&&a.traverse(function(a){a.material=e});var n=void 0!==g.visible?g.visible:!0;a.traverse(function(a){a.visible=n});d.add(a);a.name=b;E.objects[b]=a;f()}function k(a){return function(b,d){b.name=a;E.geometries[a]=b;E.face_materials[a]=d;f();G-=1;m.onLoadComplete();p()}}function l(a,b,d,f){return function(e){g(e.content?
e.content:e.dae?e.scene:e,a,b,d,f);G-=1;m.onLoadComplete();p()}}function n(a){return function(b,d){b.name=a;E.geometries[a]=b;E.face_materials[a]=d}}function p(){m.callbackProgress({totalModels:D,totalTextures:I,loadedModels:D-G,loadedTextures:I-F},E);m.onLoadProgress();if(0===G&&0===F){for(var a=0;a<P.length;a++){var d=P[a],f=E.objects[d.targetName];f?d.object.target=f:(d.object.target=new THREE.Object3D,E.scene.add(d.object.target));d.object.target.userData.targetInverse=d.object}b(E)}}function q(a,
b){b(a);if(void 0!==a.children)for(var d in a.children)q(a.children[d],b)}var m=this,t=THREE.Loader.prototype.extractUrlBase(d),s,u,r,w,A,C,G,F,D,I,E,P=[],H=a,M;for(M in this.geometryHandlers)a=this.geometryHandlers[M].loaderClass,this.geometryHandlers[M].loaderObject=new a;for(M in this.hierarchyHandlers)a=this.hierarchyHandlers[M].loaderClass,this.hierarchyHandlers[M].loaderObject=new a;F=G=0;E={scene:new THREE.Scene,geometries:{},face_materials:{},materials:{},textures:{},objects:{},cameras:{},
lights:{},fogs:{},empties:{},groups:{}};H.transform&&(M=H.transform.position,a=H.transform.rotation,d=H.transform.scale,M&&E.scene.position.fromArray(M),a&&E.scene.rotation.fromArray(a),d&&E.scene.scale.fromArray(d),M||a||d)&&(E.scene.updateMatrix(),E.scene.updateMatrixWorld());M=function(a){return function(){F-=a;p();m.onLoadComplete()}};for(var K in H.fogs)a=H.fogs[K],"linear"===a.type?w=new THREE.Fog(0,a.near,a.far):"exp2"===a.type&&(w=new THREE.FogExp2(0,a.density)),a=a.color,w.color.setRGB(a[0],
a[1],a[2]),E.fogs[K]=w;for(var N in H.geometries)w=H.geometries[N],w.type in this.geometryHandlers&&(G+=1,m.onLoadStart());for(var L in H.objects)q(H.objects[L],function(a){a.type&&a.type in m.hierarchyHandlers&&(G+=1,m.onLoadStart())});D=G;for(N in H.geometries)if(w=H.geometries[N],"cube"===w.type)s=new THREE.BoxGeometry(w.width,w.height,w.depth,w.widthSegments,w.heightSegments,w.depthSegments),s.name=N,E.geometries[N]=s;else if("plane"===w.type)s=new THREE.PlaneGeometry(w.width,w.height,w.widthSegments,
w.heightSegments),s.name=N,E.geometries[N]=s;else if("sphere"===w.type)s=new THREE.SphereGeometry(w.radius,w.widthSegments,w.heightSegments),s.name=N,E.geometries[N]=s;else if("cylinder"===w.type)s=new THREE.CylinderGeometry(w.topRad,w.botRad,w.height,w.radSegs,w.heightSegs),s.name=N,E.geometries[N]=s;else if("torus"===w.type)s=new THREE.TorusGeometry(w.radius,w.tube,w.segmentsR,w.segmentsT),s.name=N,E.geometries[N]=s;else if("icosahedron"===w.type)s=new THREE.IcosahedronGeometry(w.radius,w.subdivisions),
s.name=N,E.geometries[N]=s;else if(w.type in this.geometryHandlers){L={};for(A in w)"type"!==A&&"url"!==A&&(L[A]=w[A]);this.geometryHandlers[w.type].loaderObject.load(e(w.url,H.urlBaseType),k(N),L)}else"embedded"===w.type&&(L=H.embeds[w.id],L.metadata=H.metadata,L&&(L=this.geometryHandlers.ascii.loaderObject.parse(L,""),n(N)(L.geometry,L.materials)));for(var J in H.textures)if(N=H.textures[J],N.url instanceof Array)for(F+=N.url.length,A=0;A<N.url.length;A++)m.onLoadStart();else F+=1,m.onLoadStart();
I=F;for(J in H.textures){N=H.textures[J];void 0!==N.mapping&&void 0!==THREE[N.mapping]&&(N.mapping=new THREE[N.mapping]);if(N.url instanceof Array){L=N.url.length;w=[];for(A=0;A<L;A++)w[A]=e(N.url[A],H.urlBaseType);A=(A=/\.dds$/i.test(w[0]))?THREE.ImageUtils.loadCompressedTextureCube(w,N.mapping,M(L)):THREE.ImageUtils.loadTextureCube(w,N.mapping,M(L))}else A=/\.dds$/i.test(N.url),L=e(N.url,H.urlBaseType),w=M(1),A=A?THREE.ImageUtils.loadCompressedTexture(L,N.mapping,w):THREE.ImageUtils.loadTexture(L,
N.mapping,w),void 0!==THREE[N.minFilter]&&(A.minFilter=THREE[N.minFilter]),void 0!==THREE[N.magFilter]&&(A.magFilter=THREE[N.magFilter]),N.anisotropy&&(A.anisotropy=N.anisotropy),N.repeat&&(A.repeat.set(N.repeat[0],N.repeat[1]),1!==N.repeat[0]&&(A.wrapS=THREE.RepeatWrapping),1!==N.repeat[1]&&(A.wrapT=THREE.RepeatWrapping)),N.offset&&A.offset.set(N.offset[0],N.offset[1]),N.wrap&&(L={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==L[N.wrap[0]]&&(A.wrapS=L[N.wrap[0]]),void 0!==
L[N.wrap[1]]&&(A.wrapT=L[N.wrap[1]]));E.textures[J]=A}var Q,O;for(Q in H.materials){J=H.materials[Q];for(O in J.parameters)"envMap"===O||"map"===O||"lightMap"===O||"bumpMap"===O?J.parameters[O]=E.textures[J.parameters[O]]:"shading"===O?J.parameters[O]="flat"===J.parameters[O]?THREE.FlatShading:THREE.SmoothShading:"side"===O?J.parameters[O]="double"==J.parameters[O]?THREE.DoubleSide:"back"==J.parameters[O]?THREE.BackSide:THREE.FrontSide:"blending"===O?J.parameters[O]=J.parameters[O]in THREE?THREE[J.parameters[O]]:
THREE.NormalBlending:"combine"===O?J.parameters[O]=J.parameters[O]in THREE?THREE[J.parameters[O]]:THREE.MultiplyOperation:"vertexColors"===O?"face"==J.parameters[O]?J.parameters[O]=THREE.FaceColors:J.parameters[O]&&(J.parameters[O]=THREE.VertexColors):"wrapRGB"===O&&(M=J.parameters[O],J.parameters[O]=new THREE.Vector3(M[0],M[1],M[2]));void 0!==J.parameters.opacity&&1>J.parameters.opacity&&(J.parameters.transparent=!0);J.parameters.normalMap?(M=THREE.ShaderLib.normalmap,N=THREE.UniformsUtils.clone(M.uniforms),
A=J.parameters.color,L=J.parameters.specular,w=J.parameters.ambient,K=J.parameters.shininess,N.tNormal.value=E.textures[J.parameters.normalMap],J.parameters.normalScale&&N.uNormalScale.value.set(J.parameters.normalScale[0],J.parameters.normalScale[1]),J.parameters.map&&(N.tDiffuse.value=J.parameters.map,N.enableDiffuse.value=!0),J.parameters.envMap&&(N.tCube.value=J.parameters.envMap,N.enableReflection.value=!0,N.reflectivity.value=J.parameters.reflectivity),J.parameters.lightMap&&(N.tAO.value=J.parameters.lightMap,
N.enableAO.value=!0),J.parameters.specularMap&&(N.tSpecular.value=E.textures[J.parameters.specularMap],N.enableSpecular.value=!0),J.parameters.displacementMap&&(N.tDisplacement.value=E.textures[J.parameters.displacementMap],N.enableDisplacement.value=!0,N.uDisplacementBias.value=J.parameters.displacementBias,N.uDisplacementScale.value=J.parameters.displacementScale),N.diffuse.value.setHex(A),N.specular.value.setHex(L),N.ambient.value.setHex(w),N.shininess.value=K,J.parameters.opacity&&(N.opacity.value=
J.parameters.opacity),u=new THREE.ShaderMaterial({fragmentShader:M.fragmentShader,vertexShader:M.vertexShader,uniforms:N,lights:!0,fog:!0})):u=new THREE[J.type](J.parameters);u.name=Q;E.materials[Q]=u}for(Q in H.materials)if(J=H.materials[Q],J.parameters.materials){O=[];for(A=0;A<J.parameters.materials.length;A++)O.push(E.materials[J.parameters.materials[A]]);E.materials[Q].materials=O}f();E.cameras&&H.defaults.camera&&(E.currentCamera=E.cameras[H.defaults.camera]);E.fogs&&H.defaults.fog&&(E.scene.fog=
E.fogs[H.defaults.fog]);m.callbackSync(E);p()}};THREE.TextureLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(a,b,d,e){d=new THREE.ImageLoader(this.manager);d.setCrossOrigin(this.crossOrigin);d.load(a,function(a){a=new THREE.Texture(a);a.needsUpdate=!0;void 0!==b&&b(a)})},setCrossOrigin:function(a){this.crossOrigin=a}};
THREE.Material=function(){this.id=THREE.MaterialIdCount++;this.uuid=THREE.Math.generateUUID();this.name="";this.side=THREE.FrontSide;this.opacity=1;this.transparent=!1;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.overdraw=this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};
THREE.Material.prototype={constructor:THREE.Material,setValues:function(a){if(void 0!==a)for(var b in a){var d=a[b];if(void 0===d)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else if(b in this){var e=this[b];e instanceof THREE.Color?e.set(d):e instanceof THREE.Vector3&&d instanceof THREE.Vector3?e.copy(d):this[b]="overdraw"==b?Number(d):d}}},clone:function(a){void 0===a&&(a=new THREE.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;
a.blending=this.blending;a.blendSrc=this.blendSrc;a.blendDst=this.blendDst;a.blendEquation=this.blendEquation;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);
THREE.MaterialIdCount=0;THREE.LineBasicMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.setValues(a)};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.LineBasicMaterial.prototype.clone=function(){var a=new THREE.LineBasicMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.linewidth=this.linewidth;a.linecap=this.linecap;a.linejoin=this.linejoin;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};THREE.LineDashedMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.vertexColors=!1;this.fog=!0;this.setValues(a)};
THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.clone=function(){var a=new THREE.LineDashedMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.linewidth=this.linewidth;a.scale=this.scale;a.dashSize=this.dashSize;a.gapSize=this.gapSize;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};
THREE.MeshBasicMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.envMap=this.specularMap=this.lightMap=this.map=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=THREE.NoColors;this.morphTargets=this.skinning=!1;this.setValues(a)};
THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.MeshBasicMaterial.prototype.clone=function(){var a=new THREE.MeshBasicMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;a.wireframeLinejoin=
this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;return a};
THREE.MeshLambertMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.ambient=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.wrapAround=!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=
"round";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.MeshLambertMaterial.prototype.clone=function(){var a=new THREE.MeshLambertMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;
a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;a.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
THREE.MeshPhongMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.ambient=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.specular=new THREE.Color(1118481);this.shininess=30;this.wrapAround=this.metal=!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.bumpMap=this.lightMap=this.map=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.envMap=this.specularMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=
1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.MeshPhongMaterial.prototype.clone=function(){var a=new THREE.MeshPhongMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.specular.copy(this.specular);a.shininess=this.shininess;a.metal=this.metal;a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.bumpMap=this.bumpMap;a.bumpScale=this.bumpScale;a.normalMap=this.normalMap;a.normalScale.copy(this.normalScale);
a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;a.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
THREE.MeshDepthMaterial=function(a){THREE.Material.call(this);this.wireframe=this.morphTargets=!1;this.wireframeLinewidth=1;this.setValues(a)};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.clone=function(){var a=new THREE.MeshDepthMaterial;THREE.Material.prototype.clone.call(this,a);a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;return a};
THREE.MeshNormalMaterial=function(a){THREE.Material.call(this,a);this.shading=THREE.FlatShading;this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=!1;this.setValues(a)};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshNormalMaterial.prototype.clone=function(){var a=new THREE.MeshNormalMaterial;THREE.Material.prototype.clone.call(this,a);a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;return a};
THREE.MeshFaceMaterial=function(a){this.materials=a instanceof Array?a:[]};THREE.MeshFaceMaterial.prototype.clone=function(){for(var a=new THREE.MeshFaceMaterial,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());return a};THREE.ParticleSystemMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.vertexColors=!1;this.fog=!0;this.setValues(a)};THREE.ParticleSystemMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.ParticleSystemMaterial.prototype.clone=function(){var a=new THREE.ParticleSystemMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.size=this.size;a.sizeAttenuation=this.sizeAttenuation;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};THREE.ParticleBasicMaterial=THREE.ParticleSystemMaterial;
THREE.ShaderMaterial=function(a){THREE.Material.call(this);this.vertexShader=this.fragmentShader="void main() {}";this.uniforms={};this.defines={};this.attributes=null;this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.setValues(a)};
THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.ShaderMaterial.prototype.clone=function(){var a=new THREE.ShaderMaterial;THREE.Material.prototype.clone.call(this,a);a.fragmentShader=this.fragmentShader;a.vertexShader=this.vertexShader;a.uniforms=THREE.UniformsUtils.clone(this.uniforms);a.attributes=this.attributes;a.defines=this.defines;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.fog=this.fog;a.lights=this.lights;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=
this.morphTargets;a.morphNormals=this.morphNormals;return a};THREE.RawShaderMaterial=function(a){THREE.ShaderMaterial.call(this,a)};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.clone=function(){var a=new THREE.RawShaderMaterial;THREE.ShaderMaterial.prototype.clone.call(this,a);return a};THREE.SpriteMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.map=null;this.rotation=0;this.fog=!1;this.setValues(a)};
THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.clone=function(){var a=new THREE.SpriteMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.rotation=this.rotation;a.fog=this.fog;return a};THREE.SpriteCanvasMaterial=function(a){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.program=function(a,d){};this.setValues(a)};THREE.SpriteCanvasMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.SpriteCanvasMaterial.prototype.clone=function(){var a=new THREE.SpriteCanvasMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.program=this.program;return a};THREE.ParticleCanvasMaterial=THREE.SpriteCanvasMaterial;
THREE.Texture=function(a,b,d,e,f,h,g,k,l){this.id=THREE.TextureIdCount++;this.uuid=THREE.Math.generateUUID();this.name="";this.image=a;this.mipmaps=[];this.mapping=void 0!==b?b:new THREE.UVMapping;this.wrapS=void 0!==d?d:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==e?e:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==f?f:THREE.LinearFilter;this.minFilter=void 0!==h?h:THREE.LinearMipMapLinearFilter;this.anisotropy=void 0!==l?l:1;this.format=void 0!==g?g:THREE.RGBAFormat;this.type=void 0!==k?k:THREE.UnsignedByteType;
this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this._needsUpdate=!1;this.onUpdate=null};
THREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},clone:function(a){void 0===a&&(a=new THREE.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=
this.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=this.unpackAlignment;return a},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.CompressedTexture=function(a,b,d,e,f,h,g,k,l,n,p){THREE.Texture.call(this,null,h,g,k,l,n,e,f,p);this.image={width:b,height:d};this.mipmaps=a;this.generateMipmaps=!1};
THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CompressedTexture.prototype.clone=function(){var a=new THREE.CompressedTexture;THREE.Texture.prototype.clone.call(this,a);return a};THREE.DataTexture=function(a,b,d,e,f,h,g,k,l,n,p){THREE.Texture.call(this,null,h,g,k,l,n,e,f,p);this.image={data:a,width:b,height:d}};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);
THREE.DataTexture.prototype.clone=function(){var a=new THREE.DataTexture;THREE.Texture.prototype.clone.call(this,a);return a};THREE.ParticleSystem=function(a,b){THREE.Object3D.call(this);this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.ParticleSystemMaterial({color:16777215*Math.random()});this.frustumCulled=this.sortParticles=!1};THREE.ParticleSystem.prototype=Object.create(THREE.Object3D.prototype);
THREE.ParticleSystem.prototype.clone=function(a){void 0===a&&(a=new THREE.ParticleSystem(this.geometry,this.material));a.sortParticles=this.sortParticles;THREE.Object3D.prototype.clone.call(this,a);return a};THREE.Line=function(a,b,d){THREE.Object3D.call(this);this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==d?d:THREE.LineStrip};THREE.LineStrip=0;THREE.LinePieces=1;THREE.Line.prototype=Object.create(THREE.Object3D.prototype);
THREE.Line.prototype.clone=function(a){void 0===a&&(a=new THREE.Line(this.geometry,this.material,this.type));THREE.Object3D.prototype.clone.call(this,a);return a};THREE.Mesh=function(a,b){THREE.Object3D.call(this);this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.MeshBasicMaterial({color:16777215*Math.random()});this.updateMorphTargets()};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);
THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetForcedOrder=[];this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}};
THREE.Mesh.prototype.getMorphTargetIndexByName=function(a){if(void 0!==this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0};THREE.Mesh.prototype.clone=function(a,b){void 0===a&&(a=new THREE.Mesh(this.geometry,this.material));THREE.Object3D.prototype.clone.call(this,a,b);return a};
THREE.Bone=function(a){THREE.Object3D.call(this);this.skin=a;this.skinMatrix=new THREE.Matrix4;this.accumulatedSclWeight=this.accumulatedPosWeight=this.accumulatedRotWeight=0};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);
THREE.Bone.prototype.update=function(a,b){this.matrixAutoUpdate&&(b|=this.updateMatrix());if(b||this.matrixWorldNeedsUpdate)a?this.skinMatrix.multiplyMatrices(a,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,b=!0,this.accumulatedSclWeight=this.accumulatedPosWeight=this.accumulatedRotWeight=0;for(var d=0,e=this.children.length;d<e;d++)this.children[d].update(this.skinMatrix,b)};
THREE.Skeleton=function(a,b){this.useVertexTexture=void 0!==b?b:!0;this.bones=[];this.boneMatrices=[];var d,e,f,h,g;if(void 0!==a){for(var k=0;k<a.length;++k)e=a[k],f=e.pos,h=e.rotq,g=e.scl,d=this.addBone(),d.name=e.name,d.position.set(f[0],f[1],f[2]),d.quaternion.set(h[0],h[1],h[2],h[3]),void 0!==g?d.scale.set(g[0],g[1],g[2]):d.scale.set(1,1,1);for(k=0;k<a.length;++k)e=a[k],-1!==e.parent&&this.bones[e.parent].add(this.bones[k]);d=this.bones.length;this.useVertexTexture?(this.boneTextureHeight=this.boneTextureWidth=
256<d?64:64<d?32:16<d?16:8,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1):this.boneMatrices=new Float32Array(16*d)}};THREE.Skeleton.prototype=Object.create(THREE.Mesh.prototype);
THREE.Skeleton.prototype.addBone=function(a){void 0===a&&(a=new THREE.Bone(this));this.bones.push(a);return a};THREE.Skeleton.prototype.calculateInverses=function(a){this.boneInverses=[];a=0;for(var b=this.bones.length;a<b;++a){var d=new THREE.Matrix4;d.getInverse(this.bones[a].skinMatrix);this.boneInverses.push(d)}};
THREE.SkinnedMesh=function(a,b,d){THREE.Mesh.call(this,a,b);this.skeleton=new THREE.Skeleton(this.geometry&&this.geometry.bones,d);for(a=0;a<this.skeleton.bones.length;++a)b=this.skeleton.bones[a],void 0===b.parent&&this.add(b);this.identityMatrix=new THREE.Matrix4;this.pose()};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);
THREE.SkinnedMesh.prototype.updateMatrixWorld=function(){var a=new THREE.Matrix4;return function(b){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||b)this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1;b=0;for(var d=this.children.length;b<d;b++){var e=this.children[b];e instanceof THREE.Bone?e.update(this.identityMatrix,!1):e.updateMatrixWorld(!0)}void 0===this.skeleton.boneInverses&&
this.skeleton.calculateInverses();b=0;for(d=this.skeleton.bones.length;b<d;b++)a.multiplyMatrices(this.skeleton.bones[b].skinMatrix,this.skeleton.boneInverses[b]),a.flattenToArrayOffset(this.skeleton.boneMatrices,16*b);this.skeleton.useVertexTexture&&(this.skeleton.boneTexture.needsUpdate=!0)}}();THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0);this.normalizeSkinWeights()};
THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var a=0;a<this.geometry.skinIndices.length;a++){var b=this.geometry.skinWeights[a],d=1/b.lengthManhattan();Infinity!==d?b.multiplyScalar(d):b.set(1)}};THREE.SkinnedMesh.prototype.clone=function(a){void 0===a&&(a=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture));THREE.Mesh.prototype.clone.call(this,a);return a};
THREE.MorphAnimMesh=function(a,b){THREE.Mesh.call(this,a,b);this.duration=1E3;this.mirroredLoop=!1;this.currentKeyframe=this.lastKeyframe=this.time=0;this.direction=1;this.directionBackwards=!1;this.setFrameRange(0,this.geometry.morphTargets.length-1)};THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphAnimMesh.prototype.setFrameRange=function(a,b){this.startKeyframe=a;this.endKeyframe=b;this.length=this.endKeyframe-this.startKeyframe+1};
THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1;this.directionBackwards=!1};THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1;this.directionBackwards=!0};
THREE.MorphAnimMesh.prototype.parseAnimations=function(){var a=this.geometry;a.animations||(a.animations={});for(var b,d=a.animations,e=/([a-z]+)(\d+)/,f=0,h=a.morphTargets.length;f<h;f++){var g=a.morphTargets[f].name.match(e);if(g&&1<g.length){g=g[1];d[g]||(d[g]={start:Infinity,end:-Infinity});var k=d[g];f<k.start&&(k.start=f);f>k.end&&(k.end=f);b||(b=g)}}a.firstAnimation=b};
THREE.MorphAnimMesh.prototype.setAnimationLabel=function(a,b,d){this.geometry.animations||(this.geometry.animations={});this.geometry.animations[a]={start:b,end:d}};THREE.MorphAnimMesh.prototype.playAnimation=function(a,b){var d=this.geometry.animations[a];d?(this.setFrameRange(d.start,d.end),this.duration=(d.end-d.start)/b*1E3,this.time=0):console.warn("animation["+a+"] undefined")};
THREE.MorphAnimMesh.prototype.updateAnimation=function(a){var b=this.duration/this.length;this.time+=this.direction*a;if(this.mirroredLoop){if(this.time>this.duration||0>this.time)this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),0>this.time&&(this.time=0,this.directionBackwards=!1)}else this.time%=this.duration,0>this.time&&(this.time+=this.duration);a=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/b),0,this.length-1);a!==this.currentKeyframe&&
(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[a]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=a);b=this.time%b/b;this.directionBackwards&&(b=1-b);this.morphTargetInfluences[this.currentKeyframe]=b;this.morphTargetInfluences[this.lastKeyframe]=1-b};
THREE.MorphAnimMesh.prototype.clone=function(a){void 0===a&&(a=new THREE.MorphAnimMesh(this.geometry,this.material));a.duration=this.duration;a.mirroredLoop=this.mirroredLoop;a.time=this.time;a.lastKeyframe=this.lastKeyframe;a.currentKeyframe=this.currentKeyframe;a.direction=this.direction;a.directionBackwards=this.directionBackwards;THREE.Mesh.prototype.clone.call(this,a);return a};THREE.LOD=function(){THREE.Object3D.call(this);this.objects=[]};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);
THREE.LOD.prototype.addLevel=function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var d=0;d<this.objects.length&&!(b<this.objects[d].distance);d++);this.objects.splice(d,0,{distance:b,object:a});this.add(a)};THREE.LOD.prototype.getObjectForDistance=function(a){for(var b=1,d=this.objects.length;b<d&&!(a<this.objects[b].distance);b++);return this.objects[b-1].object};
THREE.LOD.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(d){if(1<this.objects.length){a.setFromMatrixPosition(d.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);d=a.distanceTo(b);this.objects[0].object.visible=!0;for(var e=1,f=this.objects.length;e<f;e++)if(d>=this.objects[e].distance)this.objects[e-1].object.visible=!1,this.objects[e].object.visible=!0;else break;for(;e<f;e++)this.objects[e].object.visible=!1}}}();
THREE.LOD.prototype.clone=function(a){void 0===a&&(a=new THREE.LOD);THREE.Object3D.prototype.clone.call(this,a);for(var b=0,d=this.objects.length;b<d;b++){var e=this.objects[b].object.clone();e.visible=0===b;a.addLevel(e,this.objects[b].distance)}return a};
THREE.Sprite=function(){var a=new THREE.Float32Attribute(3,3);a.set([-.5,-.5,0,.5,-.5,0,.5,.5,0]);var b=new THREE.BufferGeometry;b.addAttribute("position",a);return function(a){THREE.Object3D.call(this);this.geometry=b;this.material=void 0!==a?a:new THREE.SpriteMaterial}}();THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);THREE.Sprite.prototype.updateMatrix=function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0};
THREE.Sprite.prototype.clone=function(a){void 0===a&&(a=new THREE.Sprite(this.material));THREE.Object3D.prototype.clone.call(this,a);return a};THREE.Particle=THREE.Sprite;THREE.Scene=function(){THREE.Object3D.call(this);this.overrideMaterial=this.fog=null;this.autoUpdate=!0;this.matrixAutoUpdate=!1;this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);
THREE.Scene.prototype.__addObject=function(a){if(a instanceof THREE.Light)-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target);else if(!(a instanceof THREE.Camera||a instanceof THREE.Bone)){this.__objectsAdded.push(a);var b=this.__objectsRemoved.indexOf(a);-1!==b&&this.__objectsRemoved.splice(b,1)}this.dispatchEvent({type:"objectAdded",object:a});a.dispatchEvent({type:"addedToScene",scene:this});for(b=0;b<a.children.length;b++)this.__addObject(a.children[b])};
THREE.Scene.prototype.__removeObject=function(a){if(a instanceof THREE.Light){var b=this.__lights.indexOf(a);-1!==b&&this.__lights.splice(b,1);if(a.shadowCascadeArray)for(b=0;b<a.shadowCascadeArray.length;b++)this.__removeObject(a.shadowCascadeArray[b])}else a instanceof THREE.Camera||(this.__objectsRemoved.push(a),b=this.__objectsAdded.indexOf(a),-1!==b&&this.__objectsAdded.splice(b,1));this.dispatchEvent({type:"objectRemoved",object:a});a.dispatchEvent({type:"removedFromScene",scene:this});for(b=
0;b<a.children.length;b++)this.__removeObject(a.children[b])};THREE.Scene.prototype.clone=function(a){void 0===a&&(a=new THREE.Scene);THREE.Object3D.prototype.clone.call(this,a);null!==this.fog&&(a.fog=this.fog.clone());null!==this.overrideMaterial&&(a.overrideMaterial=this.overrideMaterial.clone());a.autoUpdate=this.autoUpdate;a.matrixAutoUpdate=this.matrixAutoUpdate;return a};THREE.Fog=function(a,b,d){this.name="";this.color=new THREE.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==d?d:1E3};
THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)};THREE.FogExp2=function(a,b){this.name="";this.color=new THREE.Color(a);this.density=void 0!==b?b:2.5E-4};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)};
THREE.CanvasRenderer=function(a){function b(a,b,d,f){n(b);p(d);q(f);m(a.getStyle());H.stroke();ha.expandByScalar(2*b)}function d(a){t(a.getStyle());H.fill()}function e(a){f(a.target)}function f(a){var b=a.wrapS===THREE.RepeatWrapping,d=a.wrapT===THREE.RepeatWrapping,f=a.image,e=document.createElement("canvas");e.width=f.width;e.height=f.height;var g=e.getContext("2d");g.setTransform(1,0,0,-1,0,f.height);g.drawImage(f,0,0);v[a.id]=H.createPattern(e,!0===b&&!0===d?"repeat":!0===b&&!1===d?"repeat-x":
!1===b&&!0===d?"repeat-y":"no-repeat")}function h(a,b,d,g,h,k,l,n,m,p,q,r,s){if(!(s instanceof THREE.DataTexture)){!1===s.hasEventListener("update",e)&&(void 0!==s.image&&0<s.image.width&&f(s),s.addEventListener("update",e));var u=v[s.id];if(void 0!==u){t(u);var u=s.offset.x/s.repeat.x,w=s.offset.y/s.repeat.y,A=s.image.width*s.repeat.x;s=s.image.height*s.repeat.y;l=(l+u)*A;n=(n+w)*s;d-=a;g-=b;h-=a;k-=b;m=(m+u)*A-l;p=(p+w)*s-n;q=(q+u)*A-l;r=(r+w)*s-n;s=m*r-q*p;0!==s&&(u=1/s,s=(r*d-p*h)*u,p=(r*g-p*
k)*u,d=(m*h-q*d)*u,g=(m*k-q*g)*u,a=a-s*l-d*n,b=b-p*l-g*n,H.save(),H.transform(s,p,d,g,a,b),H.fill(),H.restore())}else t("rgba(0,0,0,1)"),H.fill()}}function g(a,b,d){var f=b.x-a.x,e=b.y-a.y,g=f*f+e*e;0!==g&&(d/=Math.sqrt(g),f*=d,e*=d,b.x+=f,b.y+=e,a.x-=f,a.y-=e)}function k(a){N!==a&&(N=H.globalAlpha=a)}function l(a){L!==a&&(a===THREE.NormalBlending?H.globalCompositeOperation="source-over":a===THREE.AdditiveBlending?H.globalCompositeOperation="lighter":a===THREE.SubtractiveBlending&&(H.globalCompositeOperation=
"darker"),L=a)}function n(a){O!==a&&(O=H.lineWidth=a)}function p(a){T!==a&&(T=H.lineCap=a)}function q(a){ea!==a&&(ea=H.lineJoin=a)}function m(a){J!==a&&(J=H.strokeStyle=a)}function t(a){Q!==a&&(Q=H.fillStyle=a)}function s(a,b){if(X!==a||Z!==b)H.setLineDash([a,b]),X=a,Z=b}console.log("THREE.CanvasRenderer",THREE.REVISION);var u=THREE.Math.smoothstep;a=a||{};var r=this,w,A,C,G=new THREE.Projector,F=void 0!==a.canvas?a.canvas:document.createElement("canvas"),D=F.width,I=F.height,E=Math.floor(D/2),P=
Math.floor(I/2),H=F.getContext("2d",{alpha:!0===a.alpha}),M=new THREE.Color(0),K=0,N=1,L=0,J=null,Q=null,O=null,T=null,ea=null,X=null,Z=0,U,Y,R,fa;new THREE.RenderableVertex;new THREE.RenderableVertex;var ka,W,S,ma,na,ra,ia=new THREE.Color;new THREE.Color;new THREE.Color;new THREE.Color;new THREE.Color;var za=new THREE.Color,Ka=new THREE.Color,ba=new THREE.Color,v={},Oa,db,Ta,Ma,xa,va,Da,Sa=new THREE.Box2,qa=new THREE.Box2,ha=new THREE.Box2,Wa=new THREE.Color,cb=new THREE.Color,Xa=new THREE.Color,
Ja=new THREE.Vector3,Za=new THREE.Vector3,Ca=new THREE.Vector3,Na=new THREE.Matrix3;void 0===H.setLineDash&&(H.setLineDash=function(){});this.domElement=F;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1;this.sortElements=this.sortObjects=this.autoClear=!0;this.info={render:{vertices:0,faces:0}};this.supportsVertexTextures=function(){};this.setFaceCulling=function(){};this.setSize=function(a,b,d){D=a*this.devicePixelRatio;
I=b*this.devicePixelRatio;F.width=D;F.height=I;E=Math.floor(D/2);P=Math.floor(I/2);!1!==d&&(F.style.width=a+"px",F.style.height=b+"px");Sa.min.set(-E,-P);Sa.max.set(E,P);qa.min.set(-E,-P);qa.max.set(E,P);N=1;L=0;ea=T=O=Q=J=null;this.setViewport(0,0,a,b)};this.setViewport=function(a,b,d,f){H.setTransform(d*this.devicePixelRatio/D,0,0,-(f*this.devicePixelRatio)/I,a*this.devicePixelRatio,I-b*this.devicePixelRatio);H.translate(E,P)};this.setScissor=function(){};this.enableScissorTest=function(){};this.setClearColor=
function(a,b){M.set(a);K=void 0!==b?b:1;qa.min.set(-E,-P);qa.max.set(E,P)};this.setClearColorHex=function(a,b){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.");this.setClearColor(a,b)};this.getMaxAnisotropy=function(){return 0};this.clear=function(){!1===qa.empty()&&(qa.intersect(Sa),qa.expandByScalar(2),1>K&&H.clearRect(qa.min.x|0,qa.min.y|0,qa.max.x-qa.min.x|0,qa.max.y-qa.min.y|0),0<K&&(l(THREE.NormalBlending),k(1),t("rgba("+Math.floor(255*M.r)+","+
Math.floor(255*M.g)+","+Math.floor(255*M.b)+","+K+")"),H.fillRect(qa.min.x|0,qa.min.y|0,qa.max.x-qa.min.x|0,qa.max.y-qa.min.y|0)),qa.makeEmpty())};this.clearColor=function(){};this.clearDepth=function(){};this.clearStencil=function(){};this.render=function(a,F){if(!1===F instanceof THREE.Camera)console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");else{!0===this.autoClear&&this.clear();r.info.render.vertices=0;r.info.render.faces=0;w=G.projectScene(a,F,this.sortObjects,
this.sortElements);A=w.elements;C=w.lights;U=F;Na.getNormalMatrix(F.matrixWorldInverse);Wa.setRGB(0,0,0);cb.setRGB(0,0,0);Xa.setRGB(0,0,0);for(var D=0,J=C.length;D<J;D++){var I=C[D],L=I.color;I instanceof THREE.AmbientLight?Wa.add(L):I instanceof THREE.DirectionalLight?cb.add(L):I instanceof THREE.PointLight&&Xa.add(L)}D=0;for(J=A.length;D<J;D++){var M=A[D],N=M.material;if(void 0!==N&&0!==N.opacity){ha.makeEmpty();if(M instanceof THREE.RenderableSprite){Y=M;Y.x*=E;Y.y*=P;var I=Y,K=M,L=N;k(L.opacity);
l(L.blending);var z=K.scale.x*E,K=K.scale.y*P,M=.5*Math.sqrt(z*z+K*K);ha.min.set(I.x-M,I.y-M);ha.max.set(I.x+M,I.y+M);if(L instanceof THREE.SpriteMaterial||L instanceof THREE.ParticleSystemMaterial){var O=L.map;if(null!==O){!1===O.hasEventListener("update",e)&&(void 0!==O.image&&0<O.image.width&&f(O),O.addEventListener("update",e));M=v[O.id];void 0!==M?t(M):t("rgba( 0, 0, 0, 1 )");var Q=O.image,M=Q.width*O.offset.x,N=Q.height*O.offset.y,T=Q.width*O.repeat.x,O=Q.height*O.repeat.y,Q=z/T,X=K/O;H.save();
H.translate(I.x,I.y);0!==L.rotation&&H.rotate(L.rotation);H.translate(-z/2,-K/2);H.scale(Q,X);H.translate(-M,-N);H.fillRect(M,N,T,O)}else t(L.color.getStyle()),H.save(),H.translate(I.x,I.y),0!==L.rotation&&H.rotate(L.rotation),H.scale(z,-K),H.fillRect(-.5,-.5,1,1);H.restore()}else L instanceof THREE.SpriteCanvasMaterial&&(m(L.color.getStyle()),t(L.color.getStyle()),H.save(),H.translate(I.x,I.y),0!==L.rotation&&H.rotate(L.rotation),H.scale(z,K),L.program(H),H.restore())}else if(M instanceof THREE.RenderableLine){if(Y=
M.v1,R=M.v2,Y.positionScreen.x*=E,Y.positionScreen.y*=P,R.positionScreen.x*=E,R.positionScreen.y*=P,ha.setFromPoints([Y.positionScreen,R.positionScreen]),!0===Sa.isIntersectionBox(ha))if(I=Y,L=R,z=M,K=N,k(K.opacity),l(K.blending),H.beginPath(),H.moveTo(I.positionScreen.x,I.positionScreen.y),H.lineTo(L.positionScreen.x,L.positionScreen.y),K instanceof THREE.LineBasicMaterial){n(K.linewidth);p(K.linecap);q(K.linejoin);if(K.vertexColors!==THREE.VertexColors)m(K.color.getStyle());else if(M=z.vertexColors[0].getStyle(),
z=z.vertexColors[1].getStyle(),M===z)m(M);else{try{var Z=H.createLinearGradient(I.positionScreen.x,I.positionScreen.y,L.positionScreen.x,L.positionScreen.y);Z.addColorStop(0,M);Z.addColorStop(1,z)}catch(ea){Z=M}m(Z)}H.stroke();ha.expandByScalar(2*K.linewidth)}else K instanceof THREE.LineDashedMaterial&&(n(K.linewidth),p(K.linecap),q(K.linejoin),m(K.color.getStyle()),s(K.dashSize,K.gapSize),H.stroke(),ha.expandByScalar(2*K.linewidth),s(null,null))}else if(M instanceof THREE.RenderableFace){Y=M.v1;
R=M.v2;fa=M.v3;if(-1>Y.positionScreen.z||1<Y.positionScreen.z)continue;if(-1>R.positionScreen.z||1<R.positionScreen.z)continue;if(-1>fa.positionScreen.z||1<fa.positionScreen.z)continue;Y.positionScreen.x*=E;Y.positionScreen.y*=P;R.positionScreen.x*=E;R.positionScreen.y*=P;fa.positionScreen.x*=E;fa.positionScreen.y*=P;0<N.overdraw&&(g(Y.positionScreen,R.positionScreen,N.overdraw),g(R.positionScreen,fa.positionScreen,N.overdraw),g(fa.positionScreen,Y.positionScreen,N.overdraw));ha.setFromPoints([Y.positionScreen,
R.positionScreen,fa.positionScreen]);if(!0===Sa.isIntersectionBox(ha)){L=Y;z=R;K=fa;I=N;r.info.render.vertices+=3;r.info.render.faces++;k(I.opacity);l(I.blending);ka=L.positionScreen.x;W=L.positionScreen.y;S=z.positionScreen.x;ma=z.positionScreen.y;na=K.positionScreen.x;ra=K.positionScreen.y;var N=ka,T=W,O=S,Q=ma,X=na,Eb=ra;H.beginPath();H.moveTo(N,T);H.lineTo(O,Q);H.lineTo(X,Eb);H.closePath();if((I instanceof THREE.MeshLambertMaterial||I instanceof THREE.MeshPhongMaterial)&&null===I.map){za.copy(I.color);
Ka.copy(I.emissive);I.vertexColors===THREE.FaceColors&&za.multiply(M.color);ia.copy(Wa);Za.copy(L.positionWorld).add(z.positionWorld).add(K.positionWorld).divideScalar(3);L=Za;z=M.normalModel;K=ia;M=0;for(N=C.length;M<N;M++)T=C[M],ba.copy(T.color),T instanceof THREE.DirectionalLight?(O=Ja.setFromMatrixPosition(T.matrixWorld).normalize(),Q=z.dot(O),0>=Q||(Q*=T.intensity,K.add(ba.multiplyScalar(Q)))):T instanceof THREE.PointLight&&(O=Ja.setFromMatrixPosition(T.matrixWorld),Q=z.dot(Ja.subVectors(O,L).normalize()),
0>=Q||(Q*=0==T.distance?1:1-Math.min(L.distanceTo(O)/T.distance,1),0!=Q&&(Q*=T.intensity,K.add(ba.multiplyScalar(Q)))));ia.multiply(za).add(Ka);!0===I.wireframe?b(ia,I.wireframeLinewidth,I.wireframeLinecap,I.wireframeLinejoin):d(ia)}else I instanceof THREE.MeshBasicMaterial||I instanceof THREE.MeshLambertMaterial||I instanceof THREE.MeshPhongMaterial?null!==I.map?I.map.mapping instanceof THREE.UVMapping&&(Oa=M.uvs,h(ka,W,S,ma,na,ra,Oa[0].x,Oa[0].y,Oa[1].x,Oa[1].y,Oa[2].x,Oa[2].y,I.map)):null!==I.envMap?
I.envMap.mapping instanceof THREE.SphericalReflectionMapping?(Ca.copy(M.vertexNormalsModel[0]).applyMatrix3(Na),db=.5*Ca.x+.5,Ta=.5*Ca.y+.5,Ca.copy(M.vertexNormalsModel[1]).applyMatrix3(Na),Ma=.5*Ca.x+.5,xa=.5*Ca.y+.5,Ca.copy(M.vertexNormalsModel[2]).applyMatrix3(Na),va=.5*Ca.x+.5,Da=.5*Ca.y+.5,h(ka,W,S,ma,na,ra,db,Ta,Ma,xa,va,Da,I.envMap)):I.envMap.mapping instanceof THREE.SphericalRefractionMapping&&(Ca.copy(M.vertexNormalsModel[0]).applyMatrix3(Na),db=-.5*Ca.x+.5,Ta=-.5*Ca.y+.5,Ca.copy(M.vertexNormalsModel[1]).applyMatrix3(Na),
Ma=-.5*Ca.x+.5,xa=-.5*Ca.y+.5,Ca.copy(M.vertexNormalsModel[2]).applyMatrix3(Na),va=-.5*Ca.x+.5,Da=-.5*Ca.y+.5,h(ka,W,S,ma,na,ra,db,Ta,Ma,xa,va,Da,I.envMap)):(ia.copy(I.color),I.vertexColors===THREE.FaceColors&&ia.multiply(M.color),!0===I.wireframe?b(ia,I.wireframeLinewidth,I.wireframeLinecap,I.wireframeLinejoin):d(ia)):(I instanceof THREE.MeshDepthMaterial?ia.r=ia.g=ia.b=1-u(L.positionScreen.z*L.positionScreen.w,U.near,U.far):I instanceof THREE.MeshNormalMaterial?(Ca.copy(M.normalModel).applyMatrix3(Na),
ia.setRGB(Ca.x,Ca.y,Ca.z).multiplyScalar(.5).addScalar(.5)):ia.setRGB(1,1,1),!0===I.wireframe?b(ia,I.wireframeLinewidth,I.wireframeLinecap,I.wireframeLinejoin):d(ia))}}qa.union(ha)}}}}};
THREE.ShaderChunk={fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tconst float LOG2 = 1.442695;\n\t\tfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\tuniform samplerCube envMap;\n\tuniform float flipEnvMap;\n\tuniform int combine;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\t\tuniform bool useRefract;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_fragment:"#ifdef USE_ENVMAP\n\tvec3 reflectVec;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );\n\t\tif ( useRefract ) {\n\t\t\treflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t} else { \n\t\t\treflectVec = reflect( cameraToVertex, worldNormal );\n\t\t}\n\t#else\n\t\treflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t\tvec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#endif\n\t#ifdef GAMMA_INPUT\n\t\tcubeColor.xyz *= cubeColor.xyz;\n\t#endif\n\tif ( combine == 1 ) {\n\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\n\t} else if ( combine == 2 ) {\n\t\tgl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\n\t} else {\n\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\n\t}\n#endif",
envmap_pars_vertex:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\n\tvarying vec3 vReflect;\n\tuniform float refractionRatio;\n\tuniform bool useRefract;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#endif\n\t#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\t\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\t#endif\n\t#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t#endif\n#endif",
envmap_vertex:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\n\tvec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\n\tworldNormal = normalize( worldNormal );\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\tif ( useRefract ) {\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t} else {\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t}\n#endif",
map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tgl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n#endif",map_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif",map_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
map_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\t#ifdef GAMMA_INPUT\n\t\ttexelColor.xyz *= texelColor.xyz;\n\t#endif\n\tgl_FragColor = gl_FragColor * texelColor;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tvarying vec2 vUv2;\n\tuniform sampler2D lightMap;\n#endif",lightmap_pars_vertex:"#ifdef USE_LIGHTMAP\n\tvarying vec2 vUv2;\n#endif",
lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tgl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n#endif",lightmap_vertex:"#ifdef USE_LIGHTMAP\n\tvUv2 = uv2;\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize(  q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",lights_lambert_pars_vertex:"uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\n\tuniform vec3 wrapRGB;\n#endif",
lights_lambert_vertex:"vLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\ntransformedNormal = normalize( transformedNormal );\n#if MAX_DIR_LIGHTS > 0\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n\tvec3 dirVector = normalize( lDirection.xyz );\n\tfloat dotProduct = dot( transformedNormal, dirVector );\n\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\t#ifdef DOUBLE_SIDED\n\t\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\t\t#ifdef WRAP_AROUND\n\t\t\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t#endif\n\t#endif\n\t#ifdef WRAP_AROUND\n\t\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\t\t#endif\n\t#endif\n\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\t#ifdef DOUBLE_SIDED\n\t\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\t#endif\n}\n#endif\n#if MAX_POINT_LIGHTS > 0\n\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\t\tfloat lDistance = 1.0;\n\t\tif ( pointLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\t\tlVector = normalize( lVector );\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\t\t\t#ifdef WRAP_AROUND\n\t\t\t\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t#endif\n\t\t#endif\n\t\t#ifdef WRAP_AROUND\n\t\t\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\t\t\t#endif\n\t\t#endif\n\t\tvLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n\t\t#endif\n\t}\n#endif\n#if MAX_SPOT_LIGHTS > 0\n\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\t\t\tspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n\t\t\tfloat lDistance = 1.0;\n\t\t\tif ( spotLightDistance[ i ] > 0.0 )\n\t\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\t\t\tlVector = normalize( lVector );\n\t\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\t\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\t\t\t\t#ifdef WRAP_AROUND\n\t\t\t\t\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t\t#endif\n\t\t\t#endif\n\t\t\t#ifdef WRAP_AROUND\n\t\t\t\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\t\t\t\t#endif\n\t\t\t#endif\n\t\t\tvLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n\t\t\t#endif\n\t\t}\n\t}\n#endif\n#if MAX_HEMI_LIGHTS > 0\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n\t\tvec3 lVector = normalize( lDirection.xyz );\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\t\t#endif\n\t}\n#endif\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n#ifdef DOUBLE_SIDED\n\tvLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n#endif",
lights_phong_pars_vertex:"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\tvarying vec3 vWorldPosition;\n#endif",lights_phong_vertex:"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\tvWorldPosition = worldPosition.xyz;\n#endif",lights_phong_pars_fragment:"uniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\tvarying vec3 vWorldPosition;\n#endif\n#ifdef WRAP_AROUND\n\tuniform vec3 wrapRGB;\n#endif\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",
lights_phong_fragment:"vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#ifdef DOUBLE_SIDED\n\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n#if MAX_POINT_LIGHTS > 0\n\tvec3 pointDiffuse  = vec3( 0.0 );\n\tvec3 pointSpecular = vec3( 0.0 );\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\t\tfloat lDistance = 1.0;\n\t\tif ( pointLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\t\tlVector = normalize( lVector );\n\t\tfloat dotProduct = dot( normal, lVector );\n\t\t#ifdef WRAP_AROUND\n\t\t\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\t\t#else\n\t\t\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n\t\t#endif\n\t\tpointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n\t\tvec3 pointHalfVector = normalize( lVector + viewPosition );\n\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n\t\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n\t\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n\t}\n#endif\n#if MAX_SPOT_LIGHTS > 0\n\tvec3 spotDiffuse  = vec3( 0.0 );\n\tvec3 spotSpecular = vec3( 0.0 );\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\t\tfloat lDistance = 1.0;\n\t\tif ( spotLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\t\tlVector = normalize( lVector );\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\t\t\tspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n\t\t\tfloat dotProduct = dot( normal, lVector );\n\t\t\t#ifdef WRAP_AROUND\n\t\t\t\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\t\t\t#else\n\t\t\t\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n\t\t\t#endif\n\t\t\tspotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n\t\t\tvec3 spotHalfVector = normalize( lVector + viewPosition );\n\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n\t\t\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n\t\t\tspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n\t\t}\n\t}\n#endif\n#if MAX_DIR_LIGHTS > 0\n\tvec3 dirDiffuse  = vec3( 0.0 );\n\tvec3 dirSpecular = vec3( 0.0 );\n\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\t\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n\t\tvec3 dirVector = normalize( lDirection.xyz );\n\t\tfloat dotProduct = dot( normal, dirVector );\n\t\t#ifdef WRAP_AROUND\n\t\t\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\t\t\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\t\t#else\n\t\t\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n\t\t#endif\n\t\tdirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\n\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n\t\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n\t\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\t}\n#endif\n#if MAX_HEMI_LIGHTS > 0\n\tvec3 hemiDiffuse  = vec3( 0.0 );\n\tvec3 hemiSpecular = vec3( 0.0 );\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n\t\tvec3 lVector = normalize( lDirection.xyz );\n\t\tfloat dotProduct = dot( normal, lVector );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\t\themiDiffuse += diffuse * hemiColor;\n\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n\t\tfloat hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\n\t\tvec3 lVectorGround = -lVector;\n\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n\t\tfloat hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\n\t\tfloat dotProductGround = dot( normal, lVectorGround );\n\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n\t\themiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\t}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\n\ttotalDiffuse += dirDiffuse;\n\ttotalSpecular += dirSpecular;\n#endif\n#if MAX_HEMI_LIGHTS > 0\n\ttotalDiffuse += hemiDiffuse;\n\ttotalSpecular += hemiSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\n\ttotalDiffuse += pointDiffuse;\n\ttotalSpecular += pointSpecular;\n#endif\n#if MAX_SPOT_LIGHTS > 0\n\ttotalDiffuse += spotDiffuse;\n\ttotalSpecular += spotSpecular;\n#endif\n#ifdef METAL\n\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n#else\n\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n#endif",
color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tgl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\t#ifdef GAMMA_INPUT\n\t\tvColor = color * color;\n\t#else\n\t\tvColor = color;\n\t#endif\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\t#ifdef USE_MORPHTARGETS\n\tvec4 skinVertex = vec4( morphed, 1.0 );\n\t#else\n\tvec4 skinVertex = vec4( position, 1.0 );\n\t#endif\n\tvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\n\tskinned      += boneMatY * skinVertex * skinWeight.y;\n\tskinned      += boneMatZ * skinVertex * skinWeight.z;\n\tskinned      += boneMatW * skinVertex * skinWeight.w;\n#endif",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\tvec3 morphed = vec3( 0.0 );\n\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n\tmorphed += position;\n#endif",
default_vertex:"vec4 mvPosition;\n#ifdef USE_SKINNING\n\tmvPosition = modelViewMatrix * skinned;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\n\tmvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\n\tmvPosition = modelViewMatrix * vec4( position, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tvec3 morphedNormal = vec3( 0.0 );\n\tmorphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tmorphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tmorphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tmorphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\tmorphedNormal += normal;\n#endif",
skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = skinWeight.x * boneMatX;\n\tskinMatrix \t+= skinWeight.y * boneMatY;\n\tskinMatrix \t+= skinWeight.z * boneMatZ;\n\tskinMatrix \t+= skinWeight.w * boneMatW;\n\t#ifdef USE_MORPHNORMALS\n\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\t#else\n\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\t#endif\n#endif",defaultnormal_vertex:"vec3 objectNormal;\n#ifdef USE_SKINNING\n\tobjectNormal = skinnedNormal.xyz;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\n\tobjectNormal = morphedNormal;\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\n\tobjectNormal = normal;\n#endif\n#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;",
shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\t}\n#endif",
shadowmap_fragment:"#ifdef USE_SHADOWMAP\n\t#ifdef SHADOWMAP_DEBUG\n\t\tvec3 frustumColors[3];\n\t\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n\t\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n\t\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\t#endif\n\t#ifdef SHADOWMAP_CASCADE\n\t\tint inFrustumCount = 0;\n\t#endif\n\tfloat fDepth;\n\tvec3 shadowColor = vec3( 1.0 );\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\t#ifdef SHADOWMAP_CASCADE\n\t\t\tinFrustumCount += int( inFrustum );\n\t\t\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\t\t#else\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\t#endif\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t\tshadowCoord.z += shadowBias[ i ];\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\t\tfloat shadow = 0.0;\n\t\t\t\tconst float shadowDelta = 1.0 / 9.0;\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\t\t\t\tfloat dx0 = -1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\t\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\t\tfloat shadow = 0.0;\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\t\t\t\tfloat dx0 = -1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\t\t\t\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n\t\t\t\tshadowKernel[0] *= vec3(0.25);\n\t\t\t\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n\t\t\t\tshadowKernel[1] *= vec3(0.25);\n\t\t\t\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n\t\t\t\tshadowKernel[2] *= vec3(0.25);\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\t\t\t\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n\t\t\t\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) );\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\t\t\t#else\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\t\t\t#endif\n\t\t}\n\t\t#ifdef SHADOWMAP_DEBUG\n\t\t\t#ifdef SHADOWMAP_CASCADE\n\t\t\t\tif ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n\t\t\t#else\n\t\t\t\tif ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n\t\t\t#endif\n\t\t#endif\n\t}\n\t#ifdef GAMMA_OUTPUT\n\t\tshadowColor *= shadowColor;\n\t#endif\n\tgl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n#endif",
shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\t}\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( gl_FragColor.a < ALPHATEST ) discard;\n#endif",linear_to_gamma_fragment:"#ifdef GAMMA_OUTPUT\n\tgl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\t#extension GL_EXT_frag_depth : enable\n\t\tvarying float vFragDepth;\n\t#endif\n#endif",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif"};
THREE.UniformsUtils={merge:function(a){var b,d,e,f={};for(b=0;b<a.length;b++)for(d in e=this.clone(a[b]),e)f[d]=e[d];return f},clone:function(a){var b,d,e,f={};for(b in a)for(d in f[b]={},a[b])e=a[b][d],f[b][d]=e instanceof THREE.Color||e instanceof THREE.Vector2||e instanceof THREE.Vector3||e instanceof THREE.Vector4||e instanceof THREE.Matrix4||e instanceof THREE.Texture?e.clone():e instanceof Array?e.slice():e;return f}};
THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",
value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:2.5E-4},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",
value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",
value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:2.5E-4},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}};
THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,
THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"\t#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),
fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tgl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,
THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},
emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,
THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,
THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,
"void main() {\n\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"\t#ifdef DOUBLE_SIDED\n\t\tif ( gl_FrontFacing )\n\t\t\tgl_FragColor.xyz *= vLightFront;\n\t\telse\n\t\t\tgl_FragColor.xyz *= vLightBack;\n\t#else\n\t\tgl_FragColor.xyz *= vLightFront;\n\t#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,
THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",
value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,
THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"\tvNormal = normalize( transformedNormal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,
THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 ambient;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,
THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,
THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;\nuniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\tgl_Position = projectionMatrix * mvPosition;",
THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tgl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_particle_fragment,
THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,
"void main() {",THREE.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,
"void main() {\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tgl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2E3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.morphtarget_vertex,
THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;\nuniform float mFar;\nuniform float opacity;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );\n\tgl_FragColor = vec4( vec3( color ), opacity );\n}"].join("\n")},
normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {\n\tvNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vNormal;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",
THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},
tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new THREE.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},diffuse:{type:"c",value:new THREE.Color(16777215)},specular:{type:"c",value:new THREE.Color(1118481)},ambient:{type:"c",value:new THREE.Color(16777215)},shininess:{type:"f",value:30},opacity:{type:"f",value:1},useRefract:{type:"i",value:0},refractionRatio:{type:"f",value:.98},reflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new THREE.Vector2(0,
0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\nuniform bool enableDiffuse;\nuniform bool enableSpecular;\nuniform bool enableAO;\nuniform bool enableReflection;\nuniform sampler2D tDiffuse;\nuniform sampler2D tNormal;\nuniform sampler2D tSpecular;\nuniform sampler2D tAO;\nuniform samplerCube tCube;\nuniform vec2 uNormalScale;\nuniform bool useRefract;\nuniform float refractionRatio;\nuniform float reflectivity;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\n\tuniform vec3 wrapRGB;\n#endif\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",
THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"\tgl_FragColor = vec4( vec3( 1.0 ), opacity );\n\tvec3 specularTex = vec3( 1.0 );\n\tvec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;\n\tnormalTex.xy *= uNormalScale;\n\tnormalTex = normalize( normalTex );\n\tif( enableDiffuse ) {\n\t\t#ifdef GAMMA_INPUT\n\t\t\tvec4 texelColor = texture2D( tDiffuse, vUv );\n\t\t\ttexelColor.xyz *= texelColor.xyz;\n\t\t\tgl_FragColor = gl_FragColor * texelColor;\n\t\t#else\n\t\t\tgl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );\n\t\t#endif\n\t}\n\tif( enableAO ) {\n\t\t#ifdef GAMMA_INPUT\n\t\t\tvec4 aoColor = texture2D( tAO, vUv );\n\t\t\taoColor.xyz *= aoColor.xyz;\n\t\t\tgl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;\n\t\t#else\n\t\t\tgl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;\n\t\t#endif\n\t}\n\tif( enableSpecular )\n\t\tspecularTex = texture2D( tSpecular, vUv ).xyz;\n\tmat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );\n\tvec3 finalNormal = tsb * normalTex;\n\t#ifdef FLIP_SIDED\n\t\tfinalNormal = -finalNormal;\n\t#endif\n\tvec3 normal = normalize( finalNormal );\n\tvec3 viewPosition = normalize( vViewPosition );\n\t#if MAX_POINT_LIGHTS > 0\n\t\tvec3 pointDiffuse = vec3( 0.0 );\n\t\tvec3 pointSpecular = vec3( 0.0 );\n\t\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\t\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\t\tvec3 pointVector = lPosition.xyz + vViewPosition.xyz;\n\t\t\tfloat pointDistance = 1.0;\n\t\t\tif ( pointLightDistance[ i ] > 0.0 )\n\t\t\t\tpointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );\n\t\t\tpointVector = normalize( pointVector );\n\t\t\t#ifdef WRAP_AROUND\n\t\t\t\tfloat pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );\n\t\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );\n\t\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\t\t\t#else\n\t\t\t\tfloat pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );\n\t\t\t#endif\n\t\t\tpointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;\n\t\t\tvec3 pointHalfVector = normalize( pointVector + viewPosition );\n\t\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n\t\t\tfloat pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );\n\t\t\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;\n\t\t}\n\t#endif\n\t#if MAX_SPOT_LIGHTS > 0\n\t\tvec3 spotDiffuse = vec3( 0.0 );\n\t\tvec3 spotSpecular = vec3( 0.0 );\n\t\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\t\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\t\tvec3 spotVector = lPosition.xyz + vViewPosition.xyz;\n\t\t\tfloat spotDistance = 1.0;\n\t\t\tif ( spotLightDistance[ i ] > 0.0 )\n\t\t\t\tspotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );\n\t\t\tspotVector = normalize( spotVector );\n\t\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\t\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\t\t\t\tspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n\t\t\t\t#ifdef WRAP_AROUND\n\t\t\t\t\tfloat spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );\n\t\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );\n\t\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\t\t\t\t#else\n\t\t\t\t\tfloat spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );\n\t\t\t\t#endif\n\t\t\t\tspotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;\n\t\t\t\tvec3 spotHalfVector = normalize( spotVector + viewPosition );\n\t\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n\t\t\t\tfloat spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\t\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );\n\t\t\t\tspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;\n\t\t\t}\n\t\t}\n\t#endif\n\t#if MAX_DIR_LIGHTS > 0\n\t\tvec3 dirDiffuse = vec3( 0.0 );\n\t\tvec3 dirSpecular = vec3( 0.0 );\n\t\tfor( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {\n\t\t\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n\t\t\tvec3 dirVector = normalize( lDirection.xyz );\n\t\t\t#ifdef WRAP_AROUND\n\t\t\t\tfloat directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );\n\t\t\t\tfloat directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );\n\t\t\t\tvec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );\n\t\t\t#else\n\t\t\t\tfloat dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );\n\t\t\t#endif\n\t\t\tdirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;\n\t\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\n\t\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n\t\t\tfloat dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\n\t\t\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\t\t}\n\t#endif\n\t#if MAX_HEMI_LIGHTS > 0\n\t\tvec3 hemiDiffuse  = vec3( 0.0 );\n\t\tvec3 hemiSpecular = vec3( 0.0 );\n\t\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\t\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n\t\t\tvec3 lVector = normalize( lDirection.xyz );\n\t\t\tfloat dotProduct = dot( normal, lVector );\n\t\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\t\t\themiDiffuse += diffuse * hemiColor;\n\t\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n\t\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n\t\t\tfloat hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\n\t\t\tvec3 lVectorGround = -lVector;\n\t\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n\t\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n\t\t\tfloat hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\n\t\t\tfloat dotProductGround = dot( normal, lVectorGround );\n\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\n\t\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\n\t\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\n\t\t\themiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\t\t}\n\t#endif\n\tvec3 totalDiffuse = vec3( 0.0 );\n\tvec3 totalSpecular = vec3( 0.0 );\n\t#if MAX_DIR_LIGHTS > 0\n\t\ttotalDiffuse += dirDiffuse;\n\t\ttotalSpecular += dirSpecular;\n\t#endif\n\t#if MAX_HEMI_LIGHTS > 0\n\t\ttotalDiffuse += hemiDiffuse;\n\t\ttotalSpecular += hemiSpecular;\n\t#endif\n\t#if MAX_POINT_LIGHTS > 0\n\t\ttotalDiffuse += pointDiffuse;\n\t\ttotalSpecular += pointSpecular;\n\t#endif\n\t#if MAX_SPOT_LIGHTS > 0\n\t\ttotalDiffuse += spotDiffuse;\n\t\ttotalSpecular += spotSpecular;\n\t#endif\n\t#ifdef METAL\n\t\tgl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );\n\t#else\n\t\tgl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n\t#endif\n\tif ( enableReflection ) {\n\t\tvec3 vReflect;\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tif ( useRefract ) {\n\t\t\tvReflect = refract( cameraToVertex, normal, refractionRatio );\n\t\t} else {\n\t\t\tvReflect = reflect( cameraToVertex, normal );\n\t\t}\n\t\tvec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\n\t\t#ifdef GAMMA_INPUT\n\t\t\tcubeColor.xyz *= cubeColor.xyz;\n\t\t#endif\n\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );\n\t}",
THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;\nuniform vec2 uOffset;\nuniform vec2 uRepeat;\nuniform bool enableDisplacement;\n#ifdef VERTEX_TEXTURES\n\tuniform sampler2D tDisplacement;\n\tuniform float uDisplacementScale;\n\tuniform float uDisplacementBias;\n#endif\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",
THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,"\t#ifdef USE_SKINNING\n\t\tvNormal = normalize( normalMatrix * skinnedNormal.xyz );\n\t\tvec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );\n\t\tvTangent = normalize( normalMatrix * skinnedTangent.xyz );\n\t#else\n\t\tvNormal = normalize( normalMatrix * normal );\n\t\tvTangent = normalize( normalMatrix * tangent.xyz );\n\t#endif\n\tvBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );\n\tvUv = uv * uRepeat + uOffset;\n\tvec3 displacedPosition;\n\t#ifdef VERTEX_TEXTURES\n\t\tif ( enableDisplacement ) {\n\t\t\tvec3 dv = texture2D( tDisplacement, uv ).xyz;\n\t\t\tfloat df = uDisplacementScale * dv.x + uDisplacementBias;\n\t\t\tdisplacedPosition = position + normalize( normal ) * df;\n\t\t} else {\n\t\t\t#ifdef USE_SKINNING\n\t\t\t\tvec4 skinVertex = vec4( position, 1.0 );\n\t\t\t\tvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\n\t\t\t\tskinned \t  += boneMatY * skinVertex * skinWeight.y;\n\t\t\t\tskinned \t  += boneMatZ * skinVertex * skinWeight.z;\n\t\t\t\tskinned \t  += boneMatW * skinVertex * skinWeight.w;\n\t\t\t\tdisplacedPosition  = skinned.xyz;\n\t\t\t#else\n\t\t\t\tdisplacedPosition = position;\n\t\t\t#endif\n\t\t}\n\t#else\n\t\t#ifdef USE_SKINNING\n\t\t\tvec4 skinVertex = vec4( position, 1.0 );\n\t\t\tvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\n\t\t\tskinned \t  += boneMatY * skinVertex * skinWeight.y;\n\t\t\tskinned \t  += boneMatZ * skinVertex * skinWeight.z;\n\t\t\tskinned \t  += boneMatW * skinVertex * skinWeight.w;\n\t\t\tdisplacedPosition  = skinned.xyz;\n\t\t#else\n\t\t\tdisplacedPosition = position;\n\t\t#endif\n\t#endif\n\tvec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );\n\tvec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;",
THREE.ShaderChunk.logdepthbuf_vertex,"\tvWorldPosition = worldPosition.xyz;\n\tvViewPosition = -mvPosition.xyz;\n\t#ifdef USE_SHADOWMAP\n\t\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\t\t}\n\t#endif\n}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {\n\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\tvWorldPosition = worldPosition.xyz;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,
"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[THREE.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {\n\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nvoid main() {",
THREE.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\n\t#else\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n\t#endif\n}"].join("\n")}};
THREE.WebGLRenderer=function(a){function b(a,c){var b=a.vertices.length,d=c.material;if(d.attributes){void 0===a.__webglCustomAttributesList&&(a.__webglCustomAttributesList=[]);for(var f in d.attributes){var e=d.attributes[f];if(!e.__webglInitialized||e.createUniqueBuffers){e.__webglInitialized=!0;var g=1;"v2"===e.type?g=2:"v3"===e.type?g=3:"v4"===e.type?g=4:"c"===e.type&&(g=3);e.size=g;e.array=new Float32Array(b*g);e.buffer=z.createBuffer();e.buffer.belongsToAttribute=f;e.needsUpdate=!0}a.__webglCustomAttributesList.push(e)}}}
function d(a,c){var b=c.geometry,d=a.faces3,g=3*d.length,k=1*d.length,l=3*d.length,d=e(c,a),n=h(d),m=f(d),p=d.vertexColors?d.vertexColors:!1;a.__vertexArray=new Float32Array(3*g);m&&(a.__normalArray=new Float32Array(3*g));b.hasTangents&&(a.__tangentArray=new Float32Array(4*g));p&&(a.__colorArray=new Float32Array(3*g));n&&(0<b.faceVertexUvs.length&&(a.__uvArray=new Float32Array(2*g)),1<b.faceVertexUvs.length&&(a.__uv2Array=new Float32Array(2*g)));c.geometry.skinWeights.length&&c.geometry.skinIndices.length&&
(a.__skinIndexArray=new Float32Array(4*g),a.__skinWeightArray=new Float32Array(4*g));b=null!==rb&&21845<k?Uint32Array:Uint16Array;a.__typeArray=b;a.__faceArray=new b(3*k);a.__lineArray=new b(2*l);if(a.numMorphTargets)for(a.__morphTargetsArrays=[],b=0,n=a.numMorphTargets;b<n;b++)a.__morphTargetsArrays.push(new Float32Array(3*g));if(a.numMorphNormals)for(a.__morphNormalsArrays=[],b=0,n=a.numMorphNormals;b<n;b++)a.__morphNormalsArrays.push(new Float32Array(3*g));a.__webglFaceCount=3*k;a.__webglLineCount=
2*l;if(d.attributes){void 0===a.__webglCustomAttributesList&&(a.__webglCustomAttributesList=[]);for(var q in d.attributes){var k=d.attributes[q],l={},r;for(r in k)l[r]=k[r];if(!l.__webglInitialized||l.createUniqueBuffers)l.__webglInitialized=!0,b=1,"v2"===l.type?b=2:"v3"===l.type?b=3:"v4"===l.type?b=4:"c"===l.type&&(b=3),l.size=b,l.array=new Float32Array(g*b),l.buffer=z.createBuffer(),l.buffer.belongsToAttribute=q,k.needsUpdate=!0,l.__original=k;a.__webglCustomAttributesList.push(l)}}a.__inittedArrays=
!0}function e(a,c){return a.material instanceof THREE.MeshFaceMaterial?a.material.materials[c.materialIndex]:a.material}function f(a){return a instanceof THREE.MeshBasicMaterial&&!a.envMap||a instanceof THREE.MeshDepthMaterial?!1:a&&void 0!==a.shading&&a.shading===THREE.SmoothShading?THREE.SmoothShading:THREE.FlatShading}function h(a){return a.map||a.lightMap||a.bumpMap||a.normalMap||a.specularMap||a instanceof THREE.ShaderMaterial?!0:!1}function g(a,c,b,d){for(var f in c){var e=c[f],g=b[f];if(0<=
e)if(g){var h=g.itemSize;z.bindBuffer(z.ARRAY_BUFFER,g.buffer);l(e);z.vertexAttribPointer(e,h,z.FLOAT,!1,0,d*h*4)}else a.defaultAttributeValues&&(2===a.defaultAttributeValues[f].length?z.vertexAttrib2fv(e,a.defaultAttributeValues[f]):3===a.defaultAttributeValues[f].length&&z.vertexAttrib3fv(e,a.defaultAttributeValues[f]))}n()}function k(){for(var a=0,c=eb.length;a<c;a++)eb[a]=0}function l(a){eb[a]=1;0===Bb[a]&&(z.enableVertexAttribArray(a),Bb[a]=1)}function n(){for(var a=0,c=Bb.length;a<c;a++)Bb[a]!==
eb[a]&&(z.disableVertexAttribArray(a),Bb[a]=0)}function p(a,c){return a.z!==c.z?c.z-a.z:a.id-c.id}function q(a,c){return c[0]-a[0]}function m(a,c,b){if(a.length)for(var d=0,f=a.length;d<f;d++)Ka=na=null,ia=za=Oa=v=Da=va=db=-1,ob=!0,a[d].render(c,b,Ca,Na),Ka=na=null,ia=za=Oa=v=Da=va=db=-1,ob=!0}function t(a,c,b,d,f,e,g,h){var k,l,n,m;c?(l=a.length-1,m=c=-1):(l=0,c=a.length,m=1);for(var p=l;p!==c;p+=m)if(k=a[p],k.render){l=k.object;n=k.buffer;if(h)k=h;else{k=k[b];if(!k)continue;g&&S.setBlending(k.blending,
k.blendEquation,k.blendSrc,k.blendDst);S.setDepthTest(k.depthTest);S.setDepthWrite(k.depthWrite);M(k.polygonOffset,k.polygonOffsetFactor,k.polygonOffsetUnits)}S.setMaterialFaces(k);n instanceof THREE.BufferGeometry?S.renderBufferDirect(d,f,e,k,n,l):S.renderBuffer(d,f,e,k,n,l)}}function s(a,c,b,d,f,e,g){for(var h,k,l=0,n=a.length;l<n;l++)if(h=a[l],k=h.object,k.visible){if(g)h=g;else{h=h[c];if(!h)continue;e&&S.setBlending(h.blending,h.blendEquation,h.blendSrc,h.blendDst);S.setDepthTest(h.depthTest);
S.setDepthWrite(h.depthWrite);M(h.polygonOffset,h.polygonOffsetFactor,h.polygonOffsetUnits)}S.renderImmediateObject(b,d,f,h,k)}}function u(a,c){var f,e,g;if(void 0===a.__webglInit&&(a.__webglInit=!0,a._modelViewMatrix=new THREE.Matrix4,a._normalMatrix=new THREE.Matrix3,e=a.geometry,void 0!==e&&void 0===e.__webglInit))if(e.__webglInit=!0,e.addEventListener("dispose",ta),e instanceof THREE.BufferGeometry)for(g in e.attributes){var h="index"===g?z.ELEMENT_ARRAY_BUFFER:z.ARRAY_BUFFER,k=e.attributes[g];
k.buffer=z.createBuffer();z.bindBuffer(h,k.buffer);z.bufferData(h,k.array,z.STATIC_DRAW)}else if(a instanceof THREE.Mesh)for(f in g=a.material,void 0===e.geometryGroups&&e.makeGroups(g instanceof THREE.MeshFaceMaterial,rb?4294967296:65535),e.geometryGroups){if(g=e.geometryGroups[f],!g.__webglVertexBuffer){h=g;h.__webglVertexBuffer=z.createBuffer();h.__webglNormalBuffer=z.createBuffer();h.__webglTangentBuffer=z.createBuffer();h.__webglColorBuffer=z.createBuffer();h.__webglUVBuffer=z.createBuffer();
h.__webglUV2Buffer=z.createBuffer();h.__webglSkinIndicesBuffer=z.createBuffer();h.__webglSkinWeightsBuffer=z.createBuffer();h.__webglFaceBuffer=z.createBuffer();h.__webglLineBuffer=z.createBuffer();var l=void 0;if(h.numMorphTargets)for(h.__webglMorphTargetsBuffers=[],k=0,l=h.numMorphTargets;k<l;k++)h.__webglMorphTargetsBuffers.push(z.createBuffer());if(h.numMorphNormals)for(h.__webglMorphNormalsBuffers=[],k=0,l=h.numMorphNormals;k<l;k++)h.__webglMorphNormalsBuffers.push(z.createBuffer());S.info.memory.geometries++;
d(g,a);e.verticesNeedUpdate=!0;e.morphTargetsNeedUpdate=!0;e.elementsNeedUpdate=!0;e.uvsNeedUpdate=!0;e.normalsNeedUpdate=!0;e.tangentsNeedUpdate=!0;e.colorsNeedUpdate=!0}}else a instanceof THREE.Line?e.__webglVertexBuffer||(g=e,g.__webglVertexBuffer=z.createBuffer(),g.__webglColorBuffer=z.createBuffer(),g.__webglLineDistanceBuffer=z.createBuffer(),S.info.memory.geometries++,g=e,h=g.vertices.length,g.__vertexArray=new Float32Array(3*h),g.__colorArray=new Float32Array(3*h),g.__lineDistanceArray=new Float32Array(1*
h),g.__webglLineCount=h,b(g,a),e.verticesNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0):a instanceof THREE.ParticleSystem&&!e.__webglVertexBuffer&&(g=e,g.__webglVertexBuffer=z.createBuffer(),g.__webglColorBuffer=z.createBuffer(),S.info.memory.geometries++,g=e,h=g.vertices.length,g.__vertexArray=new Float32Array(3*h),g.__colorArray=new Float32Array(3*h),g.__sortArray=[],g.__webglParticleCount=h,b(g,a),e.verticesNeedUpdate=!0,e.colorsNeedUpdate=!0);if(void 0===a.__webglActive){if(a instanceof
THREE.Mesh)if(e=a.geometry,e instanceof THREE.BufferGeometry)r(c.__webglObjects,e,a);else{if(e instanceof THREE.Geometry)for(f in e.geometryGroups)g=e.geometryGroups[f],r(c.__webglObjects,g,a)}else a instanceof THREE.Line||a instanceof THREE.ParticleSystem?(e=a.geometry,r(c.__webglObjects,e,a)):a instanceof THREE.ImmediateRenderObject||a.immediateRenderCallback?c.__webglObjectsImmediate.push({id:null,object:a,opaque:null,transparent:null,z:0}):a instanceof THREE.Sprite?c.__webglSprites.push(a):a instanceof
THREE.LensFlare&&c.__webglFlares.push(a);a.__webglActive=!0}}function r(a,c,b){a.push({id:null,buffer:c,object:b,opaque:null,transparent:null,z:0})}function w(a){for(var c in a.attributes)if(a.attributes[c].needsUpdate)return!0;return!1}function A(a){for(var c in a.attributes)a.attributes[c].needsUpdate=!1}function C(a,c){a instanceof THREE.Mesh||a instanceof THREE.ParticleSystem||a instanceof THREE.Line?G(c.__webglObjects,a):a instanceof THREE.Sprite?F(c.__webglSprites,a):a instanceof THREE.LensFlare?
F(c.__webglFlares,a):(a instanceof THREE.ImmediateRenderObject||a.immediateRenderCallback)&&G(c.__webglObjectsImmediate,a);delete a.__webglActive}function G(a,c){for(var b=a.length-1;0<=b;b--)a[b].object===c&&a.splice(b,1)}function F(a,c){for(var b=a.length-1;0<=b;b--)a[b]===c&&a.splice(b,1)}function D(a,c,b,d,f){ba=0;d.needsUpdate&&(d.program&&Aa(d),S.initMaterial(d,c,b,f),d.needsUpdate=!1);d.morphTargets&&!f.__webglMorphTargetInfluences&&(f.__webglMorphTargetInfluences=new Float32Array(S.maxMorphTargets));
var e=!1,g=d.program,h=g.uniforms,k=d.uniforms;g.id!==na&&(z.useProgram(g.program),na=g.id,e=!0);d.id!==ia&&(ia=d.id,e=!0);if(e||a!==Ka)z.uniformMatrix4fv(h.projectionMatrix,!1,a.projectionMatrix.elements),fa&&z.uniform1f(h.logDepthBufFC,2/(Math.log(a.far+1)/Math.LN2)),a!==Ka&&(Ka=a);if(d.skinning)if(xc&&f.skeleton.useVertexTexture){if(null!==h.boneTexture){var l=I();z.uniform1i(h.boneTexture,l);S.setTexture(f.skeleton.boneTexture,l)}null!==h.boneTextureWidth&&z.uniform1i(h.boneTextureWidth,f.skeleton.boneTextureWidth);
null!==h.boneTextureHeight&&z.uniform1i(h.boneTextureHeight,f.skeleton.boneTextureHeight)}else null!==h.boneGlobalMatrices&&z.uniformMatrix4fv(h.boneGlobalMatrices,!1,f.skeleton.boneMatrices);if(e){b&&d.fog&&(k.fogColor.value=b.color,b instanceof THREE.Fog?(k.fogNear.value=b.near,k.fogFar.value=b.far):b instanceof THREE.FogExp2&&(k.fogDensity.value=b.density));if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d.lights){if(ob){var n,m=l=0,p=0,q,r,t,s=Cc,u=s.directional.colors,
w=s.directional.positions,v=s.point.colors,A=s.point.positions,C=s.point.distances,F=s.spot.colors,G=s.spot.positions,H=s.spot.distances,D=s.spot.directions,M=s.spot.anglesCos,L=s.spot.exponents,N=s.hemi.skyColors,O=s.hemi.groundColors,T=s.hemi.positions,R=0,X=0,Y=0,Z=0,ea=0,V=0,U=0,W=0,B=n=0;b=B=0;for(e=c.length;b<e;b++)if(n=c[b],!n.onlyShadow)if(q=n.color,r=n.intensity,t=n.distance,n instanceof THREE.AmbientLight)n.visible&&(S.gammaInput?(l+=q.r*q.r,m+=q.g*q.g,p+=q.b*q.b):(l+=q.r,m+=q.g,p+=q.b));
else if(n instanceof THREE.DirectionalLight){if(ea+=1,n.visible&&(Ea.setFromMatrixPosition(n.matrixWorld),Ia.setFromMatrixPosition(n.target.matrixWorld),Ea.sub(Ia),Ea.normalize(),0!==Ea.x||0!==Ea.y||0!==Ea.z))n=3*R,w[n]=Ea.x,w[n+1]=Ea.y,w[n+2]=Ea.z,S.gammaInput?E(u,n,q,r*r):P(u,n,q,r),R+=1}else n instanceof THREE.PointLight?(V+=1,n.visible&&(B=3*X,S.gammaInput?E(v,B,q,r*r):P(v,B,q,r),Ia.setFromMatrixPosition(n.matrixWorld),A[B]=Ia.x,A[B+1]=Ia.y,A[B+2]=Ia.z,C[X]=t,X+=1)):n instanceof THREE.SpotLight?
(U+=1,n.visible&&(B=3*Y,S.gammaInput?E(F,B,q,r*r):P(F,B,q,r),Ia.setFromMatrixPosition(n.matrixWorld),G[B]=Ia.x,G[B+1]=Ia.y,G[B+2]=Ia.z,H[Y]=t,Ea.copy(Ia),Ia.setFromMatrixPosition(n.target.matrixWorld),Ea.sub(Ia),Ea.normalize(),D[B]=Ea.x,D[B+1]=Ea.y,D[B+2]=Ea.z,M[Y]=Math.cos(n.angle),L[Y]=n.exponent,Y+=1)):n instanceof THREE.HemisphereLight&&(W+=1,n.visible&&(Ea.setFromMatrixPosition(n.matrixWorld),Ea.normalize(),0!==Ea.x||0!==Ea.y||0!==Ea.z))&&(t=3*Z,T[t]=Ea.x,T[t+1]=Ea.y,T[t+2]=Ea.z,q=n.color,n=
n.groundColor,S.gammaInput?(r*=r,E(N,t,q,r),E(O,t,n,r)):(P(N,t,q,r),P(O,t,n,r)),Z+=1);b=3*R;for(e=Math.max(u.length,3*ea);b<e;b++)u[b]=0;b=3*X;for(e=Math.max(v.length,3*V);b<e;b++)v[b]=0;b=3*Y;for(e=Math.max(F.length,3*U);b<e;b++)F[b]=0;b=3*Z;for(e=Math.max(N.length,3*W);b<e;b++)N[b]=0;b=3*Z;for(e=Math.max(O.length,3*W);b<e;b++)O[b]=0;s.directional.length=R;s.point.length=X;s.spot.length=Y;s.hemi.length=Z;s.ambient[0]=l;s.ambient[1]=m;s.ambient[2]=p;ob=!1}b=Cc;k.ambientLightColor.value=b.ambient;
k.directionalLightColor.value=b.directional.colors;k.directionalLightDirection.value=b.directional.positions;k.pointLightColor.value=b.point.colors;k.pointLightPosition.value=b.point.positions;k.pointLightDistance.value=b.point.distances;k.spotLightColor.value=b.spot.colors;k.spotLightPosition.value=b.spot.positions;k.spotLightDistance.value=b.spot.distances;k.spotLightDirection.value=b.spot.directions;k.spotLightAngleCos.value=b.spot.anglesCos;k.spotLightExponent.value=b.spot.exponents;k.hemisphereLightSkyColor.value=
b.hemi.skyColors;k.hemisphereLightGroundColor.value=b.hemi.groundColors;k.hemisphereLightDirection.value=b.hemi.positions}if(d instanceof THREE.MeshBasicMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshPhongMaterial){k.opacity.value=d.opacity;S.gammaInput?k.diffuse.value.copyGammaToLinear(d.color):k.diffuse.value=d.color;k.map.value=d.map;k.lightMap.value=d.lightMap;k.specularMap.value=d.specularMap;d.bumpMap&&(k.bumpMap.value=d.bumpMap,k.bumpScale.value=d.bumpScale);d.normalMap&&
(k.normalMap.value=d.normalMap,k.normalScale.value.copy(d.normalScale));var Ra;d.map?Ra=d.map:d.specularMap?Ra=d.specularMap:d.normalMap?Ra=d.normalMap:d.bumpMap&&(Ra=d.bumpMap);void 0!==Ra&&(b=Ra.offset,Ra=Ra.repeat,k.offsetRepeat.value.set(b.x,b.y,Ra.x,Ra.y));k.envMap.value=d.envMap;k.flipEnvMap.value=d.envMap instanceof THREE.WebGLRenderTargetCube?1:-1;k.reflectivity.value=d.reflectivity;k.refractionRatio.value=d.refractionRatio;k.combine.value=d.combine;k.useRefract.value=d.envMap&&d.envMap.mapping instanceof
THREE.CubeRefractionMapping}d instanceof THREE.LineBasicMaterial?(k.diffuse.value=d.color,k.opacity.value=d.opacity):d instanceof THREE.LineDashedMaterial?(k.diffuse.value=d.color,k.opacity.value=d.opacity,k.dashSize.value=d.dashSize,k.totalSize.value=d.dashSize+d.gapSize,k.scale.value=d.scale):d instanceof THREE.ParticleSystemMaterial?(k.psColor.value=d.color,k.opacity.value=d.opacity,k.size.value=d.size,k.scale.value=Q.height/2,k.map.value=d.map):d instanceof THREE.MeshPhongMaterial?(k.shininess.value=
d.shininess,S.gammaInput?(k.ambient.value.copyGammaToLinear(d.ambient),k.emissive.value.copyGammaToLinear(d.emissive),k.specular.value.copyGammaToLinear(d.specular)):(k.ambient.value=d.ambient,k.emissive.value=d.emissive,k.specular.value=d.specular),d.wrapAround&&k.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshLambertMaterial?(S.gammaInput?(k.ambient.value.copyGammaToLinear(d.ambient),k.emissive.value.copyGammaToLinear(d.emissive)):(k.ambient.value=d.ambient,k.emissive.value=d.emissive),d.wrapAround&&
k.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshDepthMaterial?(k.mNear.value=a.near,k.mFar.value=a.far,k.opacity.value=d.opacity):d instanceof THREE.MeshNormalMaterial&&(k.opacity.value=d.opacity);if(f.receiveShadow&&!d._shadowPass&&k.shadowMatrix)for(b=Ra=0,e=c.length;b<e;b++)l=c[b],l.castShadow&&(l instanceof THREE.SpotLight||l instanceof THREE.DirectionalLight&&!l.shadowCascade)&&(k.shadowMap.value[Ra]=l.shadowMap,k.shadowMapSize.value[Ra]=l.shadowMapSize,k.shadowMatrix.value[Ra]=l.shadowMatrix,
k.shadowDarkness.value[Ra]=l.shadowDarkness,k.shadowBias.value[Ra]=l.shadowBias,Ra++);c=d.uniformsList;k=0;for(Ra=c.length;k<Ra;k++)if(e=g.uniforms[c[k][1]])if(b=c[k][0],m=b.type,l=b.value,"i"===m)z.uniform1i(e,l);else if("f"===m)z.uniform1f(e,l);else if("v2"===m)z.uniform2f(e,l.x,l.y);else if("v3"===m)z.uniform3f(e,l.x,l.y,l.z);else if("v4"===m)z.uniform4f(e,l.x,l.y,l.z,l.w);else if("c"===m)z.uniform3f(e,l.r,l.g,l.b);else if("iv1"===m)z.uniform1iv(e,l);else if("iv"===m)z.uniform3iv(e,l);else if("fv1"===
m)z.uniform1fv(e,l);else if("fv"===m)z.uniform3fv(e,l);else if("v2v"===m){void 0===b._array&&(b._array=new Float32Array(2*l.length));m=0;for(p=l.length;m<p;m++)s=2*m,b._array[s]=l[m].x,b._array[s+1]=l[m].y;z.uniform2fv(e,b._array)}else if("v3v"===m){void 0===b._array&&(b._array=new Float32Array(3*l.length));m=0;for(p=l.length;m<p;m++)s=3*m,b._array[s]=l[m].x,b._array[s+1]=l[m].y,b._array[s+2]=l[m].z;z.uniform3fv(e,b._array)}else if("v4v"===m){void 0===b._array&&(b._array=new Float32Array(4*l.length));
m=0;for(p=l.length;m<p;m++)s=4*m,b._array[s]=l[m].x,b._array[s+1]=l[m].y,b._array[s+2]=l[m].z,b._array[s+3]=l[m].w;z.uniform4fv(e,b._array)}else if("m3"===m)z.uniformMatrix3fv(e,!1,l.elements);else if("m3v"===m){void 0===b._array&&(b._array=new Float32Array(9*l.length));m=0;for(p=l.length;m<p;m++)l[m].flattenToArrayOffset(b._array,9*m);z.uniformMatrix3fv(e,!1,b._array)}else if("m4"===m)z.uniformMatrix4fv(e,!1,l.elements);else if("m4v"===m){void 0===b._array&&(b._array=new Float32Array(16*l.length));
m=0;for(p=l.length;m<p;m++)l[m].flattenToArrayOffset(b._array,16*m);z.uniformMatrix4fv(e,!1,b._array)}else if("t"===m){if(s=l,l=I(),z.uniform1i(e,l),s)if(s.image instanceof Array&&6===s.image.length){if(b=s,e=l,6===b.image.length)if(b.needsUpdate){b.image.__webglTextureCube||(b.addEventListener("dispose",Ba),b.image.__webglTextureCube=z.createTexture(),S.info.memory.textures++);z.activeTexture(z.TEXTURE0+e);z.bindTexture(z.TEXTURE_CUBE_MAP,b.image.__webglTextureCube);z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,
b.flipY);e=b instanceof THREE.CompressedTexture;l=[];for(m=0;6>m;m++)S.autoScaleCubemaps&&!e?(p=l,s=m,u=b.image[m],v=mb,u.width<=v&&u.height<=v||(A=Math.max(u.width,u.height),w=Math.floor(u.width*v/A),v=Math.floor(u.height*v/A),A=document.createElement("canvas"),A.width=w,A.height=v,A.getContext("2d").drawImage(u,0,0,u.width,u.height,0,0,w,v),u=A),p[s]=u):l[m]=b.image[m];m=l[0];p=THREE.Math.isPowerOfTwo(m.width)&&THREE.Math.isPowerOfTwo(m.height);s=J(b.format);u=J(b.type);K(z.TEXTURE_CUBE_MAP,b,p);
for(m=0;6>m;m++)if(e)for(v=l[m].mipmaps,A=0,C=v.length;A<C;A++)w=v[A],b.format!==THREE.RGBAFormat?z.compressedTexImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+m,A,s,w.width,w.height,0,w.data):z.texImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+m,A,s,w.width,w.height,0,s,u,w.data);else z.texImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,s,s,u,l[m]);b.generateMipmaps&&p&&z.generateMipmap(z.TEXTURE_CUBE_MAP);b.needsUpdate=!1;if(b.onUpdate)b.onUpdate()}else z.activeTexture(z.TEXTURE0+e),z.bindTexture(z.TEXTURE_CUBE_MAP,b.image.__webglTextureCube)}else s instanceof
THREE.WebGLRenderTargetCube?(b=s,z.activeTexture(z.TEXTURE0+l),z.bindTexture(z.TEXTURE_CUBE_MAP,b.__webglTexture)):S.setTexture(s,l)}else if("tv"===m){void 0===b._array&&(b._array=[]);m=0;for(p=b.value.length;m<p;m++)b._array[m]=I();z.uniform1iv(e,b._array);m=0;for(p=b.value.length;m<p;m++)s=b.value[m],l=b._array[m],s&&S.setTexture(s,l)}else console.warn("THREE.WebGLRenderer: Unknown uniform type: "+m);(d instanceof THREE.ShaderMaterial||d instanceof THREE.MeshPhongMaterial||d.envMap)&&null!==h.cameraPosition&&
(Ia.setFromMatrixPosition(a.matrixWorld),z.uniform3f(h.cameraPosition,Ia.x,Ia.y,Ia.z));(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.ShaderMaterial||d.skinning)&&null!==h.viewMatrix&&z.uniformMatrix4fv(h.viewMatrix,!1,a.matrixWorldInverse.elements)}z.uniformMatrix4fv(h.modelViewMatrix,!1,f._modelViewMatrix.elements);h.normalMatrix&&z.uniformMatrix3fv(h.normalMatrix,!1,f._normalMatrix.elements);null!==h.modelMatrix&&z.uniformMatrix4fv(h.modelMatrix,
!1,f.matrixWorld.elements);return g}function I(){var a=ba;a>=pb&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+pb);ba+=1;return a}function E(a,c,b,d){a[c]=b.r*b.r*d;a[c+1]=b.g*b.g*d;a[c+2]=b.b*b.b*d}function P(a,c,b,d){a[c]=b.r*d;a[c+1]=b.g*d;a[c+2]=b.b*d}function H(a){a!==Wa&&(z.lineWidth(a),Wa=a)}function M(a,c,b){Sa!==a&&(a?z.enable(z.POLYGON_OFFSET_FILL):z.disable(z.POLYGON_OFFSET_FILL),Sa=a);!a||qa===c&&ha===b||(z.polygonOffset(c,b),qa=c,ha=b)}
function K(a,c,b){b?(z.texParameteri(a,z.TEXTURE_WRAP_S,J(c.wrapS)),z.texParameteri(a,z.TEXTURE_WRAP_T,J(c.wrapT)),z.texParameteri(a,z.TEXTURE_MAG_FILTER,J(c.magFilter)),z.texParameteri(a,z.TEXTURE_MIN_FILTER,J(c.minFilter))):(z.texParameteri(a,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE),z.texParameteri(a,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE),z.texParameteri(a,z.TEXTURE_MAG_FILTER,L(c.magFilter)),z.texParameteri(a,z.TEXTURE_MIN_FILTER,L(c.minFilter)));bb&&c.type!==THREE.FloatType&&(1<c.anisotropy||c.__oldAnisotropy)&&
(z.texParameterf(a,bb.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,Sb)),c.__oldAnisotropy=c.anisotropy)}function N(a,c){z.bindRenderbuffer(z.RENDERBUFFER,a);c.depthBuffer&&!c.stencilBuffer?(z.renderbufferStorage(z.RENDERBUFFER,z.DEPTH_COMPONENT16,c.width,c.height),z.framebufferRenderbuffer(z.FRAMEBUFFER,z.DEPTH_ATTACHMENT,z.RENDERBUFFER,a)):c.depthBuffer&&c.stencilBuffer?(z.renderbufferStorage(z.RENDERBUFFER,z.DEPTH_STENCIL,c.width,c.height),z.framebufferRenderbuffer(z.FRAMEBUFFER,z.DEPTH_STENCIL_ATTACHMENT,
z.RENDERBUFFER,a)):z.renderbufferStorage(z.RENDERBUFFER,z.RGBA4,c.width,c.height)}function L(a){return a===THREE.NearestFilter||a===THREE.NearestMipMapNearestFilter||a===THREE.NearestMipMapLinearFilter?z.NEAREST:z.LINEAR}function J(a){if(a===THREE.RepeatWrapping)return z.REPEAT;if(a===THREE.ClampToEdgeWrapping)return z.CLAMP_TO_EDGE;if(a===THREE.MirroredRepeatWrapping)return z.MIRRORED_REPEAT;if(a===THREE.NearestFilter)return z.NEAREST;if(a===THREE.NearestMipMapNearestFilter)return z.NEAREST_MIPMAP_NEAREST;
if(a===THREE.NearestMipMapLinearFilter)return z.NEAREST_MIPMAP_LINEAR;if(a===THREE.LinearFilter)return z.LINEAR;if(a===THREE.LinearMipMapNearestFilter)return z.LINEAR_MIPMAP_NEAREST;if(a===THREE.LinearMipMapLinearFilter)return z.LINEAR_MIPMAP_LINEAR;if(a===THREE.UnsignedByteType)return z.UNSIGNED_BYTE;if(a===THREE.UnsignedShort4444Type)return z.UNSIGNED_SHORT_4_4_4_4;if(a===THREE.UnsignedShort5551Type)return z.UNSIGNED_SHORT_5_5_5_1;if(a===THREE.UnsignedShort565Type)return z.UNSIGNED_SHORT_5_6_5;
if(a===THREE.ByteType)return z.BYTE;if(a===THREE.ShortType)return z.SHORT;if(a===THREE.UnsignedShortType)return z.UNSIGNED_SHORT;if(a===THREE.IntType)return z.INT;if(a===THREE.UnsignedIntType)return z.UNSIGNED_INT;if(a===THREE.FloatType)return z.FLOAT;if(a===THREE.AlphaFormat)return z.ALPHA;if(a===THREE.RGBFormat)return z.RGB;if(a===THREE.RGBAFormat)return z.RGBA;if(a===THREE.LuminanceFormat)return z.LUMINANCE;if(a===THREE.LuminanceAlphaFormat)return z.LUMINANCE_ALPHA;if(a===THREE.AddEquation)return z.FUNC_ADD;
if(a===THREE.SubtractEquation)return z.FUNC_SUBTRACT;if(a===THREE.ReverseSubtractEquation)return z.FUNC_REVERSE_SUBTRACT;if(a===THREE.ZeroFactor)return z.ZERO;if(a===THREE.OneFactor)return z.ONE;if(a===THREE.SrcColorFactor)return z.SRC_COLOR;if(a===THREE.OneMinusSrcColorFactor)return z.ONE_MINUS_SRC_COLOR;if(a===THREE.SrcAlphaFactor)return z.SRC_ALPHA;if(a===THREE.OneMinusSrcAlphaFactor)return z.ONE_MINUS_SRC_ALPHA;if(a===THREE.DstAlphaFactor)return z.DST_ALPHA;if(a===THREE.OneMinusDstAlphaFactor)return z.ONE_MINUS_DST_ALPHA;
if(a===THREE.DstColorFactor)return z.DST_COLOR;if(a===THREE.OneMinusDstColorFactor)return z.ONE_MINUS_DST_COLOR;if(a===THREE.SrcAlphaSaturateFactor)return z.SRC_ALPHA_SATURATE;if(void 0!==hb){if(a===THREE.RGB_S3TC_DXT1_Format)return hb.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===THREE.RGBA_S3TC_DXT1_Format)return hb.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===THREE.RGBA_S3TC_DXT3_Format)return hb.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===THREE.RGBA_S3TC_DXT5_Format)return hb.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}console.log("THREE.WebGLRenderer",
THREE.REVISION);a=a||{};var Q=void 0!==a.canvas?a.canvas:document.createElement("canvas"),O=void 0!==a.context?a.context:null,T=void 0!==a.precision?a.precision:"highp",ea=void 0!==a.alpha?a.alpha:!1,X=void 0!==a.depth?a.depth:!0,Z=void 0!==a.stencil?a.stencil:!0,U=void 0!==a.antialias?a.antialias:!1,Y=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,R=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,fa=void 0!==a.logarithmicDepthBuffer?a.logarithmicDepthBuffer:!1,ka=new THREE.Color(0),
W=0;this.domElement=Q;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1;this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.shadowMapEnabled=this.gammaOutput=this.gammaInput=!1;this.shadowMapAutoUpdate=!0;this.shadowMapType=THREE.PCFShadowMap;this.shadowMapCullFace=THREE.CullFaceFront;this.shadowMapCascade=this.shadowMapDebug=!1;this.maxMorphTargets=
8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;this.renderPluginsPre=[];this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var S=this,ma=[],na=null,ra=null,ia=-1,za=null,Ka=null,ba=0,v=-1,Oa=-1,db=-1,Ta=-1,Ma=-1,xa=-1,va=-1,Da=-1,Sa=null,qa=null,ha=null,Wa=null,cb=0,Xa=0,Ja=Q.width,Za=Q.height,Ca=0,Na=0,eb=new Uint8Array(16),Bb=new Uint8Array(16),sa=new THREE.Frustum,qb=new THREE.Matrix4,Pb=new THREE.Matrix4,Ia=new THREE.Vector3,
Ea=new THREE.Vector3,ob=!0,Cc={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},z,la,kc,bb,hb,rb;(function(){try{var a={alpha:ea,depth:X,stencil:Z,antialias:U,premultipliedAlpha:Y,preserveDrawingBuffer:R};z=O||Q.getContext("webgl",a)||Q.getContext("experimental-webgl",a);if(null===z)throw"Error creating WebGL context.";
}catch(c){console.error(c)}la=z.getExtension("OES_texture_float");z.getExtension("OES_texture_float_linear");kc=z.getExtension("OES_standard_derivatives");bb=z.getExtension("EXT_texture_filter_anisotropic")||z.getExtension("MOZ_EXT_texture_filter_anisotropic")||z.getExtension("WEBKIT_EXT_texture_filter_anisotropic");hb=z.getExtension("WEBGL_compressed_texture_s3tc")||z.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||z.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");rb=z.getExtension("OES_element_index_uint");
null===la&&console.log("THREE.WebGLRenderer: Float textures not supported.");null===kc&&console.log("THREE.WebGLRenderer: Standard derivatives not supported.");null===bb&&console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported.");null===hb&&console.log("THREE.WebGLRenderer: S3TC compressed textures not supported.");null===rb&&console.log("THREE.WebGLRenderer: elementindex as unsigned integer not supported.");void 0===z.getShaderPrecisionFormat&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,
rangeMax:1,precision:1}});fa&&z.getExtension("EXT_frag_depth")})();z.clearColor(0,0,0,1);z.clearDepth(1);z.clearStencil(0);z.enable(z.DEPTH_TEST);z.depthFunc(z.LEQUAL);z.frontFace(z.CCW);z.cullFace(z.BACK);z.enable(z.CULL_FACE);z.enable(z.BLEND);z.blendEquation(z.FUNC_ADD);z.blendFunc(z.SRC_ALPHA,z.ONE_MINUS_SRC_ALPHA);z.viewport(cb,Xa,Ja,Za);z.clearColor(ka.r,ka.g,ka.b,W);this.context=z;var pb=z.getParameter(z.MAX_TEXTURE_IMAGE_UNITS),Eb=z.getParameter(z.MAX_VERTEX_TEXTURE_IMAGE_UNITS);z.getParameter(z.MAX_TEXTURE_SIZE);
var mb=z.getParameter(z.MAX_CUBE_MAP_TEXTURE_SIZE),Sb=bb?z.getParameter(bb.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,Tb=0<Eb,xc=Tb&&la;hb&&z.getParameter(z.COMPRESSED_TEXTURE_FORMATS);var Dc=z.getShaderPrecisionFormat(z.VERTEX_SHADER,z.HIGH_FLOAT),Ub=z.getShaderPrecisionFormat(z.VERTEX_SHADER,z.MEDIUM_FLOAT);z.getShaderPrecisionFormat(z.VERTEX_SHADER,z.LOW_FLOAT);var Xb=z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.HIGH_FLOAT),yc=z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.MEDIUM_FLOAT);z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,
z.LOW_FLOAT);var $a=0<Dc.precision&&0<Xb.precision,Vb=0<Ub.precision&&0<yc.precision;"highp"!==T||$a||(Vb?(T="mediump",console.warn("WebGLRenderer: highp not supported, using mediump")):(T="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp")));"mediump"!==T||Vb||(T="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp"));this.getContext=function(){return z};this.supportsVertexTextures=function(){return Tb};this.supportsFloatTextures=function(){return la};
this.supportsStandardDerivatives=function(){return kc};this.supportsCompressedTextureS3TC=function(){return hb};this.getMaxAnisotropy=function(){return Sb};this.getPrecision=function(){return T};this.setSize=function(a,c,b){Q.width=a*this.devicePixelRatio;Q.height=c*this.devicePixelRatio;!1!==b&&(Q.style.width=a+"px",Q.style.height=c+"px");this.setViewport(0,0,a,c)};this.setViewport=function(a,c,b,d){cb=a*this.devicePixelRatio;Xa=c*this.devicePixelRatio;Ja=b*this.devicePixelRatio;Za=d*this.devicePixelRatio;
z.viewport(cb,Xa,Ja,Za)};this.setScissor=function(a,c,b,d){z.scissor(a*this.devicePixelRatio,c*this.devicePixelRatio,b*this.devicePixelRatio,d*this.devicePixelRatio)};this.enableScissorTest=function(a){a?z.enable(z.SCISSOR_TEST):z.disable(z.SCISSOR_TEST)};this.setClearColor=function(a,c){ka.set(a);W=void 0!==c?c:1;z.clearColor(ka.r,ka.g,ka.b,W)};this.setClearColorHex=function(a,c){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.");this.setClearColor(a,
c)};this.getClearColor=function(){return ka};this.getClearAlpha=function(){return W};this.clear=function(a,c,b){var d=0;if(void 0===a||a)d|=z.COLOR_BUFFER_BIT;if(void 0===c||c)d|=z.DEPTH_BUFFER_BIT;if(void 0===b||b)d|=z.STENCIL_BUFFER_BIT;z.clear(d)};this.clearColor=function(){z.clear(z.COLOR_BUFFER_BIT)};this.clearDepth=function(){z.clear(z.DEPTH_BUFFER_BIT)};this.clearStencil=function(){z.clear(z.STENCIL_BUFFER_BIT)};this.clearTarget=function(a,c,b,d){this.setRenderTarget(a);this.clear(c,b,d)};
this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};this.addPrePlugin=function(a){a.init(this);this.renderPluginsPre.push(a)};this.updateShadowMap=function(a,c){na=null;ia=za=Da=va=db=-1;ob=!0;Oa=v=-1;this.shadowMapPlugin.update(a,c)};var ta=function(a){a=a.target;a.removeEventListener("dispose",ta);a.__webglInit=void 0;if(a instanceof THREE.BufferGeometry){var c=a.attributes,b;for(b in c)void 0!==c[b].buffer&&z.deleteBuffer(c[b].buffer);S.info.memory.geometries--}else if(void 0!==
a.geometryGroups)for(c in a.geometryGroups){b=a.geometryGroups[c];if(void 0!==b.numMorphTargets)for(var d=0,f=b.numMorphTargets;d<f;d++)z.deleteBuffer(b.__webglMorphTargetsBuffers[d]);if(void 0!==b.numMorphNormals)for(d=0,f=b.numMorphNormals;d<f;d++)z.deleteBuffer(b.__webglMorphNormalsBuffers[d]);da(b)}else da(a)},Ba=function(a){a=a.target;a.removeEventListener("dispose",Ba);a.image&&a.image.__webglTextureCube?z.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,z.deleteTexture(a.__webglTexture));
S.info.memory.textures--},rc=function(a){a=a.target;a.removeEventListener("dispose",rc);if(a&&a.__webglTexture)if(z.deleteTexture(a.__webglTexture),a instanceof THREE.WebGLRenderTargetCube)for(var c=0;6>c;c++)z.deleteFramebuffer(a.__webglFramebuffer[c]),z.deleteRenderbuffer(a.__webglRenderbuffer[c]);else z.deleteFramebuffer(a.__webglFramebuffer),z.deleteRenderbuffer(a.__webglRenderbuffer);S.info.memory.textures--},Zb=function(a){a=a.target;a.removeEventListener("dispose",Zb);Aa(a)},da=function(a){void 0!==
a.__webglVertexBuffer&&z.deleteBuffer(a.__webglVertexBuffer);void 0!==a.__webglNormalBuffer&&z.deleteBuffer(a.__webglNormalBuffer);void 0!==a.__webglTangentBuffer&&z.deleteBuffer(a.__webglTangentBuffer);void 0!==a.__webglColorBuffer&&z.deleteBuffer(a.__webglColorBuffer);void 0!==a.__webglUVBuffer&&z.deleteBuffer(a.__webglUVBuffer);void 0!==a.__webglUV2Buffer&&z.deleteBuffer(a.__webglUV2Buffer);void 0!==a.__webglSkinIndicesBuffer&&z.deleteBuffer(a.__webglSkinIndicesBuffer);void 0!==a.__webglSkinWeightsBuffer&&
z.deleteBuffer(a.__webglSkinWeightsBuffer);void 0!==a.__webglFaceBuffer&&z.deleteBuffer(a.__webglFaceBuffer);void 0!==a.__webglLineBuffer&&z.deleteBuffer(a.__webglLineBuffer);void 0!==a.__webglLineDistanceBuffer&&z.deleteBuffer(a.__webglLineDistanceBuffer);if(void 0!==a.__webglCustomAttributesList)for(var c in a.__webglCustomAttributesList)z.deleteBuffer(a.__webglCustomAttributesList[c].buffer);S.info.memory.geometries--},Aa=function(a){var c=a.program;if(void 0!==c){a.program=void 0;var b,d,f=!1;
a=0;for(b=ma.length;a<b;a++)if(d=ma[a],d.program===c){d.usedTimes--;0===d.usedTimes&&(f=!0);break}if(!0===f){f=[];a=0;for(b=ma.length;a<b;a++)d=ma[a],d.program!==c&&f.push(d);ma=f;z.deleteProgram(c);S.info.memory.programs--}}};this.renderBufferImmediate=function(a,c,b){k();a.hasPositions&&!a.__webglVertexBuffer&&(a.__webglVertexBuffer=z.createBuffer());a.hasNormals&&!a.__webglNormalBuffer&&(a.__webglNormalBuffer=z.createBuffer());a.hasUvs&&!a.__webglUvBuffer&&(a.__webglUvBuffer=z.createBuffer());
a.hasColors&&!a.__webglColorBuffer&&(a.__webglColorBuffer=z.createBuffer());a.hasPositions&&(z.bindBuffer(z.ARRAY_BUFFER,a.__webglVertexBuffer),z.bufferData(z.ARRAY_BUFFER,a.positionArray,z.DYNAMIC_DRAW),l(c.attributes.position),z.vertexAttribPointer(c.attributes.position,3,z.FLOAT,!1,0,0));if(a.hasNormals){z.bindBuffer(z.ARRAY_BUFFER,a.__webglNormalBuffer);if(b.shading===THREE.FlatShading){var d,f,e,g,h,m,p,q,r,s,t,u=3*a.count;for(t=0;t<u;t+=9)s=a.normalArray,d=s[t],f=s[t+1],e=s[t+2],g=s[t+3],m=
s[t+4],q=s[t+5],h=s[t+6],p=s[t+7],r=s[t+8],d=(d+g+h)/3,f=(f+m+p)/3,e=(e+q+r)/3,s[t]=d,s[t+1]=f,s[t+2]=e,s[t+3]=d,s[t+4]=f,s[t+5]=e,s[t+6]=d,s[t+7]=f,s[t+8]=e}z.bufferData(z.ARRAY_BUFFER,a.normalArray,z.DYNAMIC_DRAW);l(c.attributes.normal);z.vertexAttribPointer(c.attributes.normal,3,z.FLOAT,!1,0,0)}a.hasUvs&&b.map&&(z.bindBuffer(z.ARRAY_BUFFER,a.__webglUvBuffer),z.bufferData(z.ARRAY_BUFFER,a.uvArray,z.DYNAMIC_DRAW),l(c.attributes.uv),z.vertexAttribPointer(c.attributes.uv,2,z.FLOAT,!1,0,0));a.hasColors&&
b.vertexColors!==THREE.NoColors&&(z.bindBuffer(z.ARRAY_BUFFER,a.__webglColorBuffer),z.bufferData(z.ARRAY_BUFFER,a.colorArray,z.DYNAMIC_DRAW),l(c.attributes.color),z.vertexAttribPointer(c.attributes.color,3,z.FLOAT,!1,0,0));n();z.drawArrays(z.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,c,b,d,f,e){if(!1!==d.visible){var h=D(a,c,b,d,e);a=h.attributes;c=f.attributes;b=!1;h=16777215*f.id+2*h.id+(d.wireframe?1:0);h!==za&&(za=h,b=!0);b&&k();if(e instanceof THREE.Mesh)if(e=c.index){var l;
e.array instanceof Uint32Array?(h=z.UNSIGNED_INT,l=4):(h=z.UNSIGNED_SHORT,l=2);f=f.offsets;if(0===f.length)b&&(g(d,a,c,0),z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,e.buffer)),z.drawElements(z.TRIANGLES,e.array.length,h,0),S.info.render.calls++,S.info.render.vertices+=e.array.length,S.info.render.faces+=e.array.length/3;else{b=!0;for(var m=0,n=f.length;m<n;m++){var p=f[m].index;b&&(g(d,a,c,p),z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,e.buffer));z.drawElements(z.TRIANGLES,f[m].count,h,f[m].start*l);S.info.render.calls++;
S.info.render.vertices+=f[m].count;S.info.render.faces+=f[m].count/3}}}else b&&g(d,a,c,0),d=f.attributes.position,z.drawArrays(z.TRIANGLES,0,d.array.length/3),S.info.render.calls++,S.info.render.vertices+=d.array.length/3,S.info.render.faces+=d.array.length/9;else if(e instanceof THREE.ParticleSystem)b&&g(d,a,c,0),d=c.position,z.drawArrays(z.POINTS,0,d.array.length/3),S.info.render.calls++,S.info.render.points+=d.array.length/3;else if(e instanceof THREE.Line)if(h=e.type===THREE.LineStrip?z.LINE_STRIP:
z.LINES,H(d.linewidth),e=c.index)if(e.array instanceof Uint32Array?(h=z.UNSIGNED_INT,l=4):(h=z.UNSIGNED_SHORT,l=2),f=f.offsets,0===f.length)b&&(g(d,a,c,0),z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,e.buffer)),z.drawElements(z.LINES,e.array.length,h,0),S.info.render.calls++,S.info.render.vertices+=e.array.length;else for(1<f.length&&(b=!0),m=0,n=f.length;m<n;m++)p=f[m].index,b&&(g(d,a,c,p),z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,e.buffer)),z.drawElements(z.LINES,f[m].count,h,f[m].start*l),S.info.render.calls++,
S.info.render.vertices+=f[m].count;else b&&g(d,a,c,0),d=c.position,z.drawArrays(h,0,d.array.length/3),S.info.render.calls++,S.info.render.points+=d.array.length/3}};this.renderBuffer=function(a,c,b,d,f,e){if(!1!==d.visible){var h,g;b=D(a,c,b,d,e);c=b.attributes;a=!1;b=16777215*f.id+2*b.id+(d.wireframe?1:0);b!==za&&(za=b,a=!0);a&&k();if(!d.morphTargets&&0<=c.position)a&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglVertexBuffer),l(c.position),z.vertexAttribPointer(c.position,3,z.FLOAT,!1,0,0));else if(e.morphTargetBase){b=
d.program.attributes;-1!==e.morphTargetBase&&0<=b.position?(z.bindBuffer(z.ARRAY_BUFFER,f.__webglMorphTargetsBuffers[e.morphTargetBase]),l(b.position),z.vertexAttribPointer(b.position,3,z.FLOAT,!1,0,0)):0<=b.position&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglVertexBuffer),l(b.position),z.vertexAttribPointer(b.position,3,z.FLOAT,!1,0,0));if(e.morphTargetForcedOrder.length){var m=0;g=e.morphTargetForcedOrder;for(h=e.morphTargetInfluences;m<d.numSupportedMorphTargets&&m<g.length;)0<=b["morphTarget"+m]&&
(z.bindBuffer(z.ARRAY_BUFFER,f.__webglMorphTargetsBuffers[g[m]]),l(b["morphTarget"+m]),z.vertexAttribPointer(b["morphTarget"+m],3,z.FLOAT,!1,0,0)),0<=b["morphNormal"+m]&&d.morphNormals&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglMorphNormalsBuffers[g[m]]),l(b["morphNormal"+m]),z.vertexAttribPointer(b["morphNormal"+m],3,z.FLOAT,!1,0,0)),e.__webglMorphTargetInfluences[m]=h[g[m]],m++}else{g=[];h=e.morphTargetInfluences;var p,r=h.length;for(p=0;p<r;p++)m=h[p],0<m&&g.push([m,p]);g.length>d.numSupportedMorphTargets?
(g.sort(q),g.length=d.numSupportedMorphTargets):g.length>d.numSupportedMorphNormals?g.sort(q):0===g.length&&g.push([0,0]);for(m=0;m<d.numSupportedMorphTargets;)g[m]?(p=g[m][1],0<=b["morphTarget"+m]&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglMorphTargetsBuffers[p]),l(b["morphTarget"+m]),z.vertexAttribPointer(b["morphTarget"+m],3,z.FLOAT,!1,0,0)),0<=b["morphNormal"+m]&&d.morphNormals&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglMorphNormalsBuffers[p]),l(b["morphNormal"+m]),z.vertexAttribPointer(b["morphNormal"+
m],3,z.FLOAT,!1,0,0)),e.__webglMorphTargetInfluences[m]=h[p]):e.__webglMorphTargetInfluences[m]=0,m++}null!==d.program.uniforms.morphTargetInfluences&&z.uniform1fv(d.program.uniforms.morphTargetInfluences,e.__webglMorphTargetInfluences)}if(a){if(f.__webglCustomAttributesList)for(h=0,g=f.__webglCustomAttributesList.length;h<g;h++)b=f.__webglCustomAttributesList[h],0<=c[b.buffer.belongsToAttribute]&&(z.bindBuffer(z.ARRAY_BUFFER,b.buffer),l(c[b.buffer.belongsToAttribute]),z.vertexAttribPointer(c[b.buffer.belongsToAttribute],
b.size,z.FLOAT,!1,0,0));0<=c.color&&(0<e.geometry.colors.length||0<e.geometry.faces.length?(z.bindBuffer(z.ARRAY_BUFFER,f.__webglColorBuffer),l(c.color),z.vertexAttribPointer(c.color,3,z.FLOAT,!1,0,0)):d.defaultAttributeValues&&z.vertexAttrib3fv(c.color,d.defaultAttributeValues.color));0<=c.normal&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglNormalBuffer),l(c.normal),z.vertexAttribPointer(c.normal,3,z.FLOAT,!1,0,0));0<=c.tangent&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglTangentBuffer),l(c.tangent),z.vertexAttribPointer(c.tangent,
4,z.FLOAT,!1,0,0));0<=c.uv&&(e.geometry.faceVertexUvs[0]?(z.bindBuffer(z.ARRAY_BUFFER,f.__webglUVBuffer),l(c.uv),z.vertexAttribPointer(c.uv,2,z.FLOAT,!1,0,0)):d.defaultAttributeValues&&z.vertexAttrib2fv(c.uv,d.defaultAttributeValues.uv));0<=c.uv2&&(e.geometry.faceVertexUvs[1]?(z.bindBuffer(z.ARRAY_BUFFER,f.__webglUV2Buffer),l(c.uv2),z.vertexAttribPointer(c.uv2,2,z.FLOAT,!1,0,0)):d.defaultAttributeValues&&z.vertexAttrib2fv(c.uv2,d.defaultAttributeValues.uv2));d.skinning&&0<=c.skinIndex&&0<=c.skinWeight&&
(z.bindBuffer(z.ARRAY_BUFFER,f.__webglSkinIndicesBuffer),l(c.skinIndex),z.vertexAttribPointer(c.skinIndex,4,z.FLOAT,!1,0,0),z.bindBuffer(z.ARRAY_BUFFER,f.__webglSkinWeightsBuffer),l(c.skinWeight),z.vertexAttribPointer(c.skinWeight,4,z.FLOAT,!1,0,0));0<=c.lineDistance&&(z.bindBuffer(z.ARRAY_BUFFER,f.__webglLineDistanceBuffer),l(c.lineDistance),z.vertexAttribPointer(c.lineDistance,1,z.FLOAT,!1,0,0))}n();e instanceof THREE.Mesh?(e=f.__typeArray===Uint32Array?z.UNSIGNED_INT:z.UNSIGNED_SHORT,d.wireframe?
(H(d.wireframeLinewidth),a&&z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,f.__webglLineBuffer),z.drawElements(z.LINES,f.__webglLineCount,e,0)):(a&&z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,f.__webglFaceBuffer),z.drawElements(z.TRIANGLES,f.__webglFaceCount,e,0)),S.info.render.calls++,S.info.render.vertices+=f.__webglFaceCount,S.info.render.faces+=f.__webglFaceCount/3):e instanceof THREE.Line?(e=e.type===THREE.LineStrip?z.LINE_STRIP:z.LINES,H(d.linewidth),z.drawArrays(e,0,f.__webglLineCount),S.info.render.calls++):
e instanceof THREE.ParticleSystem&&(z.drawArrays(z.POINTS,0,f.__webglParticleCount),S.info.render.calls++,S.info.render.points+=f.__webglParticleCount)}};this.render=function(a,c,b,d){if(!1===c instanceof THREE.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var f,e,g,h,k=a.__lights,l=a.fog;ia=-1;ob=!0;!0===a.autoUpdate&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);qb.multiplyMatrices(c.projectionMatrix,
c.matrixWorldInverse);sa.setFromMatrix(qb);this.autoUpdateObjects&&this.initWebGLObjects(a);m(this.renderPluginsPre,a,c);S.info.render.calls=0;S.info.render.vertices=0;S.info.render.faces=0;S.info.render.points=0;this.setRenderTarget(b);(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);h=a.__webglObjects;d=0;for(f=h.length;d<f;d++)if(e=h[d],g=e.object,e.id=d,e.render=!1,g.visible&&(!(g instanceof THREE.Mesh||g instanceof THREE.ParticleSystem)||!g.frustumCulled||
sa.intersectsObject(g))){var n=g;n._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,n.matrixWorld);n._normalMatrix.getNormalMatrix(n._modelViewMatrix);var n=e,q=n.object,r=n.buffer,u=q.geometry,q=q.material;q instanceof THREE.MeshFaceMaterial?(q=q.materials[u instanceof THREE.BufferGeometry?0:r.materialIndex],q.transparent?(n.transparent=q,n.opaque=null):(n.opaque=q,n.transparent=null)):q&&(q.transparent?(n.transparent=q,n.opaque=null):(n.opaque=q,n.transparent=null));e.render=!0;!0===this.sortObjects&&
(null!==g.renderDepth?e.z=g.renderDepth:(Ia.setFromMatrixPosition(g.matrixWorld),Ia.applyProjection(qb),e.z=Ia.z))}this.sortObjects&&h.sort(p);h=a.__webglObjectsImmediate;d=0;for(f=h.length;d<f;d++)e=h[d],g=e.object,g.visible&&(g._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,g.matrixWorld),g._normalMatrix.getNormalMatrix(g._modelViewMatrix),g=e.object.material,g.transparent?(e.transparent=g,e.opaque=null):(e.opaque=g,e.transparent=null));a.overrideMaterial?(d=a.overrideMaterial,this.setBlending(d.blending,
d.blendEquation,d.blendSrc,d.blendDst),this.setDepthTest(d.depthTest),this.setDepthWrite(d.depthWrite),M(d.polygonOffset,d.polygonOffsetFactor,d.polygonOffsetUnits),t(a.__webglObjects,!1,"",c,k,l,!0,d),s(a.__webglObjectsImmediate,"",c,k,l,!1,d)):(d=null,this.setBlending(THREE.NoBlending),t(a.__webglObjects,!0,"opaque",c,k,l,!1,d),s(a.__webglObjectsImmediate,"opaque",c,k,l,!1,d),t(a.__webglObjects,!1,"transparent",c,k,l,!0,d),s(a.__webglObjectsImmediate,"transparent",c,k,l,!0,d));m(this.renderPluginsPost,
a,c);b&&b.generateMipmaps&&b.minFilter!==THREE.NearestFilter&&b.minFilter!==THREE.LinearFilter&&(b instanceof THREE.WebGLRenderTargetCube?(z.bindTexture(z.TEXTURE_CUBE_MAP,b.__webglTexture),z.generateMipmap(z.TEXTURE_CUBE_MAP),z.bindTexture(z.TEXTURE_CUBE_MAP,null)):(z.bindTexture(z.TEXTURE_2D,b.__webglTexture),z.generateMipmap(z.TEXTURE_2D),z.bindTexture(z.TEXTURE_2D,null)));this.setDepthTest(!0);this.setDepthWrite(!0)}};this.renderImmediateObject=function(a,c,b,d,f){var e=D(a,c,b,d,f);za=-1;S.setMaterialFaces(d);
f.immediateRenderCallback?f.immediateRenderCallback(e,z,sa):f.render(function(a){S.renderBufferImmediate(a,e,d)})};this.initWebGLObjects=function(a){for(a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]);a.__objectsAdded.length;)u(a.__objectsAdded[0],a),a.__objectsAdded.splice(0,1);for(;a.__objectsRemoved.length;)C(a.__objectsRemoved[0],a),a.__objectsRemoved.splice(0,1);for(var c=0,b=a.__webglObjects.length;c<b;c++){var g=a.__webglObjects[c].object;
void 0===g.__webglInit&&(void 0!==g.__webglActive&&C(g,a),u(g,a));var k=g,l=k.geometry,m=void 0,n=void 0,p=void 0;if(l instanceof THREE.BufferGeometry){var r=z.DYNAMIC_DRAW,s=l.attributes,t=void 0,v=void 0;for(t in s)v=s[t],v.needsUpdate&&("index"===t?(z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,v.buffer),z.bufferData(z.ELEMENT_ARRAY_BUFFER,v.array,r)):(z.bindBuffer(z.ARRAY_BUFFER,v.buffer),z.bufferData(z.ARRAY_BUFFER,v.array,r)),v.needsUpdate=!1)}else if(k instanceof THREE.Mesh){for(var E=0,F=l.geometryGroupsList.length;E<
F;E++)if(m=l.geometryGroupsList[E],p=e(k,m),l.buffersNeedUpdate&&d(m,k),n=p.attributes&&w(p),l.verticesNeedUpdate||l.morphTargetsNeedUpdate||l.elementsNeedUpdate||l.uvsNeedUpdate||l.normalsNeedUpdate||l.colorsNeedUpdate||l.tangentsNeedUpdate||n){var G=m,H=k,D=z.DYNAMIC_DRAW,I=!l.dynamic,J=p;if(G.__inittedArrays){var M=f(J),L=J.vertexColors?J.vertexColors:!1,N=h(J),P=M===THREE.SmoothShading,K=void 0,O=void 0,Q=void 0,S=void 0,T=void 0,R=void 0,X=void 0,Y=void 0,Z=void 0,ba=void 0,ea=void 0,U=void 0,
V=void 0,W=void 0,ia=void 0,B=void 0,Ra=void 0,La=void 0,Cb=void 0,wa=void 0,Ha=void 0,ib=void 0,Ya=void 0,yb=void 0,Ob=void 0,Kb=void 0,lc=void 0,vc=void 0,mc=void 0,xb=void 0,fd=void 0,ub=void 0,fa=void 0,ha=void 0,da=void 0,Xc=void 0,na=void 0,ma=void 0,Yc=void 0,ka=void 0,la=0,ra=0,xa=0,Ka=0,va=0,qa=0,za=0,sa=0,ta=0,tb=0,zb=0,ga=0,Qb=void 0,Ca=G.__vertexArray,Ea=G.__uvArray,Oa=G.__uv2Array,Da=G.__normalArray,dc=G.__tangentArray,Ba=G.__colorArray,ec=G.__skinIndexArray,Aa=G.__skinWeightArray,Ja=
G.__morphTargetsArrays,Ta=G.__morphNormalsArrays,Na=G.__webglCustomAttributesList,aa=void 0,Sa=G.__faceArray,Ma=G.__lineArray,Mb=H.geometry,db=Mb.elementsNeedUpdate,Za=Mb.uvsNeedUpdate,bb=Mb.normalsNeedUpdate,cb=Mb.tangentsNeedUpdate,$a=Mb.colorsNeedUpdate,eb=Mb.morphTargetsNeedUpdate,Wa=Mb.vertices,Ua=G.faces3,qc=Mb.faces,Xa=Mb.faceVertexUvs[0],ob=Mb.faceVertexUvs[1],hb=Mb.skinIndices,bd=Mb.skinWeights,Zc=Mb.morphTargets,pb=Mb.morphNormals;if(Mb.verticesNeedUpdate){K=0;for(O=Ua.length;K<O;K++)S=
qc[Ua[K]],U=Wa[S.a],V=Wa[S.b],W=Wa[S.c],Ca[ra]=U.x,Ca[ra+1]=U.y,Ca[ra+2]=U.z,Ca[ra+3]=V.x,Ca[ra+4]=V.y,Ca[ra+5]=V.z,Ca[ra+6]=W.x,Ca[ra+7]=W.y,Ca[ra+8]=W.z,ra+=9;z.bindBuffer(z.ARRAY_BUFFER,G.__webglVertexBuffer);z.bufferData(z.ARRAY_BUFFER,Ca,D)}if(eb)for(da=0,Xc=Zc.length;da<Xc;da++){K=zb=0;for(O=Ua.length;K<O;K++)Yc=Ua[K],S=qc[Yc],U=Zc[da].vertices[S.a],V=Zc[da].vertices[S.b],W=Zc[da].vertices[S.c],na=Ja[da],na[zb]=U.x,na[zb+1]=U.y,na[zb+2]=U.z,na[zb+3]=V.x,na[zb+4]=V.y,na[zb+5]=V.z,na[zb+6]=W.x,
na[zb+7]=W.y,na[zb+8]=W.z,J.morphNormals&&(P?(ka=pb[da].vertexNormals[Yc],La=ka.a,Cb=ka.b,wa=ka.c):wa=Cb=La=pb[da].faceNormals[Yc],ma=Ta[da],ma[zb]=La.x,ma[zb+1]=La.y,ma[zb+2]=La.z,ma[zb+3]=Cb.x,ma[zb+4]=Cb.y,ma[zb+5]=Cb.z,ma[zb+6]=wa.x,ma[zb+7]=wa.y,ma[zb+8]=wa.z),zb+=9;z.bindBuffer(z.ARRAY_BUFFER,G.__webglMorphTargetsBuffers[da]);z.bufferData(z.ARRAY_BUFFER,Ja[da],D);J.morphNormals&&(z.bindBuffer(z.ARRAY_BUFFER,G.__webglMorphNormalsBuffers[da]),z.bufferData(z.ARRAY_BUFFER,Ta[da],D))}if(bd.length){K=
0;for(O=Ua.length;K<O;K++)S=qc[Ua[K]],yb=bd[S.a],Ob=bd[S.b],Kb=bd[S.c],Aa[tb]=yb.x,Aa[tb+1]=yb.y,Aa[tb+2]=yb.z,Aa[tb+3]=yb.w,Aa[tb+4]=Ob.x,Aa[tb+5]=Ob.y,Aa[tb+6]=Ob.z,Aa[tb+7]=Ob.w,Aa[tb+8]=Kb.x,Aa[tb+9]=Kb.y,Aa[tb+10]=Kb.z,Aa[tb+11]=Kb.w,lc=hb[S.a],vc=hb[S.b],mc=hb[S.c],ec[tb]=lc.x,ec[tb+1]=lc.y,ec[tb+2]=lc.z,ec[tb+3]=lc.w,ec[tb+4]=vc.x,ec[tb+5]=vc.y,ec[tb+6]=vc.z,ec[tb+7]=vc.w,ec[tb+8]=mc.x,ec[tb+9]=mc.y,ec[tb+10]=mc.z,ec[tb+11]=mc.w,tb+=12;0<tb&&(z.bindBuffer(z.ARRAY_BUFFER,G.__webglSkinIndicesBuffer),
z.bufferData(z.ARRAY_BUFFER,ec,D),z.bindBuffer(z.ARRAY_BUFFER,G.__webglSkinWeightsBuffer),z.bufferData(z.ARRAY_BUFFER,Aa,D))}if($a&&L){K=0;for(O=Ua.length;K<O;K++)S=qc[Ua[K]],X=S.vertexColors,Y=S.color,3===X.length&&L===THREE.VertexColors?(Ha=X[0],ib=X[1],Ya=X[2]):Ya=ib=Ha=Y,Ba[ta]=Ha.r,Ba[ta+1]=Ha.g,Ba[ta+2]=Ha.b,Ba[ta+3]=ib.r,Ba[ta+4]=ib.g,Ba[ta+5]=ib.b,Ba[ta+6]=Ya.r,Ba[ta+7]=Ya.g,Ba[ta+8]=Ya.b,ta+=9;0<ta&&(z.bindBuffer(z.ARRAY_BUFFER,G.__webglColorBuffer),z.bufferData(z.ARRAY_BUFFER,Ba,D))}if(cb&&
Mb.hasTangents){K=0;for(O=Ua.length;K<O;K++)S=qc[Ua[K]],Z=S.vertexTangents,ia=Z[0],B=Z[1],Ra=Z[2],dc[za]=ia.x,dc[za+1]=ia.y,dc[za+2]=ia.z,dc[za+3]=ia.w,dc[za+4]=B.x,dc[za+5]=B.y,dc[za+6]=B.z,dc[za+7]=B.w,dc[za+8]=Ra.x,dc[za+9]=Ra.y,dc[za+10]=Ra.z,dc[za+11]=Ra.w,za+=12;z.bindBuffer(z.ARRAY_BUFFER,G.__webglTangentBuffer);z.bufferData(z.ARRAY_BUFFER,dc,D)}if(bb&&M){K=0;for(O=Ua.length;K<O;K++)if(S=qc[Ua[K]],T=S.vertexNormals,R=S.normal,3===T.length&&P)for(xb=0;3>xb;xb++)ub=T[xb],Da[qa]=ub.x,Da[qa+1]=
ub.y,Da[qa+2]=ub.z,qa+=3;else for(xb=0;3>xb;xb++)Da[qa]=R.x,Da[qa+1]=R.y,Da[qa+2]=R.z,qa+=3;z.bindBuffer(z.ARRAY_BUFFER,G.__webglNormalBuffer);z.bufferData(z.ARRAY_BUFFER,Da,D)}if(Za&&Xa&&N){K=0;for(O=Ua.length;K<O;K++)if(Q=Ua[K],ba=Xa[Q],void 0!==ba)for(xb=0;3>xb;xb++)fa=ba[xb],Ea[xa]=fa.x,Ea[xa+1]=fa.y,xa+=2;0<xa&&(z.bindBuffer(z.ARRAY_BUFFER,G.__webglUVBuffer),z.bufferData(z.ARRAY_BUFFER,Ea,D))}if(Za&&ob&&N){K=0;for(O=Ua.length;K<O;K++)if(Q=Ua[K],ea=ob[Q],void 0!==ea)for(xb=0;3>xb;xb++)ha=ea[xb],
Oa[Ka]=ha.x,Oa[Ka+1]=ha.y,Ka+=2;0<Ka&&(z.bindBuffer(z.ARRAY_BUFFER,G.__webglUV2Buffer),z.bufferData(z.ARRAY_BUFFER,Oa,D))}if(db){K=0;for(O=Ua.length;K<O;K++)Sa[va]=la,Sa[va+1]=la+1,Sa[va+2]=la+2,va+=3,Ma[sa]=la,Ma[sa+1]=la+1,Ma[sa+2]=la,Ma[sa+3]=la+2,Ma[sa+4]=la+1,Ma[sa+5]=la+2,sa+=6,la+=3;z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,G.__webglFaceBuffer);z.bufferData(z.ELEMENT_ARRAY_BUFFER,Sa,D);z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,G.__webglLineBuffer);z.bufferData(z.ELEMENT_ARRAY_BUFFER,Ma,D)}if(Na)for(xb=
0,fd=Na.length;xb<fd;xb++)if(aa=Na[xb],aa.__original.needsUpdate){ga=0;if(1===aa.size)if(void 0===aa.boundTo||"vertices"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)S=qc[Ua[K]],aa.array[ga]=aa.value[S.a],aa.array[ga+1]=aa.value[S.b],aa.array[ga+2]=aa.value[S.c],ga+=3;else{if("faces"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)Qb=aa.value[Ua[K]],aa.array[ga]=Qb,aa.array[ga+1]=Qb,aa.array[ga+2]=Qb,ga+=3}else if(2===aa.size)if(void 0===aa.boundTo||"vertices"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)S=qc[Ua[K]],
U=aa.value[S.a],V=aa.value[S.b],W=aa.value[S.c],aa.array[ga]=U.x,aa.array[ga+1]=U.y,aa.array[ga+2]=V.x,aa.array[ga+3]=V.y,aa.array[ga+4]=W.x,aa.array[ga+5]=W.y,ga+=6;else{if("faces"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)W=V=U=Qb=aa.value[Ua[K]],aa.array[ga]=U.x,aa.array[ga+1]=U.y,aa.array[ga+2]=V.x,aa.array[ga+3]=V.y,aa.array[ga+4]=W.x,aa.array[ga+5]=W.y,ga+=6}else if(3===aa.size){var kb;kb="c"===aa.type?["r","g","b"]:["x","y","z"];if(void 0===aa.boundTo||"vertices"===aa.boundTo)for(K=0,O=Ua.length;K<
O;K++)S=qc[Ua[K]],U=aa.value[S.a],V=aa.value[S.b],W=aa.value[S.c],aa.array[ga]=U[kb[0]],aa.array[ga+1]=U[kb[1]],aa.array[ga+2]=U[kb[2]],aa.array[ga+3]=V[kb[0]],aa.array[ga+4]=V[kb[1]],aa.array[ga+5]=V[kb[2]],aa.array[ga+6]=W[kb[0]],aa.array[ga+7]=W[kb[1]],aa.array[ga+8]=W[kb[2]],ga+=9;else if("faces"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)W=V=U=Qb=aa.value[Ua[K]],aa.array[ga]=U[kb[0]],aa.array[ga+1]=U[kb[1]],aa.array[ga+2]=U[kb[2]],aa.array[ga+3]=V[kb[0]],aa.array[ga+4]=V[kb[1]],aa.array[ga+5]=
V[kb[2]],aa.array[ga+6]=W[kb[0]],aa.array[ga+7]=W[kb[1]],aa.array[ga+8]=W[kb[2]],ga+=9;else if("faceVertices"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)Qb=aa.value[Ua[K]],U=Qb[0],V=Qb[1],W=Qb[2],aa.array[ga]=U[kb[0]],aa.array[ga+1]=U[kb[1]],aa.array[ga+2]=U[kb[2]],aa.array[ga+3]=V[kb[0]],aa.array[ga+4]=V[kb[1]],aa.array[ga+5]=V[kb[2]],aa.array[ga+6]=W[kb[0]],aa.array[ga+7]=W[kb[1]],aa.array[ga+8]=W[kb[2]],ga+=9}else if(4===aa.size)if(void 0===aa.boundTo||"vertices"===aa.boundTo)for(K=0,O=Ua.length;K<
O;K++)S=qc[Ua[K]],U=aa.value[S.a],V=aa.value[S.b],W=aa.value[S.c],aa.array[ga]=U.x,aa.array[ga+1]=U.y,aa.array[ga+2]=U.z,aa.array[ga+3]=U.w,aa.array[ga+4]=V.x,aa.array[ga+5]=V.y,aa.array[ga+6]=V.z,aa.array[ga+7]=V.w,aa.array[ga+8]=W.x,aa.array[ga+9]=W.y,aa.array[ga+10]=W.z,aa.array[ga+11]=W.w,ga+=12;else if("faces"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)W=V=U=Qb=aa.value[Ua[K]],aa.array[ga]=U.x,aa.array[ga+1]=U.y,aa.array[ga+2]=U.z,aa.array[ga+3]=U.w,aa.array[ga+4]=V.x,aa.array[ga+5]=V.y,aa.array[ga+
6]=V.z,aa.array[ga+7]=V.w,aa.array[ga+8]=W.x,aa.array[ga+9]=W.y,aa.array[ga+10]=W.z,aa.array[ga+11]=W.w,ga+=12;else if("faceVertices"===aa.boundTo)for(K=0,O=Ua.length;K<O;K++)Qb=aa.value[Ua[K]],U=Qb[0],V=Qb[1],W=Qb[2],aa.array[ga]=U.x,aa.array[ga+1]=U.y,aa.array[ga+2]=U.z,aa.array[ga+3]=U.w,aa.array[ga+4]=V.x,aa.array[ga+5]=V.y,aa.array[ga+6]=V.z,aa.array[ga+7]=V.w,aa.array[ga+8]=W.x,aa.array[ga+9]=W.y,aa.array[ga+10]=W.z,aa.array[ga+11]=W.w,ga+=12;z.bindBuffer(z.ARRAY_BUFFER,aa.buffer);z.bufferData(z.ARRAY_BUFFER,
aa.array,D)}I&&(delete G.__inittedArrays,delete G.__colorArray,delete G.__normalArray,delete G.__tangentArray,delete G.__uvArray,delete G.__uv2Array,delete G.__faceArray,delete G.__vertexArray,delete G.__lineArray,delete G.__skinIndexArray,delete G.__skinWeightArray)}}l.verticesNeedUpdate=!1;l.morphTargetsNeedUpdate=!1;l.elementsNeedUpdate=!1;l.uvsNeedUpdate=!1;l.normalsNeedUpdate=!1;l.colorsNeedUpdate=!1;l.tangentsNeedUpdate=!1;l.buffersNeedUpdate=!1;p.attributes&&A(p)}else if(k instanceof THREE.Line){p=
e(k,l);n=p.attributes&&w(p);if(l.verticesNeedUpdate||l.colorsNeedUpdate||l.lineDistancesNeedUpdate||n){var fc=l,cd=z.DYNAMIC_DRAW,Uc=void 0,Tc=void 0,Vc=void 0,dd=void 0,Qa=void 0,ed=void 0,qd=fc.vertices,rd=fc.colors,sd=fc.lineDistances,rb=qd.length,De=rd.length,Be=sd.length,Jc=fc.__vertexArray,$c=fc.__colorArray,td=fc.__lineDistanceArray,Ee=fc.colorsNeedUpdate,Fe=fc.lineDistancesNeedUpdate,Rc=fc.__webglCustomAttributesList,Mc=void 0,pd=void 0,fb=void 0,jc=void 0,nb=void 0,Pa=void 0;if(fc.verticesNeedUpdate){for(Uc=
0;Uc<rb;Uc++)dd=qd[Uc],Qa=3*Uc,Jc[Qa]=dd.x,Jc[Qa+1]=dd.y,Jc[Qa+2]=dd.z;z.bindBuffer(z.ARRAY_BUFFER,fc.__webglVertexBuffer);z.bufferData(z.ARRAY_BUFFER,Jc,cd)}if(Ee){for(Tc=0;Tc<De;Tc++)ed=rd[Tc],Qa=3*Tc,$c[Qa]=ed.r,$c[Qa+1]=ed.g,$c[Qa+2]=ed.b;z.bindBuffer(z.ARRAY_BUFFER,fc.__webglColorBuffer);z.bufferData(z.ARRAY_BUFFER,$c,cd)}if(Fe){for(Vc=0;Vc<Be;Vc++)td[Vc]=sd[Vc];z.bindBuffer(z.ARRAY_BUFFER,fc.__webglLineDistanceBuffer);z.bufferData(z.ARRAY_BUFFER,td,cd)}if(Rc)for(Mc=0,pd=Rc.length;Mc<pd;Mc++)if(Pa=
Rc[Mc],Pa.needsUpdate&&(void 0===Pa.boundTo||"vertices"===Pa.boundTo)){Qa=0;jc=Pa.value.length;if(1===Pa.size)for(fb=0;fb<jc;fb++)Pa.array[fb]=Pa.value[fb];else if(2===Pa.size)for(fb=0;fb<jc;fb++)nb=Pa.value[fb],Pa.array[Qa]=nb.x,Pa.array[Qa+1]=nb.y,Qa+=2;else if(3===Pa.size)if("c"===Pa.type)for(fb=0;fb<jc;fb++)nb=Pa.value[fb],Pa.array[Qa]=nb.r,Pa.array[Qa+1]=nb.g,Pa.array[Qa+2]=nb.b,Qa+=3;else for(fb=0;fb<jc;fb++)nb=Pa.value[fb],Pa.array[Qa]=nb.x,Pa.array[Qa+1]=nb.y,Pa.array[Qa+2]=nb.z,Qa+=3;else if(4===
Pa.size)for(fb=0;fb<jc;fb++)nb=Pa.value[fb],Pa.array[Qa]=nb.x,Pa.array[Qa+1]=nb.y,Pa.array[Qa+2]=nb.z,Pa.array[Qa+3]=nb.w,Qa+=4;z.bindBuffer(z.ARRAY_BUFFER,Pa.buffer);z.bufferData(z.ARRAY_BUFFER,Pa.array,cd)}}l.verticesNeedUpdate=!1;l.colorsNeedUpdate=!1;l.lineDistancesNeedUpdate=!1;p.attributes&&A(p)}else if(k instanceof THREE.ParticleSystem){p=e(k,l);n=p.attributes&&w(p);if(l.verticesNeedUpdate||l.colorsNeedUpdate||k.sortParticles||n){var Jb=l,Sc=z.DYNAMIC_DRAW,oc=k,lb=void 0,Db=void 0,Fa=void 0,
pa=void 0,Rb=void 0,gc=void 0,ad=Jb.vertices,nd=ad.length,mb=Jb.colors,Bb=mb.length,pc=Jb.__vertexArray,Wb=Jb.__colorArray,bc=Jb.__sortArray,Eb=Jb.verticesNeedUpdate,ud=Jb.colorsNeedUpdate,cc=Jb.__webglCustomAttributesList,Hb=void 0,hc=void 0,Ga=void 0,Lb=void 0,ab=void 0,ua=void 0;if(oc.sortParticles){Pb.copy(qb);Pb.multiply(oc.matrixWorld);for(lb=0;lb<nd;lb++)Fa=ad[lb],Ia.copy(Fa),Ia.applyProjection(Pb),bc[lb]=[Ia.z,lb];bc.sort(q);for(lb=0;lb<nd;lb++)Fa=ad[bc[lb][1]],pa=3*lb,pc[pa]=Fa.x,pc[pa+1]=
Fa.y,pc[pa+2]=Fa.z;for(Db=0;Db<Bb;Db++)pa=3*Db,gc=mb[bc[Db][1]],Wb[pa]=gc.r,Wb[pa+1]=gc.g,Wb[pa+2]=gc.b;if(cc)for(Hb=0,hc=cc.length;Hb<hc;Hb++)if(ua=cc[Hb],void 0===ua.boundTo||"vertices"===ua.boundTo)if(pa=0,Lb=ua.value.length,1===ua.size)for(Ga=0;Ga<Lb;Ga++)Rb=bc[Ga][1],ua.array[Ga]=ua.value[Rb];else if(2===ua.size)for(Ga=0;Ga<Lb;Ga++)Rb=bc[Ga][1],ab=ua.value[Rb],ua.array[pa]=ab.x,ua.array[pa+1]=ab.y,pa+=2;else if(3===ua.size)if("c"===ua.type)for(Ga=0;Ga<Lb;Ga++)Rb=bc[Ga][1],ab=ua.value[Rb],ua.array[pa]=
ab.r,ua.array[pa+1]=ab.g,ua.array[pa+2]=ab.b,pa+=3;else for(Ga=0;Ga<Lb;Ga++)Rb=bc[Ga][1],ab=ua.value[Rb],ua.array[pa]=ab.x,ua.array[pa+1]=ab.y,ua.array[pa+2]=ab.z,pa+=3;else if(4===ua.size)for(Ga=0;Ga<Lb;Ga++)Rb=bc[Ga][1],ab=ua.value[Rb],ua.array[pa]=ab.x,ua.array[pa+1]=ab.y,ua.array[pa+2]=ab.z,ua.array[pa+3]=ab.w,pa+=4}else{if(Eb)for(lb=0;lb<nd;lb++)Fa=ad[lb],pa=3*lb,pc[pa]=Fa.x,pc[pa+1]=Fa.y,pc[pa+2]=Fa.z;if(ud)for(Db=0;Db<Bb;Db++)gc=mb[Db],pa=3*Db,Wb[pa]=gc.r,Wb[pa+1]=gc.g,Wb[pa+2]=gc.b;if(cc)for(Hb=
0,hc=cc.length;Hb<hc;Hb++)if(ua=cc[Hb],ua.needsUpdate&&(void 0===ua.boundTo||"vertices"===ua.boundTo))if(Lb=ua.value.length,pa=0,1===ua.size)for(Ga=0;Ga<Lb;Ga++)ua.array[Ga]=ua.value[Ga];else if(2===ua.size)for(Ga=0;Ga<Lb;Ga++)ab=ua.value[Ga],ua.array[pa]=ab.x,ua.array[pa+1]=ab.y,pa+=2;else if(3===ua.size)if("c"===ua.type)for(Ga=0;Ga<Lb;Ga++)ab=ua.value[Ga],ua.array[pa]=ab.r,ua.array[pa+1]=ab.g,ua.array[pa+2]=ab.b,pa+=3;else for(Ga=0;Ga<Lb;Ga++)ab=ua.value[Ga],ua.array[pa]=ab.x,ua.array[pa+1]=ab.y,
ua.array[pa+2]=ab.z,pa+=3;else if(4===ua.size)for(Ga=0;Ga<Lb;Ga++)ab=ua.value[Ga],ua.array[pa]=ab.x,ua.array[pa+1]=ab.y,ua.array[pa+2]=ab.z,ua.array[pa+3]=ab.w,pa+=4}if(Eb||oc.sortParticles)z.bindBuffer(z.ARRAY_BUFFER,Jb.__webglVertexBuffer),z.bufferData(z.ARRAY_BUFFER,pc,Sc);if(ud||oc.sortParticles)z.bindBuffer(z.ARRAY_BUFFER,Jb.__webglColorBuffer),z.bufferData(z.ARRAY_BUFFER,Wb,Sc);if(cc)for(Hb=0,hc=cc.length;Hb<hc;Hb++)if(ua=cc[Hb],ua.needsUpdate||oc.sortParticles)z.bindBuffer(z.ARRAY_BUFFER,ua.buffer),
z.bufferData(z.ARRAY_BUFFER,ua.array,Sc)}l.verticesNeedUpdate=!1;l.colorsNeedUpdate=!1;p.attributes&&A(p)}}};this.initMaterial=function(a,c,b,d){var f,e,g,h;a.addEventListener("dispose",Zb);var k,l,m,n;a instanceof THREE.MeshDepthMaterial?n="depth":a instanceof THREE.MeshNormalMaterial?n="normal":a instanceof THREE.MeshBasicMaterial?n="basic":a instanceof THREE.MeshLambertMaterial?n="lambert":a instanceof THREE.MeshPhongMaterial?n="phong":a instanceof THREE.LineBasicMaterial?n="basic":a instanceof
THREE.LineDashedMaterial?n="dashed":a instanceof THREE.ParticleSystemMaterial&&(n="particle_basic");n&&(f=THREE.ShaderLib[n],a.uniforms=THREE.UniformsUtils.clone(f.uniforms),a.vertexShader=f.vertexShader,a.fragmentShader=f.fragmentShader);m=h=g=e=f=0;for(var p=c.length;m<p;m++){var q=c[m];q.onlyShadow||!1===q.visible||(q instanceof THREE.DirectionalLight&&f++,q instanceof THREE.PointLight&&e++,q instanceof THREE.SpotLight&&g++,q instanceof THREE.HemisphereLight&&h++)}p=m=0;for(q=c.length;p<q;p++){var r=
c[p];r.castShadow&&(r instanceof THREE.SpotLight&&m++,r instanceof THREE.DirectionalLight&&!r.shadowCascade&&m++)}c=m;xc&&d&&d.skeleton&&d.skeleton.useVertexTexture?m=1024:(m=z.getParameter(z.MAX_VERTEX_UNIFORM_VECTORS),m=Math.floor((m-20)/4),void 0!==d&&d instanceof THREE.SkinnedMesh&&(m=Math.min(d.skeleton.bones.length,m),m<d.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+d.skeleton.bones.length+", this GPU supports just "+m+" (try OpenGL instead of ANGLE)")));b={precision:T,
supportsVertexTextures:Tb,map:!!a.map,envMap:!!a.envMap,lightMap:!!a.lightMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,specularMap:!!a.specularMap,vertexColors:a.vertexColors,fog:b,useFog:a.fog,fogExp:b instanceof THREE.FogExp2,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:fa,skinning:a.skinning,maxBones:m,useVertexTexture:xc&&d&&d.skeleton&&d.skeleton.useVertexTexture,morphTargets:a.morphTargets,morphNormals:a.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,
maxDirLights:f,maxPointLights:e,maxSpotLights:g,maxHemiLights:h,maxShadows:c,shadowMapEnabled:this.shadowMapEnabled&&d.receiveShadow&&0<c,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:a.alphaTest,metal:a.metal,wrapAround:a.wrapAround,doubleSided:a.side===THREE.DoubleSide,flipSided:a.side===THREE.BackSide};d=[];n?d.push(n):(d.push(a.fragmentShader),d.push(a.vertexShader));for(var s in a.defines)d.push(s),d.push(a.defines[s]);for(l in b)d.push(l),
d.push(b[l]);n=d.join();var t;l=0;for(s=ma.length;l<s;l++)if(d=ma[l],d.code===n){t=d;t.usedTimes++;break}void 0===t&&(t=new THREE.WebGLProgram(this,n,a,b),ma.push(t),S.info.memory.programs=ma.length);a.program=t;t=a.program.attributes;if(a.morphTargets)for(a.numSupportedMorphTargets=0,s="morphTarget",l=0;l<this.maxMorphTargets;l++)n=s+l,0<=t[n]&&a.numSupportedMorphTargets++;if(a.morphNormals)for(a.numSupportedMorphNormals=0,s="morphNormal",l=0;l<this.maxMorphNormals;l++)n=s+l,0<=t[n]&&a.numSupportedMorphNormals++;
a.uniformsList=[];for(k in a.uniforms)a.uniformsList.push([a.uniforms[k],k])};this.setFaceCulling=function(a,c){a===THREE.CullFaceNone?z.disable(z.CULL_FACE):(c===THREE.FrontFaceDirectionCW?z.frontFace(z.CW):z.frontFace(z.CCW),a===THREE.CullFaceBack?z.cullFace(z.BACK):a===THREE.CullFaceFront?z.cullFace(z.FRONT):z.cullFace(z.FRONT_AND_BACK),z.enable(z.CULL_FACE))};this.setMaterialFaces=function(a){var c=a.side===THREE.DoubleSide;a=a.side===THREE.BackSide;v!==c&&(c?z.disable(z.CULL_FACE):z.enable(z.CULL_FACE),
v=c);Oa!==a&&(a?z.frontFace(z.CW):z.frontFace(z.CCW),Oa=a)};this.setDepthTest=function(a){va!==a&&(a?z.enable(z.DEPTH_TEST):z.disable(z.DEPTH_TEST),va=a)};this.setDepthWrite=function(a){Da!==a&&(z.depthMask(a),Da=a)};this.setBlending=function(a,c,b,d){a!==db&&(a===THREE.NoBlending?z.disable(z.BLEND):a===THREE.AdditiveBlending?(z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.SRC_ALPHA,z.ONE)):a===THREE.SubtractiveBlending?(z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ZERO,
z.ONE_MINUS_SRC_COLOR)):a===THREE.MultiplyBlending?(z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ZERO,z.SRC_COLOR)):a===THREE.CustomBlending?z.enable(z.BLEND):(z.enable(z.BLEND),z.blendEquationSeparate(z.FUNC_ADD,z.FUNC_ADD),z.blendFuncSeparate(z.SRC_ALPHA,z.ONE_MINUS_SRC_ALPHA,z.ONE,z.ONE_MINUS_SRC_ALPHA)),db=a);if(a===THREE.CustomBlending){if(c!==Ta&&(z.blendEquation(J(c)),Ta=c),b!==Ma||d!==xa)z.blendFunc(J(b),J(d)),Ma=b,xa=d}else xa=Ma=Ta=null};this.setTexture=function(a,c){if(a.needsUpdate){a.__webglInit||
(a.__webglInit=!0,a.addEventListener("dispose",Ba),a.__webglTexture=z.createTexture(),S.info.memory.textures++);z.activeTexture(z.TEXTURE0+c);z.bindTexture(z.TEXTURE_2D,a.__webglTexture);z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,a.flipY);z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);z.pixelStorei(z.UNPACK_ALIGNMENT,a.unpackAlignment);var b=a.image,d=THREE.Math.isPowerOfTwo(b.width)&&THREE.Math.isPowerOfTwo(b.height),f=J(a.format),e=J(a.type);K(z.TEXTURE_2D,a,d);var g=a.mipmaps;if(a instanceof
THREE.DataTexture)if(0<g.length&&d){for(var h=0,k=g.length;h<k;h++)b=g[h],z.texImage2D(z.TEXTURE_2D,h,f,b.width,b.height,0,f,e,b.data);a.generateMipmaps=!1}else z.texImage2D(z.TEXTURE_2D,0,f,b.width,b.height,0,f,e,b.data);else if(a instanceof THREE.CompressedTexture)for(h=0,k=g.length;h<k;h++)b=g[h],a.format!==THREE.RGBAFormat?z.compressedTexImage2D(z.TEXTURE_2D,h,f,b.width,b.height,0,b.data):z.texImage2D(z.TEXTURE_2D,h,f,b.width,b.height,0,f,e,b.data);else if(0<g.length&&d){h=0;for(k=g.length;h<
k;h++)b=g[h],z.texImage2D(z.TEXTURE_2D,h,f,f,e,b);a.generateMipmaps=!1}else z.texImage2D(z.TEXTURE_2D,0,f,f,e,a.image);a.generateMipmaps&&d&&z.generateMipmap(z.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()}else z.activeTexture(z.TEXTURE0+c),z.bindTexture(z.TEXTURE_2D,a.__webglTexture)};this.setRenderTarget=function(a){var c=a instanceof THREE.WebGLRenderTargetCube;if(a&&!a.__webglFramebuffer){void 0===a.depthBuffer&&(a.depthBuffer=!0);void 0===a.stencilBuffer&&(a.stencilBuffer=!0);a.addEventListener("dispose",
rc);a.__webglTexture=z.createTexture();S.info.memory.textures++;var b=THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height),d=J(a.format),f=J(a.type);if(c){a.__webglFramebuffer=[];a.__webglRenderbuffer=[];z.bindTexture(z.TEXTURE_CUBE_MAP,a.__webglTexture);K(z.TEXTURE_CUBE_MAP,a,b);for(var e=0;6>e;e++){a.__webglFramebuffer[e]=z.createFramebuffer();a.__webglRenderbuffer[e]=z.createRenderbuffer();z.texImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,d,a.width,a.height,0,d,f,null);var g=a,h=z.TEXTURE_CUBE_MAP_POSITIVE_X+
e;z.bindFramebuffer(z.FRAMEBUFFER,a.__webglFramebuffer[e]);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,h,g.__webglTexture,0);N(a.__webglRenderbuffer[e],a)}b&&z.generateMipmap(z.TEXTURE_CUBE_MAP)}else a.__webglFramebuffer=z.createFramebuffer(),a.__webglRenderbuffer=a.shareDepthFrom?a.shareDepthFrom.__webglRenderbuffer:z.createRenderbuffer(),z.bindTexture(z.TEXTURE_2D,a.__webglTexture),K(z.TEXTURE_2D,a,b),z.texImage2D(z.TEXTURE_2D,0,d,a.width,a.height,0,d,f,null),d=z.TEXTURE_2D,z.bindFramebuffer(z.FRAMEBUFFER,
a.__webglFramebuffer),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,d,a.__webglTexture,0),a.shareDepthFrom?a.depthBuffer&&!a.stencilBuffer?z.framebufferRenderbuffer(z.FRAMEBUFFER,z.DEPTH_ATTACHMENT,z.RENDERBUFFER,a.__webglRenderbuffer):a.depthBuffer&&a.stencilBuffer&&z.framebufferRenderbuffer(z.FRAMEBUFFER,z.DEPTH_STENCIL_ATTACHMENT,z.RENDERBUFFER,a.__webglRenderbuffer):N(a.__webglRenderbuffer,a),b&&z.generateMipmap(z.TEXTURE_2D);c?z.bindTexture(z.TEXTURE_CUBE_MAP,null):z.bindTexture(z.TEXTURE_2D,
null);z.bindRenderbuffer(z.RENDERBUFFER,null);z.bindFramebuffer(z.FRAMEBUFFER,null)}a?(c=c?a.__webglFramebuffer[a.activeCubeFace]:a.__webglFramebuffer,b=a.width,a=a.height,f=d=0):(c=null,b=Ja,a=Za,d=cb,f=Xa);c!==ra&&(z.bindFramebuffer(z.FRAMEBUFFER,c),z.viewport(d,f,b,a),ra=c);Ca=b;Na=a};this.shadowMapPlugin=new THREE.ShadowMapPlugin;this.addPrePlugin(this.shadowMapPlugin);this.addPostPlugin(new THREE.SpritePlugin);this.addPostPlugin(new THREE.LensFlarePlugin)};
THREE.WebGLRenderTarget=function(a,b,d){this.width=a;this.height=b;d=d||{};this.wrapS=void 0!==d.wrapS?d.wrapS:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==d.wrapT?d.wrapT:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==d.magFilter?d.magFilter:THREE.LinearFilter;this.minFilter=void 0!==d.minFilter?d.minFilter:THREE.LinearMipMapLinearFilter;this.anisotropy=void 0!==d.anisotropy?d.anisotropy:1;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.format=void 0!==d.format?d.format:
THREE.RGBAFormat;this.type=void 0!==d.type?d.type:THREE.UnsignedByteType;this.depthBuffer=void 0!==d.depthBuffer?d.depthBuffer:!0;this.stencilBuffer=void 0!==d.stencilBuffer?d.stencilBuffer:!0;this.generateMipmaps=!0;this.shareDepthFrom=null};
THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(a,b){this.width=a;this.height=b},clone:function(){var a=new THREE.WebGLRenderTarget(this.width,this.height);a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.format=this.format;a.type=this.type;a.depthBuffer=this.depthBuffer;a.stencilBuffer=this.stencilBuffer;a.generateMipmaps=this.generateMipmaps;
a.shareDepthFrom=this.shareDepthFrom;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(a,b,d){THREE.WebGLRenderTarget.call(this,a,b,d);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);
THREE.WebGLProgram=function(){var a=0;return function(b,d,e,f){var h=b.context,g=e.fragmentShader,k=e.vertexShader,l=e.uniforms,n=e.attributes,p=e.defines,q=e.index0AttributeName;void 0===q&&!0===f.morphTargets&&(q="position");var m="SHADOWMAP_TYPE_BASIC";f.shadowMapType===THREE.PCFShadowMap?m="SHADOWMAP_TYPE_PCF":f.shadowMapType===THREE.PCFSoftShadowMap&&(m="SHADOWMAP_TYPE_PCF_SOFT");var t,s;t=[];for(var u in p)s=p[u],!1!==s&&(s="#define "+u+" "+s,t.push(s));t=t.join("\n");p=h.createProgram();e instanceof
THREE.RawShaderMaterial?b=e="":(e=["precision "+f.precision+" float;","precision "+f.precision+" int;",t,f.supportsVertexTextures?"#define VERTEX_TEXTURES":"",b.gammaInput?"#define GAMMA_INPUT":"",b.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+f.maxDirLights,"#define MAX_POINT_LIGHTS "+f.maxPointLights,"#define MAX_SPOT_LIGHTS "+f.maxSpotLights,"#define MAX_HEMI_LIGHTS "+f.maxHemiLights,"#define MAX_SHADOWS "+f.maxShadows,"#define MAX_BONES "+f.maxBones,f.map?"#define USE_MAP":
"",f.envMap?"#define USE_ENVMAP":"",f.lightMap?"#define USE_LIGHTMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.vertexColors?"#define USE_COLOR":"",f.skinning?"#define USE_SKINNING":"",f.useVertexTexture?"#define BONE_TEXTURE":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals?"#define USE_MORPHNORMALS":"",f.wrapAround?"#define WRAP_AROUND":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":
"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+m:"",f.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",f.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\n\tattribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\n\tattribute vec3 morphTarget0;\n\tattribute vec3 morphTarget1;\n\tattribute vec3 morphTarget2;\n\tattribute vec3 morphTarget3;\n\t#ifdef USE_MORPHNORMALS\n\t\tattribute vec3 morphNormal0;\n\t\tattribute vec3 morphNormal1;\n\t\tattribute vec3 morphNormal2;\n\t\tattribute vec3 morphNormal3;\n\t#else\n\t\tattribute vec3 morphTarget4;\n\t\tattribute vec3 morphTarget5;\n\t\tattribute vec3 morphTarget6;\n\t\tattribute vec3 morphTarget7;\n\t#endif\n#endif\n#ifdef USE_SKINNING\n\tattribute vec4 skinIndex;\n\tattribute vec4 skinWeight;\n#endif\n"].join("\n"),
b=["precision "+f.precision+" float;","precision "+f.precision+" int;",f.bumpMap||f.normalMap?"#extension GL_OES_standard_derivatives : enable":"",t,"#define MAX_DIR_LIGHTS "+f.maxDirLights,"#define MAX_POINT_LIGHTS "+f.maxPointLights,"#define MAX_SPOT_LIGHTS "+f.maxSpotLights,"#define MAX_HEMI_LIGHTS "+f.maxHemiLights,"#define MAX_SHADOWS "+f.maxShadows,f.alphaTest?"#define ALPHATEST "+f.alphaTest:"",b.gammaInput?"#define GAMMA_INPUT":"",b.gammaOutput?"#define GAMMA_OUTPUT":"",f.useFog&&f.fog?"#define USE_FOG":
"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.lightMap?"#define USE_LIGHTMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.vertexColors?"#define USE_COLOR":"",f.metal?"#define METAL":"",f.wrapAround?"#define WRAP_AROUND":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?
"#define "+m:"",f.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",f.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n"));k=new THREE.WebGLShader(h,h.VERTEX_SHADER,e+k);g=new THREE.WebGLShader(h,h.FRAGMENT_SHADER,b+g);h.attachShader(p,k);h.attachShader(p,g);void 0!==q&&h.bindAttribLocation(p,0,q);h.linkProgram(p);!1===h.getProgramParameter(p,h.LINK_STATUS)&&(console.error("Could not initialise shader"),
console.error("gl.VALIDATE_STATUS",h.getProgramParameter(p,h.VALIDATE_STATUS)),console.error("gl.getError()",h.getError()));""!==h.getProgramInfoLog(p)&&console.error("gl.getProgramInfoLog()",h.getProgramInfoLog(p));h.deleteShader(k);h.deleteShader(g);q="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences".split(" ");f.useVertexTexture?(q.push("boneTexture"),q.push("boneTextureWidth"),q.push("boneTextureHeight")):q.push("boneGlobalMatrices");f.logarithmicDepthBuffer&&
q.push("logDepthBufFC");for(var r in l)q.push(r);l=q;r={};q=0;for(b=l.length;q<b;q++)m=l[q],r[m]=h.getUniformLocation(p,m);this.uniforms=r;q="position normal uv uv2 tangent color skinIndex skinWeight lineDistance".split(" ");for(l=0;l<f.maxMorphTargets;l++)q.push("morphTarget"+l);for(l=0;l<f.maxMorphNormals;l++)q.push("morphNormal"+l);for(var w in n)q.push(w);f=q;n={};w=0;for(l=f.length;w<l;w++)r=f[w],n[r]=h.getAttribLocation(p,r);this.attributes=n;this.id=a++;this.code=d;this.usedTimes=1;this.program=
p;this.vertexShader=k;this.fragmentShader=g;return this}}();
THREE.WebGLShader=function(){var a=function(a){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=d+1+": "+a[d];return a.join("\n")};return function(b,d,e){d=b.createShader(d);b.shaderSource(d,e);b.compileShader(d);!1===b.getShaderParameter(d,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(d)&&(console.error("THREE.WebGLShader:","gl.getShaderInfoLog()",b.getShaderInfoLog(d)),console.error(a(e)));return d}}();
THREE.RenderableVertex=function(){this.position=new THREE.Vector3;this.positionWorld=new THREE.Vector3;this.positionScreen=new THREE.Vector4;this.visible=!0};THREE.RenderableVertex.prototype.copy=function(a){this.positionWorld.copy(a.positionWorld);this.positionScreen.copy(a.positionScreen)};
THREE.RenderableFace=function(){this.id=0;this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.v3=new THREE.RenderableVertex;this.normalModel=new THREE.Vector3;this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.vertexNormalsLength=0;this.material=this.color=null;this.uvs=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2];this.z=0};THREE.RenderableObject=function(){this.id=0;this.object=null;this.z=0};
THREE.RenderableSprite=function(){this.id=0;this.object=null;this.rotation=this.z=this.y=this.x=0;this.scale=new THREE.Vector2;this.material=null};THREE.RenderableLine=function(){this.id=0;this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.vertexColors=[new THREE.Color,new THREE.Color];this.material=null;this.z=0};
THREE.GeometryUtils={merge:function(a,b,d){console.warn("DEPRECATED: GeometryUtils's .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var e;b instanceof THREE.Mesh&&(b.matrixAutoUpdate&&b.updateMatrix(),e=b.matrix,b=b.geometry);a.merge(b,e,d)},randomPointInTriangle:function(){var a=new THREE.Vector3;return function(b,d,e){var f=new THREE.Vector3,h=THREE.Math.random16(),g=THREE.Math.random16();1<h+g&&(h=1-h,g=1-g);var k=1-h-g;f.copy(b);f.multiplyScalar(h);
a.copy(d);a.multiplyScalar(g);f.add(a);a.copy(e);a.multiplyScalar(k);f.add(a);return f}}(),randomPointInFace:function(a,b,d){return THREE.GeometryUtils.randomPointInTriangle(b.vertices[a.a],b.vertices[a.b],b.vertices[a.c])},randomPointsInGeometry:function(a,b){function d(a){function b(d,f){if(f<d)return d;var e=d+Math.floor((f-d)/2);return n[e]>a?b(d,e-1):n[e]<a?b(e+1,f):e}return b(0,n.length-1)}var e,f,h=a.faces,g=a.vertices,k=h.length,l=0,n=[],p,q,m;for(f=0;f<k;f++)e=h[f],p=g[e.a],q=g[e.b],m=g[e.c],
e._area=THREE.GeometryUtils.triangleArea(p,q,m),l+=e._area,n[f]=l;e=[];for(f=0;f<b;f++)g=THREE.Math.random16()*l,g=d(g),e[f]=THREE.GeometryUtils.randomPointInFace(h[g],a,!0);return e},triangleArea:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(d,e,f){a.subVectors(e,d);b.subVectors(f,d);a.cross(b);return.5*a.length()}}(),center:function(a){a.computeBoundingBox();var b=a.boundingBox,d=new THREE.Vector3;d.addVectors(b.min,b.max);d.multiplyScalar(-.5);a.applyMatrix((new THREE.Matrix4).makeTranslation(d.x,
d.y,d.z));a.computeBoundingBox();return d}};
THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,d,e){var f=new THREE.ImageLoader;f.crossOrigin=this.crossOrigin;var h=new THREE.Texture(void 0,b);b=f.load(a,function(){h.needsUpdate=!0;d&&d(h)},void 0,function(a){e&&e(a)});h.image=b;h.sourceFile=a;return h},loadCompressedTexture:function(a,b,d,e){var f=new THREE.CompressedTexture;f.mapping=b;var h=new XMLHttpRequest;h.onload=function(){var a=THREE.ImageUtils.parseDDS(h.response,!0);f.format=a.format;f.mipmaps=a.mipmaps;f.image.width=
a.width;f.image.height=a.height;f.generateMipmaps=!1;f.needsUpdate=!0;d&&d(f)};h.onerror=e;h.open("GET",a,!0);h.responseType="arraybuffer";h.send(null);return f},loadTextureCube:function(a,b,d,e){var f=[];f.loadCount=0;e=new THREE.ImageLoader;e.crossOrigin=this.crossOrigin;var h=new THREE.Texture;h.image=f;void 0!==b&&(h.mapping=b);h.flipY=!1;b=0;for(var g=a.length;b<g;++b){var k=e.load(a[b],function(){f.loadCount+=1;6===f.loadCount&&(h.needsUpdate=!0,d&&d(h))});f[b]=k}return h},loadCompressedTextureCube:function(a,
b,d,e){var f=[];f.loadCount=0;var h=new THREE.CompressedTexture;h.image=f;void 0!==b&&(h.mapping=b);h.flipY=!1;h.generateMipmaps=!1;b=function(a,b){return function(){var e=THREE.ImageUtils.parseDDS(a.response,!0);b.format=e.format;b.mipmaps=e.mipmaps;b.width=e.width;b.height=e.height;f.loadCount+=1;6===f.loadCount&&(h.format=e.format,h.needsUpdate=!0,d&&d(h))}};if(a instanceof Array)for(var g=0,k=a.length;g<k;++g){var l={};f[g]=l;var n=new XMLHttpRequest;n.onload=b(n,l);n.onerror=e;l=a[g];n.open("GET",
l,!0);n.responseType="arraybuffer";n.send(null)}else n=new XMLHttpRequest,n.onload=function(){var a=THREE.ImageUtils.parseDDS(n.response,!0);if(a.isCubemap){for(var b=a.mipmaps.length/a.mipmapCount,e=0;e<b;e++){f[e]={mipmaps:[]};for(var g=0;g<a.mipmapCount;g++)f[e].mipmaps.push(a.mipmaps[e*a.mipmapCount+g]),f[e].format=a.format,f[e].width=a.width,f[e].height=a.height}h.format=a.format;h.needsUpdate=!0;d&&d(h)}},n.onerror=e,n.open("GET",a,!0),n.responseType="arraybuffer",n.send(null);return h},loadDDSTexture:function(a,
b,d,e){var f=[];f.loadCount=0;var h=new THREE.CompressedTexture;h.image=f;void 0!==b&&(h.mapping=b);h.flipY=!1;h.generateMipmaps=!1;var g=new XMLHttpRequest;g.onload=function(){var a=THREE.ImageUtils.parseDDS(g.response,!0);if(a.isCubemap)for(var b=a.mipmaps.length/a.mipmapCount,e=0;e<b;e++){f[e]={mipmaps:[]};for(var p=0;p<a.mipmapCount;p++)f[e].mipmaps.push(a.mipmaps[e*a.mipmapCount+p]),f[e].format=a.format,f[e].width=a.width,f[e].height=a.height}else h.image.width=a.width,h.image.height=a.height,
h.mipmaps=a.mipmaps;h.format=a.format;h.needsUpdate=!0;d&&d(h)};g.onerror=e;g.open("GET",a,!0);g.responseType="arraybuffer";g.send(null);return h},parseDDS:function(a,b){function d(a){return a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)}function e(a,b,d,f){var e=d*f*4;a=new Uint8Array(a,b,e);for(var e=new Uint8Array(e),g=b=0,h=0;h<f;h++)for(var k=0;k<d;k++){var l=a[g];g++;var m=a[g];g++;var n=a[g];g++;var p=a[g];g++;e[b]=n;b++;e[b]=m;b++;e[b]=l;b++;e[b]=p;b++}return e}
var f={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},h=d("DXT1"),g=d("DXT3"),k=d("DXT5"),l=new Int32Array(a,0,31);if(542327876!==l[0])return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"),f;if(!l[20]&4)return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"),f;var n=l[21],p=!1;switch(n){case h:h=8;f.format=THREE.RGB_S3TC_DXT1_Format;break;case g:h=16;f.format=THREE.RGBA_S3TC_DXT3_Format;break;case k:h=16;f.format=THREE.RGBA_S3TC_DXT5_Format;
break;default:if(32==l[22]&&l[23]&16711680&&l[24]&65280&&l[25]&255&&l[26]&4278190080)p=!0,h=64,f.format=THREE.RGBAFormat;else return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",String.fromCharCode(n&255,n>>8&255,n>>16&255,n>>24&255)),f}f.mipmapCount=1;l[2]&131072&&!1!==b&&(f.mipmapCount=Math.max(1,l[7]));f.isCubemap=l[28]&512?!0:!1;f.width=l[4];f.height=l[3];for(var l=l[1]+4,g=f.width,k=f.height,n=f.isCubemap?6:1,q=0;q<n;q++){for(var m=0;m<f.mipmapCount;m++){if(p)var t=e(a,l,
g,k),s=t.length;else s=Math.max(4,g)/4*Math.max(4,k)/4*h,t=new Uint8Array(a,l,s);f.mipmaps.push({data:t,width:g,height:k});l+=s;g=Math.max(.5*g,1);k=Math.max(.5*k,1)}g=f.width;k=f.height}return f},getNormalMap:function(a,b){var d=function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return[a[0]/b,a[1]/b,a[2]/b]};b|=1;var e=a.width,f=a.height,h=document.createElement("canvas");h.width=e;h.height=f;var g=h.getContext("2d");g.drawImage(a,0,0);for(var k=g.getImageData(0,0,e,f).data,l=g.createImageData(e,
f),n=l.data,p=0;p<e;p++)for(var q=0;q<f;q++){var m=0>q-1?0:q-1,t=q+1>f-1?f-1:q+1,s=0>p-1?0:p-1,u=p+1>e-1?e-1:p+1,r=[],w=[0,0,k[4*(q*e+p)]/255*b];r.push([-1,0,k[4*(q*e+s)]/255*b]);r.push([-1,-1,k[4*(m*e+s)]/255*b]);r.push([0,-1,k[4*(m*e+p)]/255*b]);r.push([1,-1,k[4*(m*e+u)]/255*b]);r.push([1,0,k[4*(q*e+u)]/255*b]);r.push([1,1,k[4*(t*e+u)]/255*b]);r.push([0,1,k[4*(t*e+p)]/255*b]);r.push([-1,1,k[4*(t*e+s)]/255*b]);m=[];s=r.length;for(t=0;t<s;t++){var u=r[t],A=r[(t+1)%s],u=[u[0]-w[0],u[1]-w[1],u[2]-w[2]],
A=[A[0]-w[0],A[1]-w[1],A[2]-w[2]];m.push(d([u[1]*A[2]-u[2]*A[1],u[2]*A[0]-u[0]*A[2],u[0]*A[1]-u[1]*A[0]]))}r=[0,0,0];for(t=0;t<m.length;t++)r[0]+=m[t][0],r[1]+=m[t][1],r[2]+=m[t][2];r[0]/=m.length;r[1]/=m.length;r[2]/=m.length;w=4*(q*e+p);n[w]=(r[0]+1)/2*255|0;n[w+1]=(r[1]+1)/2*255|0;n[w+2]=255*r[2]|0;n[w+3]=255}g.putImageData(l,0,0);return h},generateDataTexture:function(a,b,d){var e=a*b,f=new Uint8Array(3*e),h=Math.floor(255*d.r),g=Math.floor(255*d.g);d=Math.floor(255*d.b);for(var k=0;k<e;k++)f[3*
k]=h,f[3*k+1]=g,f[3*k+2]=d;a=new THREE.DataTexture(f,a,b,THREE.RGBFormat);a.needsUpdate=!0;return a}};THREE.SceneUtils={createMultiMaterialObject:function(a,b){for(var d=new THREE.Object3D,e=0,f=b.length;e<f;e++)d.add(new THREE.Mesh(a,b[e]));return d},detach:function(a,b,d){a.applyMatrix(b.matrixWorld);b.remove(a);d.add(a)},attach:function(a,b,d){var e=new THREE.Matrix4;e.getInverse(d.matrixWorld);a.applyMatrix(e);b.remove(a);d.add(a)}};
THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(a){var b=a.familyName.toLowerCase();this.faces[b]=this.faces[b]||{};this.faces[b][a.cssFontWeight]=this.faces[b][a.cssFontWeight]||{};this.faces[b][a.cssFontWeight][a.cssFontStyle]=a;return this.faces[b][a.cssFontWeight][a.cssFontStyle]=a},drawText:function(a){var b=this.getFace(),d=this.size/b.resolution,e=0,f=
String(a).split(""),h=f.length,g=[];for(a=0;a<h;a++){var k=new THREE.Path,k=this.extractGlyphPoints(f[a],b,d,e,k),e=e+k.offset;g.push(k.path)}return{paths:g,offset:e/2}},extractGlyphPoints:function(a,b,d,e,f){var h=[],g,k,l,n,p,q,m,t,s,u,r,w=b.glyphs[a]||b.glyphs["?"];if(w){if(w.o)for(b=w._cachedOutline||(w._cachedOutline=w.o.split(" ")),n=b.length,a=0;a<n;)switch(l=b[a++],l){case "m":l=b[a++]*d+e;p=b[a++]*d;f.moveTo(l,p);break;case "l":l=b[a++]*d+e;p=b[a++]*d;f.lineTo(l,p);break;case "q":l=b[a++]*
d+e;p=b[a++]*d;t=b[a++]*d+e;s=b[a++]*d;f.quadraticCurveTo(t,s,l,p);if(g=h[h.length-1])for(q=g.x,m=g.y,g=1,k=this.divisions;g<=k;g++){var A=g/k;THREE.Shape.Utils.b2(A,q,t,l);THREE.Shape.Utils.b2(A,m,s,p)}break;case "b":if(l=b[a++]*d+e,p=b[a++]*d,t=b[a++]*d+e,s=b[a++]*-d,u=b[a++]*d+e,r=b[a++]*-d,f.bezierCurveTo(l,p,t,s,u,r),g=h[h.length-1])for(q=g.x,m=g.y,g=1,k=this.divisions;g<=k;g++)A=g/k,THREE.Shape.Utils.b3(A,q,t,u,l),THREE.Shape.Utils.b3(A,m,s,r,p)}return{offset:w.ha*d,path:f}}}};
THREE.FontUtils.generateShapes=function(a,b){b=b||{};var d=void 0!==b.curveSegments?b.curveSegments:4,e=void 0!==b.font?b.font:"helvetiker",f=void 0!==b.weight?b.weight:"normal",h=void 0!==b.style?b.style:"normal";THREE.FontUtils.size=void 0!==b.size?b.size:100;THREE.FontUtils.divisions=d;THREE.FontUtils.face=e;THREE.FontUtils.weight=f;THREE.FontUtils.style=h;d=THREE.FontUtils.drawText(a).paths;e=[];f=0;for(h=d.length;f<h;f++)Array.prototype.push.apply(e,d[f].toShapes());return e};
(function(a){var b=function(a){for(var b=a.length,f=0,h=b-1,g=0;g<b;h=g++)f+=a[h].x*a[g].y-a[g].x*a[h].y;return.5*f};a.Triangulate=function(a,e){var f=a.length;if(3>f)return null;var h=[],g=[],k=[],l,n,p;if(0<b(a))for(n=0;n<f;n++)g[n]=n;else for(n=0;n<f;n++)g[n]=f-1-n;var q=2*f;for(n=f-1;2<f;){if(0>=q--){console.log("Warning, unable to triangulate polygon!");break}l=n;f<=l&&(l=0);n=l+1;f<=n&&(n=0);p=n+1;f<=p&&(p=0);var m;a:{var t=void 0,s=void 0,u=void 0,r=void 0,w=void 0,A=void 0,C=void 0,G=void 0,
t=a[g[l]].x,s=a[g[l]].y,u=a[g[n]].x,r=a[g[n]].y,w=a[g[p]].x,A=a[g[p]].y;if(1E-10>(u-t)*(A-s)-(r-s)*(w-t))m=!1;else{var F=void 0,D=void 0,I=void 0,E=void 0,P=void 0,H=void 0,M=void 0,K=void 0,N=void 0,L=void 0,N=K=M=G=C=void 0,F=w-u,D=A-r,I=t-w,E=s-A,P=u-t,H=r-s;for(m=0;m<f;m++)if(C=a[g[m]].x,G=a[g[m]].y,!(C===t&&G===s||C===u&&G===r||C===w&&G===A)&&(M=C-t,K=G-s,N=C-u,L=G-r,C-=w,G-=A,N=F*L-D*N,M=P*K-H*M,K=I*G-E*C,-1E-10<=N&&-1E-10<=K&&-1E-10<=M)){m=!1;break a}m=!0}}if(m){h.push([a[g[l]],a[g[n]],a[g[p]]]);
k.push([g[l],g[n],g[p]]);l=n;for(p=n+1;p<f;l++,p++)g[l]=g[p];f--;q=2*f}}return e?k:h};a.Triangulate.area=b;return a})(THREE.FontUtils);self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace};THREE.typeface_js=self._typeface_js;THREE.Curve=function(){};THREE.Curve.prototype.getPoint=function(a){console.log("Warning, getPoint() not implemented!");return null};THREE.Curve.prototype.getPointAt=function(a){a=this.getUtoTmapping(a);return this.getPoint(a)};
THREE.Curve.prototype.getPoints=function(a){a||(a=5);var b,d=[];for(b=0;b<=a;b++)d.push(this.getPoint(b/a));return d};THREE.Curve.prototype.getSpacedPoints=function(a){a||(a=5);var b,d=[];for(b=0;b<=a;b++)d.push(this.getPointAt(b/a));return d};THREE.Curve.prototype.getLength=function(){var a=this.getLengths();return a[a.length-1]};
THREE.Curve.prototype.getLengths=function(a){a||(a=this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length==a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],d,e=this.getPoint(0),f,h=0;b.push(0);for(f=1;f<=a;f++)d=this.getPoint(f/a),h+=d.distanceTo(e),b.push(h),e=d;return this.cacheArcLengths=b};THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0;this.getLengths()};
THREE.Curve.prototype.getUtoTmapping=function(a,b){var d=this.getLengths(),e=0,f=d.length,h;h=b?b:a*d[f-1];for(var g=0,k=f-1,l;g<=k;)if(e=Math.floor(g+(k-g)/2),l=d[e]-h,0>l)g=e+1;else if(0<l)k=e-1;else{k=e;break}e=k;if(d[e]==h)return e/(f-1);g=d[e];return(e+(h-g)/(d[e+1]-g))/(f-1)};THREE.Curve.prototype.getTangent=function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()};
THREE.Curve.prototype.getTangentAt=function(a){a=this.getUtoTmapping(a);return this.getTangent(a)};
THREE.Curve.Utils={tangentQuadraticBezier:function(a,b,d,e){return 2*(1-a)*(d-b)+2*a*(e-d)},tangentCubicBezier:function(a,b,d,e,f){return-3*b*(1-a)*(1-a)+3*d*(1-a)*(1-a)-6*a*d*(1-a)+6*a*e*(1-a)-3*a*a*e+3*a*a*f},tangentSpline:function(a,b,d,e,f){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,d,e,f){a=.5*(d-a);e=.5*(e-b);var h=f*f;return(2*b-2*d+a+e)*f*h+(-3*b+3*d-2*a-e)*h+a*f+b}};
THREE.Curve.create=function(a,b){a.prototype=Object.create(THREE.Curve.prototype);a.prototype.getPoint=b;return a};THREE.CurvePath=function(){this.curves=[];this.bends=[];this.autoClose=!1};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.add=function(a){this.curves.push(a)};THREE.CurvePath.prototype.checkConnection=function(){};
THREE.CurvePath.prototype.closePath=function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new THREE.LineCurve(b,a))};THREE.CurvePath.prototype.getPoint=function(a){var b=a*this.getLength(),d=this.getCurveLengths();for(a=0;a<d.length;){if(d[a]>=b)return b=d[a]-b,a=this.curves[a],b=1-b/a.getLength(),a.getPointAt(b);a++}return null};THREE.CurvePath.prototype.getLength=function(){var a=this.getCurveLengths();return a[a.length-1]};
THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var a=[],b=0,d,e=this.curves.length;for(d=0;d<e;d++)b+=this.curves[d].getLength(),a.push(b);return this.cacheLengths=a};
THREE.CurvePath.prototype.getBoundingBox=function(){var a=this.getPoints(),b,d,e,f,h,g;b=d=Number.NEGATIVE_INFINITY;f=h=Number.POSITIVE_INFINITY;var k,l,n,p,q=a[0]instanceof THREE.Vector3;p=q?new THREE.Vector3:new THREE.Vector2;l=0;for(n=a.length;l<n;l++)k=a[l],k.x>b?b=k.x:k.x<f&&(f=k.x),k.y>d?d=k.y:k.y<h&&(h=k.y),q&&(k.z>e?e=k.z:k.z<g&&(g=k.z)),p.add(k);a={minX:f,minY:h,maxX:b,maxY:d};q&&(a.maxZ=e,a.minZ=g);return a};
THREE.CurvePath.prototype.createPointsGeometry=function(a){a=this.getPoints(a,!0);return this.createGeometry(a)};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(a){a=this.getSpacedPoints(a,!0);return this.createGeometry(a)};THREE.CurvePath.prototype.createGeometry=function(a){for(var b=new THREE.Geometry,d=0;d<a.length;d++)b.vertices.push(new THREE.Vector3(a[d].x,a[d].y,a[d].z||0));return b};THREE.CurvePath.prototype.addWrapPath=function(a){this.bends.push(a)};
THREE.CurvePath.prototype.getTransformedPoints=function(a,b){var d=this.getPoints(a),e,f;b||(b=this.bends);e=0;for(f=b.length;e<f;e++)d=this.getWrapPoints(d,b[e]);return d};THREE.CurvePath.prototype.getTransformedSpacedPoints=function(a,b){var d=this.getSpacedPoints(a),e,f;b||(b=this.bends);e=0;for(f=b.length;e<f;e++)d=this.getWrapPoints(d,b[e]);return d};
THREE.CurvePath.prototype.getWrapPoints=function(a,b){var d=this.getBoundingBox(),e,f,h,g,k,l;e=0;for(f=a.length;e<f;e++)h=a[e],g=h.x,k=h.y,l=g/d.maxX,l=b.getUtoTmapping(l,g),g=b.getPoint(l),l=b.getTangent(l),l.set(-l.y,l.x).multiplyScalar(k),h.x=g.x+l.x,h.y=g.y+l.y;return a};THREE.Gyroscope=function(){THREE.Object3D.call(this)};THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype);
THREE.Gyroscope.prototype.updateMatrixWorld=function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.quaternionWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.quaternionObject,this.scaleObject),this.matrixWorld.compose(this.translationWorld,this.quaternionObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,d=this.children.length;b<d;b++)this.children[b].updateMatrixWorld(a)};THREE.Gyroscope.prototype.translationWorld=new THREE.Vector3;THREE.Gyroscope.prototype.translationObject=new THREE.Vector3;THREE.Gyroscope.prototype.quaternionWorld=new THREE.Quaternion;THREE.Gyroscope.prototype.quaternionObject=new THREE.Quaternion;THREE.Gyroscope.prototype.scaleWorld=new THREE.Vector3;THREE.Gyroscope.prototype.scaleObject=new THREE.Vector3;
THREE.Path=function(a){THREE.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"};THREE.Path.prototype.fromPoints=function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,d=a.length;b<d;b++)this.lineTo(a[b].x,a[b].y)};
THREE.Path.prototype.moveTo=function(a,b){var d=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:d})};THREE.Path.prototype.lineTo=function(a,b){var d=Array.prototype.slice.call(arguments),e=this.actions[this.actions.length-1].args,e=new THREE.LineCurve(new THREE.Vector2(e[e.length-2],e[e.length-1]),new THREE.Vector2(a,b));this.curves.push(e);this.actions.push({action:THREE.PathActions.LINE_TO,args:d})};
THREE.Path.prototype.quadraticCurveTo=function(a,b,d,e){var f=Array.prototype.slice.call(arguments),h=this.actions[this.actions.length-1].args,h=new THREE.QuadraticBezierCurve(new THREE.Vector2(h[h.length-2],h[h.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(d,e));this.curves.push(h);this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:f})};
THREE.Path.prototype.bezierCurveTo=function(a,b,d,e,f,h){var g=Array.prototype.slice.call(arguments),k=this.actions[this.actions.length-1].args,k=new THREE.CubicBezierCurve(new THREE.Vector2(k[k.length-2],k[k.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(d,e),new THREE.Vector2(f,h));this.curves.push(k);this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:g})};
THREE.Path.prototype.splineThru=function(a){var b=Array.prototype.slice.call(arguments),d=this.actions[this.actions.length-1].args,d=[new THREE.Vector2(d[d.length-2],d[d.length-1])];Array.prototype.push.apply(d,a);d=new THREE.SplineCurve(d);this.curves.push(d);this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:b})};THREE.Path.prototype.arc=function(a,b,d,e,f,h){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],d,e,f,h)};
THREE.Path.prototype.absarc=function(a,b,d,e,f,h){this.absellipse(a,b,d,d,e,f,h)};THREE.Path.prototype.ellipse=function(a,b,d,e,f,h,g){var k=this.actions[this.actions.length-1].args;this.absellipse(a+k[k.length-2],b+k[k.length-1],d,e,f,h,g)};THREE.Path.prototype.absellipse=function(a,b,d,e,f,h,g){var k=Array.prototype.slice.call(arguments),l=new THREE.EllipseCurve(a,b,d,e,f,h,g);this.curves.push(l);l=l.getPoint(1);k.push(l.x);k.push(l.y);this.actions.push({action:THREE.PathActions.ELLIPSE,args:k})};
THREE.Path.prototype.getSpacedPoints=function(a,b){a||(a=40);for(var d=[],e=0;e<a;e++)d.push(this.getPoint(e/a));return d};
THREE.Path.prototype.getPoints=function(a,b){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(a,b);a=a||12;var d=[],e,f,h,g,k,l,n,p,q,m,t,s,u;e=0;for(f=this.actions.length;e<f;e++)switch(h=this.actions[e],g=h.action,h=h.args,g){case THREE.PathActions.MOVE_TO:d.push(new THREE.Vector2(h[0],h[1]));break;case THREE.PathActions.LINE_TO:d.push(new THREE.Vector2(h[0],h[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:k=h[2];l=h[3];q=h[0];m=h[1];0<d.length?(g=d[d.length-1],t=g.x,
s=g.y):(g=this.actions[e-1].args,t=g[g.length-2],s=g[g.length-1]);for(h=1;h<=a;h++)u=h/a,g=THREE.Shape.Utils.b2(u,t,q,k),u=THREE.Shape.Utils.b2(u,s,m,l),d.push(new THREE.Vector2(g,u));break;case THREE.PathActions.BEZIER_CURVE_TO:k=h[4];l=h[5];q=h[0];m=h[1];n=h[2];p=h[3];0<d.length?(g=d[d.length-1],t=g.x,s=g.y):(g=this.actions[e-1].args,t=g[g.length-2],s=g[g.length-1]);for(h=1;h<=a;h++)u=h/a,g=THREE.Shape.Utils.b3(u,t,q,n,k),u=THREE.Shape.Utils.b3(u,s,m,p,l),d.push(new THREE.Vector2(g,u));break;case THREE.PathActions.CSPLINE_THRU:g=
this.actions[e-1].args;u=[new THREE.Vector2(g[g.length-2],g[g.length-1])];g=a*h[0].length;u=u.concat(h[0]);u=new THREE.SplineCurve(u);for(h=1;h<=g;h++)d.push(u.getPointAt(h/g));break;case THREE.PathActions.ARC:k=h[0];l=h[1];m=h[2];n=h[3];g=h[4];q=!!h[5];t=g-n;s=2*a;for(h=1;h<=s;h++)u=h/s,q||(u=1-u),u=n+u*t,g=k+m*Math.cos(u),u=l+m*Math.sin(u),d.push(new THREE.Vector2(g,u));break;case THREE.PathActions.ELLIPSE:for(k=h[0],l=h[1],m=h[2],p=h[3],n=h[4],g=h[5],q=!!h[6],t=g-n,s=2*a,h=1;h<=s;h++)u=h/s,q||
(u=1-u),u=n+u*t,g=k+m*Math.cos(u),u=l+p*Math.sin(u),d.push(new THREE.Vector2(g,u))}e=d[d.length-1];1E-10>Math.abs(e.x-d[0].x)&&1E-10>Math.abs(e.y-d[0].y)&&d.splice(d.length-1,1);b&&d.push(d[0]);return d};
THREE.Path.prototype.toShapes=function(a,b){function d(a){for(var b=[],d=0,f=a.length;d<f;d++){var e=a[d],g=new THREE.Shape;g.actions=e.actions;g.curves=e.curves;b.push(g)}return b}function e(a,b){for(var d=b.length,f=!1,e=d-1,g=0;g<d;e=g++){var h=b[e],k=b[g],l=k.x-h.x,m=k.y-h.y;if(1E-10<Math.abs(m)){if(0>m&&(h=b[g],l=-l,k=b[e],m=-m),!(a.y<h.y||a.y>k.y))if(a.y==h.y){if(a.x==h.x)return!0}else{e=m*(a.x-h.x)-l*(a.y-h.y);if(0==e)return!0;0>e||(f=!f)}}else if(a.y==h.y&&(k.x<=a.x&&a.x<=h.x||h.x<=a.x&&a.x<=
k.x))return!0}return f}var f=function(a){var b,d,f,e,g=[],h=new THREE.Path;b=0;for(d=a.length;b<d;b++)f=a[b],e=f.args,f=f.action,f==THREE.PathActions.MOVE_TO&&0!=h.actions.length&&(g.push(h),h=new THREE.Path),h[f].apply(h,e);0!=h.actions.length&&g.push(h);return g}(this.actions);if(0==f.length)return[];if(!0===b)return d(f);var h,g,k,l=[];if(1==f.length)return g=f[0],k=new THREE.Shape,k.actions=g.actions,k.curves=g.curves,l.push(k),l;var n=!THREE.Shape.Utils.isClockWise(f[0].getPoints()),n=a?!n:n;
k=[];var p=[],q=[],m=0,t;p[m]=void 0;q[m]=[];var s,u;s=0;for(u=f.length;s<u;s++)g=f[s],t=g.getPoints(),h=THREE.Shape.Utils.isClockWise(t),(h=a?!h:h)?(!n&&p[m]&&m++,p[m]={s:new THREE.Shape,p:t},p[m].s.actions=g.actions,p[m].s.curves=g.curves,n&&m++,q[m]=[]):q[m].push({h:g,p:t[0]});if(!p[0])return d(f);if(1<p.length){s=!1;u=[];g=0;for(f=p.length;g<f;g++)k[g]=[];g=0;for(f=p.length;g<f;g++)for(h=q[g],n=0;n<h.length;n++){m=h[n];t=!0;for(var r=0;r<p.length;r++)e(m.p,p[r].p)&&(g!=r&&u.push({froms:g,tos:r,
hole:n}),t?(t=!1,k[r].push(m)):s=!0);t&&k[g].push(m)}0<u.length&&(s||(q=k))}s=0;for(u=p.length;s<u;s++)for(k=p[s].s,l.push(k),g=q[s],f=0,h=g.length;f<h;f++)k.holes.push(g[f].h);return l};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.extrude=function(a){return new THREE.ExtrudeGeometry(this,a)};THREE.Shape.prototype.makeGeometry=function(a){return new THREE.ShapeGeometry(this,a)};
THREE.Shape.prototype.getPointsHoles=function(a){var b,d=this.holes.length,e=[];for(b=0;b<d;b++)e[b]=this.holes[b].getTransformedPoints(a,this.bends);return e};THREE.Shape.prototype.getSpacedPointsHoles=function(a){var b,d=this.holes.length,e=[];for(b=0;b<d;b++)e[b]=this.holes[b].getTransformedSpacedPoints(a,this.bends);return e};THREE.Shape.prototype.extractAllPoints=function(a){return{shape:this.getTransformedPoints(a),holes:this.getPointsHoles(a)}};
THREE.Shape.prototype.extractPoints=function(a){return this.useSpacedPoints?this.extractAllSpacedPoints(a):this.extractAllPoints(a)};THREE.Shape.prototype.extractAllSpacedPoints=function(a){return{shape:this.getTransformedSpacedPoints(a),holes:this.getSpacedPointsHoles(a)}};
THREE.Shape.Utils={triangulateShape:function(a,b){function d(a,b,d){return a.x!=b.x?a.x<b.x?a.x<=d.x&&d.x<=b.x:b.x<=d.x&&d.x<=a.x:a.y<b.y?a.y<=d.y&&d.y<=b.y:b.y<=d.y&&d.y<=a.y}function e(a,b,f,e,g){var h=b.x-a.x,k=b.y-a.y,l=e.x-f.x,n=e.y-f.y,p=a.x-f.x,q=a.y-f.y,I=k*l-h*n,E=k*p-h*q;if(1E-10<Math.abs(I)){if(0<I){if(0>E||E>I)return[];l=n*p-l*q;if(0>l||l>I)return[]}else{if(0<E||E<I)return[];l=n*p-l*q;if(0<l||l<I)return[]}if(0==l)return!g||0!=E&&E!=I?[a]:[];if(l==I)return!g||0!=E&&E!=I?[b]:[];if(0==E)return[f];
if(E==I)return[e];g=l/I;return[{x:a.x+g*h,y:a.y+g*k}]}if(0!=E||n*p!=l*q)return[];k=0==h&&0==k;l=0==l&&0==n;if(k&&l)return a.x!=f.x||a.y!=f.y?[]:[a];if(k)return d(f,e,a)?[a]:[];if(l)return d(a,b,f)?[f]:[];0!=h?(a.x<b.x?(h=a,l=a.x,k=b,a=b.x):(h=b,l=b.x,k=a,a=a.x),f.x<e.x?(b=f,I=f.x,n=e,f=e.x):(b=e,I=e.x,n=f,f=f.x)):(a.y<b.y?(h=a,l=a.y,k=b,a=b.y):(h=b,l=b.y,k=a,a=a.y),f.y<e.y?(b=f,I=f.y,n=e,f=e.y):(b=e,I=e.y,n=f,f=f.y));return l<=I?a<I?[]:a==I?g?[]:[b]:a<=f?[b,k]:[b,n]:l>f?[]:l==f?g?[]:[h]:a<=f?[h,k]:
[h,n]}function f(a,b,d,f){var e=b.x-a.x,g=b.y-a.y;b=d.x-a.x;d=d.y-a.y;var h=f.x-a.x;f=f.y-a.y;a=e*d-g*b;e=e*f-g*h;return 1E-10<Math.abs(a)?(b=h*d-f*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var h,g,k,l,n,p={};k=a.concat();h=0;for(g=b.length;h<g;h++)Array.prototype.push.apply(k,b[h]);h=0;for(g=k.length;h<g;h++)n=k[h].x+":"+k[h].y,void 0!==p[n]&&console.log("Duplicate point",n),p[n]=h;h=function(a,b){function d(a,b){var e=k.length-1,g=a-1;0>g&&(g=e);var h=a+1;h>e&&(h=0);e=f(k[a],k[g],k[h],l[b]);if(!e)return!1;
e=l.length-1;g=b-1;0>g&&(g=e);h=b+1;h>e&&(h=0);return f(l[b],l[g],l[h],k[a])?!0:!1}function g(a,b){var d,f;for(d=0;d<k.length;d++)if(f=d+1,f%=k.length,f=e(a,b,k[d],k[f],!0),0<f.length)return!0;return!1}function h(a,d){var f,g,k,l;for(f=0;f<n.length;f++)for(g=b[n[f]],k=0;k<g.length;k++)if(l=k+1,l%=g.length,l=e(a,d,g[k],g[l],!0),0<l.length)return!0;return!1}var k=a.concat(),l,n=[],p,q,D,I,E,P=[],H,M,K,N=0;for(p=b.length;N<p;N++)n.push(N);H=0;for(var L=2*n.length;0<n.length;){L--;if(0>L){console.log("Infinite Loop! Holes left:"+
n.length+", Probably Hole outside Shape!");break}for(q=H;q<k.length;q++){D=k[q];p=-1;for(N=0;N<n.length;N++)if(I=n[N],E=D.x+":"+D.y+":"+I,void 0===P[E]){l=b[I];for(M=0;M<l.length;M++)if(I=l[M],d(q,M)&&!g(D,I)&&!h(D,I)){p=M;n.splice(N,1);H=k.slice(0,q+1);I=k.slice(q);M=l.slice(p);K=l.slice(0,p+1);k=H.concat(M).concat(K).concat(I);H=q;break}if(0<=p)break;P[E]=!0}if(0<=p)break}}return k}(a,b);var q=THREE.FontUtils.Triangulate(h,!1);h=0;for(g=q.length;h<g;h++)for(l=q[h],k=0;3>k;k++)n=l[k].x+":"+l[k].y,
n=p[n],void 0!==n&&(l[k]=n);return q.concat()},isClockWise:function(a){return 0>THREE.FontUtils.Triangulate.area(a)},b2p0:function(a,b){var d=1-a;return d*d*b},b2p1:function(a,b){return 2*(1-a)*a*b},b2p2:function(a,b){return a*a*b},b2:function(a,b,d,e){return this.b2p0(a,b)+this.b2p1(a,d)+this.b2p2(a,e)},b3p0:function(a,b){var d=1-a;return d*d*d*b},b3p1:function(a,b){var d=1-a;return 3*d*d*a*b},b3p2:function(a,b){return 3*(1-a)*a*a*b},b3p3:function(a,b){return a*a*a*b},b3:function(a,b,d,e,f){return this.b3p0(a,
b)+this.b3p1(a,d)+this.b3p2(a,e)+this.b3p3(a,f)}};THREE.LineCurve=function(a,b){this.v1=a;this.v2=b};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};THREE.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};THREE.LineCurve.prototype.getTangent=function(a){return this.v2.clone().sub(this.v1).normalize()};
THREE.QuadraticBezierCurve=function(a,b,d){this.v0=a;this.v1=b;this.v2=d};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.getPoint=function(a){var b;b=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);a=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);return new THREE.Vector2(b,a)};
THREE.QuadraticBezierCurve.prototype.getTangent=function(a){var b;b=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.x,this.v1.x,this.v2.x);a=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.y,this.v1.y,this.v2.y);b=new THREE.Vector2(b,a);b.normalize();return b};THREE.CubicBezierCurve=function(a,b,d,e){this.v0=a;this.v1=b;this.v2=d;this.v3=e};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);
THREE.CubicBezierCurve.prototype.getPoint=function(a){var b;b=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new THREE.Vector2(b,a)};THREE.CubicBezierCurve.prototype.getTangent=function(a){var b;b=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);b=new THREE.Vector2(b,a);b.normalize();return b};
THREE.SplineCurve=function(a){this.points=void 0==a?[]:a};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.getPoint=function(a){var b=new THREE.Vector2,d=[],e=this.points,f;f=(e.length-1)*a;a=Math.floor(f);f-=a;d[0]=0==a?a:a-1;d[1]=a;d[2]=a>e.length-2?e.length-1:a+1;d[3]=a>e.length-3?e.length-1:a+2;b.x=THREE.Curve.Utils.interpolate(e[d[0]].x,e[d[1]].x,e[d[2]].x,e[d[3]].x,f);b.y=THREE.Curve.Utils.interpolate(e[d[0]].y,e[d[1]].y,e[d[2]].y,e[d[3]].y,f);return b};
THREE.EllipseCurve=function(a,b,d,e,f,h,g){this.aX=a;this.aY=b;this.xRadius=d;this.yRadius=e;this.aStartAngle=f;this.aEndAngle=h;this.aClockwise=g};THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);
THREE.EllipseCurve.prototype.getPoint=function(a){var b;b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);b=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;a=this.aX+this.xRadius*Math.cos(b);b=this.aY+this.yRadius*Math.sin(b);return new THREE.Vector2(a,b)};THREE.ArcCurve=function(a,b,d,e,f,h){THREE.EllipseCurve.call(this,a,b,d,d,e,f,h)};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);
THREE.LineCurve3=THREE.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new THREE.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(a,b,d){this.v0=a;this.v1=b;this.v2=d},function(a){var b,d;b=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);d=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);a=THREE.Shape.Utils.b2(a,this.v0.z,this.v1.z,this.v2.z);return new THREE.Vector3(b,d,a)});
THREE.CubicBezierCurve3=THREE.Curve.create(function(a,b,d,e){this.v0=a;this.v1=b;this.v2=d;this.v3=e},function(a){var b,d;b=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);d=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);a=THREE.Shape.Utils.b3(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new THREE.Vector3(b,d,a)});
THREE.SplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=new THREE.Vector3,d=[],e=this.points,f;a*=e.length-1;f=Math.floor(a);a-=f;d[0]=0==f?f:f-1;d[1]=f;d[2]=f>e.length-2?e.length-1:f+1;d[3]=f>e.length-3?e.length-1:f+2;f=e[d[0]];var h=e[d[1]],g=e[d[2]],d=e[d[3]];b.x=THREE.Curve.Utils.interpolate(f.x,h.x,g.x,d.x,a);b.y=THREE.Curve.Utils.interpolate(f.y,h.y,g.y,d.y,a);b.z=THREE.Curve.Utils.interpolate(f.z,h.z,g.z,d.z,a);return b});
THREE.ClosedSplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=new THREE.Vector3,d=[],e=this.points,f;f=(e.length-0)*a;a=Math.floor(f);f-=a;a+=0<a?0:(Math.floor(Math.abs(a)/e.length)+1)*e.length;d[0]=(a-1)%e.length;d[1]=a%e.length;d[2]=(a+1)%e.length;d[3]=(a+2)%e.length;b.x=THREE.Curve.Utils.interpolate(e[d[0]].x,e[d[1]].x,e[d[2]].x,e[d[3]].x,f);b.y=THREE.Curve.Utils.interpolate(e[d[0]].y,e[d[1]].y,e[d[2]].y,e[d[3]].y,f);b.z=THREE.Curve.Utils.interpolate(e[d[0]].z,
e[d[1]].z,e[d[2]].z,e[d[3]].z,f);return b});
THREE.AnimationHandler=function(){var a=[],b={},d={update:function(b){for(var d=0;d<a.length;d++)a[d].update(b)},addToUpdate:function(b){-1===a.indexOf(b)&&a.push(b)},removeFromUpdate:function(b){b=a.indexOf(b);-1!==b&&a.splice(b,1)},add:function(a){void 0!==b[a.name]&&console.log("THREE.AnimationHandler.add: Warning! "+a.name+" already exists in library. Overwriting.");b[a.name]=a;if(!0!==a.initialized){for(var d=0;d<a.hierarchy.length;d++){for(var e=0;e<a.hierarchy[d].keys.length;e++)if(0>a.hierarchy[d].keys[e].time&&
(a.hierarchy[d].keys[e].time=0),void 0!==a.hierarchy[d].keys[e].rot&&!(a.hierarchy[d].keys[e].rot instanceof THREE.Quaternion)){var k=a.hierarchy[d].keys[e].rot;a.hierarchy[d].keys[e].rot=(new THREE.Quaternion).fromArray(k)}if(a.hierarchy[d].keys.length&&void 0!==a.hierarchy[d].keys[0].morphTargets){k={};for(e=0;e<a.hierarchy[d].keys.length;e++)for(var l=0;l<a.hierarchy[d].keys[e].morphTargets.length;l++){var n=a.hierarchy[d].keys[e].morphTargets[l];k[n]=-1}a.hierarchy[d].usedMorphTargets=k;for(e=
0;e<a.hierarchy[d].keys.length;e++){var p={};for(n in k){for(l=0;l<a.hierarchy[d].keys[e].morphTargets.length;l++)if(a.hierarchy[d].keys[e].morphTargets[l]===n){p[n]=a.hierarchy[d].keys[e].morphTargetsInfluences[l];break}l===a.hierarchy[d].keys[e].morphTargets.length&&(p[n]=0)}a.hierarchy[d].keys[e].morphTargetsInfluences=p}}for(e=1;e<a.hierarchy[d].keys.length;e++)a.hierarchy[d].keys[e].time===a.hierarchy[d].keys[e-1].time&&(a.hierarchy[d].keys.splice(e,1),e--);for(e=0;e<a.hierarchy[d].keys.length;e++)a.hierarchy[d].keys[e].index=
e}a.initialized=!0}},remove:function(a){void 0===b[a]&&console.log("THREE.AnimationHandler.add: Warning! "+a+" doesn't exists in library. Doing nothing.");b[a]=void 0},get:function(a){if("string"===typeof a)return b[a]?b[a]:null},parse:function(a){var b=[];if(a instanceof THREE.SkinnedMesh)for(var d=0;d<a.skeleton.bones.length;d++)b.push(a.skeleton.bones[d]);else e(a,b);return b}},e=function(a,b){b.push(a);for(var d=0;d<a.children.length;d++)e(a.children[d],b)};d.LINEAR=0;d.CATMULLROM=1;d.CATMULLROM_FORWARD=
2;return d}();THREE.Animation=function(a,b){this.root=a;this.data=THREE.AnimationHandler.get(b);this.hierarchy=THREE.AnimationHandler.parse(a);this.currentTime=0;this.timeScale=1;this.isPlaying=!1;this.loop=this.isPaused=!0;this.weight=0;this.interpolationType=THREE.AnimationHandler.LINEAR};THREE.Animation.prototype.keyTypes=["pos","rot","scl"];THREE.Animation.prototype.play=function(a,b){this.currentTime=void 0!==a?a:0;this.weight=void 0!==b?b:1;this.isPlaying=!0;this.isPaused=!1;this.reset();THREE.AnimationHandler.addToUpdate(this)};
THREE.Animation.prototype.pause=function(){!0===this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this);this.isPaused=!this.isPaused};THREE.Animation.prototype.stop=function(){this.isPaused=this.isPlaying=!1;THREE.AnimationHandler.removeFromUpdate(this)};
THREE.Animation.prototype.reset=function(){for(var a=0,b=this.hierarchy.length;a<b;a++){var d=this.hierarchy[a];d.matrixAutoUpdate=!0;void 0===d.animationCache&&(d.animationCache={});void 0===d.animationCache[this.data.name]&&(d.animationCache[this.data.name]={},d.animationCache[this.data.name].prevKey={pos:0,rot:0,scl:0},d.animationCache[this.data.name].nextKey={pos:0,rot:0,scl:0},d.animationCache[this.data.name].originalMatrix=d instanceof THREE.Bone?d.skinMatrix:d.matrix);for(var d=d.animationCache[this.data.name],
e=0;3>e;e++){for(var f=this.keyTypes[e],h=this.data.hierarchy[a].keys[0],g=this.getNextKeyWith(f,a,1);g.time<this.currentTime&&g.index>h.index;)h=g,g=this.getNextKeyWith(f,a,g.index+1);d.prevKey[f]=h;d.nextKey[f]=g}}};
THREE.Animation.prototype.update=function(){var a=[],b=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Quaternion,f=function(a,b){var d=[],f=[],e,q,m,t,s,u;e=(a.length-1)*b;q=Math.floor(e);e-=q;d[0]=0===q?q:q-1;d[1]=q;d[2]=q>a.length-2?q:q+1;d[3]=q>a.length-3?q:q+2;q=a[d[0]];t=a[d[1]];s=a[d[2]];u=a[d[3]];d=e*e;m=e*d;f[0]=h(q[0],t[0],s[0],u[0],e,d,m);f[1]=h(q[1],t[1],s[1],u[1],e,d,m);f[2]=h(q[2],t[2],s[2],u[2],e,d,m);return f},h=function(a,b,d,f,e,h,m){a=.5*(d-a);f=.5*(f-b);return(2*(b-d)+a+f)*m+
(-3*(b-d)-2*a-f)*h+a*e+b};return function(h){if(!1!==this.isPlaying&&(this.currentTime+=h*this.timeScale,0!==this.weight)){var k;h=this.data.length;if(!0===this.loop&&this.currentTime>h)this.currentTime%=h,this.reset();else if(!1===this.loop&&this.currentTime>h){this.stop();return}h=0;for(var l=this.hierarchy.length;h<l;h++)for(var n=this.hierarchy[h],p=n.animationCache[this.data.name],q=0;3>q;q++){k=this.keyTypes[q];var m=p.prevKey[k],t=p.nextKey[k];if(t.time<=this.currentTime){m=this.data.hierarchy[h].keys[0];
for(t=this.getNextKeyWith(k,h,1);t.time<this.currentTime&&t.index>m.index;)m=t,t=this.getNextKeyWith(k,h,t.index+1);p.prevKey[k]=m;p.nextKey[k]=t}n.matrixAutoUpdate=!0;n.matrixWorldNeedsUpdate=!0;var s=(this.currentTime-m.time)/(t.time-m.time),u=m[k],r=t[k];0>s&&(s=0);1<s&&(s=1);if("pos"===k)if(k=n.position,this.interpolationType===THREE.AnimationHandler.LINEAR)d.x=u[0]+(r[0]-u[0])*s,d.y=u[1]+(r[1]-u[1])*s,d.z=u[2]+(r[2]-u[2])*s,n instanceof THREE.Bone&&(m=this.weight/(this.weight+n.accumulatedPosWeight),
k.lerp(d,m),n.accumulatedPosWeight+=this.weight);else{if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD)a[0]=this.getPrevKeyWith("pos",h,m.index-1).pos,a[1]=u,a[2]=r,a[3]=this.getNextKeyWith("pos",h,t.index+1).pos,s=.33*s+.33,t=f(a,s),n instanceof THREE.Bone?(m=this.weight/(this.weight+n.accumulatedPosWeight),n.accumulatedPosWeight+=this.weight):m=1,k.x+=(t[0]-k.x)*m,k.y+=(t[1]-k.y)*m,k.z+=(t[2]-k.z)*m,this.interpolationType===
THREE.AnimationHandler.CATMULLROM_FORWARD&&(s=f(a,1.01*s),b.set(s[0],s[1],s[2]),b.sub(k),b.y=0,b.normalize(),k=Math.atan2(b.x,b.z),n.rotation.set(0,k,0))}else"rot"===k?(THREE.Quaternion.slerp(u,r,e,s),n instanceof THREE.Bone?0===n.accumulatedRotWeight?(n.quaternion.copy(e),n.accumulatedRotWeight=this.weight):(m=this.weight/(this.weight+n.accumulatedRotWeight),THREE.Quaternion.slerp(n.quaternion,e,n.quaternion,m),n.accumulatedRotWeight+=this.weight):n.quaternion.copy(e)):"scl"===k&&(k=n.scale,d.x=
u[0]+(r[0]-u[0])*s,d.y=u[1]+(r[1]-u[1])*s,d.z=u[2]+(r[2]-u[2])*s,n instanceof THREE.Bone&&(m=this.weight/(this.weight+n.accumulatedSclWeight),k.lerp(d,m),n.accumulatedSclWeight+=this.weight))}return!0}}}();
THREE.Animation.prototype.getNextKeyWith=function(a,b,d){var e=this.data.hierarchy[b].keys;for(d=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?d<e.length-1?d:e.length-1:d%e.length;d<e.length;d++)if(void 0!==e[d][a])return e[d];return this.data.hierarchy[b].keys[0]};
THREE.Animation.prototype.getPrevKeyWith=function(a,b,d){var e=this.data.hierarchy[b].keys;for(d=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?0<d?d:0:0<=d?d:d+e.length;0<=d;d--)if(void 0!==e[d][a])return e[d];return this.data.hierarchy[b].keys[e.length-1]};
THREE.KeyFrameAnimation=function(a,b){this.root=a;this.data=THREE.AnimationHandler.get(b);this.hierarchy=THREE.AnimationHandler.parse(a);this.currentTime=0;this.timeScale=.001;this.isPlaying=!1;this.loop=this.isPaused=!0;for(var d=0,e=this.hierarchy.length;d<e;d++){var f=this.data.hierarchy[d].sids,h=this.hierarchy[d];if(this.data.hierarchy[d].keys.length&&f){for(var g=0;g<f.length;g++){var k=f[g],l=this.getNextKeyWith(k,d,0);l&&l.apply(k)}h.matrixAutoUpdate=!1;this.data.hierarchy[d].node.updateMatrix();
h.matrixWorldNeedsUpdate=!0}}};
THREE.KeyFrameAnimation.prototype.play=function(a){this.currentTime=void 0!==a?a:0;if(!1===this.isPlaying){this.isPlaying=!0;var b=this.hierarchy.length,d,e;for(a=0;a<b;a++)d=this.hierarchy[a],e=this.data.hierarchy[a],void 0===e.animationCache&&(e.animationCache={},e.animationCache.prevKey=null,e.animationCache.nextKey=null,e.animationCache.originalMatrix=d instanceof THREE.Bone?d.skinMatrix:d.matrix),d=this.data.hierarchy[a].keys,d.length&&(e.animationCache.prevKey=d[0],e.animationCache.nextKey=
d[1],this.startTime=Math.min(d[0].time,this.startTime),this.endTime=Math.max(d[d.length-1].time,this.endTime));this.update(0)}this.isPaused=!1;THREE.AnimationHandler.addToUpdate(this)};THREE.KeyFrameAnimation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this);this.isPaused=!this.isPaused};
THREE.KeyFrameAnimation.prototype.stop=function(){this.isPaused=this.isPlaying=!1;THREE.AnimationHandler.removeFromUpdate(this);for(var a=0;a<this.data.hierarchy.length;a++){var b=this.hierarchy[a],d=this.data.hierarchy[a];if(void 0!==d.animationCache){var e=d.animationCache.originalMatrix;b instanceof THREE.Bone?(e.copy(b.skinMatrix),b.skinMatrix=e):(e.copy(b.matrix),b.matrix=e);delete d.animationCache}}};
THREE.KeyFrameAnimation.prototype.update=function(a){if(!1!==this.isPlaying){this.currentTime+=a*this.timeScale;a=this.data.length;!0===this.loop&&this.currentTime>a&&(this.currentTime%=a);this.currentTime=Math.min(this.currentTime,a);a=0;for(var b=this.hierarchy.length;a<b;a++){var d=this.hierarchy[a],e=this.data.hierarchy[a],f=e.keys,e=e.animationCache;if(f.length){var h=e.prevKey,g=e.nextKey;if(g.time<=this.currentTime){for(;g.time<this.currentTime&&g.index>h.index;)h=g,g=f[h.index+1];e.prevKey=
h;e.nextKey=g}g.time>=this.currentTime?h.interpolate(g,this.currentTime):h.interpolate(g,g.time);this.data.hierarchy[a].node.updateMatrix();d.matrixWorldNeedsUpdate=!0}}}};THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(a,b,d){b=this.data.hierarchy[b].keys;for(d%=b.length;d<b.length;d++)if(b[d].hasTarget(a))return b[d];return b[0]};
THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(a,b,d){b=this.data.hierarchy[b].keys;for(d=0<=d?d:d+b.length;0<=d;d--)if(b[d].hasTarget(a))return b[d];return b[b.length-1]};THREE.MorphAnimation=function(a){this.mesh=a;this.frames=a.morphTargetInfluences.length;this.currentTime=0;this.duration=1E3;this.loop=!0;this.isPlaying=!1};
THREE.MorphAnimation.prototype={play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(){var a=0,b=0;return function(d){if(!1!==this.isPlaying){this.currentTime+=d;!0===this.loop&&this.currentTime>this.duration&&(this.currentTime%=this.duration);this.currentTime=Math.min(this.currentTime,this.duration);d=this.duration/this.frames;var e=Math.floor(this.currentTime/d);e!=b&&(this.mesh.morphTargetInfluences[a]=0,this.mesh.morphTargetInfluences[b]=1,this.mesh.morphTargetInfluences[e]=
0,a=b,b=e);this.mesh.morphTargetInfluences[e]=this.currentTime%d/d;this.mesh.morphTargetInfluences[a]=1-this.mesh.morphTargetInfluences[e]}}}()};
THREE.CubeCamera=function(a,b,d){THREE.Object3D.call(this);var e=new THREE.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new THREE.Vector3(1,0,0));this.add(e);var f=new THREE.PerspectiveCamera(90,1,a,b);f.up.set(0,-1,0);f.lookAt(new THREE.Vector3(-1,0,0));this.add(f);var h=new THREE.PerspectiveCamera(90,1,a,b);h.up.set(0,0,1);h.lookAt(new THREE.Vector3(0,1,0));this.add(h);var g=new THREE.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new THREE.Vector3(0,-1,0));this.add(g);var k=new THREE.PerspectiveCamera(90,
1,a,b);k.up.set(0,-1,0);k.lookAt(new THREE.Vector3(0,0,1));this.add(k);var l=new THREE.PerspectiveCamera(90,1,a,b);l.up.set(0,-1,0);l.lookAt(new THREE.Vector3(0,0,-1));this.add(l);this.renderTarget=new THREE.WebGLRenderTargetCube(d,d,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(a,b){var d=this.renderTarget,m=d.generateMipmaps;d.generateMipmaps=!1;d.activeCubeFace=0;a.render(b,e,d);d.activeCubeFace=1;a.render(b,f,d);d.activeCubeFace=
2;a.render(b,h,d);d.activeCubeFace=3;a.render(b,g,d);d.activeCubeFace=4;a.render(b,k,d);d.generateMipmaps=m;d.activeCubeFace=5;a.render(b,l,d)}};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CombinedCamera=function(a,b,d,e,f,h,g){THREE.Camera.call(this);this.fov=d;this.left=-a/2;this.right=a/2;this.top=b/2;this.bottom=-b/2;this.cameraO=new THREE.OrthographicCamera(a/-2,a/2,b/2,b/-2,h,g);this.cameraP=new THREE.PerspectiveCamera(d,a/b,e,f);this.zoom=1;this.toPerspective()};
THREE.CombinedCamera.prototype=Object.create(THREE.Camera.prototype);THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near;this.far=this.cameraP.far;this.cameraP.fov=this.fov/this.zoom;this.cameraP.updateProjectionMatrix();this.projectionMatrix=this.cameraP.projectionMatrix;this.inPerspectiveMode=!0;this.inOrthographicMode=!1};
THREE.CombinedCamera.prototype.toOrthographic=function(){var a=this.cameraP.aspect,b=(this.cameraP.near+this.cameraP.far)/2,b=Math.tan(this.fov/2)*b,a=2*b*a/2,b=b/this.zoom,a=a/this.zoom;this.cameraO.left=-a;this.cameraO.right=a;this.cameraO.top=b;this.cameraO.bottom=-b;this.cameraO.updateProjectionMatrix();this.near=this.cameraO.near;this.far=this.cameraO.far;this.projectionMatrix=this.cameraO.projectionMatrix;this.inPerspectiveMode=!1;this.inOrthographicMode=!0};
THREE.CombinedCamera.prototype.setSize=function(a,b){this.cameraP.aspect=a/b;this.left=-a/2;this.right=a/2;this.top=b/2;this.bottom=-b/2};THREE.CombinedCamera.prototype.setFov=function(a){this.fov=a;this.inPerspectiveMode?this.toPerspective():this.toOrthographic()};THREE.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())};
THREE.CombinedCamera.prototype.setLens=function(a,b){void 0===b&&(b=24);var d=2*THREE.Math.radToDeg(Math.atan(b/(2*a)));this.setFov(d);return d};THREE.CombinedCamera.prototype.setZoom=function(a){this.zoom=a;this.inPerspectiveMode?this.toPerspective():this.toOrthographic()};THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};
THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0;this.rotation.y=Math.PI;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0;this.rotation.y=-Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0;this.rotation.y=Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=!1};
THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};
THREE.BoxGeometry=function(a,b,d,e,f,h){function g(a,b,d,f,e,h,g,u){var r,w=k.widthSegments,A=k.heightSegments,C=e/2,G=h/2,F=k.vertices.length;if("x"===a&&"y"===b||"y"===a&&"x"===b)r="z";else if("x"===a&&"z"===b||"z"===a&&"x"===b)r="y",A=k.depthSegments;else if("z"===a&&"y"===b||"y"===a&&"z"===b)r="x",w=k.depthSegments;var D=w+1,I=A+1,E=e/w,P=h/A,H=new THREE.Vector3;H[r]=0<g?1:-1;for(e=0;e<I;e++)for(h=0;h<D;h++){var M=new THREE.Vector3;M[a]=(h*E-C)*d;M[b]=(e*P-G)*f;M[r]=g;k.vertices.push(M)}for(e=
0;e<A;e++)for(h=0;h<w;h++)G=h+D*e,a=h+D*(e+1),b=h+1+D*(e+1),d=h+1+D*e,f=new THREE.Vector2(h/w,1-e/A),g=new THREE.Vector2(h/w,1-(e+1)/A),r=new THREE.Vector2((h+1)/w,1-(e+1)/A),C=new THREE.Vector2((h+1)/w,1-e/A),G=new THREE.Face3(G+F,a+F,d+F),G.normal.copy(H),G.vertexNormals.push(H.clone(),H.clone(),H.clone()),G.materialIndex=u,k.faces.push(G),k.faceVertexUvs[0].push([f,g,C]),G=new THREE.Face3(a+F,b+F,d+F),G.normal.copy(H),G.vertexNormals.push(H.clone(),H.clone(),H.clone()),G.materialIndex=u,k.faces.push(G),
k.faceVertexUvs[0].push([g.clone(),r,C.clone()])}THREE.Geometry.call(this);this.parameters={width:a,height:b,depth:d,widthSegments:e,heightSegments:f,depthSegments:h};this.widthSegments=e||1;this.heightSegments=f||1;this.depthSegments=h||1;var k=this;e=a/2;f=b/2;h=d/2;g("z","y",-1,-1,d,b,e,0);g("z","y",1,-1,d,b,-e,1);g("x","z",1,1,a,d,f,2);g("x","z",1,-1,a,d,-f,3);g("x","y",1,-1,a,b,h,4);g("x","y",-1,-1,a,b,-h,5);this.mergeVertices()};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.CircleGeometry=function(a,b,d,e){THREE.Geometry.call(this);this.parameters={radius:a,segments:b,thetaStart:d,thetaLength:e};a=a||50;b=void 0!==b?Math.max(3,b):8;d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;var f,h=[];f=new THREE.Vector3;var g=new THREE.Vector2(.5,.5);this.vertices.push(f);h.push(g);for(f=0;f<=b;f++){var k=new THREE.Vector3,l=d+f/b*e;k.x=a*Math.cos(l);k.y=a*Math.sin(l);this.vertices.push(k);h.push(new THREE.Vector2((k.x/a+1)/2,(k.y/a+1)/2))}d=new THREE.Vector3(0,0,1);for(f=1;f<=
b;f++)this.faces.push(new THREE.Face3(f,f+1,0,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([h[f].clone(),h[f+1].clone(),g.clone()]);this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,a)};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CubeGeometry=function(a,b,d,e,f,h){console.warn("DEPRECATED: THREE.CubeGeometry is deprecated. Use THREE.BoxGeometry instead.");return new THREE.BoxGeometry(a,b,d,e,f,h)};
THREE.CylinderGeometry=function(a,b,d,e,f,h){THREE.Geometry.call(this);this.parameters={radiusTop:a,radiusBottom:b,height:d,radialSegments:e,heightSegments:f,openEnded:h};a=void 0!==a?a:20;b=void 0!==b?b:20;d=void 0!==d?d:100;e=e||8;f=f||1;h=void 0!==h?h:!1;var g=d/2,k,l,n=[],p=[];for(l=0;l<=f;l++){var q=[],m=[],t=l/f,s=t*(b-a)+a;for(k=0;k<=e;k++){var u=k/e,r=new THREE.Vector3;r.x=s*Math.sin(u*Math.PI*2);r.y=-t*d+g;r.z=s*Math.cos(u*Math.PI*2);this.vertices.push(r);q.push(this.vertices.length-1);m.push(new THREE.Vector2(u,
1-t))}n.push(q);p.push(m)}d=(b-a)/d;for(k=0;k<e;k++)for(0!==a?(q=this.vertices[n[0][k]].clone(),m=this.vertices[n[0][k+1]].clone()):(q=this.vertices[n[1][k]].clone(),m=this.vertices[n[1][k+1]].clone()),q.setY(Math.sqrt(q.x*q.x+q.z*q.z)*d).normalize(),m.setY(Math.sqrt(m.x*m.x+m.z*m.z)*d).normalize(),l=0;l<f;l++){var t=n[l][k],s=n[l+1][k],u=n[l+1][k+1],r=n[l][k+1],w=q.clone(),A=q.clone(),C=m.clone(),G=m.clone(),F=p[l][k].clone(),D=p[l+1][k].clone(),I=p[l+1][k+1].clone(),E=p[l][k+1].clone();this.faces.push(new THREE.Face3(t,
s,r,[w,A,G]));this.faceVertexUvs[0].push([F,D,E]);this.faces.push(new THREE.Face3(s,u,r,[A.clone(),C,G.clone()]));this.faceVertexUvs[0].push([D.clone(),I,E.clone()])}if(!1===h&&0<a)for(this.vertices.push(new THREE.Vector3(0,g,0)),k=0;k<e;k++)t=n[0][k],s=n[0][k+1],u=this.vertices.length-1,w=new THREE.Vector3(0,1,0),A=new THREE.Vector3(0,1,0),C=new THREE.Vector3(0,1,0),F=p[0][k].clone(),D=p[0][k+1].clone(),I=new THREE.Vector2(D.x,0),this.faces.push(new THREE.Face3(t,s,u,[w,A,C])),this.faceVertexUvs[0].push([F,
D,I]);if(!1===h&&0<b)for(this.vertices.push(new THREE.Vector3(0,-g,0)),k=0;k<e;k++)t=n[l][k+1],s=n[l][k],u=this.vertices.length-1,w=new THREE.Vector3(0,-1,0),A=new THREE.Vector3(0,-1,0),C=new THREE.Vector3(0,-1,0),F=p[l][k+1].clone(),D=p[l][k].clone(),I=new THREE.Vector2(D.x,1),this.faces.push(new THREE.Face3(t,s,u,[w,A,C])),this.faceVertexUvs[0].push([F,D,I]);this.computeFaceNormals()};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(THREE.Geometry.call(this),a=a instanceof Array?a:[a],this.shapebb=a[a.length-1].getBoundingBox(),this.addShapeList(a,b),this.computeFaceNormals())};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var d=a.length,e=0;e<d;e++)this.addShape(a[e],b)};
THREE.ExtrudeGeometry.prototype.addShape=function(a,b){function d(a,b,d){b||console.log("die");return b.clone().multiplyScalar(d).add(a)}function e(a,b,d){var f=THREE.Math.sign,e=1,e=a.x-b.x,h=a.y-b.y,g=d.x-a.x,k=d.y-a.y,l=e*e+h*h;if(1E-10<Math.abs(e*k-h*g)){var n=Math.sqrt(l),f=Math.sqrt(g*g+k*k),l=b.x-h/n;b=b.y+e/n;g=((d.x-k/f-l)*k-(d.y+g/f-b)*g)/(e*k-h*g);d=l+e*g-a.x;a=b+h*g-a.y;e=d*d+a*a;if(2>=e)return new THREE.Vector2(d,a);e=Math.sqrt(e/2)}else a=!1,1E-10<e?1E-10<g&&(a=!0):-1E-10>e?-1E-10>g&&
(a=!0):f(h)==f(k)&&(a=!0),a?(d=-h,a=e,e=Math.sqrt(l)):(d=e,a=h,e=Math.sqrt(l/2));return new THREE.Vector2(d/e,a/e)}function f(d,f){var e,h;for(R=d.length;0<=--R;){e=R;h=R-1;0>h&&(h=d.length-1);for(var g=0,k=t+2*p,g=0;g<k;g++){var l=Z*g,n=Z*(g+1),m=f+e+l,l=f+h+l,q=f+h+n,n=f+e+n,r=d,s=g,u=k,w=e,E=h,m=m+K,l=l+K,q=q+K,n=n+K;M.faces.push(new THREE.Face3(m,l,n,null,null,A));M.faces.push(new THREE.Face3(l,q,n,null,null,A));m=C.generateSideWallUV(M,a,r,b,m,l,q,n,s,u,w,E);M.faceVertexUvs[0].push([m[0],m[1],
m[3]]);M.faceVertexUvs[0].push([m[1],m[2],m[3]])}}}function h(a,b,d){M.vertices.push(new THREE.Vector3(a,b,d))}function g(d,f,e,h){d+=K;f+=K;e+=K;M.faces.push(new THREE.Face3(d,f,e,null,null,w));d=h?C.generateBottomUV(M,a,b,d,f,e):C.generateTopUV(M,a,b,d,f,e);M.faceVertexUvs[0].push(d)}var k=void 0!==b.amount?b.amount:100,l=void 0!==b.bevelThickness?b.bevelThickness:6,n=void 0!==b.bevelSize?b.bevelSize:l-2,p=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,m=
void 0!==b.curveSegments?b.curveSegments:12,t=void 0!==b.steps?b.steps:1,s=b.extrudePath,u,r=!1,w=b.material,A=b.extrudeMaterial,C=void 0!==b.UVGenerator?b.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,G,F,D,I;s&&(u=s.getSpacedPoints(t),r=!0,q=!1,G=void 0!==b.frames?b.frames:new THREE.TubeGeometry.FrenetFrames(s,t,!1),F=new THREE.Vector3,D=new THREE.Vector3,I=new THREE.Vector3);q||(n=l=p=0);var E,P,H,M=this,K=this.vertices.length,s=a.extractPoints(m),m=s.shape,N=s.holes;if(s=!THREE.Shape.Utils.isClockWise(m)){m=
m.reverse();P=0;for(H=N.length;P<H;P++)E=N[P],THREE.Shape.Utils.isClockWise(E)&&(N[P]=E.reverse());s=!1}var L=THREE.Shape.Utils.triangulateShape(m,N),J=m;P=0;for(H=N.length;P<H;P++)E=N[P],m=m.concat(E);var Q,O,T,ea,X,Z=m.length,U,Y=L.length,s=[],R=0;T=J.length;Q=T-1;for(O=R+1;R<T;R++,Q++,O++)Q===T&&(Q=0),O===T&&(O=0),s[R]=e(J[R],J[Q],J[O]);var fa=[],ka,W=s.concat();P=0;for(H=N.length;P<H;P++){E=N[P];ka=[];R=0;T=E.length;Q=T-1;for(O=R+1;R<T;R++,Q++,O++)Q===T&&(Q=0),O===T&&(O=0),ka[R]=e(E[R],E[Q],E[O]);
fa.push(ka);W=W.concat(ka)}for(Q=0;Q<p;Q++){T=Q/p;ea=l*(1-T);O=n*Math.sin(T*Math.PI/2);R=0;for(T=J.length;R<T;R++)X=d(J[R],s[R],O),h(X.x,X.y,-ea);P=0;for(H=N.length;P<H;P++)for(E=N[P],ka=fa[P],R=0,T=E.length;R<T;R++)X=d(E[R],ka[R],O),h(X.x,X.y,-ea)}O=n;for(R=0;R<Z;R++)X=q?d(m[R],W[R],O):m[R],r?(D.copy(G.normals[0]).multiplyScalar(X.x),F.copy(G.binormals[0]).multiplyScalar(X.y),I.copy(u[0]).add(D).add(F),h(I.x,I.y,I.z)):h(X.x,X.y,0);for(T=1;T<=t;T++)for(R=0;R<Z;R++)X=q?d(m[R],W[R],O):m[R],r?(D.copy(G.normals[T]).multiplyScalar(X.x),
F.copy(G.binormals[T]).multiplyScalar(X.y),I.copy(u[T]).add(D).add(F),h(I.x,I.y,I.z)):h(X.x,X.y,k/t*T);for(Q=p-1;0<=Q;Q--){T=Q/p;ea=l*(1-T);O=n*Math.sin(T*Math.PI/2);R=0;for(T=J.length;R<T;R++)X=d(J[R],s[R],O),h(X.x,X.y,k+ea);P=0;for(H=N.length;P<H;P++)for(E=N[P],ka=fa[P],R=0,T=E.length;R<T;R++)X=d(E[R],ka[R],O),r?h(X.x,X.y+u[t-1].y,u[t-1].x+ea):h(X.x,X.y,k+ea)}(function(){if(q){var a;a=0*Z;for(R=0;R<Y;R++)U=L[R],g(U[2]+a,U[1]+a,U[0]+a,!0);a=t+2*p;a*=Z;for(R=0;R<Y;R++)U=L[R],g(U[0]+a,U[1]+a,U[2]+
a,!1)}else{for(R=0;R<Y;R++)U=L[R],g(U[2],U[1],U[0],!0);for(R=0;R<Y;R++)U=L[R],g(U[0]+Z*t,U[1]+Z*t,U[2]+Z*t,!1)}})();(function(){var a=0;f(J,a);a+=J.length;P=0;for(H=N.length;P<H;P++)E=N[P],f(E,a),a+=E.length})()};
THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,d,e,f,h){b=a.vertices[f].x;f=a.vertices[f].y;d=a.vertices[h].x;h=a.vertices[h].y;return[new THREE.Vector2(a.vertices[e].x,a.vertices[e].y),new THREE.Vector2(b,f),new THREE.Vector2(d,h)]},generateBottomUV:function(a,b,d,e,f,h){return this.generateTopUV(a,b,d,e,f,h)},generateSideWallUV:function(a,b,d,e,f,h,g,k,l,n,p,q){b=a.vertices[f].x;d=a.vertices[f].y;f=a.vertices[f].z;e=a.vertices[h].x;l=a.vertices[h].y;h=a.vertices[h].z;n=a.vertices[g].x;
p=a.vertices[g].y;g=a.vertices[g].z;q=a.vertices[k].x;var m=a.vertices[k].y;a=a.vertices[k].z;return.01>Math.abs(d-l)?[new THREE.Vector2(b,1-f),new THREE.Vector2(e,1-h),new THREE.Vector2(n,1-g),new THREE.Vector2(q,1-a)]:[new THREE.Vector2(d,1-f),new THREE.Vector2(l,1-h),new THREE.Vector2(p,1-g),new THREE.Vector2(m,1-a)]}};THREE.ExtrudeGeometry.__v1=new THREE.Vector2;THREE.ExtrudeGeometry.__v2=new THREE.Vector2;THREE.ExtrudeGeometry.__v3=new THREE.Vector2;THREE.ExtrudeGeometry.__v4=new THREE.Vector2;
THREE.ExtrudeGeometry.__v5=new THREE.Vector2;THREE.ExtrudeGeometry.__v6=new THREE.Vector2;THREE.ShapeGeometry=function(a,b){THREE.Geometry.call(this);!1===a instanceof Array&&(a=[a]);this.shapebb=a[a.length-1].getBoundingBox();this.addShapeList(a,b);this.computeFaceNormals()};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.addShapeList=function(a,b){for(var d=0,e=a.length;d<e;d++)this.addShape(a[d],b);return this};
THREE.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var d=b.material,e=void 0===b.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,f,h,g,k=this.vertices.length;f=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var l=f.shape,n=f.holes;if(!THREE.Shape.Utils.isClockWise(l))for(l=l.reverse(),f=0,h=n.length;f<h;f++)g=n[f],THREE.Shape.Utils.isClockWise(g)&&(n[f]=g.reverse());var p=THREE.Shape.Utils.triangulateShape(l,n);f=0;for(h=n.length;f<h;f++)g=n[f],
l=l.concat(g);n=l.length;h=p.length;for(f=0;f<n;f++)g=l[f],this.vertices.push(new THREE.Vector3(g.x,g.y,0));for(f=0;f<h;f++)n=p[f],l=n[0]+k,g=n[1]+k,n=n[2]+k,this.faces.push(new THREE.Face3(l,g,n,null,null,d)),this.faceVertexUvs[0].push(e.generateBottomUV(this,a,b,l,g,n))};
THREE.LatheGeometry=function(a,b,d,e){THREE.Geometry.call(this);b=b||12;d=d||0;e=e||2*Math.PI;for(var f=1/(a.length-1),h=1/b,g=0,k=b;g<=k;g++)for(var l=d+g*h*e,n=Math.cos(l),p=Math.sin(l),l=0,q=a.length;l<q;l++){var m=a[l],t=new THREE.Vector3;t.x=n*m.x-p*m.y;t.y=p*m.x+n*m.y;t.z=m.z;this.vertices.push(t)}d=a.length;g=0;for(k=b;g<k;g++)for(l=0,q=a.length-1;l<q;l++){b=p=l+d*g;e=p+d;var n=p+1+d,p=p+1,m=g*h,t=l*f,s=m+h,u=t+f;this.faces.push(new THREE.Face3(b,e,p));this.faceVertexUvs[0].push([new THREE.Vector2(m,
t),new THREE.Vector2(s,t),new THREE.Vector2(m,u)]);this.faces.push(new THREE.Face3(e,n,p));this.faceVertexUvs[0].push([new THREE.Vector2(s,t),new THREE.Vector2(s,u),new THREE.Vector2(m,u)])}this.mergeVertices();this.computeFaceNormals();this.computeVertexNormals()};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.PlaneGeometry=function(a,b,d,e){THREE.Geometry.call(this);this.parameters={width:a,height:b,widthSegments:d,heightSegments:e};var f=a/2,h=b/2;d=d||1;e=e||1;var g=d+1,k=e+1,l=a/d,n=b/e,p=new THREE.Vector3(0,0,1);for(a=0;a<k;a++){var q=a*n-h;for(b=0;b<g;b++)this.vertices.push(new THREE.Vector3(b*l-f,-q,0))}for(a=0;a<e;a++)for(b=0;b<d;b++){var m=b+g*a,f=b+g*(a+1),h=b+1+g*(a+1),k=b+1+g*a,l=new THREE.Vector2(b/d,1-a/e),n=new THREE.Vector2(b/d,1-(a+1)/e),q=new THREE.Vector2((b+1)/d,1-(a+1)/e),t=new THREE.Vector2((b+
1)/d,1-a/e),m=new THREE.Face3(m,f,k);m.normal.copy(p);m.vertexNormals.push(p.clone(),p.clone(),p.clone());this.faces.push(m);this.faceVertexUvs[0].push([l,n,t]);m=new THREE.Face3(f,h,k);m.normal.copy(p);m.vertexNormals.push(p.clone(),p.clone(),p.clone());this.faces.push(m);this.faceVertexUvs[0].push([n.clone(),q,t.clone()])}};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.RingGeometry=function(a,b,d,e,f,h){THREE.Geometry.call(this);a=a||0;b=b||50;f=void 0!==f?f:0;h=void 0!==h?h:2*Math.PI;d=void 0!==d?Math.max(3,d):8;e=void 0!==e?Math.max(3,e):8;var g,k=[],l=a,n=(b-a)/e;for(a=0;a<=e;a++){for(g=0;g<=d;g++){var p=new THREE.Vector3,q=f+g/d*h;p.x=l*Math.cos(q);p.y=l*Math.sin(q);this.vertices.push(p);k.push(new THREE.Vector2((p.x/b+1)/2,(p.y/b+1)/2))}l+=n}b=new THREE.Vector3(0,0,1);for(a=0;a<e;a++)for(f=a*d,g=0;g<=d;g++)q=g+f,h=q+a,n=q+d+a,p=q+d+1+a,this.faces.push(new THREE.Face3(h,
n,p,[b.clone(),b.clone(),b.clone()])),this.faceVertexUvs[0].push([k[h].clone(),k[n].clone(),k[p].clone()]),h=q+a,n=q+d+1+a,p=q+1+a,this.faces.push(new THREE.Face3(h,n,p,[b.clone(),b.clone(),b.clone()])),this.faceVertexUvs[0].push([k[h].clone(),k[n].clone(),k[p].clone()]);this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,l)};THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.SphereGeometry=function(a,b,d,e,f,h,g){THREE.Geometry.call(this);this.parameters={radius:a,widthSegments:b,heightSegments:d,phiStart:e,phiLength:f,thetaStart:h,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);d=Math.max(2,Math.floor(d)||6);e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;h=void 0!==h?h:0;g=void 0!==g?g:Math.PI;var k,l,n=[],p=[];for(l=0;l<=d;l++){var q=[],m=[];for(k=0;k<=b;k++){var t=k/b,s=l/d,u=new THREE.Vector3;u.x=-a*Math.cos(e+t*f)*Math.sin(h+s*g);u.y=a*Math.cos(h+s*g);u.z=
a*Math.sin(e+t*f)*Math.sin(h+s*g);this.vertices.push(u);q.push(this.vertices.length-1);m.push(new THREE.Vector2(t,1-s))}n.push(q);p.push(m)}for(l=0;l<d;l++)for(k=0;k<b;k++){e=n[l][k+1];f=n[l][k];h=n[l+1][k];g=n[l+1][k+1];var q=this.vertices[e].clone().normalize(),m=this.vertices[f].clone().normalize(),t=this.vertices[h].clone().normalize(),s=this.vertices[g].clone().normalize(),u=p[l][k+1].clone(),r=p[l][k].clone(),w=p[l+1][k].clone(),A=p[l+1][k+1].clone();Math.abs(this.vertices[e].y)===a?(u.x=(u.x+
r.x)/2,this.faces.push(new THREE.Face3(e,h,g,[q,t,s])),this.faceVertexUvs[0].push([u,w,A])):Math.abs(this.vertices[h].y)===a?(w.x=(w.x+A.x)/2,this.faces.push(new THREE.Face3(e,f,h,[q,m,t])),this.faceVertexUvs[0].push([u,r,w])):(this.faces.push(new THREE.Face3(e,f,g,[q,m,s])),this.faceVertexUvs[0].push([u,r,A]),this.faces.push(new THREE.Face3(f,h,g,[m.clone(),t,s.clone()])),this.faceVertexUvs[0].push([r.clone(),w,A.clone()]))}this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,
a)};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TextGeometry=function(a,b){b=b||{};var d=THREE.FontUtils.generateShapes(a,b);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);THREE.ExtrudeGeometry.call(this,d,b)};THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);
THREE.TorusGeometry=function(a,b,d,e,f){THREE.Geometry.call(this);this.parameters={radius:a,tube:b,radialSegments:d,tubularSegments:e,arc:f};a=a||100;b=b||40;d=d||8;e=e||6;f=f||2*Math.PI;for(var h=new THREE.Vector3,g=[],k=[],l=0;l<=d;l++)for(var n=0;n<=e;n++){var p=n/e*f,q=l/d*Math.PI*2;h.x=a*Math.cos(p);h.y=a*Math.sin(p);var m=new THREE.Vector3;m.x=(a+b*Math.cos(q))*Math.cos(p);m.y=(a+b*Math.cos(q))*Math.sin(p);m.z=b*Math.sin(q);this.vertices.push(m);g.push(new THREE.Vector2(n/e,l/d));k.push(m.clone().sub(h).normalize())}for(l=
1;l<=d;l++)for(n=1;n<=e;n++)a=(e+1)*l+n-1,b=(e+1)*(l-1)+n-1,f=(e+1)*(l-1)+n,h=(e+1)*l+n,p=new THREE.Face3(a,b,h,[k[a].clone(),k[b].clone(),k[h].clone()]),this.faces.push(p),this.faceVertexUvs[0].push([g[a].clone(),g[b].clone(),g[h].clone()]),p=new THREE.Face3(b,f,h,[k[b].clone(),k[f].clone(),k[h].clone()]),this.faces.push(p),this.faceVertexUvs[0].push([g[b].clone(),g[f].clone(),g[h].clone()]);this.computeFaceNormals()};THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.TorusKnotGeometry=function(a,b,d,e,f,h,g){function k(a,b,d,f,e){var h=Math.cos(a),g=Math.sin(a);a*=b/d;b=Math.cos(a);h=h*f*(2+b)*.5;g=f*(2+b)*g*.5;f=e*f*Math.sin(a)*.5;return new THREE.Vector3(h,g,f)}THREE.Geometry.call(this);this.parameters={radius:a,tube:b,radialSegments:d,tubularSegments:e,p:f,q:h,heightScale:g};a=a||100;b=b||40;d=d||64;e=e||8;f=f||2;h=h||3;g=g||1;for(var l=Array(d),n=new THREE.Vector3,p=new THREE.Vector3,q=new THREE.Vector3,m=0;m<d;++m){l[m]=Array(e);var t=m/d*2*f*Math.PI,
s=k(t,h,f,a,g),t=k(t+.01,h,f,a,g);n.subVectors(t,s);p.addVectors(t,s);q.crossVectors(n,p);p.crossVectors(q,n);q.normalize();p.normalize();for(t=0;t<e;++t){var u=t/e*2*Math.PI,r=-b*Math.cos(u),u=b*Math.sin(u),w=new THREE.Vector3;w.x=s.x+r*p.x+u*q.x;w.y=s.y+r*p.y+u*q.y;w.z=s.z+r*p.z+u*q.z;l[m][t]=this.vertices.push(w)-1}}for(m=0;m<d;++m)for(t=0;t<e;++t)f=(m+1)%d,h=(t+1)%e,a=l[m][t],b=l[f][t],f=l[f][h],h=l[m][h],g=new THREE.Vector2(m/d,t/e),n=new THREE.Vector2((m+1)/d,t/e),p=new THREE.Vector2((m+1)/
d,(t+1)/e),q=new THREE.Vector2(m/d,(t+1)/e),this.faces.push(new THREE.Face3(a,b,h)),this.faceVertexUvs[0].push([g,n,q]),this.faces.push(new THREE.Face3(b,f,h)),this.faceVertexUvs[0].push([n.clone(),p,q.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.TubeGeometry=function(a,b,d,e,f){THREE.Geometry.call(this);this.parameters={path:a,segments:b,radius:d,radialSegments:e,closed:f};b=b||64;d=d||1;e=e||8;f=f||!1;var h=[],g,k,l=b+1,n,p,q,m,t=new THREE.Vector3,s,u,r;s=new THREE.TubeGeometry.FrenetFrames(a,b,f);u=s.normals;r=s.binormals;this.tangents=s.tangents;this.normals=u;this.binormals=r;for(s=0;s<l;s++)for(h[s]=[],n=s/(l-1),m=a.getPointAt(n),g=u[s],k=r[s],n=0;n<e;n++)p=n/e*2*Math.PI,q=-d*Math.cos(p),p=d*Math.sin(p),t.copy(m),t.x+=q*g.x+p*
k.x,t.y+=q*g.y+p*k.y,t.z+=q*g.z+p*k.z,h[s][n]=this.vertices.push(new THREE.Vector3(t.x,t.y,t.z))-1;for(s=0;s<b;s++)for(n=0;n<e;n++)l=f?(s+1)%b:s+1,t=(n+1)%e,a=h[s][n],d=h[l][n],l=h[l][t],t=h[s][t],u=new THREE.Vector2(s/b,n/e),r=new THREE.Vector2((s+1)/b,n/e),g=new THREE.Vector2((s+1)/b,(n+1)/e),k=new THREE.Vector2(s/b,(n+1)/e),this.faces.push(new THREE.Face3(a,d,t)),this.faceVertexUvs[0].push([u,r,k]),this.faces.push(new THREE.Face3(d,l,t)),this.faceVertexUvs[0].push([r.clone(),g,k.clone()]);this.computeFaceNormals();
this.computeVertexNormals()};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.TubeGeometry.FrenetFrames=function(a,b,d){new THREE.Vector3;var e=new THREE.Vector3;new THREE.Vector3;var f=[],h=[],g=[],k=new THREE.Vector3,l=new THREE.Matrix4;b+=1;var n,p,q;this.tangents=f;this.normals=h;this.binormals=g;for(n=0;n<b;n++)p=n/(b-1),f[n]=a.getTangentAt(p),f[n].normalize();h[0]=new THREE.Vector3;g[0]=new THREE.Vector3;a=Number.MAX_VALUE;n=Math.abs(f[0].x);p=Math.abs(f[0].y);q=Math.abs(f[0].z);n<=a&&(a=n,e.set(1,0,0));p<=a&&(a=p,e.set(0,1,0));q<=a&&e.set(0,0,1);k.crossVectors(f[0],
e).normalize();h[0].crossVectors(f[0],k);g[0].crossVectors(f[0],h[0]);for(n=1;n<b;n++)h[n]=h[n-1].clone(),g[n]=g[n-1].clone(),k.crossVectors(f[n-1],f[n]),1E-4<k.length()&&(k.normalize(),e=Math.acos(THREE.Math.clamp(f[n-1].dot(f[n]),-1,1)),h[n].applyMatrix4(l.makeRotationAxis(k,e))),g[n].crossVectors(f[n],h[n]);if(d)for(e=Math.acos(THREE.Math.clamp(h[0].dot(h[b-1]),-1,1)),e/=b-1,0<f[0].dot(k.crossVectors(h[0],h[b-1]))&&(e=-e),n=1;n<b;n++)h[n].applyMatrix4(l.makeRotationAxis(f[n],e*n)),g[n].crossVectors(f[n],
h[n])};
THREE.PolyhedronGeometry=function(a,b,d,e){function f(a){var b=a.normalize().clone();b.index=l.vertices.push(b)-1;var d=Math.atan2(a.z,-a.x)/2/Math.PI+.5;a=Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5;b.uv=new THREE.Vector2(d,1-a);return b}function h(a,b,d){var f=new THREE.Face3(a.index,b.index,d.index,[a.clone(),b.clone(),d.clone()]);l.faces.push(f);r.copy(a).add(b).add(d).divideScalar(3);f=Math.atan2(r.z,-r.x);l.faceVertexUvs[0].push([k(a.uv,a,f),k(b.uv,b,f),k(d.uv,d,f)])}function g(a,b){var d=
Math.pow(2,b);Math.pow(4,b);for(var e=f(l.vertices[a.a]),g=f(l.vertices[a.b]),k=f(l.vertices[a.c]),n=[],m=0;m<=d;m++){n[m]=[];for(var p=f(e.clone().lerp(k,m/d)),q=f(g.clone().lerp(k,m/d)),r=d-m,s=0;s<=r;s++)n[m][s]=0==s&&m==d?p:f(p.clone().lerp(q,s/r))}for(m=0;m<d;m++)for(s=0;s<2*(d-m)-1;s++)e=Math.floor(s/2),0==s%2?h(n[m][e+1],n[m+1][e],n[m][e]):h(n[m][e+1],n[m+1][e+1],n[m+1][e])}function k(a,b,d){0>d&&1===a.x&&(a=new THREE.Vector2(a.x-1,a.y));0===b.x&&0===b.z&&(a=new THREE.Vector2(d/2/Math.PI+.5,
a.y));return a.clone()}THREE.Geometry.call(this);d=d||1;e=e||0;for(var l=this,n=0,p=a.length;n<p;n+=3)f(new THREE.Vector3(a[n],a[n+1],a[n+2]));a=this.vertices;for(var q=[],m=n=0,p=b.length;n<p;n+=3,m++){var t=a[b[n]],s=a[b[n+1]],u=a[b[n+2]];q[m]=new THREE.Face3(t.index,s.index,u.index,[t.clone(),s.clone(),u.clone()])}for(var r=new THREE.Vector3,n=0,p=q.length;n<p;n++)g(q[n],e);n=0;for(p=this.faceVertexUvs[0].length;n<p;n++)b=this.faceVertexUvs[0][n],e=b[0].x,a=b[1].x,q=b[2].x,m=Math.max(e,Math.max(a,
q)),t=Math.min(e,Math.min(a,q)),.9<m&&.1>t&&(.2>e&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>q&&(b[2].x+=1));n=0;for(p=this.vertices.length;n<p;n++)this.vertices[n].multiplyScalar(d);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,d)};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.IcosahedronGeometry=function(a,b){this.parameters={radius:a,detail:b};var d=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[-1,d,0,1,d,0,-1,-d,0,1,-d,0,0,-1,d,0,1,d,0,-1,-d,0,1,-d,d,0,-1,d,0,1,-d,0,-1,-d,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b)};THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.OctahedronGeometry=function(a,b){this.parameters={radius:a,detail:b};THREE.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b)};THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TetrahedronGeometry=function(a,b){THREE.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b)};THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.ParametricGeometry=function(a,b,d){THREE.Geometry.call(this);var e=this.vertices,f=this.faces,h=this.faceVertexUvs[0],g,k,l,n,p=b+1;for(g=0;g<=d;g++)for(n=g/d,k=0;k<=b;k++)l=k/b,l=a(l,n),e.push(l);var q,m,t,s;for(g=0;g<d;g++)for(k=0;k<b;k++)a=g*p+k,e=g*p+k+1,n=(g+1)*p+k+1,l=(g+1)*p+k,q=new THREE.Vector2(k/b,g/d),m=new THREE.Vector2((k+1)/b,g/d),t=new THREE.Vector2((k+1)/b,(g+1)/d),s=new THREE.Vector2(k/b,(g+1)/d),f.push(new THREE.Face3(a,e,l)),h.push([q,m,s]),f.push(new THREE.Face3(e,n,l)),
h.push([m.clone(),t,s.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.AxisHelper=function(a){a=a||1;var b=new THREE.Geometry;b.vertices.push(new THREE.Vector3,new THREE.Vector3(a,0,0),new THREE.Vector3,new THREE.Vector3(0,a,0),new THREE.Vector3,new THREE.Vector3(0,0,a));b.colors.push(new THREE.Color(16711680),new THREE.Color(16755200),new THREE.Color(65280),new THREE.Color(11206400),new THREE.Color(255),new THREE.Color(43775));a=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,b,a,THREE.LinePieces)};
THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype);
THREE.ArrowHelper=function(a,b,d,e,f,h){THREE.Object3D.call(this);void 0===e&&(e=16776960);void 0===d&&(d=1);void 0===f&&(f=.2*d);void 0===h&&(h=.2*f);this.position=b;b=new THREE.Geometry;b.vertices.push(new THREE.Vector3(0,0,0));b.vertices.push(new THREE.Vector3(0,1,0));this.line=new THREE.Line(b,new THREE.LineBasicMaterial({color:e}));this.line.matrixAutoUpdate=!1;this.add(this.line);b=new THREE.CylinderGeometry(0,.5,1,5,1);b.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0));this.cone=new THREE.Mesh(b,
new THREE.MeshBasicMaterial({color:e}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(d,f,h)};THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.setDirection=function(){var a=new THREE.Vector3,b;return function(d){.99999<d.y?this.quaternion.set(0,0,0,1):-.99999>d.y?this.quaternion.set(1,0,0,0):(a.set(d.z,0,-d.x).normalize(),b=Math.acos(d.y),this.quaternion.setFromAxisAngle(a,b))}}();
THREE.ArrowHelper.prototype.setLength=function(a,b,d){void 0===b&&(b=.2*a);void 0===d&&(d=.2*b);this.line.scale.set(1,a,1);this.line.updateMatrix();this.cone.scale.set(d,b,d);this.cone.position.y=a;this.cone.updateMatrix()};THREE.ArrowHelper.prototype.setColor=function(a){this.line.material.color.set(a);this.cone.material.color.set(a)};
THREE.BoxHelper=function(a){var b=[new THREE.Vector3(1,1,1),new THREE.Vector3(-1,1,1),new THREE.Vector3(-1,-1,1),new THREE.Vector3(1,-1,1),new THREE.Vector3(1,1,-1),new THREE.Vector3(-1,1,-1),new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,-1,-1)];this.vertices=b;var d=new THREE.Geometry;d.vertices.push(b[0],b[1],b[1],b[2],b[2],b[3],b[3],b[0],b[4],b[5],b[5],b[6],b[6],b[7],b[7],b[4],b[0],b[4],b[1],b[5],b[2],b[6],b[3],b[7]);THREE.Line.call(this,d,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces);
void 0!==a&&this.update(a)};THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype);
THREE.BoxHelper.prototype.update=function(a){var b=a.geometry;null===b.boundingBox&&b.computeBoundingBox();var d=b.boundingBox.min,b=b.boundingBox.max,e=this.vertices;e[0].set(b.x,b.y,b.z);e[1].set(d.x,b.y,b.z);e[2].set(d.x,d.y,b.z);e[3].set(b.x,d.y,b.z);e[4].set(b.x,b.y,d.z);e[5].set(d.x,b.y,d.z);e[6].set(d.x,d.y,d.z);e[7].set(b.x,d.y,d.z);this.geometry.computeBoundingSphere();this.geometry.verticesNeedUpdate=!0;this.matrixAutoUpdate=!1;this.matrixWorld=a.matrixWorld};
THREE.BoundingBoxHelper=function(a,b){var d=void 0!==b?b:8947848;this.object=a;this.box=new THREE.Box3;THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:d,wireframe:!0}))};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
THREE.CameraHelper=function(a){function b(a,b,f){d(a,f);d(b,f)}function d(a,b){e.vertices.push(new THREE.Vector3);e.colors.push(new THREE.Color(b));void 0===h[a]&&(h[a]=[]);h[a].push(e.vertices.length-1)}var e=new THREE.Geometry,f=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),h={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);
b("n2","f2",16755200);b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);THREE.Line.call(this,e,f,THREE.LinePieces);this.camera=a;this.matrixWorld=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()};
THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype);
THREE.CameraHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Camera,d=new THREE.Projector;return function(){function e(e,g,k,l){a.set(g,k,l);d.unprojectVector(a,b);e=f.pointMap[e];if(void 0!==e)for(g=0,k=e.length;g<k;g++)f.geometry.vertices[e[g]].copy(a)}var f=this;b.projectionMatrix.copy(this.camera.projectionMatrix);e("c",0,0,-1);e("t",0,0,1);e("n1",-1,-1,-1);e("n2",1,-1,-1);e("n3",-1,1,-1);e("n4",1,1,-1);e("f1",-1,-1,1);e("f2",1,-1,1);e("f3",-1,1,1);e("f4",1,1,1);e("u1",.7,
1.1,-1);e("u2",-.7,1.1,-1);e("u3",0,2,-1);e("cf1",-1,0,1);e("cf2",1,0,1);e("cf3",0,-1,1);e("cf4",0,1,1);e("cn1",-1,0,-1);e("cn2",1,0,-1);e("cn3",0,-1,-1);e("cn4",0,1,-1);this.geometry.verticesNeedUpdate=!0}}();
THREE.DirectionalLightHelper=function(a,b){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrixWorld=a.matrixWorld;this.matrixAutoUpdate=!1;b=b||1;var d=new THREE.Geometry;d.vertices.push(new THREE.Vector3(-b,b,0),new THREE.Vector3(b,b,0),new THREE.Vector3(b,-b,0),new THREE.Vector3(-b,-b,0),new THREE.Vector3(-b,b,0));var e=new THREE.LineBasicMaterial({fog:!1});e.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.lightPlane=new THREE.Line(d,e);this.add(this.lightPlane);
d=new THREE.Geometry;d.vertices.push(new THREE.Vector3,new THREE.Vector3);e=new THREE.LineBasicMaterial({fog:!1});e.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine=new THREE.Line(d,e);this.add(this.targetLine);this.update()};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);
THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};
THREE.DirectionalLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3,d=new THREE.Vector3;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);d.subVectors(b,a);this.lightPlane.lookAt(d);this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.geometry.vertices[1].copy(d);this.targetLine.geometry.verticesNeedUpdate=!0;this.targetLine.material.color.copy(this.lightPlane.material.color)}}();
THREE.EdgesHelper=function(a,b){var d=void 0!==b?b:16777215,e=[0,0],f={},h=function(a,b){return a-b},g=["a","b","c"],k=new THREE.BufferGeometry,l=a.geometry.clone();l.mergeVertices();l.computeFaceNormals();for(var n=l.vertices,l=l.faces,p=0,q=0,m=l.length;q<m;q++)for(var t=l[q],s=0;3>s;s++){e[0]=t[g[s]];e[1]=t[g[(s+1)%3]];e.sort(h);var u=e.toString();void 0===f[u]?(f[u]={vert1:e[0],vert2:e[1],face1:q,face2:void 0},p++):f[u].face2=q}k.addAttribute("position",new THREE.Float32Attribute(2*p,3));e=k.attributes.position.array;
h=0;for(u in f)if(g=f[u],void 0===g.face2||.9999>l[g.face1].normal.dot(l[g.face2].normal))p=n[g.vert1],e[h++]=p.x,e[h++]=p.y,e[h++]=p.z,p=n[g.vert2],e[h++]=p.x,e[h++]=p.y,e[h++]=p.z;THREE.Line.call(this,k,new THREE.LineBasicMaterial({color:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.matrixWorld=a.matrixWorld};THREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype);
THREE.FaceNormalsHelper=function(a,b,d,e){this.object=a;this.size=void 0!==b?b:1;a=void 0!==d?d:16776960;e=void 0!==e?e:1;b=new THREE.Geometry;d=0;for(var f=this.object.geometry.faces.length;d<f;d++)b.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,b,new THREE.LineBasicMaterial({color:a,linewidth:e}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.normalMatrix=new THREE.Matrix3;this.update()};THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype);
THREE.FaceNormalsHelper.prototype.update=function(){var a=this.geometry.vertices,b=this.object,d=b.geometry.vertices,e=b.geometry.faces,f=b.matrixWorld;b.updateMatrixWorld(!0);this.normalMatrix.getNormalMatrix(f);for(var h=b=0,g=e.length;b<g;b++,h+=2){var k=e[b];a[h].copy(d[k.a]).add(d[k.b]).add(d[k.c]).divideScalar(3).applyMatrix4(f);a[h+1].copy(k.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(a[h])}this.geometry.verticesNeedUpdate=!0;return this};
THREE.GridHelper=function(a,b){var d=new THREE.Geometry,e=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924);this.color2=new THREE.Color(8947848);for(var f=-a;f<=a;f+=b){d.vertices.push(new THREE.Vector3(-a,0,f),new THREE.Vector3(a,0,f),new THREE.Vector3(f,0,-a),new THREE.Vector3(f,0,a));var h=0===f?this.color1:this.color2;d.colors.push(h,h,h,h)}THREE.Line.call(this,d,e,THREE.LinePieces)};THREE.GridHelper.prototype=Object.create(THREE.Line.prototype);
THREE.GridHelper.prototype.setColors=function(a,b){this.color1.set(a);this.color2.set(b);this.geometry.colorsNeedUpdate=!0};
THREE.HemisphereLightHelper=function(a,b,d,e){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrixWorld=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new THREE.Color,new THREE.Color];a=new THREE.SphereGeometry(b,4,2);a.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(b=0;8>b;b++)a.faces[b].color=this.colors[4>b?0:1];b=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(a,b);this.add(this.lightSphere);
this.update()};THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
THREE.HemisphereLightHelper.prototype.update=function(){var a=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
THREE.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();var d=new THREE.SphereGeometry(b,4,2),e=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});e.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,d,e);this.matrixWorld=this.light.matrixWorld;this.matrixAutoUpdate=!1};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};
THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
THREE.SkeletonHelper=function(a){for(var b=a.skeleton,d=new THREE.Geometry,e=0;e<b.bones.length;e++)b.bones[e].parent instanceof THREE.Bone&&(d.vertices.push(new THREE.Vector3),d.vertices.push(new THREE.Vector3),d.colors.push(new THREE.Color(0,0,1)),d.colors.push(new THREE.Color(0,1,0)));e=new THREE.LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,transparent:!0});THREE.Line.call(this,d,e,THREE.LinePieces);this.skeleton=b;this.matrixWorld=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()};
THREE.SkeletonHelper.prototype=Object.create(THREE.Line.prototype);THREE.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=0,d=0;d<this.skeleton.bones.length;d++){var e=this.skeleton.bones[d];e.parent instanceof THREE.Bone&&(a.vertices[b].setFromMatrixPosition(e.skinMatrix),a.vertices[b+1].setFromMatrixPosition(e.parent.skinMatrix),b+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
THREE.SpotLightHelper=function(a){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrixWorld=a.matrixWorld;this.matrixAutoUpdate=!1;a=new THREE.CylinderGeometry(0,1,1,8,1,!0);a.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0));a.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var b=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(a,b);this.add(this.cone);this.update()};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);
THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};THREE.SpotLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){var d=this.light.distance?this.light.distance:1E4,e=d*Math.tan(this.light.angle);this.cone.scale.set(e,e,d);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
THREE.VertexNormalsHelper=function(a,b,d,e){this.object=a;this.size=void 0!==b?b:1;b=void 0!==d?d:16711680;e=void 0!==e?e:1;d=new THREE.Geometry;a=a.geometry.faces;for(var f=0,h=a.length;f<h;f++)for(var g=0,k=a[f].vertexNormals.length;g<k;g++)d.vertices.push(new THREE.Vector3),d.vertices.push(new THREE.Vector3);THREE.Line.call(this,d,new THREE.LineBasicMaterial({color:b,linewidth:e}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.normalMatrix=new THREE.Matrix3;this.update()};
THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype);
THREE.VertexNormalsHelper.prototype.update=function(a){var b=new THREE.Vector3;return function(a){a=["a","b","c","d"];this.object.updateMatrixWorld(!0);this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var e=this.geometry.vertices,f=this.object.geometry.vertices,h=this.object.geometry.faces,g=this.object.matrixWorld,k=0,l=0,n=h.length;l<n;l++)for(var p=h[l],q=0,m=p.vertexNormals.length;q<m;q++){var t=p.vertexNormals[q];e[k].copy(f[p[a[q]]]).applyMatrix4(g);b.copy(t).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size);
b.add(e[k]);k+=1;e[k].copy(b);k+=1}this.geometry.verticesNeedUpdate=!0;return this}}();
THREE.VertexTangentsHelper=function(a,b,d,e){this.object=a;this.size=void 0!==b?b:1;b=void 0!==d?d:255;e=void 0!==e?e:1;d=new THREE.Geometry;a=a.geometry.faces;for(var f=0,h=a.length;f<h;f++)for(var g=0,k=a[f].vertexTangents.length;g<k;g++)d.vertices.push(new THREE.Vector3),d.vertices.push(new THREE.Vector3);THREE.Line.call(this,d,new THREE.LineBasicMaterial({color:b,linewidth:e}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.update()};THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype);
THREE.VertexTangentsHelper.prototype.update=function(a){var b=new THREE.Vector3;return function(a){a=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var e=this.geometry.vertices,f=this.object.geometry.vertices,h=this.object.geometry.faces,g=this.object.matrixWorld,k=0,l=0,n=h.length;l<n;l++)for(var p=h[l],q=0,m=p.vertexTangents.length;q<m;q++){var t=p.vertexTangents[q];e[k].copy(f[p[a[q]]]).applyMatrix4(g);b.copy(t).transformDirection(g).multiplyScalar(this.size);b.add(e[k]);k+=1;e[k].copy(b);
k+=1}this.geometry.verticesNeedUpdate=!0;return this}}();
THREE.WireframeHelper=function(a,b){var d=void 0!==b?b:16777215,e=[0,0],f={},h=function(a,b){return a-b},g=["a","b","c"],k=new THREE.BufferGeometry;if(a.geometry instanceof THREE.Geometry){for(var l=a.geometry.vertices,n=a.geometry.faces,p=0,q=new Uint32Array(6*n.length),m=0,t=n.length;m<t;m++)for(var s=n[m],u=0;3>u;u++){e[0]=s[g[u]];e[1]=s[g[(u+1)%3]];e.sort(h);var r=e.toString();void 0===f[r]&&(q[2*p]=e[0],q[2*p+1]=e[1],f[r]=!0,p++)}k.addAttribute("position",new THREE.Float32Attribute(2*p,3));e=
k.attributes.position.array;m=0;for(t=p;m<t;m++)for(u=0;2>u;u++)p=l[q[2*m+u]],g=6*m+3*u,e[g+0]=p.x,e[g+1]=p.y,e[g+2]=p.z}else if(a.geometry instanceof THREE.BufferGeometry&&void 0!==a.geometry.attributes.index){for(var l=a.geometry.attributes.position.array,t=a.geometry.attributes.index.array,n=a.geometry.offsets,p=0,q=new Uint32Array(2*t.length),s=0,w=n.length;s<w;++s)for(var u=n[s].start,r=n[s].count,g=n[s].index,m=u,A=u+r;m<A;m+=3)for(u=0;3>u;u++)e[0]=g+t[m+u],e[1]=g+t[m+(u+1)%3],e.sort(h),r=e.toString(),
void 0===f[r]&&(q[2*p]=e[0],q[2*p+1]=e[1],f[r]=!0,p++);k.addAttribute("position",new THREE.Float32Attribute(2*p,3));e=k.attributes.position.array;m=0;for(t=p;m<t;m++)for(u=0;2>u;u++)g=6*m+3*u,p=3*q[2*m+u],e[g+0]=l[p],e[g+1]=l[p+1],e[g+2]=l[p+2]}else if(a.geometry instanceof THREE.BufferGeometry)for(l=a.geometry.attributes.position.array,p=l.length/3,q=p/3,k.addAttribute("position",new THREE.Float32Attribute(2*p,3)),e=k.attributes.position.array,m=0,t=q;m<t;m++)for(u=0;3>u;u++)g=18*m+6*u,q=9*m+3*u,
e[g+0]=l[q],e[g+1]=l[q+1],e[g+2]=l[q+2],p=9*m+(u+1)%3*3,e[g+3]=l[p],e[g+4]=l[p+1],e[g+5]=l[p+2];THREE.Line.call(this,k,new THREE.LineBasicMaterial({color:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.matrixWorld=a.matrixWorld};THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype);THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this);this.render=function(a){}};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);
THREE.LensFlare=function(a,b,d,e,f){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,d,e,f)};THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype);
THREE.LensFlare.prototype.add=function(a,b,d,e,f,h){void 0===b&&(b=-1);void 0===d&&(d=0);void 0===h&&(h=1);void 0===f&&(f=new THREE.Color(16777215));void 0===e&&(e=THREE.NormalBlending);d=Math.min(d,Math.max(0,d));this.lensFlares.push({texture:a,size:b,distance:d,x:0,y:0,z:0,scale:1,rotation:1,opacity:h,color:f,blending:e})};
THREE.LensFlare.prototype.updateLensFlares=function(){var a,b=this.lensFlares.length,d,e=2*-this.positionScreen.x,f=2*-this.positionScreen.y;for(a=0;a<b;a++)d=this.lensFlares[a],d.x=this.positionScreen.x+e*d.distance,d.y=this.positionScreen.y+f*d.distance,d.wantedRotation=d.x*Math.PI*.25,d.rotation+=.25*(d.wantedRotation-d.rotation)};
THREE.MorphBlendMesh=function(a,b){THREE.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];var d=this.geometry.morphTargets.length;this.createAnimation("__default",0,d-1,d/1);this.setAnimationWeight("__default",1)};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);
THREE.MorphBlendMesh.prototype.createAnimation=function(a,b,d,e){b={startFrame:b,endFrame:d,length:d-b+1,fps:e,duration:(d-b)/e,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};
THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(a){for(var b=/([a-z]+)(\d+)/,d,e={},f=this.geometry,h=0,g=f.morphTargets.length;h<g;h++){var k=f.morphTargets[h].name.match(b);if(k&&1<k.length){var l=k[1];e[l]||(e[l]={start:Infinity,end:-Infinity});k=e[l];h<k.start&&(k.start=h);h>k.end&&(k.end=h);d||(d=l)}}for(l in e)k=e[l],this.createAnimation(l,k.start,k.end,a);this.firstAnimation=d};
THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(a,b){var d=this.animationsMap[a];d&&(d.fps=b,d.duration=(d.end-d.start)/d.fps)};
THREE.MorphBlendMesh.prototype.setAnimationDuration=function(a,b){var d=this.animationsMap[a];d&&(d.duration=b,d.fps=(d.end-d.start)/d.duration)};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(a,b){var d=this.animationsMap[a];d&&(d.weight=b)};THREE.MorphBlendMesh.prototype.setAnimationTime=function(a,b){var d=this.animationsMap[a];d&&(d.time=b)};THREE.MorphBlendMesh.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
THREE.MorphBlendMesh.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};THREE.MorphBlendMesh.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("animation["+a+"] undefined")};THREE.MorphBlendMesh.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
THREE.MorphBlendMesh.prototype.update=function(a){for(var b=0,d=this.animationsList.length;b<d;b++){var e=this.animationsList[b];if(e.active){var f=e.duration/e.length;e.time+=e.direction*a;if(e.mirroredLoop){if(e.time>e.duration||0>e.time)e.direction*=-1,e.time>e.duration&&(e.time=e.duration,e.directionBackwards=!0),0>e.time&&(e.time=0,e.directionBackwards=!1)}else e.time%=e.duration,0>e.time&&(e.time+=e.duration);var h=e.startFrame+THREE.Math.clamp(Math.floor(e.time/f),0,e.length-1),g=e.weight;
h!==e.currentFrame&&(this.morphTargetInfluences[e.lastFrame]=0,this.morphTargetInfluences[e.currentFrame]=1*g,this.morphTargetInfluences[h]=0,e.lastFrame=e.currentFrame,e.currentFrame=h);f=e.time%f/f;e.directionBackwards&&(f=1-f);this.morphTargetInfluences[e.currentFrame]=f*g;this.morphTargetInfluences[e.lastFrame]=(1-f)*g}}};
THREE.LensFlarePlugin=function(){function a(a,d){var f=b.createProgram(),e=b.createShader(b.FRAGMENT_SHADER),h=b.createShader(b.VERTEX_SHADER),g="precision "+d+" float;\n";b.shaderSource(e,g+a.fragmentShader);b.shaderSource(h,g+a.vertexShader);b.compileShader(e);b.compileShader(h);b.attachShader(f,e);b.attachShader(f,h);b.linkProgram(f);return f}var b,d,e,f,h,g,k,l,n,p,q,m,t;this.init=function(s){b=s.context;d=s;e=s.getPrecision();f=new Float32Array(16);h=new Uint16Array(6);s=0;f[s++]=-1;f[s++]=-1;
f[s++]=0;f[s++]=0;f[s++]=1;f[s++]=-1;f[s++]=1;f[s++]=0;f[s++]=1;f[s++]=1;f[s++]=1;f[s++]=1;f[s++]=-1;f[s++]=1;f[s++]=0;f[s++]=1;s=0;h[s++]=0;h[s++]=1;h[s++]=2;h[s++]=0;h[s++]=2;h[s++]=3;g=b.createBuffer();k=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,g);b.bufferData(b.ARRAY_BUFFER,f,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,k);b.bufferData(b.ELEMENT_ARRAY_BUFFER,h,b.STATIC_DRAW);l=b.createTexture();n=b.createTexture();b.bindTexture(b.TEXTURE_2D,l);b.texImage2D(b.TEXTURE_2D,0,b.RGB,16,16,
0,b.RGB,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.bindTexture(b.TEXTURE_2D,n);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,16,16,0,b.RGBA,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);0>=b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?(p=!1,q=a(THREE.ShaderFlares.lensFlare,e)):(p=!0,q=a(THREE.ShaderFlares.lensFlareVertexTexture,e));m={};t={};m.vertex=b.getAttribLocation(q,"position");m.uv=b.getAttribLocation(q,"uv");t.renderType=b.getUniformLocation(q,"renderType");t.map=b.getUniformLocation(q,"map");t.occlusionMap=b.getUniformLocation(q,"occlusionMap");t.opacity=
b.getUniformLocation(q,"opacity");t.color=b.getUniformLocation(q,"color");t.scale=b.getUniformLocation(q,"scale");t.rotation=b.getUniformLocation(q,"rotation");t.screenPosition=b.getUniformLocation(q,"screenPosition")};this.render=function(a,f,e,h){a=a.__webglFlares;var A=a.length;if(A){var C=new THREE.Vector3,G=h/e,F=.5*e,D=.5*h,I=16/h,E=new THREE.Vector2(I*G,I),P=new THREE.Vector3(1,1,0),H=new THREE.Vector2(1,1),M=t,I=m;b.useProgram(q);b.enableVertexAttribArray(m.vertex);b.enableVertexAttribArray(m.uv);
b.uniform1i(M.occlusionMap,0);b.uniform1i(M.map,1);b.bindBuffer(b.ARRAY_BUFFER,g);b.vertexAttribPointer(I.vertex,2,b.FLOAT,!1,16,0);b.vertexAttribPointer(I.uv,2,b.FLOAT,!1,16,8);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,k);b.disable(b.CULL_FACE);b.depthMask(!1);var K,N,L,J,Q;for(K=0;K<A;K++)if(I=16/h,E.set(I*G,I),J=a[K],C.set(J.matrixWorld.elements[12],J.matrixWorld.elements[13],J.matrixWorld.elements[14]),C.applyMatrix4(f.matrixWorldInverse),C.applyProjection(f.projectionMatrix),P.copy(C),H.x=P.x*F+F,
H.y=P.y*D+D,p||0<H.x&&H.x<e&&0<H.y&&H.y<h)for(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,l),b.copyTexImage2D(b.TEXTURE_2D,0,b.RGB,H.x-8,H.y-8,16,16,0),b.uniform1i(M.renderType,0),b.uniform2f(M.scale,E.x,E.y),b.uniform3f(M.screenPosition,P.x,P.y,P.z),b.disable(b.BLEND),b.enable(b.DEPTH_TEST),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,n),b.copyTexImage2D(b.TEXTURE_2D,0,b.RGBA,H.x-8,H.y-8,16,16,0),b.uniform1i(M.renderType,1),b.disable(b.DEPTH_TEST),
b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,l),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0),J.positionScreen.copy(P),J.customUpdateCallback?J.customUpdateCallback(J):J.updateLensFlares(),b.uniform1i(M.renderType,2),b.enable(b.BLEND),N=0,L=J.lensFlares.length;N<L;N++)Q=J.lensFlares[N],.001<Q.opacity&&.001<Q.scale&&(P.x=Q.x,P.y=Q.y,P.z=Q.z,I=Q.size*Q.scale/h,E.x=I*G,E.y=I,b.uniform3f(M.screenPosition,P.x,P.y,P.z),b.uniform2f(M.scale,E.x,E.y),b.uniform1f(M.rotation,Q.rotation),b.uniform1f(M.opacity,
Q.opacity),b.uniform3f(M.color,Q.color.r,Q.color.g,Q.color.b),d.setBlending(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst),d.setTexture(Q.texture,1),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0));b.enable(b.CULL_FACE);b.enable(b.DEPTH_TEST);b.depthMask(!0)}}};
THREE.ShadowMapPlugin=function(){var a,b,d,e,f,h,g=new THREE.Frustum,k=new THREE.Matrix4,l=new THREE.Vector3,n=new THREE.Vector3,p=new THREE.Vector3;this.init=function(g){a=g.context;b=g;g=THREE.ShaderLib.depthRGBA;var k=THREE.UniformsUtils.clone(g.uniforms);d=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,vertexShader:g.vertexShader,uniforms:k});e=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,vertexShader:g.vertexShader,uniforms:k,morphTargets:!0});f=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,
vertexShader:g.vertexShader,uniforms:k,skinning:!0});h=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,vertexShader:g.vertexShader,uniforms:k,morphTargets:!0,skinning:!0});d._shadowPass=!0;e._shadowPass=!0;f._shadowPass=!0;h._shadowPass=!0};this.render=function(a,d){b.shadowMapEnabled&&b.shadowMapAutoUpdate&&this.update(a,d)};this.update=function(q,m){var t,s,u,r,w,A,C,G,F,D=[];r=0;a.clearColor(1,1,1,1);a.disable(a.BLEND);a.enable(a.CULL_FACE);a.frontFace(a.CCW);b.shadowMapCullFace===THREE.CullFaceFront?
a.cullFace(a.FRONT):a.cullFace(a.BACK);b.setDepthTest(!0);t=0;for(s=q.__lights.length;t<s;t++)if(u=q.__lights[t],u.castShadow)if(u instanceof THREE.DirectionalLight&&u.shadowCascade)for(w=0;w<u.shadowCascadeCount;w++){var I;if(u.shadowCascadeArray[w])I=u.shadowCascadeArray[w];else{F=u;C=w;I=new THREE.DirectionalLight;I.isVirtual=!0;I.onlyShadow=!0;I.castShadow=!0;I.shadowCameraNear=F.shadowCameraNear;I.shadowCameraFar=F.shadowCameraFar;I.shadowCameraLeft=F.shadowCameraLeft;I.shadowCameraRight=F.shadowCameraRight;
I.shadowCameraBottom=F.shadowCameraBottom;I.shadowCameraTop=F.shadowCameraTop;I.shadowCameraVisible=F.shadowCameraVisible;I.shadowDarkness=F.shadowDarkness;I.shadowBias=F.shadowCascadeBias[C];I.shadowMapWidth=F.shadowCascadeWidth[C];I.shadowMapHeight=F.shadowCascadeHeight[C];I.pointsWorld=[];I.pointsFrustum=[];var E=I.pointsWorld;A=I.pointsFrustum;for(G=0;8>G;G++)E[G]=new THREE.Vector3,A[G]=new THREE.Vector3;E=F.shadowCascadeNearZ[C];F=F.shadowCascadeFarZ[C];A[0].set(-1,-1,E);A[1].set(1,-1,E);A[2].set(-1,
1,E);A[3].set(1,1,E);A[4].set(-1,-1,F);A[5].set(1,-1,F);A[6].set(-1,1,F);A[7].set(1,1,F);I.originalCamera=m;A=new THREE.Gyroscope;A.position.copy(u.shadowCascadeOffset);A.add(I);A.add(I.target);m.add(A);u.shadowCascadeArray[w]=I;console.log("Created virtualLight",I)}C=u;E=w;F=C.shadowCascadeArray[E];F.position.copy(C.position);F.target.position.copy(C.target.position);F.lookAt(F.target);F.shadowCameraVisible=C.shadowCameraVisible;F.shadowDarkness=C.shadowDarkness;F.shadowBias=C.shadowCascadeBias[E];
A=C.shadowCascadeNearZ[E];C=C.shadowCascadeFarZ[E];F=F.pointsFrustum;F[0].z=A;F[1].z=A;F[2].z=A;F[3].z=A;F[4].z=C;F[5].z=C;F[6].z=C;F[7].z=C;D[r]=I;r++}else D[r]=u,r++;t=0;for(s=D.length;t<s;t++){u=D[t];u.shadowMap||(w=THREE.LinearFilter,b.shadowMapType===THREE.PCFSoftShadowMap&&(w=THREE.NearestFilter),u.shadowMap=new THREE.WebGLRenderTarget(u.shadowMapWidth,u.shadowMapHeight,{minFilter:w,magFilter:w,format:THREE.RGBAFormat}),u.shadowMapSize=new THREE.Vector2(u.shadowMapWidth,u.shadowMapHeight),u.shadowMatrix=
new THREE.Matrix4);if(!u.shadowCamera){if(u instanceof THREE.SpotLight)u.shadowCamera=new THREE.PerspectiveCamera(u.shadowCameraFov,u.shadowMapWidth/u.shadowMapHeight,u.shadowCameraNear,u.shadowCameraFar);else if(u instanceof THREE.DirectionalLight)u.shadowCamera=new THREE.OrthographicCamera(u.shadowCameraLeft,u.shadowCameraRight,u.shadowCameraTop,u.shadowCameraBottom,u.shadowCameraNear,u.shadowCameraFar);else{console.error("Unsupported light type for shadow");continue}q.add(u.shadowCamera);!0===
q.autoUpdate&&q.updateMatrixWorld()}u.shadowCameraVisible&&!u.cameraHelper&&(u.cameraHelper=new THREE.CameraHelper(u.shadowCamera),u.shadowCamera.add(u.cameraHelper));if(u.isVirtual&&I.originalCamera==m){w=m;r=u.shadowCamera;A=u.pointsFrustum;F=u.pointsWorld;l.set(Infinity,Infinity,Infinity);n.set(-Infinity,-Infinity,-Infinity);for(C=0;8>C;C++)E=F[C],E.copy(A[C]),THREE.ShadowMapPlugin.__projector.unprojectVector(E,w),E.applyMatrix4(r.matrixWorldInverse),E.x<l.x&&(l.x=E.x),E.x>n.x&&(n.x=E.x),E.y<l.y&&
(l.y=E.y),E.y>n.y&&(n.y=E.y),E.z<l.z&&(l.z=E.z),E.z>n.z&&(n.z=E.z);r.left=l.x;r.right=n.x;r.top=n.y;r.bottom=l.y;r.updateProjectionMatrix()}r=u.shadowMap;A=u.shadowMatrix;w=u.shadowCamera;w.position.setFromMatrixPosition(u.matrixWorld);p.setFromMatrixPosition(u.target.matrixWorld);w.lookAt(p);w.updateMatrixWorld();w.matrixWorldInverse.getInverse(w.matrixWorld);u.cameraHelper&&(u.cameraHelper.visible=u.shadowCameraVisible);u.shadowCameraVisible&&u.cameraHelper.update();A.set(.5,0,0,.5,0,.5,0,.5,0,
0,.5,.5,0,0,0,1);A.multiply(w.projectionMatrix);A.multiply(w.matrixWorldInverse);k.multiplyMatrices(w.projectionMatrix,w.matrixWorldInverse);g.setFromMatrix(k);b.setRenderTarget(r);b.clear();F=q.__webglObjects;u=0;for(r=F.length;u<r;u++)C=F[u],A=C.object,C.render=!1,!A.visible||!A.castShadow||(A instanceof THREE.Mesh||A instanceof THREE.ParticleSystem)&&A.frustumCulled&&!g.intersectsObject(A)||(A._modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,A.matrixWorld),C.render=!0);var P;u=0;for(r=F.length;u<
r;u++)C=F[u],C.render&&(A=C.object,C=C.buffer,E=A.material instanceof THREE.MeshFaceMaterial?A.material.materials[0]:A.material,G=void 0!==A.geometry.morphTargets&&0<A.geometry.morphTargets.length&&E.morphTargets,P=A instanceof THREE.SkinnedMesh&&E.skinning,G=A.customDepthMaterial?A.customDepthMaterial:P?G?h:f:G?e:d,b.setMaterialFaces(E),C instanceof THREE.BufferGeometry?b.renderBufferDirect(w,q.__lights,null,G,C,A):b.renderBuffer(w,q.__lights,null,G,C,A));F=q.__webglObjectsImmediate;u=0;for(r=F.length;u<
r;u++)C=F[u],A=C.object,A.visible&&A.castShadow&&(A._modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,A.matrixWorld),b.renderImmediateObject(w,q.__lights,null,d,A))}t=b.getClearColor();s=b.getClearAlpha();a.clearColor(t.r,t.g,t.b,s);a.enable(a.BLEND);b.shadowMapCullFace===THREE.CullFaceFront&&a.cullFace(a.BACK)}};THREE.ShadowMapPlugin.__projector=new THREE.Projector;
THREE.SpritePlugin=function(){function a(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var b,d,e,f,h,g,k,l,n,p,q,m,t,s,u,r,w,A,C,G,F,D,I,E,P;this.init=function(a){A=a.context;C=a;F=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]);D=new Uint16Array([0,1,2,0,2,3]);I=A.createBuffer();E=A.createBuffer();A.bindBuffer(A.ARRAY_BUFFER,I);A.bufferData(A.ARRAY_BUFFER,F,A.STATIC_DRAW);A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,E);A.bufferData(A.ELEMENT_ARRAY_BUFFER,D,A.STATIC_DRAW);a=A.createProgram();var M=
A.createShader(A.VERTEX_SHADER),K=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(M,["precision "+C.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
A.shaderSource(K,["precision "+C.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
A.compileShader(M);A.compileShader(K);A.attachShader(a,M);A.attachShader(a,K);A.linkProgram(a);P=a;r=A.getAttribLocation(P,"position");w=A.getAttribLocation(P,"uv");b=A.getUniformLocation(P,"uvOffset");d=A.getUniformLocation(P,"uvScale");e=A.getUniformLocation(P,"rotation");f=A.getUniformLocation(P,"scale");h=A.getUniformLocation(P,"color");g=A.getUniformLocation(P,"map");k=A.getUniformLocation(P,"opacity");l=A.getUniformLocation(P,"modelViewMatrix");n=A.getUniformLocation(P,"projectionMatrix");p=
A.getUniformLocation(P,"fogType");q=A.getUniformLocation(P,"fogDensity");m=A.getUniformLocation(P,"fogNear");t=A.getUniformLocation(P,"fogFar");s=A.getUniformLocation(P,"fogColor");u=A.getUniformLocation(P,"alphaTest");a=document.createElement("canvas");a.width=8;a.height=8;M=a.getContext("2d");M.fillStyle="#ffffff";M.fillRect(0,0,a.width,a.height);G=new THREE.Texture(a);G.needsUpdate=!0};this.render=function(F,D,K,N){K=F.__webglSprites;if(N=K.length){A.useProgram(P);A.enableVertexAttribArray(r);
A.enableVertexAttribArray(w);A.disable(A.CULL_FACE);A.enable(A.BLEND);A.bindBuffer(A.ARRAY_BUFFER,I);A.vertexAttribPointer(r,2,A.FLOAT,!1,16,0);A.vertexAttribPointer(w,2,A.FLOAT,!1,16,8);A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,E);A.uniformMatrix4fv(n,!1,D.projectionMatrix.elements);A.activeTexture(A.TEXTURE0);A.uniform1i(g,0);var L=0,J=0,Q=F.fog;Q?(A.uniform3f(s,Q.color.r,Q.color.g,Q.color.b),Q instanceof THREE.Fog?(A.uniform1f(m,Q.near),A.uniform1f(t,Q.far),A.uniform1i(p,1),J=L=1):Q instanceof THREE.FogExp2&&
(A.uniform1f(q,Q.density),A.uniform1i(p,2),J=L=2)):(A.uniform1i(p,0),J=L=0);for(var O,T=[],Q=0;Q<N;Q++)O=K[Q],!1!==O.visible&&(O._modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,O.matrixWorld),O.z=-O._modelViewMatrix.elements[14]);K.sort(a);for(Q=0;Q<N;Q++)O=K[Q],!1!==O.visible&&(D=O.material,A.uniform1f(u,D.alphaTest),A.uniformMatrix4fv(l,!1,O._modelViewMatrix.elements),T[0]=O.scale.x,T[1]=O.scale.y,O=F.fog&&D.fog?J:0,L!==O&&(A.uniform1i(p,O),L=O),null!==D.map?(A.uniform2f(b,D.map.offset.x,
D.map.offset.y),A.uniform2f(d,D.map.repeat.x,D.map.repeat.y)):(A.uniform2f(b,0,0),A.uniform2f(d,1,1)),A.uniform1f(k,D.opacity),A.uniform3f(h,D.color.r,D.color.g,D.color.b),A.uniform1f(e,D.rotation),A.uniform2fv(f,T),C.setBlending(D.blending,D.blendEquation,D.blendSrc,D.blendDst),C.setDepthTest(D.depthTest),C.setDepthWrite(D.depthWrite),D.map&&D.map.image&&D.map.image.width?C.setTexture(D.map,0):C.setTexture(G,0),A.drawElements(A.TRIANGLES,6,A.UNSIGNED_SHORT,0));A.enable(A.CULL_FACE)}}};
THREE.DepthPassPlugin=function(){this.enabled=!1;this.renderTarget=null;var a,b,d,e,f,h,g=new THREE.Frustum,k=new THREE.Matrix4;this.init=function(g){a=g.context;b=g;g=THREE.ShaderLib.depthRGBA;var k=THREE.UniformsUtils.clone(g.uniforms);d=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,vertexShader:g.vertexShader,uniforms:k});e=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,vertexShader:g.vertexShader,uniforms:k,morphTargets:!0});f=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,
vertexShader:g.vertexShader,uniforms:k,skinning:!0});h=new THREE.ShaderMaterial({fragmentShader:g.fragmentShader,vertexShader:g.vertexShader,uniforms:k,morphTargets:!0,skinning:!0});d._shadowPass=!0;e._shadowPass=!0;f._shadowPass=!0;h._shadowPass=!0};this.render=function(a,b){this.enabled&&this.update(a,b)};this.update=function(l,n){var p,q,m,t,s,u;a.clearColor(1,1,1,1);a.disable(a.BLEND);b.setDepthTest(!0);!0===l.autoUpdate&&l.updateMatrixWorld();n.matrixWorldInverse.getInverse(n.matrixWorld);k.multiplyMatrices(n.projectionMatrix,
n.matrixWorldInverse);g.setFromMatrix(k);b.setRenderTarget(this.renderTarget);b.clear();u=l.__webglObjects;p=0;for(q=u.length;p<q;p++)m=u[p],s=m.object,m.render=!1,!s.visible||(s instanceof THREE.Mesh||s instanceof THREE.ParticleSystem)&&s.frustumCulled&&!g.intersectsObject(s)||(s._modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),m.render=!0);var r;p=0;for(q=u.length;p<q;p++)m=u[p],m.render&&(s=m.object,m=m.buffer,s instanceof THREE.ParticleSystem&&!s.customDepthMaterial||((r=
s.material instanceof THREE.MeshFaceMaterial?s.material.materials[0]:s.material)&&b.setMaterialFaces(s.material),t=void 0!==s.geometry.morphTargets&&0<s.geometry.morphTargets.length&&r.morphTargets,r=s instanceof THREE.SkinnedMesh&&r.skinning,t=s.customDepthMaterial?s.customDepthMaterial:r?t?h:f:t?e:d,m instanceof THREE.BufferGeometry?b.renderBufferDirect(n,l.__lights,null,t,m,s):b.renderBuffer(n,l.__lights,null,t,m,s)));u=l.__webglObjectsImmediate;p=0;for(q=u.length;p<q;p++)m=u[p],s=m.object,s.visible&&
(s._modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),b.renderImmediateObject(n,l.__lights,null,d,s));p=b.getClearColor();q=b.getClearAlpha();a.clearColor(p.r,p.g,p.b,q);a.enable(a.BLEND)}};
THREE.ShaderFlares={lensFlareVertexTexture:{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},
lensFlare:{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"precision mediump float;\nuniform lowp int renderType;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility = ( 1.0 - visibility / 4.0 );\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * visibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"}};!function(a,b,d){"undefined"!==typeof module?module.exports=d(a,b):"function"===typeof define&&"object"===typeof define.amd?define(d):b[a]=d(a,b)}("zpipe",this,function(a,b){function d(a){eval.call(null,a)}function e(a){Ub(a+":\n"+Error().stack);throw"Assertion: "+a;}function f(a,c){a||e("Assertion failed: "+c)}function h(a,b,d){d=d||"i8";"*"==d.charAt(d.length-1)&&(d="i32");switch(d){case "i1":c[a]=b;break;case "i8":c[a]=b;break;case "i16":c[a]=b;break;case "i32":c[a]=b;break;case "i64":c[a]=b;break;
case "float":c[a]=b;break;case "double":c[a]=b;break;default:e("invalid type for setValue: "+d)}}function g(a,b,d){var f,e;"number"===typeof a?(f=!0,e=a):(f=!1,e=a.length);var g="string"===typeof b?b:null;d=[qa,Ba.stackAlloc,Ba.staticAlloc][void 0===d?da:d](Math.max(e,g?1:b.length));if(f){a=d;for(e=a+e;a<e;a++)c[a]=0;return d}f=0;for(var k;f<e;){var l=a[f];"function"===typeof l&&(l=Ba.getFunctionIndex(l));k=g||b[f];0===k?f++:(h(d+f,l,k),f+=Ba.getNativeTypeSize(k))}return d}function k(a,b){for(var d=
"undefined"==typeof b,f="",e=0,h,g=String.fromCharCode(0);;){h=String.fromCharCode(c[a+e]);if(d&&h==g)break;f+=h;e+=1;if(!d&&e==b)break}return f}function l(a){for(;0<a.length;){var c=a.shift(),b=c.func;"number"===typeof b&&(b=Aa[b]);b(void 0===c.arg?null:c.arg)}}function n(a,b){return c.slice(a,a+b)}function p(a){for(var b=0;c[a+b];)b++;return b}function q(a,c){for(var b=[],d=0;d<a.length;){var f=a.charCodeAt(d);255<f&&(f&=255);b.push(f);d+=1}c||b.push(0);return b}function m(a,b,d){for(var f=0;f<
a.length;){var e=a.charCodeAt(f);255<e&&(e&=255);c[b+f]=e;f+=1}d||(c[b+f]=0)}function t(a,b){var d=ya;ya+=32824;var f,e,h,g,k=d+56,l=d+16440;c[d+32|0]=0;c[d+36|0]=0;c[d+40|0]=0;e=w(d,-1,8,15,8,0,ca.__str|0,56);var n=0!=(e|0);a:do if(n)f=e;else{var m=k|0,p=d+4|0,q=k|0,r=d|0,s=d+16|0,t=l|0,u=d+12|0,v=d+16|0,C=l|0,D=d+16|0,E=d+4|0;b:for(;;){h=Ia(m,1,16384,a);c[p]=h;if(0!=(Ea(a)|0)){A(d);f=-1;break a}h=0!=(Number(a in oa.streams&&oa.streams[a].eof)|0)?4:1;c[r]=q;c:for(;;){c[s]=16384;c[u]=t;e=g=F(d,h);
-2==(g|0)&&ob(ca.__str1|0,75,ca.___func___def|0,ca.__str2|0);g=16384-c[v]|0;g=(z(C,1,g,b)|0)!=(g|0);do if(!g&&0==(Ea(b)|0)){if(0==(c[D]|0))continue c;0!=(c[E]|0)&&ob(ca.__str1|0,82,ca.___func___def|0,ca.__str3|0);if(4!=(h|0))continue b;1!=(e|0)&&ob(ca.__str1|0,86,ca.___func___def|0,ca.__str4|0);A(d);f=0;break a}while(0);A(d);f=-1;break a}}}while(0);ya=d;return f}function s(a,b){var d=ya;ya+=32824;var f,e,h,g=d+56,k=d+16440;c[d+32|0]=0;c[d+36|0]=0;c[d+40|0]=0;c[d+4|0]=0;c[d|0]=0;e=T(d,ca.__str|0,56);
var l=0!=(e|0);a:do{if(!l){f=g|0;var n=d+4|0,m=d+4|0,p=g|0,q=d|0,r=d+16|0,s=k|0,t=d+12|0,u=d+16|0,v=k|0,w=d+16|0;b:for(;;){var A=Ia(f,1,16384,a);c[n]=A;if(0!=(Ea(a)|0)){U(d);f=-1;break a}A=0==(c[m]|0);c:do if(!A)d:for(c[q]=p;;)if(c[r]=16384,c[t]=s,e=h=ea(d),-2==(h|0)&&(ob(ca.__str1|0,133,ca.___func___inf|0,ca.__str2|0),h=e),2==h){e=-3;break b}else if(-3==h||-4==h)break b;else{h=16384-c[u]|0;h=(z(v,1,h,b)|0)!=(h|0);do if(!h&&0==(Ea(b)|0)){if(0==(c[w]|0))continue d;if(1!=(e|0))continue b;break c}while(0);
U(d);f=-1;break a}while(0);U(d);f=1==(e|0)?0:-3;break a}U(d)}f=e}while(0);ya=d;return f}function u(a){z(ca.__str5|0,7,1,c[c[gb]+12|0]);-1==a?(0!=(Ea(c[c[gb]+4|0])|0)&&z(ca.__str6|0,20,1,c[c[gb]+12|0]),0!=(Ea(c[c[gb]+8|0])|0)&&z(ca.__str7|0,21,1,c[c[gb]+12|0])):-2==a?z(ca.__str8|0,26,1,c[c[gb]+12|0]):-3==a?z(ca.__str9|0,35,1,c[c[gb]+12|0]):-4==a?z(ca.__str10|0,14,1,c[c[gb]+12|0]):-6==a&&z(ca.__str11|0,23,1,c[c[gb]+12|0])}function r(a,b){var d,f=1==(a|0);a:do if(f)d=t(c[c[gb]+4|0],c[c[gb]+8|0]),0!=
(d|0)&&u(d);else{d=2==(a|0);do{var e;if(e=d){b:{for(e=0;e<wb;){var h=c[c[b+4|0]+e],g=c[(ca.__str12|0)+e];if(h==g&&0==h)break;if(0==h){e=-1;break b}if(0==g){e=1;break b}if(h==g)e++;else{e=h>g?1:-1;break b}}e=0}e=0==(e|0)}if(e){d=s(c[c[gb]+4|0],c[c[gb]+8|0]);0!=(d|0)&&u(d);break a}}while(0);z(ca.__str13|0,40,1,c[c[gb]+12|0]);d=1}while(0);return d}function w(a,b,d,f,e,h,g,k){var l,n,m;m=1;var p=0==(g|0);a:do if(p)l=3;else if(49!=(c[g|0]<<24>>24|0))l=3;else if(56!=(k|0))l=3;else{if(0!=(a|0)){c[a+24|0]=
0;0==(c[a+32|0]|0)&&(c[a+32|0]=2,c[a+40|0]=0);0==(c[a+36|0]|0)&&(c[a+36|0]=4);-1==(b|0)&&(b=6);0>(f|0)?(m=0,f=-f|0):15>=(f|0)||(m=2,f=f-16|0);n=1>(e|0)|9<(e|0);do if(!(n||8!=(d|0)||8>(f|0)|15<(f|0)||0>(b|0)|9<(b|0)||0>(h|0)|4<(h|0))){8==(f|0)&&(f=9);g=k=Aa[c[a+32|0]](c[a+40|0],1,5828);if(0==(k|0)){n=-4;l=32;break a}c[a+28|0]=g;c[g|0]=a;c[g+24|0]=m;c[g+28|0]=0;c[g+48|0]=f;c[g+44|0]=1<<c[g+48|0];c[g+52|0]=c[g+44|0]-1|0;c[g+80|0]=e+7|0;c[g+76|0]=1<<c[g+80|0];c[g+84|0]=c[g+76|0]-1|0;c[g+88|0]=Math.floor(((c[g+
80|0]+2|0)>>>0)/3);k=Aa[c[a+32|0]](c[a+40|0],c[g+44|0],2);c[g+56|0]=k;k=Aa[c[a+32|0]](c[a+40|0],c[g+44|0],2);c[g+64|0]=k;k=c[g+64|0];for(f=k+(c[g+44|0]<<1|0);k<f;k++)c[k]=0;k=Aa[c[a+32|0]](c[a+40|0],c[g+76|0],2);c[g+68|0]=k;c[g+5824|0]=0;c[g+5788|0]=1<<e+6;e=Aa[c[a+32|0]](c[a+40|0],c[g+5788|0],4);c[g+8|0]=e;c[g+12|0]=c[g+5788|0]<<2|0;k=0==(c[g+56|0]|0);do if(!k&&0!=(c[g+64|0]|0)&&0!=(c[g+68|0]|0)&&0!=(c[g+8|0]|0)){c[g+5796|0]=(Math.floor((c[g+5788|0]>>>0)/2)<<1)+e|0;c[g+5784|0]=c[g+8|0]+3*c[g+5788|
0]|0;c[g+132|0]=b;c[g+136|0]=h;c[g+36|0]=d&255;n=C(a);l=32;break a}while(0);c[g+4|0]=666;c[a+24|0]=ca.__str657|0;A(a);n=-4;l=32;break a}while(0)}n=-2;l=32}while(0);3==l&&(n=-6);return n}function A(a){var b;if(0==(a|0))a=2;else if(0==(c[a+28|0]|0))a=2;else{b=c[c[a+28|0]+4|0];if(42!=(b|0)&69!=(b|0)&73!=(b|0)&91!=(b|0)&103!=(b|0)&113!=(b|0)&666!=(b|0))b=-2;else{if(0!=(c[c[a+28|0]+8|0]|0))Aa[c[a+36|0]](c[a+40|0],c[c[a+28|0]+8|0]);if(0!=(c[c[a+28|0]+68|0]|0))Aa[c[a+36|0]](c[a+40|0],c[c[a+28|0]+68|0]);
if(0!=(c[c[a+28|0]+64|0]|0))Aa[c[a+36|0]](c[a+40|0],c[c[a+28|0]+64|0]);if(0!=(c[c[a+28|0]+56|0]|0))Aa[c[a+36|0]](c[a+40|0],c[c[a+28|0]+56|0]);Aa[c[a+36|0]](c[a+40|0],c[a+28|0]);c[a+28|0]=0;b=113==(b|0)?-3:0}a=14}2==a&&(b=-2);return b}function C(a){var b;if(0==(a|0))a=4;else if(0==(c[a+28|0]|0))a=4;else if(0==(c[a+32|0]|0))a=4;else if(0==(c[a+36|0]|0))a=4;else{c[a+20|0]=0;c[a+8|0]=0;c[a+24|0]=0;c[a+44|0]=2;b=c[a+28|0];c[b+20|0]=0;c[b+16|0]=c[b+8|0];0>(c[b+24|0]|0)&&(c[b+24|0]=-c[b+24|0]|0);c[b+4|0]=
0!=(c[b+24|0]|0)?42:113;var d=2==(c[b+24|0]|0)?xa(0,0,0):Ta(0,0,0);c[a+48|0]=d;c[b+40|0]=0;c[b+2840|0]=b+148|0;c[b+2848|0]=Fb;c[b+2852|0]=b+2440|0;c[b+2860|0]=ac;c[b+2864|0]=b+2684|0;c[b+2872|0]=Fc;c[b+5816|0]=0;c[b+5820|0]=0;c[b+5812|0]=8;X(b);G(b);b=0;a=11}4==a&&(b=-2);return b}function G(a){c[a+60|0]=c[a+44|0]<<1|0;c[(c[a+76|0]-1<<1)+c[a+68|0]|0]=0;for(var b=c[a+68|0],d=b+(c[a+76|0]-1<<1|0);b<d;b++)c[b]=0;c[a+128|0]=c[Ib+12*c[a+132|0]+2|0]&65535;c[a+140|0]=c[Ib+12*c[a+132|0]|0]&65535;c[a+144|0]=
c[Ib+12*c[a+132|0]+4|0]&65535;c[a+124|0]=c[Ib+12*c[a+132|0]+6|0]&65535;c[a+108|0]=0;c[a+92|0]=0;c[a+116|0]=0;c[a+120|0]=2;c[a+96|0]=2;c[a+112|0]=0;c[a+104|0]=0;c[a+72|0]=0}function F(a,b){var d,f,e,g,h,k,l,n,m,p,q,r,s=0==(a|0);a:do if(s)d=3;else if(0==(c[a+28|0]|0))d=3;else if(5<(b|0)|0>(b|0))d=3;else{g=c[a+28|0];var t=0==(c[a+12|0]|0);do if(!(t||0==(c[a|0]|0)&&0!=(c[a+4|0]|0)||666==(c[g+4|0]|0)&&4!=(b|0))){var u=a;if(0==(c[a+16|0]|0)){c[u+24|0]=ca.__str758|0;f=-5;d=140;break a}c[g|0]=u;e=c[g+40|
0];c[g+40|0]=b;if(42==(c[g+4|0]|0))if(2==(c[g+24|0]|0)){var v=xa(0,0,0);c[a+48|0]=v;var w=g+20|0,z=c[w];c[w]=z+1|0;c[c[g+8|0]+z|0]=31;var A=g+20|0,C=c[A];c[A]=C+1|0;c[c[g+8|0]+C|0]=-117;var G=g+20|0,F=c[G];c[G]=F+1|0;c[c[g+8|0]+F|0]=8;var H=g;if(0==(c[g+28|0]|0)){var J=H+20|0,K=c[J];c[J]=K+1|0;c[c[g+8|0]+K|0]=0;var L=g+20|0,N=c[L];c[L]=N+1|0;c[c[g+8|0]+N|0]=0;var M=g+20|0,O=c[M];c[M]=O+1|0;c[c[g+8|0]+O|0]=0;var Q=g+20|0,R=c[Q];c[Q]=R+1|0;c[c[g+8|0]+R|0]=0;var S=g+20|0,T=c[S];c[S]=T+1|0;c[c[g+8|0]+
T|0]=0;var V=9==(c[g+132|0]|0)?2:2<=(c[g+136|0]|0)||2>(c[g+132|0]|0)?4:0,U=g+20|0,W=c[U];c[U]=W+1|0;c[c[g+8|0]+W|0]=V&255;var X=g+20|0,Z=c[X];c[X]=Z+1|0;c[c[g+8|0]+Z|0]=3;c[g+4|0]=113}else{var ba=(0!=(c[c[g+28|0]+44|0]|0)?2:0)+(0!=(c[c[H+28|0]|0]|0)?1:0)+(0==(c[c[g+28|0]+16|0]|0)?0:4)+(0==(c[c[g+28|0]+28|0]|0)?0:8)+(0==(c[c[g+28|0]+36|0]|0)?0:16)&255,da=g+20|0,ea=c[da];c[da]=ea+1|0;c[c[g+8|0]+ea|0]=ba;var fa=c[c[g+28|0]+4|0]&255,ha=g+20|0,ja=c[ha];c[ha]=ja+1|0;c[c[g+8|0]+ja|0]=fa;var ia=c[c[g+28|
0]+4|0]>>>8&255,la=g+20|0,ma=c[la];c[la]=ma+1|0;c[c[g+8|0]+ma|0]=ia;var aa=c[c[g+28|0]+4|0]>>>16&255,na=g+20|0,oa=c[na];c[na]=oa+1|0;c[c[g+8|0]+oa|0]=aa;var qa=c[c[g+28|0]+4|0]>>>24&255,ta=g+20|0,ra=c[ta];c[ta]=ra+1|0;c[c[g+8|0]+ra|0]=qa;var va=9==(c[g+132|0]|0)?2:2<=(c[g+136|0]|0)||2>(c[g+132|0]|0)?4:0,sa=g+20|0,ya=c[sa];c[sa]=ya+1|0;c[c[g+8|0]+ya|0]=va&255;var Ca=c[c[g+28|0]+12|0]&255,za=g+20|0,Ua=c[za];c[za]=Ua+1|0;c[c[g+8|0]+Ua|0]=Ca;if(0!=(c[c[g+28|0]+16|0]|0)){var Ba=c[c[g+28|0]+20|0]&255,Da=
g+20|0,Ea=c[Da];c[Da]=Ea+1|0;c[c[g+8|0]+Ea|0]=Ba;var Ia=c[c[g+28|0]+20|0]>>>8&255,Ja=g+20|0,Ka=c[Ja];c[Ja]=Ka+1|0;c[c[g+8|0]+Ka|0]=Ia}if(0!=(c[c[g+28|0]+44|0]|0)){var Na=xa(c[a+48|0],c[g+8|0],c[g+20|0]);c[a+48|0]=Na}c[g+32|0]=0;c[g+4|0]=69}}else{h=(c[g+48|0]-8<<4)+8<<8;2<=(c[g+136|0]|0)?d=31:2>(c[g+132|0]|0)?d=31:(k=6>(c[g+132|0]|0)?1:6==(c[g+132|0]|0)?2:3,d=37);31==d&&(k=0);h|=k<<6;0!=(c[g+108|0]|0)&&(h|=32);h=-((h>>>0)%31)+h+31|0;c[g+4|0]=113;D(g,h);0!=(c[g+108|0]|0)&&(D(g,c[a+48|0]>>>16),D(g,c[a+
48|0]&65535));var kb=Ta(0,0,0);c[a+48|0]=kb}var Oa=69==(c[g+4|0]|0);do if(Oa){var Ma=g;if(0!=(c[c[g+28|0]+16|0]|0)){for(l=c[Ma+20|0];!(c[g+32|0]>>>0>=(c[c[g+28|0]+20|0]&65535)>>>0);){if((c[g+20|0]|0)==(c[g+12|0]|0)){if(0!=(c[c[g+28|0]+44|0]|0)&&!(c[g+20|0]>>>0<=l>>>0)){var Sa=xa(c[a+48|0],c[g+8|0]+l|0,c[g+20|0]-l|0);c[a+48|0]=Sa}I(a);l=c[g+20|0];if((c[g+20|0]|0)==(c[g+12|0]|0))break}var Va=c[c[c[g+28|0]+16|0]+c[g+32|0]|0],Za=g+20|0,bb=c[Za];c[Za]=bb+1|0;c[c[g+8|0]+bb|0]=Va;var Qa=g+32|0;c[Qa]=c[Qa]+
1|0}if(0!=(c[c[g+28|0]+44|0]|0)&&!(c[g+20|0]>>>0<=l>>>0)){var db=xa(c[a+48|0],c[g+8|0]+l|0,c[g+20|0]-l|0);c[a+48|0]=db}(c[g+32|0]|0)==(c[c[g+28|0]+20|0]|0)&&(c[g+32|0]=0,c[g+4|0]=73)}else c[Ma+4|0]=73}while(0);var cb=73==(c[g+4|0]|0);do if(cb){var Wa=g;if(0!=(c[c[g+28|0]+28|0]|0)){n=c[Wa+20|0];b:for(;;){var $a=(c[g+20|0]|0)==(c[g+12|0]|0);do if($a){if(0!=(c[c[g+28|0]+44|0]|0)&&!(c[g+20|0]>>>0<=n>>>0)){var eb=xa(c[a+48|0],c[g+8|0]+n|0,c[g+20|0]-n|0);c[a+48|0]=eb}I(a);n=c[g+20|0];if((c[g+20|0]|0)==
(c[g+12|0]|0)){m=1;break b}}while(0);var gb=g+32|0,Xa=c[gb];c[gb]=Xa+1|0;m=c[c[c[g+28|0]+28|0]+Xa|0]&255;var Jc=g+20|0,hb=c[Jc];c[Jc]=hb+1|0;c[c[g+8|0]+hb|0]=m&255;if(0==(m|0))break}if(0!=(c[c[g+28|0]+44|0]|0)&&!(c[g+20|0]>>>0<=n>>>0)){var ob=xa(c[a+48|0],c[g+8|0]+n|0,c[g+20|0]-n|0);c[a+48|0]=ob}0==(m|0)&&(c[g+32|0]=0,c[g+4|0]=91)}else c[Wa+4|0]=91}while(0);var pb=91==(c[g+4|0]|0);do if(pb){var jb=g;if(0!=(c[c[g+28|0]+36|0]|0)){p=c[jb+20|0];b:for(;;){var Rc=(c[g+20|0]|0)==(c[g+12|0]|0);do if(Rc){if(0!=
(c[c[g+28|0]+44|0]|0)&&!(c[g+20|0]>>>0<=p>>>0)){var Mc=xa(c[a+48|0],c[g+8|0]+p|0,c[g+20|0]-p|0);c[a+48|0]=Mc}I(a);p=c[g+20|0];if((c[g+20|0]|0)==(c[g+12|0]|0)){q=1;break b}}while(0);var rb=g+32|0,fb=c[rb];c[rb]=fb+1|0;q=c[c[c[g+28|0]+36|0]+fb|0]&255;var jc=g+20|0,nb=c[jc];c[jc]=nb+1|0;c[c[g+8|0]+nb|0]=q&255;if(0==(q|0))break}if(0!=(c[c[g+28|0]+44|0]|0)&&!(c[g+20|0]>>>0<=p>>>0)){var Pa=xa(c[a+48|0],c[g+8|0]+p|0,c[g+20|0]-p|0);c[a+48|0]=Pa}0==(q|0)&&(c[g+4|0]=103)}else c[jb+4|0]=103}while(0);if(103==
(c[g+4|0]|0)){var Jb=g;if(0!=(c[c[g+28|0]+44|0]|0)){if((c[Jb+20|0]+2|0)>>>0>c[g+12|0]>>>0&&I(a),(c[g+20|0]+2|0)>>>0<=c[g+12|0]>>>0){var Sc=c[a+48|0]&255,oc=g+20|0,lb=c[oc];c[oc]=lb+1|0;c[c[g+8|0]+lb|0]=Sc;var Db=c[a+48|0]>>>8&255,Fa=g+20|0,pa=c[Fa];c[Fa]=pa+1|0;c[c[g+8|0]+pa|0]=Db;var Rb=xa(0,0,0);c[a+48|0]=Rb;c[g+4|0]=113}}else c[Jb+4|0]=113}var gc=0!=(c[g+20|0]|0),mb=a;do{if(gc){I(mb);if(0!=(c[a+16|0]|0))break;c[g+40|0]=-1;f=0;d=140;break a}if(0==(c[mb+4|0]|0)&&(b|0)<=(e|0)&4!=(b|0)){c[a+24|0]=
ca.__str758|0;f=-5;d=140;break a}}while(0);var vb=666==(c[g+4|0]|0);do if(vb&&0!=(c[a+4|0]|0)){c[a+24|0]=ca.__str758|0;f=-5;d=140;break a}while(0);d=0!=(c[a+4|0]|0)?110:0!=(c[g+116|0]|0)?110:0==(b|0)?131:666!=(c[g+4|0]|0)?110:130;do if(110==d){var qb=g;if(2==(c[g+136|0]|0))var sb=E(qb,b);else var pc=g,sb=3==(c[qb+136|0]|0)?P(pc,b):Aa[c[Ib+12*c[pc+132|0]+8|0]](g,b);r=sb;2==(r|0)|3==(r|0)&&(c[g+4|0]=666);if(0==(r|0)|2==(r|0)){0==(c[a+16|0]|0)&&(c[g+40|0]=-1);f=0;d=140;break a}if(1!=(r|0))d=130;else{if(1==
(b|0))ka(g);else if(5!=(b|0)&&(Y(g,0,0,0),3==(b|0))){c[(c[g+76|0]-1<<1)+c[g+68|0]|0]=0;for(var Wb=c[g+68|0],bc=Wb+(c[g+76|0]-1<<1|0);Wb<bc;Wb++)c[Wb]=0;0==(c[g+116|0]|0)&&(c[g+108|0]=0,c[g+92|0]=0)}I(a);if(0!=(c[a+16|0]|0))d=130;else{c[g+40|0]=-1;f=0;d=140;break a}}}while(0);do if(130==d&&4==(b|0)){if(0>=(c[g+24|0]|0)){f=1;d=140;break a}if(2==(c[g+24|0]|0)){var Bb=c[a+48|0]&255,Eb=g+20|0,cc=c[Eb];c[Eb]=cc+1|0;c[c[g+8|0]+cc|0]=Bb;var Hb=c[a+48|0]>>>8&255,hc=g+20|0,Ga=c[hc];c[hc]=Ga+1|0;c[c[g+8|0]+
Ga|0]=Hb;var Lb=c[a+48|0]>>>16&255,ab=g+20|0,ua=c[ab];c[ab]=ua+1|0;c[c[g+8|0]+ua|0]=Lb;var Ab=c[a+48|0]>>>24&255,wb=g+20|0,Fb=c[wb];c[wb]=Fb+1|0;c[c[g+8|0]+Fb|0]=Ab;var Pb=c[a+8|0]&255,$b=g+20|0,Gb=c[$b];c[$b]=Gb+1|0;c[c[g+8|0]+Gb|0]=Pb;var Sb=c[a+8|0]>>>8&255,Ub=g+20|0,Nb=c[Ub];c[Ub]=Nb+1|0;c[c[g+8|0]+Nb|0]=Sb;var Zb=c[a+8|0]>>>16&255,Tb=g+20|0,Vb=c[Tb];c[Tb]=Vb+1|0;c[c[g+8|0]+Vb|0]=Zb;var ac=c[a+8|0]>>>24&255,Xb=g+20|0,Yb=c[Xb];c[Xb]=Yb+1|0;c[c[g+8|0]+Yb|0]=ac}else D(g,c[a+48|0]>>>16),D(g,c[a+48|
0]&65535);I(a);0<(c[g+24|0]|0)&&(c[g+24|0]=-c[g+24|0]|0);f=0!=(c[g+20|0]|0)?0:1;d=140;break a}while(0);f=0;d=140;break a}while(0);c[a+24|0]=ca.__str455|0;f=-2;d=140}while(0);3==d&&(f=-2);return f}function D(a,b){var d=a+20|0,f=c[d];c[d]=f+1|0;c[c[a+8|0]+f|0]=b>>>8&255;d=a+20|0;f=c[d];c[d]=f+1|0;c[c[a+8|0]+f|0]=b&255}function I(a){var b,d=b=c[c[a+28|0]+20|0];d>>>0>c[a+16|0]>>>0&&(b=d=c[a+16|0]);if(0!=(d|0)){for(var d=c[c[a+28|0]+16|0],f=c[a+12|0],e=d+b;d<e;d++,f++)c[f]=c[d];d=a+12|0;c[d]=c[d]+b|0;
d=c[a+28|0]+16|0;c[d]=c[d]+b|0;d=a+20|0;c[d]=c[d]+b|0;d=a+16|0;c[d]=c[d]-b|0;d=c[a+28|0]+20|0;c[d]=c[d]-b|0;0==(c[c[a+28|0]+20|0]|0)&&(c[c[a+28|0]+16|0]=c[c[a+28|0]+8|0])}}function E(a,b){var d,f;a:for(;;){f=0==(c[a+116|0]|0);do if(f&&(H(a),0==(c[a+116|0]|0))){if(0==(b|0)){d=0;break a}W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,4==(b|0)&1);c[a+92|0]=c[a+108|0];I(c[a|0]);d=4==(b|0);if(0==(c[c[a|0]+16|0]|0)){d=d?2:0;break a}d=d?3:1;break a}while(0);c[a+96|0]=0;f=c[c[a+56|0]+
c[a+108|0]|0];c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=0;var e=a+5792|0,g=c[e];c[e]=g+1|0;c[c[a+5784|0]+g|0]=f;f=((f&255)<<2)+a+148|0;c[f]=c[f]+1&65535;f=(c[a+5792|0]|0)==(c[a+5788|0]-1|0)&1;e=a+116|0;c[e]=c[e]-1|0;e=a+108|0;c[e]=c[e]+1|0;if(0!=(f|0)&&(W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,0),c[a+92|0]=c[a+108|0],I(c[a|0]),0==(c[c[a|0]+16|0]|0))){d=0;break}}return d}function P(a,b){var d,f,e,g;a:for(;;){f=258>c[a+116|0]>>>0;do if(f){H(a);e=258>c[a+116|0]>>>0;do if(e&&0==(b|
0)){d=0;break a}while(0);if(0==(c[a+116|0]|0)){W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,4==(b|0)&1);c[a+92|0]=c[a+108|0];I(c[a|0]);d=4==(b|0);if(0==(c[c[a|0]+16|0]|0)){d=d?2:0;break a}d=d?3:1;break a}}while(0);c[a+96|0]=0;var h=3<=c[a+116|0]>>>0;do if(h&&!(0>=c[a+108|0]>>>0)&&(e=c[a+56|0]+c[a+108|0]-1|0,f=c[e]&255,e=g=e+1|0,(f|0)==(c[g]&255|0)&&(e=g=e+1|0,(f|0)==(c[g]&255|0)&&(e=g=e+1|0,(f|0)==(c[g]&255|0))))){for(g=c[a+56|0]+c[a+108|0]+258|0;;){var k=e+1|0;e=k;if((f|0)!=
(c[k]&255|0))break;e=k=e+1|0;if((f|0)!=(c[k]&255|0))break;e=k=e+1|0;if((f|0)!=(c[k]&255|0))break;e=k=e+1|0;if((f|0)!=(c[k]&255|0))break;e=k=e+1|0;if((f|0)!=(c[k]&255|0))break;e=k=e+1|0;if((f|0)!=(c[k]&255|0))break;e=k=e+1|0;if((f|0)!=(c[k]&255|0))break;e=k=e+1|0;if((f|0)!=(c[k]&255|0))break;if(e>>>0>=g>>>0)break}c[a+96|0]=-g+- -e+258|0;c[a+96|0]>>>0<=c[a+116|0]>>>0||(c[a+96|0]=c[a+116|0])}while(0);f=a;3<=c[a+96|0]>>>0?(e=c[f+96|0]-3&255,f=1,c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=f,h=a+5792|0,g=c[h],c[h]=
g+1|0,c[c[a+5784|0]+g|0]=e,f=f-1&65535,e=((c[ca.__length_code+(e&255)|0]&255)+257<<2)+a+148|0,c[e]=c[e]+1&65535,e=f&65535,f=((256>(f&65535|0)?c[ca.__dist_code+e|0]&255:c[(e>>7)+ca.__dist_code+256|0]&255)<<2)+a+2440|0,c[f]=c[f]+1&65535,f=(c[a+5792|0]|0)==(c[a+5788|0]-1|0)&1,e=a+116|0,c[e]=c[e]-c[a+96|0]|0,e=a+108|0,c[e]=c[e]+c[a+96|0]|0,c[a+96|0]=0):(f=c[c[a+56|0]+c[f+108|0]|0],c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=0,e=a+5792|0,h=c[e],c[e]=h+1|0,c[c[a+5784|0]+h|0]=f,f=((f&255)<<2)+a+148|0,c[f]=c[f]+1&
65535,f=(c[a+5792|0]|0)==(c[a+5788|0]-1|0)&1,e=a+116|0,c[e]=c[e]-1|0,e=a+108|0,c[e]=c[e]+1|0);if(0!=(f|0)&&(W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,0),c[a+92|0]=c[a+108|0],I(c[a|0]),0==(c[c[a|0]+16|0]|0))){d=0;break}}return d}function H(a){var b,d,f,e,g;for(g=c[a+44|0];;){e=-c[a+116|0]+c[a+60|0]+-c[a+108|0]|0;if(c[a+108|0]>>>0>=(g-262+c[a+44|0]|0)>>>0){d=c[a+56|0]+g|0;b=c[a+56|0];for(f=d+g;d<f;d++,b++)c[b]=c[d];b=a+112|0;c[b]=c[b]-g|0;b=a+108|0;c[b]=c[b]-g|0;b=a+92|0;c[b]=
c[b]-g|0;b=c[a+76|0];for(f=(b<<1)+c[a+68|0]|0;f=d=f-2|0,d=c[d]&65535,c[f]=(d>>>0>=g>>>0?d-g|0:0)&65535,b=d=b-1|0,0!=(d|0););b=g;for(f=(b<<1)+c[a+64|0]|0;f=d=f-2|0,d=c[d]&65535,c[f]=(d>>>0>=g>>>0?d-g|0:0)&65535,b=d=b-1|0,0!=(d|0););e=e+g|0}if(0==(c[c[a|0]+4|0]|0))break;b=M(c[a|0],c[a+56|0]+c[a+108|0]+c[a+116|0]|0,e);e=a+116|0;c[e]=c[e]+b|0;3<=c[a+116|0]>>>0&&(c[a+72|0]=c[c[a+56|0]+c[a+108|0]|0]&255,c[a+72|0]=(c[c[a+56|0]+c[a+108|0]+1|0]&255^c[a+72|0]<<c[a+88|0])&c[a+84|0]);if(!(262>c[a+116|0]>>>0&&
0!=(c[c[a|0]+4|0]|0))){if(c[a+5824|0]>>>0>=c[a+60|0]>>>0)break;e=c[a+116|0]+c[a+108|0]|0;g=a;if(c[a+5824|0]>>>0<e>>>0){g=c[g+60|0]-e|0;258<g>>>0&&(g=258);f=g;b=c[a+56|0]+e|0;for(f=b+f;b<f;b++)c[b]=0;c[a+5824|0]=g+e|0;break}if(c[g+5824|0]>>>0>=(e+258|0)>>>0)break;g=e+-c[a+5824|0]+258|0;g>>>0>(c[a+60|0]-c[a+5824|0]|0)>>>0&&(g=c[a+60|0]-c[a+5824|0]|0);e=g;b=c[a+56|0]+c[a+5824|0]|0;for(f=b+e;b<f;b++)c[b]=0;a=a+5824|0;c[a]=c[a]+g|0;break}}}function M(a,b,d){var f,e=f=c[a+4|0];e>>>0>d>>>0?f=d:d=e;if(0==
(d|0))f=0;else{d=a+4|0;c[d]=c[d]-f|0;1==(c[c[a+28|0]+24|0]|0)?(d=Ta(c[a+48|0],c[a|0],f),c[a+48|0]=d):2==(c[c[a+28|0]+24|0]|0)&&(d=xa(c[a+48|0],c[a|0],f),c[a+48|0]=d);d=c[a|0];for(e=d+f;d<e;d++,b++)c[b]=c[d];b=a|0;c[b]=c[b]+f|0;a=a+8|0;c[a]=c[a]+f|0}return f}function K(a,b){var d,f,e,g;e=65535;e>>>0>(c[a+12|0]-5|0)>>>0&&(e=c[a+12|0]-5|0);a:for(;;){d=1>=c[a+116|0]>>>0;do if(d){H(a);g=0==(c[a+116|0]|0);do if(g&&0==(b|0)){f=0;break a}while(0);if(0==(c[a+116|0]|0)){W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|
0]|0:0,c[a+108|0]-c[a+92|0]|0,4==(b|0)&1);c[a+92|0]=c[a+108|0];I(c[a|0]);f=4==(b|0);if(0==(c[c[a|0]+16|0]|0)){f=f?2:0;break a}f=f?3:1;break a}}while(0);d=a+108|0;c[d]=c[d]+c[a+116|0]|0;c[a+116|0]=0;g=e+c[a+92|0]|0;d=0==(c[a+108|0]|0)?9:c[a+108|0]>>>0>=g>>>0?9:13;do if(9==d&&(c[a+116|0]=c[a+108|0]-g|0,c[a+108|0]=g,W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,0),c[a+92|0]=c[a+108|0],I(c[a|0]),0==(c[c[a|0]+16|0]|0))){f=0;break a}while(0);if((c[a+108|0]-c[a+92|0]|0)>>>0>=(c[a+44|
0]-262|0)>>>0&&(W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,0),c[a+92|0]=c[a+108|0],I(c[a|0]),0==(c[c[a|0]+16|0]|0))){f=0;break}}return f}function N(a,b){var d,f,e,g;a:for(;;){f=262>c[a+116|0]>>>0;do if(f){H(a);var h=262>c[a+116|0]>>>0;do if(h&&0==(b|0)){d=0;break a}while(0);if(0==(c[a+116|0]|0)){W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,4==(b|0)&1);c[a+92|0]=c[a+108|0];I(c[a|0]);d=4==(b|0);if(0==(c[c[a|0]+16|0]|0)){d=d?2:0;break a}d=d?3:1;break a}}while(0);
3<=c[a+116|0]>>>0&&(c[a+72|0]=(c[c[a+56|0]+c[a+108|0]+2|0]&255^c[a+72|0]<<c[a+88|0])&c[a+84|0],f=c[(c[a+72|0]<<1)+c[a+68|0]|0],c[((c[a+52|0]&c[a+108|0])<<1)+c[a+64|0]|0]=f,f&=65535,c[(c[a+72|0]<<1)+c[a+68|0]|0]=c[a+108|0]&65535,0!=(f|0)&&(c[a+108|0]-f|0)>>>0<=(c[a+44|0]-262|0)>>>0&&(f=J(a,f),c[a+96|0]=f));f=3<=c[a+96|0]>>>0;h=a;b:do if(f){g=c[h+96|0]-3&255;e=c[a+108|0]-c[a+112|0]&65535;c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=e;var k=a+5792|0,l=c[k];c[k]=l+1|0;c[c[a+5784|0]+l|0]=g;e=e-1&65535;g=((c[ca.__length_code+
(g&255)|0]&255)+257<<2)+a+148|0;c[g]=c[g]+1&65535;g=e&65535;e=((256>(e&65535|0)?c[ca.__dist_code+g|0]&255:c[(g>>7)+ca.__dist_code+256|0]&255)<<2)+a+2440|0;c[e]=c[e]+1&65535;e=(c[a+5792|0]|0)==(c[a+5788|0]-1|0)&1;g=a+116|0;c[g]=c[g]-c[a+96|0]|0;g=c[a+96|0]>>>0<=c[a+128|0]>>>0;do if(g&&3<=c[a+116|0]>>>0){f=a+96|0;for(c[f]=c[f]-1|0;f=a+108|0,c[f]=c[f]+1|0,c[a+72|0]=(c[c[a+56|0]+c[a+108|0]+2|0]&255^c[a+72|0]<<c[a+88|0])&c[a+84|0],c[((c[a+52|0]&c[a+108|0])<<1)+c[a+64|0]|0]=c[(c[a+72|0]<<1)+c[a+68|0]|0],
c[(c[a+72|0]<<1)+c[a+68|0]|0]=c[a+108|0]&65535,f=a+96|0,h=c[f]-1|0,c[f]=h,0!=(h|0););f=a+108|0;c[f]=c[f]+1|0;break b}while(0);g=a+108|0;c[g]=c[g]+c[a+96|0]|0;c[a+96|0]=0;c[a+72|0]=c[c[a+56|0]+c[a+108|0]|0]&255;c[a+72|0]=(c[c[a+56|0]+c[a+108|0]+1|0]&255^c[a+72|0]<<c[a+88|0])&c[a+84|0]}else e=c[c[a+56|0]+c[h+108|0]|0],c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=0,g=a+5792|0,k=c[g],c[g]=k+1|0,c[c[a+5784|0]+k|0]=e,e=((e&255)<<2)+a+148|0,c[e]=c[e]+1&65535,e=(c[a+5792|0]|0)==(c[a+5788|0]-1|0)&1,g=a+116|0,c[g]=c[g]-
1|0,g=a+108|0,c[g]=c[g]+1|0;while(0);if(0!=(e|0)&&(W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,0),c[a+92|0]=c[a+108|0],I(c[a|0]),0==(c[c[a|0]+16|0]|0))){d=0;break}}return d}function L(a,b){var d,f,e,g;a:for(;;){f=262>c[a+116|0]>>>0;do if(f){H(a);e=262>c[a+116|0]>>>0;do if(e&&0==(b|0)){d=0;break a}while(0);if(0==(c[a+116|0]|0)){0!=(c[a+104|0]|0)&&(d=c[c[a+56|0]+(c[a+108|0]-1)|0],c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=0,f=a+5792|0,e=c[f],c[f]=e+1|0,c[c[a+5784|0]+e|0]=d,d=((d&255)<<
2)+a+148|0,c[d]=c[d]+1&65535,c[a+104|0]=0);W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,4==(b|0)&1);c[a+92|0]=c[a+108|0];I(c[a|0]);d=4==(b|0);if(0==(c[c[a|0]+16|0]|0)){d=d?2:0;break a}d=d?3:1;break a}}while(0);f=0;3<=c[a+116|0]>>>0&&(c[a+72|0]=(c[c[a+56|0]+c[a+108|0]+2|0]&255^c[a+72|0]<<c[a+88|0])&c[a+84|0],f=c[(c[a+72|0]<<1)+c[a+68|0]|0],c[((c[a+52|0]&c[a+108|0])<<1)+c[a+64|0]|0]=f,f&=65535,c[(c[a+72|0]<<1)+c[a+68|0]|0]=c[a+108|0]&65535);c[a+120|0]=c[a+96|0];c[a+100|0]=c[a+
112|0];c[a+96|0]=2;e=0!=(f|0);do if(e&&!(c[a+120|0]>>>0>=c[a+128|0]>>>0)&&(c[a+108|0]-f|0)>>>0<=(c[a+44|0]-262|0)>>>0&&(g=J(a,f),c[a+96|0]=g,5>=c[a+96|0]>>>0)){if(1!=(c[a+136|0]|0)){if(3!=(c[a+96|0]|0))break;if(4096>=(c[a+108|0]-c[a+112|0]|0)>>>0)break}c[a+96|0]=2}while(0);f=3<=c[a+120|0]>>>0;do if(f&&c[a+96|0]>>>0<=c[a+120|0]>>>0){f=c[a+108|0]-3+c[a+116|0]|0;g=c[a+120|0]-3&255;e=c[a+108|0]-1+-c[a+100|0]&65535;c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=e;var h=a+5792|0,k=c[h];c[h]=k+1|0;c[c[a+5784|0]+k|0]=
g;e=e-1&65535;g=((c[ca.__length_code+(g&255)|0]&255)+257<<2)+a+148|0;c[g]=c[g]+1&65535;g=e&65535;e=((256>(e&65535|0)?c[ca.__dist_code+g|0]&255:c[(g>>7)+ca.__dist_code+256|0]&255)<<2)+a+2440|0;c[e]=c[e]+1&65535;e=(c[a+5792|0]|0)==(c[a+5788|0]-1|0)&1;g=a+116|0;c[g]=-c[a+120|0]+c[g]+1|0;g=a+120|0;for(c[g]=c[g]-2|0;g=a+108|0,h=c[g]+1|0,c[g]=h,h>>>0<=f>>>0&&(c[a+72|0]=(c[c[a+56|0]+c[a+108|0]+2|0]&255^c[a+72|0]<<c[a+88|0])&c[a+84|0],c[((c[a+52|0]&c[a+108|0])<<1)+c[a+64|0]|0]=c[(c[a+72|0]<<1)+c[a+68|0]|
0],c[(c[a+72|0]<<1)+c[a+68|0]|0]=c[a+108|0]&65535),g=a+120|0,h=c[g]-1|0,c[g]=h,0!=(h|0););c[a+104|0]=0;c[a+96|0]=2;f=a+108|0;c[f]=c[f]+1|0;if(0==(e|0))continue a;W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,0);c[a+92|0]=c[a+108|0];I(c[a|0]);if(0!=(c[c[a|0]+16|0]|0))continue a;d=0;break a}while(0);f=a;if(0!=(c[a+104|0]|0)){f=c[c[a+56|0]+(c[f+108|0]-1)|0];c[(c[a+5792|0]<<1)+c[a+5796|0]|0]=0;e=a+5792|0;g=c[e];c[e]=g+1|0;c[c[a+5784|0]+g|0]=f;f=((f&255)<<2)+a+148|0;c[f]=c[f]+1&65535;
e=(c[a+5792|0]|0)==(c[a+5788|0]-1|0)&1;0!=(e|0)&&(W(a,0<=(c[a+92|0]|0)?c[a+56|0]+c[a+92|0]|0:0,c[a+108|0]-c[a+92|0]|0,0),c[a+92|0]=c[a+108|0],I(c[a|0]));f=a+108|0;c[f]=c[f]+1|0;f=a+116|0;c[f]=c[f]-1|0;if(0!=(c[c[a|0]+16|0]|0))continue;d=0;break}c[f+104|0]=1;f=a+108|0;c[f]=c[f]+1|0;f=a+116|0;c[f]=c[f]-1|0}return d}function J(a,b){var d,f,e,g,h,k,l,n,m,p,q,r,s;d=b;f=c[a+124|0];e=c[a+56|0]+c[a+108|0]|0;k=c[a+120|0];l=c[a+144|0];n=c[a+108|0]>>>0>(c[a+44|0]-262|0)>>>0?c[a+108|0]+-c[a+44|0]+262|0:0;m=c[a+
64|0];p=c[a+52|0];q=c[a+56|0]+c[a+108|0]+258|0;r=c[e+(k-1)|0];s=c[e+k|0];c[a+120|0]>>>0>=c[a+140|0]>>>0&&(f>>>=2);l>>>0>c[a+116|0]>>>0&&(l=c[a+116|0]);a:for(;;){g=c[a+56|0]+d|0;var t=(c[g+k|0]&255|0)!=(s&255|0);do if(!t&&(c[g+(k-1)|0]&255|0)==(r&255|0)&&(c[g]&255|0)==(c[e]&255|0)&&(g=h=g+1|0,(c[h]&255|0)==(c[e+1|0]&255|0))){e=e+2|0;for(g=g+1|0;;){e=h=e+1|0;h=c[h]&255;var u=g+1|0;g=u;if((h|0)!=(c[u]&255|0))break;e=h=e+1|0;h=c[h]&255;g=u=g+1|0;if((h|0)!=(c[u]&255|0))break;e=h=e+1|0;h=c[h]&255;g=u=g+
1|0;if((h|0)!=(c[u]&255|0))break;e=h=e+1|0;h=c[h]&255;g=u=g+1|0;if((h|0)!=(c[u]&255|0))break;e=h=e+1|0;h=c[h]&255;g=u=g+1|0;if((h|0)!=(c[u]&255|0))break;e=h=e+1|0;h=c[h]&255;g=u=g+1|0;if((h|0)!=(c[u]&255|0))break;e=h=e+1|0;h=c[h]&255;g=u=g+1|0;if((h|0)!=(c[u]&255|0))break;e=h=e+1|0;h=c[h]&255;g=u=g+1|0;if((h|0)!=(c[u]&255|0))break;if(e>>>0>=q>>>0)break}h=-q+- -e+258|0;e=q-258|0;if(!((h|0)<=(k|0))){c[a+112|0]=d;k=h;if((h|0)>=(l|0))break a;r=c[e+(k-1)|0];s=c[e+k|0]}}while(0);d=g=c[((p&d)<<1)+m|0]&65535;
if(g>>>0<=n>>>0)break;f=g=f-1|0;if(0==(g|0))break}return k>>>0<=c[a+116|0]>>>0?k:c[a+116|0]}function Q(a){var b;0==(a|0)?a=2:0==(c[a+28|0]|0)?a=2:(b=c[a+28|0],c[b+28|0]=0,c[a+20|0]=0,c[a+8|0]=0,c[a+24|0]=0,c[a+48|0]=1,c[b|0]=0,c[b+4|0]=0,c[b+12|0]=0,c[b+20|0]=32768,c[b+32|0]=0,c[b+40|0]=0,c[b+44|0]=0,c[b+48|0]=0,c[b+56|0]=0,c[b+60|0]=0,a=b+1328|0,c[b+108|0]=a,c[b+80|0]=a,c[b+76|0]=a,c[b+7104|0]=1,c[b+7108|0]=-1,b=0,a=4);2==a&&(b=-2);return b}function O(a,b){var d,f,e,g;e=b;var h=0==(a|0);a:do if(h)d=
2;else if(0==(c[a+28|0]|0))d=2;else{g=c[a+28|0];if(0>(e|0)){f=0;var k=e=-e|0;d=7}else f=(e>>4)+1|0,48<=(e|0)?d=8:(k=e=d=e&15,d=7);7==d&&(d=0!=(k|0)?8:10);do if(8==d&&8>(e|0)|15<(e|0)){f=-2;d=14;break a}while(0);0!=(c[g+52|0]|0)&&(c[g+36|0]|0)!=(e|0)&&(Aa[c[a+36|0]](c[a+40|0],c[g+52|0]),c[g+52|0]=0);c[g+8|0]=f;c[g+36|0]=e;f=Q(a);d=14}while(0);2==d&&(f=-2);return f}function T(a,b,d){var f;0==(b|0)?a=3:49!=(c[b|0]<<24>>24|0)?a=3:56!=(d|0)?a=3:(0==(a|0)?f=-2:(c[a+24|0]=0,0==(c[a+32|0]|0)&&(c[a+32|0]=
2,c[a+40|0]=0),0==(c[a+36|0]|0)&&(c[a+36|0]=4),b=Aa[c[a+32|0]](c[a+40|0],1,7116),0==(b|0)?f=-4:(c[a+28|0]=b,c[b+52|0]=0,f=O(a,15),0!=(f|0)&&(Aa[c[a+36|0]](c[a+40|0],b),c[a+28|0]=0))),a=15);3==a&&(f=-6);return f}function ea(a){var b=ya;ya+=12;var d,f,e,g,h,k,l,n,m,p,q,r,s,t=b+4,u,v,w=b+8,z=0==(a|0);a:do if(z)d=5;else if(0==(c[a+28|0]|0))d=5;else if(0==(c[a+12|0]|0))d=5;else if(0==(c[a|0]|0)&&0!=(c[a+4|0]|0))d=5;else{e=c[a+28|0];11==(c[e|0]|0)&&(c[e|0]=12);h=c[a+12|0];l=c[a+16|0];g=c[a|0];k=c[a+4|0];
n=c[e+56|0];m=c[e+60|0];p=k;q=l;v=0;var A=w|0,C=w+1|0,D=w|0,E=w|0,G=w+1|0,F=w|0,H=w|0,I=w+1|0,J=w+2|0,K=w+3|0,L=w|0,N=w|0,M=w+1|0,O=w|0,P=w|0,Q=w+1|0,R=w|0,S=b,T=b+1|0,V=b|0,U=b|0,W=t,X=b,Y=t+2|0,ba=t+1|0,da=t|0,ea=t+1|0,fa=b,ha=t+1|0,aa=b+1|0,ja=t+1|0,ia=t+1|0,ka=t+1|0,la=b+1|0,ma=b+1|0,na=b+1|0,oa=b+2|0,qa=b|0,ta=b|0,ra=b|0,va=b|0,sa=b,Ca=b+1|0,za=b+2|0,Aa=b+2|0,Ba=b+2|0,Ea=b+1|0,Ja=b+1|0,kb=b+1|0,Ia=b+1|0,Ka=b+1|0,Ma=b+1|0,Na=b+1|0,Oa=b+1|0,Va=b+1|0,Qa=b+1|0,Za=b+1|0,bb=b+1|0,db=b+2|0,Wa=b,cb=
b+1|0,gb=b|0,Xa=t,$a=b,eb=t+2|0,hb=t+1|0,ob=t|0,pb=t+1|0,jb=b,rb=t+1|0,mb=b+1|0,fb=t+1|0,jc=t+1|0,nb=t+1|0,Pa=b+1|0,Jb=b+1|0,qb=b+1|0,oc=b|0,lb=b+2|0,Db=b|0;b:for(;;){var Fa=c[e|0];c:do if(0==Fa){if(0==(c[e+8|0]|0)){c[e|0]=12;continue b}for(var pa=m;!(16<=pa>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Rb=g;g=Rb+1|0;n=((c[Rb]&255)<<m)+n|0;pa=m=m+8|0}var gc=0!=(c[e+8|0]&2|0);do if(gc&&35615==(n|0)){var sb=xa(0,0,0);c[e+24|0]=sb;c[A]=n&255;c[C]=n>>>8&255;var vb=xa(c[e+24|0],D,2);c[e+24|0]=vb;m=n=0;
c[e|0]=1;continue b}while(0);c[e+16|0]=0;0!=(c[e+32|0]|0)&&(c[c[e+32|0]+48|0]=-1);var Eb=0!=(c[e+8|0]&1|0);do if(Eb&&0==(((((n&255)<<8)+(n>>>8)|0)>>>0)%31|0)){if(8!=(n&15|0)){c[a+24|0]=ca.__str216|0;c[e|0]=29;continue b}n>>>=4;m=m-4|0;u=(n&15)+8|0;var Bb=0==(c[e+36|0]|0),wb=u,Wb=e+36|0;do{if(!Bb){if(wb>>>0<=c[Wb]>>>0)break;c[a+24|0]=ca.__str317|0;c[e|0]=29;continue b}c[Wb]=wb}while(0);c[e+20|0]=1<<u;var bc=Ta(0,0,0);c[e+24|0]=bc;c[a+48|0]=bc;c[e|0]=0!=(n&512|0)?9:11;m=n=0;continue b}while(0);c[a+
24|0]=ca.__str115|0;c[e|0]=29;continue b}else if(1==Fa){for(var Ab=m;!(16<=Ab>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Fb=g;g=Fb+1|0;n=((c[Fb]&255)<<m)+n|0;Ab=m=m+8|0}c[e+16|0]=n;if(8!=(c[e+16|0]&255|0)){c[a+24|0]=ca.__str216|0;c[e|0]=29;continue b}if(0!=(c[e+16|0]&57344|0)){c[a+24|0]=ca.__str418|0;c[e|0]=29;continue b}0!=(c[e+32|0]|0)&&(c[c[e+32|0]|0]=n>>>8&1);if(0!=(c[e+16|0]&512|0)){c[E]=n&255;c[G]=n>>>8&255;var cc=xa(c[e+24|0],F,2);c[e+24|0]=cc}m=n=0;c[e|0]=2;d=44}else if(2==Fa)d=44;else if(3==
Fa)d=53;else if(4==Fa)d=62;else if(5==Fa)d=75;else if(6==Fa)d=90;else if(7==Fa)d=106;else if(8==Fa)d=122;else if(9==Fa){for(var Hb=m;!(32<=Hb>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var hc=g;g=hc+1|0;n=((c[hc]&255)<<m)+n|0;Hb=m=m+8|0}var Ga=((n&65280)<<8)+((n&255)<<24)+(n>>>8&65280)+(n>>>24&255)|0;c[e+24|0]=Ga;c[a+48|0]=Ga;m=n=0;c[e|0]=10;d=138}else if(10==Fa)d=138;else if(11==Fa)d=141;else if(12==Fa)d=142;else if(13==Fa){n>>>=(m&7)>>>0;for(var Lb=m=m-(m&7)|0;!(32<=Lb>>>0);){if(0==(k|0)){d=322;
break b}k=k-1|0;var ab=g;g=ab+1|0;n=((c[ab]&255)<<m)+n|0;Lb=m=m+8|0}if((n&65535|0)!=(n>>>16^65535|0)){c[a+24|0]=ca.__str721|0;c[e|0]=29;continue b}c[e+64|0]=n&65535;m=n=0;c[e|0]=14;d=161}else if(14==Fa)d=161;else if(15==Fa)d=162;else if(16==Fa){for(var ua=m;!(14<=ua>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Gb=g;g=Gb+1|0;n=((c[Gb]&255)<<m)+n|0;ua=m=m+8|0}c[e+96|0]=(n&31)+257|0;n>>>=5;m=m-5|0;c[e+100|0]=(n&31)+1|0;n>>>=5;m=m-5|0;c[e+92|0]=(n&15)+4|0;n>>>=4;m=m-4|0;var Pb=286<c[e+96|0]>>>0;do if(!(Pb||
30<c[e+100|0]>>>0)){c[e+104|0]=0;c[e|0]=17;d=178;break c}while(0);c[a+24|0]=ca.__str822|0;c[e|0]=29;continue b}else if(17==Fa)d=178;else if(18==Fa)d=189;else if(19==Fa)d=226;else if(20==Fa)d=227;else if(21==Fa)d=249;else if(22==Fa)d=255;else if(23==Fa)d=267;else if(24==Fa)d=273;else if(25==Fa){if(0==(l|0)){d=322;break b}var Ub=c[e+64|0]&255,Ib=h;h=Ib+1|0;c[Ib]=Ub;l=l-1|0;c[e|0]=20;continue b}else if(26==Fa){if(0!=(c[e+8|0]|0)){for(var Nb=m;!(32<=Nb>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Sb=
g;g=Sb+1|0;n=((c[Sb]&255)<<m)+n|0;Nb=m=m+8|0}q=q-l|0;var Tb=a+20|0;c[Tb]=c[Tb]+q|0;var Vb=e+28|0;c[Vb]=c[Vb]+q|0;if(0!=(q|0)){var Xb=c[e+24|0],Yb=h+-q|0,Zb=q,ac=0!=(c[e+16|0]|0)?xa(Xb,Yb,Zb):Ta(Xb,Yb,Zb);c[e+24|0]=ac;c[a+48|0]=ac}q=l;var ic=n;if(((0!=(c[e+16|0]|0)?ic:((n&65280)<<8)+((n&255)<<24)+(n>>>8&65280)+(ic>>>24&255)|0)|0)!=(c[e+24|0]|0)){c[a+24|0]=ca.__str17|0;c[e|0]=29;continue b}m=n=0}c[e|0]=27;d=308}else if(27==Fa)d=308;else if(28==Fa){d=318;break b}else if(29==Fa){v=-3;d=322;break b}else{f=
30==Fa?-4:-2;d=341;break a}while(0);do if(44==d){for(var kc=m;!(32<=kc>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var nc=g;g=nc+1|0;n=((c[nc]&255)<<m)+n|0;kc=m=m+8|0}0!=(c[e+32|0]|0)&&(c[c[e+32|0]+4|0]=n);if(0!=(c[e+16|0]&512|0)){c[H]=n&255;c[I]=n>>>8&255;c[J]=n>>>16&255;c[K]=n>>>24&255;var xc=xa(c[e+24|0],L,4);c[e+24|0]=xc}m=n=0;c[e|0]=3;d=53}else if(138==d){if(0==(c[e+12|0]|0)){c[a+12|0]=h;c[a+16|0]=l;c[a|0]=g;c[a+4|0]=k;c[e+56|0]=n;c[e+60|0]=m;f=2;d=341;break a}var rc=Ta(0,0,0);c[e+24|0]=rc;c[a+
48|0]=rc;c[e|0]=11;d=141}else if(161==d)c[e|0]=15,d=162;else if(178==d){for(;!(c[e+104|0]>>>0>=c[e+92|0]>>>0);){for(var sc=m;!(3<=sc>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var tc=g;g=tc+1|0;n=((c[tc]&255)<<m)+n|0;sc=m=m+8|0}var uc=e+104|0,wc=c[uc];c[uc]=wc+1|0;c[((c[(wc<<1)+Oc|0]&65535)<<1)+e+112|0]=n&7;n>>>=3;m=m-3|0}var Cc=19>c[e+104|0]>>>0,yc=e;c:do if(Cc)for(var zc=yc;;){var Ac=zc+104|0,Dc=c[Ac];c[Ac]=Dc+1|0;c[((c[(Dc<<1)+Oc|0]&65535)<<1)+e+112|0]=0;var Ec=e;if(19<=c[e+104|0]>>>0){var Fc=Ec;
break c}zc=Ec}else Fc=yc;while(0);c[e+108|0]=Fc+1328|0;c[e+76|0]=c[e+108|0];c[e+84|0]=7;var Gc=Da(0,e+112|0,19,e+108|0,e+84|0,e+752|0);v=Gc;if(0!=(Gc|0)){c[a+24|0]=ca.__str923|0;c[e|0]=29;continue b}c[e+104|0]=0;c[e|0]=18;d=189}else if(308==d){if(0==(c[e+8|0]|0)){d=317;break b}if(0==(c[e+16|0]|0)){d=317;break b}for(var Hc=m;!(32<=Hc>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Ic=g;g=Ic+1|0;n=((c[Ic]&255)<<m)+n|0;Hc=m=m+8|0}if((n|0)!=(c[e+28|0]|0)){c[a+24|0]=ca.__str18|0;c[e|0]=29;continue b}m=n=
0;d=317;break b}while(0);do if(53==d){for(var Kc=m;!(16<=Kc>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Lc=g;g=Lc+1|0;n=((c[Lc]&255)<<m)+n|0;Kc=m=m+8|0}0!=(c[e+32|0]|0)&&(c[c[e+32|0]+8|0]=n&255,c[c[e+32|0]+12|0]=n>>>8);if(0!=(c[e+16|0]&512|0)){c[N]=n&255;c[M]=n>>>8&255;var Qc=xa(c[e+24|0],O,2);c[e+24|0]=Qc}m=n=0;c[e|0]=4;d=62}else if(141==d)d=142;else if(162==d){var Nc=c[e+64|0];r=Nc;if(0!=(Nc|0)){r>>>0>k>>>0&&(r=k);var vd=r;if(0==((vd>>>0>l>>>0?r=l:vd)|0)){d=322;break b}for(var Bc=g,Wc=h,od=Bc+
r;Bc<od;Bc++,Wc++)c[Wc]=c[Bc];k=k-r|0;g=g+r|0;l=l-r|0;h=h+r|0;var wd=e+64|0;c[wd]=c[wd]-r|0;continue b}c[e|0]=11;continue b}else if(189==d){c:for(;!(c[e+104|0]>>>0>=(c[e+100|0]+c[e+96|0]|0)>>>0);){for(;;){var gd=(((1<<c[e+84|0])-1&n)<<2)+c[e+76|0]|0;c[sa]=c[gd];c[sa+1]=c[gd+1];c[sa+2]=c[gd+2];c[sa+3]=c[gd+3];if((c[Ca]&255)>>>0<=m>>>0)break;if(0==(k|0)){d=322;break b}k=k-1|0;var xd=g;g=xd+1|0;n=((c[xd]&255)<<m)+n|0;m=m+8|0}if(16>(c[za]&65535|0)){for(;!(m>>>0>=(c[Qa]&255)>>>0);){if(0==(k|0)){d=322;
break b}k=k-1|0;var yd=g;g=yd+1|0;n=((c[yd]&255)<<m)+n|0;m=m+8|0}n>>>=(c[Za]&255)>>>0;m=m-(c[bb]&255)|0;var Ge=c[db],zd=e+104|0,Ad=c[zd];c[zd]=Ad+1|0;c[(Ad<<1)+e+112|0]=Ge}else{if(16==(c[Aa]&65535|0)){for(;!(m>>>0>=((c[Na]&255)+2|0)>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Bd=g;g=Bd+1|0;n=((c[Bd]&255)<<m)+n|0;m=m+8|0}n>>>=(c[Oa]&255)>>>0;m=m-(c[Va]&255)|0;if(0==(c[e+104|0]|0)){c[a+24|0]=ca.__str1024|0;c[e|0]=29;break}u=c[(c[e+104|0]-1<<1)+e+112|0]&65535;r=(n&3)+3|0;n>>>=2;m=m-2|0}else if(17==
(c[Ba]&65535|0)){for(;!(m>>>0>=((c[Ea]&255)+3|0)>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Cd=g;g=Cd+1|0;n=((c[Cd]&255)<<m)+n|0;m=m+8|0}n>>>=(c[Ja]&255)>>>0;m=m-(c[kb]&255)|0;u=0;r=(n&7)+3|0;n>>>=3;m=m-3|0}else{for(;!(m>>>0>=((c[Ia]&255)+7|0)>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Dd=g;g=Dd+1|0;n=((c[Dd]&255)<<m)+n|0;m=m+8|0}n>>>=(c[Ka]&255)>>>0;m=m-(c[Ma]&255)|0;u=0;r=(n&127)+11|0;n>>>=7;m=m-7|0}if((r+c[e+104|0]|0)>>>0>(c[e+100|0]+c[e+96|0]|0)>>>0){c[a+24|0]=ca.__str1024|0;c[e|0]=29;break}var Ed=
r;r=Ed-1|0;if(0!=(Ed|0))for(;;){var Fd=e+104|0,Gd=c[Fd];c[Fd]=Gd+1|0;c[(Gd<<1)+e+112|0]=u&65535;var Hd=r;r=Hd-1|0;if(0==(Hd|0))continue c}}}if(29==(c[e|0]|0))continue b;if(0==(c[e+624|0]&65535|0)){c[a+24|0]=ca.__str1125|0;c[e|0]=29;continue b}c[e+108|0]=e+1328|0;c[e+76|0]=c[e+108|0];c[e+84|0]=9;v=Da(1,e+112|0,c[e+96|0],e+108|0,e+84|0,e+752|0);if(0!=(v|0)){c[a+24|0]=ca.__str1226|0;c[e|0]=29;continue b}c[e+80|0]=c[e+108|0];c[e+88|0]=6;v=Da(2,(c[e+96|0]<<1)+e+112|0,c[e+100|0],e+108|0,e+88|0,e+752|0);
if(0!=(v|0)){c[a+24|0]=ca.__str1327|0;c[e|0]=29;continue b}c[e|0]=19;d=226}while(0);do if(62==d){var He=0!=(c[e+16|0]&1024|0);do if(He){for(var Id=m;!(16<=Id>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Jd=g;g=Jd+1|0;n=((c[Jd]&255)<<m)+n|0;Id=m=m+8|0}c[e+64|0]=n;0!=(c[e+32|0]|0)&&(c[c[e+32|0]+20|0]=n);if(0!=(c[e+16|0]&512|0)){c[P]=n&255;c[Q]=n>>>8&255;var Ie=xa(c[e+24|0],R,2);c[e+24|0]=Ie}m=n=0}else 0!=(c[e+32|0]|0)&&(c[c[e+32|0]+16|0]=0);while(0);c[e|0]=5;d=75}else if(142==d){var Kd=m;if(0!=(c[e+
4|0]|0)){n>>>=(Kd&7)>>>0;m=m-(m&7)|0;c[e|0]=26;continue b}for(var Ld=Kd;!(3<=Ld>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Md=g;g=Md+1|0;n=((c[Md]&255)<<m)+n|0;Ld=m=m+8|0}c[e+4|0]=n&1;n>>>=1;m=m-1|0;var hd=n&3;if(0==hd)c[e|0]=13;else if(1==hd){var id=e;c[id+76|0]=$b|0;c[id+84|0]=9;c[id+80|0]=Pc|0;c[id+88|0]=5;c[e|0]=19}else 2==hd?c[e|0]=16:3==hd&&(c[a+24|0]=ca.__str620|0,c[e|0]=29);n>>>=2;m=m-2|0;continue b}else 226==d&&(c[e|0]=20,d=227);while(0);do if(75==d){if(0!=(c[e+16|0]&1024|0)){var Nd=r=
c[e+64|0];if(0!=((Nd>>>0>k>>>0?r=k:Nd)|0)){if(0!=(c[e+32|0]|0)&&0!=(c[c[e+32|0]+16|0]|0)){u=c[c[e+32|0]+20|0]-c[e+64|0]|0;for(var Je=c[c[e+32|0]+16|0]+u|0,Ke=(r+u|0)>>>0>c[c[e+32|0]+24|0]>>>0?c[c[e+32|0]+24|0]-u|0:r,Bc=g,Wc=Je,od=Bc+Ke;Bc<od;Bc++,Wc++)c[Wc]=c[Bc]}if(0!=(c[e+16|0]&512|0)){var Le=xa(c[e+24|0],g,r);c[e+24|0]=Le}k=k-r|0;g=g+r|0;var Od=e+64|0;c[Od]=c[Od]-r|0}if(0!=(c[e+64|0]|0)){d=322;break b}}c[e+64|0]=0;c[e|0]=6;d=90}else if(227==d){var Me=6<=k>>>0;do if(Me&&258<=l>>>0){c[a+12|0]=h;
c[a+16|0]=l;c[a|0]=g;c[a+4|0]=k;c[e+56|0]=n;c[e+60|0]=m;Sa(a,q);h=c[a+12|0];l=c[a+16|0];g=c[a|0];k=c[a+4|0];n=c[e+56|0];m=c[e+60|0];if(11!=(c[e|0]|0))continue b;c[e+7108|0]=-1;continue b}while(0);for(c[e+7108|0]=0;;){var jd=(((1<<c[e+84|0])-1&n)<<2)+c[e+76|0]|0;c[S]=c[jd];c[S+1]=c[jd+1];c[S+2]=c[jd+2];c[S+3]=c[jd+3];if((c[T]&255)>>>0<=m>>>0)break;if(0==(k|0)){d=322;break b}k=k-1|0;var Pd=g;g=Pd+1|0;n=((c[Pd]&255)<<m)+n|0;m=m+8|0}var Ne=0!=(c[V]&255|0);do if(Ne&&0==(c[U]&240|0)){c[W]=c[X];c[W+1]=c[X+
1];c[W+2]=c[X+2];for(c[W+3]=c[X+3];;){var kd=((((1<<(c[da]&255)+(c[ba]&255))-1&n)>>>((c[ea]&255)>>>0))+(c[Y]&65535)<<2)+c[e+76|0]|0;c[fa]=c[kd];c[fa+1]=c[kd+1];c[fa+2]=c[kd+2];c[fa+3]=c[kd+3];if(((c[aa]&255)+(c[ha]&255)|0)>>>0<=m>>>0)break;if(0==(k|0)){d=322;break b}k=k-1|0;var Qd=g;g=Qd+1|0;n=((c[Qd]&255)<<m)+n|0;m=m+8|0}n>>>=(c[ja]&255)>>>0;m=m-(c[ia]&255)|0;var Rd=e+7108|0;c[Rd]=c[Rd]+(c[ka]&255)|0}while(0);n>>>=(c[la]&255)>>>0;m=m-(c[ma]&255)|0;var Sd=e+7108|0;c[Sd]=c[Sd]+(c[na]&255)|0;c[e+64|
0]=c[oa]&65535;if(0==(c[qa]&255|0)){c[e|0]=25;continue b}if(0!=(c[ta]&32|0)){c[e+7108|0]=-1;c[e|0]=11;continue b}if(0!=(c[ra]&64|0)){c[a+24|0]=ca.__str271|0;c[e|0]=29;continue b}c[e+72|0]=c[va]&15;c[e|0]=21;d=249}while(0);do if(90==d){var Oe=0!=(c[e+16|0]&2048|0);do if(Oe){if(0==(k|0)){d=322;break b}for(r=0;;){var Td=r;r=Td+1|0;var Ud=c[g+Td|0]&255;u=Ud;if(0!=(c[e+32|0]|0)){if(0!=(c[c[e+32|0]+28|0]|0)&&!(c[e+64|0]>>>0>=c[c[e+32|0]+32|0]>>>0)){var Vd=e+64|0,Wd=c[Vd];c[Vd]=Wd+1|0;c[c[c[e+32|0]+28|0]+
Wd|0]=u&255}var Xd=u}else Xd=Ud;if(0==(Xd|0))break;if(r>>>0>=k>>>0)break}if(0!=(c[e+16|0]&512|0)){var Pe=xa(c[e+24|0],g,r);c[e+24|0]=Pe}k=k-r|0;g=g+r|0;if(0!=(u|0)){d=322;break b}}else 0!=(c[e+32|0]|0)&&(c[c[e+32|0]+28|0]=0);while(0);c[e+64|0]=0;c[e|0]=7;d=106}else if(249==d){if(0!=(c[e+72|0]|0)){for(;!(m>>>0>=c[e+72|0]>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var Yd=g;g=Yd+1|0;n=((c[Yd]&255)<<m)+n|0;m=m+8|0}var Zd=e+64|0;c[Zd]=((1<<c[e+72|0])-1&n)+c[Zd]|0;n>>>=c[e+72|0]>>>0;m=m-c[e+72|0]|0;var $d=
e+7108|0;c[$d]=c[$d]+c[e+72|0]|0}c[e+7112|0]=c[e+64|0];c[e|0]=22;d=255}while(0);do if(106==d){var Qe=0!=(c[e+16|0]&4096|0);do if(Qe){if(0==(k|0)){d=322;break b}for(r=0;;){var ae=r;r=ae+1|0;var be=c[g+ae|0]&255;u=be;if(0!=(c[e+32|0]|0)){if(0!=(c[c[e+32|0]+36|0]|0)&&!(c[e+64|0]>>>0>=c[c[e+32|0]+40|0]>>>0)){var ce=e+64|0,de=c[ce];c[ce]=de+1|0;c[c[c[e+32|0]+36|0]+de|0]=u&255}var ee=u}else ee=be;if(0==(ee|0))break;if(r>>>0>=k>>>0)break}if(0!=(c[e+16|0]&512|0)){var Re=xa(c[e+24|0],g,r);c[e+24|0]=Re}k=k-
r|0;g=g+r|0;if(0!=(u|0)){d=322;break b}}else 0!=(c[e+32|0]|0)&&(c[c[e+32|0]+36|0]=0);while(0);c[e|0]=8;d=122}else if(255==d){for(;;){var ld=(((1<<c[e+88|0])-1&n)<<2)+c[e+80|0]|0;c[Wa]=c[ld];c[Wa+1]=c[ld+1];c[Wa+2]=c[ld+2];c[Wa+3]=c[ld+3];if((c[cb]&255)>>>0<=m>>>0)break;if(0==(k|0)){d=322;break b}k=k-1|0;var fe=g;g=fe+1|0;n=((c[fe]&255)<<m)+n|0;m=m+8|0}if(0==(c[gb]&240|0)){c[Xa]=c[$a];c[Xa+1]=c[$a+1];c[Xa+2]=c[$a+2];for(c[Xa+3]=c[$a+3];;){var md=((((1<<(c[ob]&255)+(c[hb]&255))-1&n)>>>((c[pb]&255)>>>
0))+(c[eb]&65535)<<2)+c[e+80|0]|0;c[jb]=c[md];c[jb+1]=c[md+1];c[jb+2]=c[md+2];c[jb+3]=c[md+3];if(((c[mb]&255)+(c[rb]&255)|0)>>>0<=m>>>0)break;if(0==(k|0)){d=322;break b}k=k-1|0;var ge=g;g=ge+1|0;n=((c[ge]&255)<<m)+n|0;m=m+8|0}n>>>=(c[fb]&255)>>>0;m=m-(c[jc]&255)|0;var he=e+7108|0;c[he]=c[he]+(c[nb]&255)|0}n>>>=(c[Pa]&255)>>>0;m=m-(c[Jb]&255)|0;var ie=e+7108|0;c[ie]=c[ie]+(c[qb]&255)|0;if(0!=(c[oc]&64|0)){c[a+24|0]=ca.__str170|0;c[e|0]=29;continue b}c[e+68|0]=c[lb]&65535;c[e+72|0]=c[Db]&15;c[e|0]=
23;d=267}while(0);if(122==d){if(0!=(c[e+16|0]&512|0)){for(var je=m;!(16<=je>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var ke=g;g=ke+1|0;n=((c[ke]&255)<<m)+n|0;je=m=m+8|0}if((n|0)!=(c[e+24|0]&65535|0)){c[a+24|0]=ca.__str519|0;c[e|0]=29;continue}m=n=0}0!=(c[e+32|0]|0)&&(c[c[e+32|0]+44|0]=c[e+16|0]>>9&1,c[c[e+32|0]+48|0]=1);var le=xa(0,0,0);c[e+24|0]=le;c[a+48|0]=le;c[e|0]=11}else{if(267==d){if(0!=(c[e+72|0]|0)){for(;!(m>>>0>=c[e+72|0]>>>0);){if(0==(k|0)){d=322;break b}k=k-1|0;var me=g;g=me+1|0;n=((c[me]&
255)<<m)+n|0;m=m+8|0}var ne=e+68|0;c[ne]=((1<<c[e+72|0])-1&n)+c[ne]|0;n>>>=c[e+72|0]>>>0;m=m-c[e+72|0]|0;var oe=e+7108|0;c[oe]=c[oe]+c[e+72|0]|0}c[e|0]=24}if(0==(l|0)){d=322;break}r=q-l|0;var Se=c[e+68|0]>>>0>r>>>0;do{if(Se){r=c[e+68|0]-r|0;var Te=r>>>0>c[e+44|0]>>>0;do if(Te&&0!=(c[e+7104|0]|0)){c[a+24|0]=ca.__str69|0;c[e|0]=29;continue b}while(0);var pe=e;r>>>0>c[e+48|0]>>>0?(r=r-c[pe+48|0]|0,s=c[e+52|0]+(c[e+40|0]-r)|0):s=c[pe+52|0]+(c[e+48|0]-r)|0;if(r>>>0<=c[e+64|0]>>>0)break}else s=h+-c[e+68|
0]|0;r=c[e+64|0]}while(0);r>>>0>l>>>0&&(r=l);l=l-r|0;var qe=e+64|0;for(c[qe]=c[qe]-r|0;;){var re=s;s=re+1|0;var Ue=c[re],se=h;h=se+1|0;c[se]=Ue;var te=r-1|0;r=te;if(0==(te|0))break}0==(c[e+64|0]|0)&&(c[e|0]=20)}}317==d&&(c[e|0]=28,d=318);318==d&&(v=1);c[a+12|0]=h;c[a+16|0]=l;c[a|0]=g;c[a+4|0]=k;c[e+56|0]=n;c[e+60|0]=m;d=0!=(c[e+40|0]|0)?325:26<=c[e|0]>>>0?327:(q|0)!=(c[a+16|0]|0)?325:327;do if(325==d&&0!=(Z(a,q)|0)){c[e|0]=30;f=-4;d=341;break a}while(0);p=p-c[a+4|0]|0;q=q-c[a+16|0]|0;var ue=a+8|0;
c[ue]=c[ue]+p|0;var ve=a+20|0;c[ve]=c[ve]+q|0;var we=e+28|0;c[we]=c[we]+q|0;if(0!=(c[e+8|0]|0)&&0!=(q|0)){var xe=c[e+24|0],ye=c[a+12|0]+-q|0,ze=q,Ae=0!=(c[e+16|0]|0)?xa(xe,ye,ze):Ta(xe,ye,ze);c[e+24|0]=Ae;c[a+48|0]=Ae}c[a+44|0]=(0!=(c[e+4|0]|0)?64:0)+c[e+60|0]+(11==(c[e|0]|0)?128:0)+(19==(c[e|0]|0)||14==(c[e|0]|0)?256:0)|0;d=0==(p|0)?0==(q|0)?338:337:337;337==d&&(d=340);338==d&&0==(v|0)&&(v=-5);f=v;d=341}while(0);5==d&&(f=-2);ya=b;return f}function X(a){var b;for(b=0;;){c[(b<<2)+a+148|0]=0;var d=
b+1|0;b=d;if(286<=(d|0))break}for(b=0;!(c[(b<<2)+a+2440|0]=0,b=d=b+1|0,30<=(d|0)););for(b=0;!(c[(b<<2)+a+2684|0]=0,b=d=b+1|0,19<=(d|0)););c[a+1172|0]=1;c[a+5804|0]=0;c[a+5800|0]=0;c[a+5808|0]=0;c[a+5792|0]=0}function Z(a,b){var d,e,f;f=c[a+28|0];0==(c[f+52|0]|0)?(d=Aa[c[a+32|0]](c[a+40|0],1<<c[f+36|0],1),c[f+52|0]=d,0!=(c[f+52|0]|0)?d=3:(e=1,d=16)):d=3;if(3==d){0==(c[f+40|0]|0)&&(c[f+40|0]=1<<c[f+36|0],c[f+48|0]=0,c[f+44|0]=0);d=b-c[a+16|0]|0;if(d>>>0>=c[f+40|0]>>>0){for(var g=c[a+12|0]+-c[f+40|0]|
0,h=c[f+52|0],k=g+c[f+40|0];g<k;g++,h++)c[h]=c[g];c[f+48|0]=0;c[f+44|0]=c[f+40|0]}else{e=c[f+40|0]-c[f+48|0]|0;e>>>0>d>>>0&&(e=d);h=c[f+52|0]+c[f+48|0]|0;g=c[a+12|0]+-d|0;for(k=g+e;g<k;g++,h++)c[h]=c[g];d=g=d-e|0;if(0!=(g|0)){e=c[f+52|0];g=c[a+12|0]+-d|0;h=e;for(k=g+d;g<k;g++,h++)c[h]=c[g];c[f+48|0]=d;c[f+44|0]=c[f+40|0]}else d=f+48|0,c[d]=c[d]+e|0,(c[f+48|0]|0)==(c[f+40|0]|0)&&(c[f+48|0]=0),c[f+44|0]>>>0>=c[f+40|0]>>>0||(f=f+44|0,c[f]=c[f]+e|0)}e=0}return e}function U(a){var b;if(0!=(a|0)&&0!=(c[a+
28|0]|0)&&0!=(c[a+36|0]|0)){b=c[a+28|0];if(0!=(c[b+52|0]|0))Aa[c[a+36|0]](c[a+40|0],c[b+52|0]);Aa[c[a+36|0]](c[a+40|0],c[a+28|0]);c[a+28|0]=0}}function Y(a,b,d,e){if(13<(c[a+5820|0]|0)){var f=a+5816|0;c[f]=(c[f]&65535|(e&65535)<<c[a+5820|0])&65535;var f=c[a+5816|0]&255,g=a+20|0,h=c[g];c[g]=h+1|0;c[c[a+8|0]+h|0]=f;f=(c[a+5816|0]&65535)>>8&255;g=a+20|0;h=c[g];c[g]=h+1|0;c[c[a+8|0]+h|0]=f;c[a+5816|0]=(e&65535)>>16-c[a+5820|0]&65535;e=a+5820|0;c[e]=-13+c[e]|0}else f=a+5816|0,c[f]=(c[f]&65535|(e&65535)<<
c[a+5820|0])&65535,e=a+5820|0,c[e]=c[e]+3|0;R(a,b,d)}function R(a,b,d){ia(a);c[a+5812|0]=8;var e=a+20|0,f=c[e];c[e]=f+1|0;c[c[a+8|0]+f|0]=d&255;e=a+20|0;f=c[e];c[e]=f+1|0;c[c[a+8|0]+f|0]=(d&65535)>>8&255;e=a+20|0;f=c[e];c[e]=f+1|0;c[c[a+8|0]+f|0]=(d^-1)&255;e=a+20|0;f=c[e];c[e]=f+1|0;c[c[a+8|0]+f|0]=((d^-1)&65535)>>8&255;e=d;d=e-1|0;e=0!=(e|0);a:do if(e)for(;;){f=b;b=f+1|0;var f=c[f],g=a+20|0,h=c[g];c[g]=h+1|0;c[c[a+8|0]+h|0]=f;f=d;d=f-1|0;if(0==(f|0))break a}while(0)}function fa(a){if(16==(c[a+5820|
0]|0)){var b=c[a+5816|0]&255,d=a+20|0,e=c[d];c[d]=e+1|0;c[c[a+8|0]+e|0]=b;b=(c[a+5816|0]&65535)>>8&255;d=a+20|0;e=c[d];c[d]=e+1|0;c[c[a+8|0]+e|0]=b;c[a+5816|0]=0;c[a+5820|0]=0}else 8<=(c[a+5820|0]|0)&&(b=c[a+5816|0]&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b,b=a+5816|0,c[b]=(c[b]&65535)>>8&65535,a=a+5820|0,c[a]=c[a]-8|0)}function ka(a){if(13<(c[a+5820|0]|0)){var b=a+5816|0;c[b]=(c[b]&65535|2<<c[a+5820|0])&65535;var b=c[a+5816|0]&255,d=a+20|0,e=c[d];c[d]=e+1|0;c[c[a+8|0]+e|0]=b;b=(c[a+5816|0]&
65535)>>8&255;d=a+20|0;e=c[d];c[d]=e+1|0;c[c[a+8|0]+e|0]=b;c[a+5816|0]=2>>16-c[a+5820|0]&65535;b=a+5820|0;c[b]=-13+c[b]|0}else b=a+5816|0,c[b]=(c[b]&65535|2<<c[a+5820|0])&65535,b=a+5820|0,c[b]=c[b]+3|0;9<(c[a+5820|0]|0)?(b=a+5816|0,c[b]=(c[b]&65535|0<<c[a+5820|0])&65535,b=c[a+5816|0]&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b,b=(c[a+5816|0]&65535)>>8&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b,c[a+5816|0]=0>>16-c[a+5820|0]&65535,b=a+5820|0,c[b]=-9+c[b]|0):(b=a+5816|0,c[b]=(c[b]&65535|0<<
c[a+5820|0])&65535,b=a+5820|0,c[b]=c[b]+7|0);fa(a);9>(c[a+5812|0]+-c[a+5820|0]+11|0)&&(13<(c[a+5820|0]|0)?(b=a+5816|0,c[b]=(c[b]&65535|2<<c[a+5820|0])&65535,b=c[a+5816|0]&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b,b=(c[a+5816|0]&65535)>>8&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b,c[a+5816|0]=2>>16-c[a+5820|0]&65535,b=a+5820|0,c[b]=-13+c[b]|0):(b=a+5816|0,c[b]=(c[b]&65535|2<<c[a+5820|0])&65535,b=a+5820|0,c[b]=c[b]+3|0),9<(c[a+5820|0]|0)?(b=a+5816|0,c[b]=(c[b]&65535|0<<c[a+5820|0])&65535,
b=c[a+5816|0]&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b,b=(c[a+5816|0]&65535)>>8&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b,c[a+5816|0]=0>>16-c[a+5820|0]&65535,b=a+5820|0,c[b]=-9+c[b]|0):(b=a+5816|0,c[b]=(c[b]&65535|0<<c[a+5820|0])&65535,b=a+5820|0,c[b]=c[b]+7|0),fa(a));c[a+5812|0]=7}function W(a,b,d,e){var f,g,h;h=0;0<(c[a+132|0]|0)?(2==(c[c[a|0]+44|0]|0)&&(h=S(a),c[c[a|0]+44|0]=h),ma(a,a+2840|0),ma(a,a+2852|0),h=na(a),f=(c[a+5800|0]+10|0)>>>3,g=(c[a+5804|0]+10|0)>>>3,g>>>0<=f>>>0&&
(f=g)):g=f=d+5|0;(d+4|0)>>>0<=f>>>0?0==(b|0)?b=9:(Y(a,b,d,e),b=19):b=9;a:do if(9==b){d=4==(c[a+136|0]|0);do if(!d&&(g|0)!=(f|0)){g=e+4|0;13<(c[a+5820|0]|0)?(f=a+5816|0,c[f]=(c[f]&65535|(g&65535)<<c[a+5820|0])&65535,f=c[a+5816|0]&255,b=a+20|0,d=c[b],c[b]=d+1|0,c[c[a+8|0]+d|0]=f,f=(c[a+5816|0]&65535)>>8&255,b=a+20|0,d=c[b],c[b]=d+1|0,c[c[a+8|0]+d|0]=f,c[a+5816|0]=(g&65535)>>16-c[a+5820|0]&65535,g=a+5820|0,c[g]=-13+c[g]|0):(f=a+5816|0,c[f]=(c[f]&65535|(g&65535)<<c[a+5820|0])&65535,g=a+5820|0,c[g]=c[g]+
3|0);za(a,c[a+2844|0]+1|0,c[a+2856|0]+1|0,h+1|0);ra(a,a+148|0,a+2440|0);break a}while(0);d=e+2|0;if(13<(c[a+5820|0]|0)){var k=a+5816|0;c[k]=(c[k]&65535|(d&65535)<<c[a+5820|0])&65535;var k=c[a+5816|0]&255,l=a+20|0,n=c[l];c[l]=n+1|0;c[c[a+8|0]+n|0]=k;k=(c[a+5816|0]&65535)>>8&255;l=a+20|0;n=c[l];c[l]=n+1|0;c[c[a+8|0]+n|0]=k;c[a+5816|0]=(d&65535)>>16-c[a+5820|0]&65535;d=a+5820|0;c[d]=-13+c[d]|0}else k=a+5816|0,c[k]=(c[k]&65535|(d&65535)<<c[a+5820|0])&65535,d=a+5820|0,c[d]=c[d]+3|0;ra(a,Gc|0,tc|0)}while(0);
X(a);0!=(e|0)&&ia(a)}function S(a){var b,d,e,f;e=-201342849;var g=f=0;a:for(;;){if(!(31>=(g|0))){b=6;break}g=0!=(e&1|0);do if(g&&0!=(c[(f<<2)+a+148|0]&65535|0)){d=0;b=16;break a}while(0);f=g=f+1|0;e>>>=1}a:do if(6==b){d=0!=(c[a+184|0]&65535|0);do if(!d&&0==(c[a+188|0]&65535|0)&&0==(c[a+200|0]&65535|0))for(e=f=32;;){if(256<=(e|0)){d=0;break a}if(0!=(c[(f<<2)+a+148|0]&65535|0)){d=1;break a}f=e=f+1|0}while(0);d=1}while(0);return d}function ma(a,b){var d,e,f,g,h,k;d=c[b|0];e=c[c[b+8|0]|0];f=c[c[b+8|0]+
12|0];h=-1;c[a+5200|0]=0;c[a+5204|0]=573;g=0;k=(g|0)<(f|0);a:do if(k)for(;;){var l=g;if(0!=(c[(g<<2)+d|0]&65535|0)){h=l;var n=a+5200|0,m=c[n]+1|0;c[n]=m;c[(m<<2)+a+2908|0]=l;c[g+(a+5208)|0]=0}else c[(l<<2)+d+2|0]=0;g=g+1|0;if((g|0)>=(f|0))break a}while(0);g=2>(c[a+5200|0]|0);l=h;a:do if(g)for(k=l;;){if(2>(k|0)?h=k=h+1|0:k=0,n=a+5200|0,m=c[n]+1|0,c[n]=m,c[(m<<2)+a+2908|0]=k,c[(k<<2)+d|0]=1,c[k+(a+5208)|0]=0,n=a+5800|0,c[n]=c[n]-1|0,0!=(e|0)&&(n=a+5804|0,c[n]=c[n]-(c[(k<<2)+e+2|0]&65535)|0),k=h,2<=
(c[a+5200|0]|0)){var p=k;break a}}else p=l;while(0);c[b+4|0]=p;g=e=c[a+5200]/2|0;e=1<=(e|0);a:do if(e)for(;;)if(v(a,d,g),g=p=g-1|0,!(1<=(p|0)))break a;while(0);for(k=f;g=c[a+2912|0],f=a+5200|0,e=c[f],c[f]=e-1|0,c[a+2912|0]=c[(e<<2)+a+2908|0],v(a,d,1),f=c[a+2912|0],e=a+5204|0,p=c[e]-1|0,c[e]=p,c[(p<<2)+a+2908|0]=g,e=a+5204|0,p=c[e]-1|0,c[e]=p,c[(p<<2)+a+2908|0]=f,c[(k<<2)+d|0]=(c[(f<<2)+d|0]&65535)+(c[(g<<2)+d|0]&65535)&65535,c[k+(a+5208)|0]=((c[g+(a+5208)|0]&255|0)>=(c[f+(a+5208)|0]&255|0)?c[g+(a+
5208)|0]&255:c[f+(a+5208)|0]&255)+1&255,e=k&65535,c[(f<<2)+d+2|0]=e,c[(g<<2)+d+2|0]=e,f=k,k=f+1|0,c[a+2912|0]=f,v(a,d,1),2<=(c[a+5200|0]|0););f=c[a+2912|0];g=a+5204|0;e=c[g]-1|0;c[g]=e;c[(e<<2)+a+2908|0]=f;Oa(a,b);db(d,h,a+2876|0)}function na(a){var b;ba(a,a+148|0,c[a+2844|0]);ba(a,a+2440|0,c[a+2856|0]);ma(a,a+2864|0);for(var d=b=18;3<=(d|0)&&0==(c[((c[ca._bl_order+b|0]&255)<<2)+a+2686|0]&65535|0);)b=d=b-1|0;a=a+5800|0;c[a]=c[a]+3*(b+1)+14|0;return b}function ra(a,b,d){var e,f,g,h,k,l;g=0;var n=0!=
(c[a+5792|0]|0);a:do if(n)for(;;){e=c[(g<<1)+c[a+5796|0]|0]&65535;h=g;g=h+1|0;h=f=c[c[a+5784|0]+h|0]&255;if(0==(e|0))e=c[(h<<2)+b+2|0]&65535,h=c[(f<<2)+b|0]&65535,(c[a+5820|0]|0)>(16-e|0)?(f=a+5816|0,c[f]=(c[f]&65535|(h&65535)<<c[a+5820|0])&65535,f=c[a+5816|0]&255,k=a+20|0,l=c[k],c[k]=l+1|0,c[c[a+8|0]+l|0]=f,f=(c[a+5816|0]&65535)>>8&255,k=a+20|0,l=c[k],c[k]=l+1|0,c[c[a+8|0]+l|0]=f,c[a+5816|0]=(h&65535)>>16-c[a+5820|0]&65535,h=a+5820|0,c[h]=e-16+c[h]|0):(f=a+5816|0,c[f]=(c[f]&65535|h<<c[a+5820|0])&
65535,h=a+5820|0,c[h]=c[h]+e|0);else{h=c[ca.__length_code+h|0]&255;k=c[(h+257<<2)+b+2|0]&65535;l=c[(h+257<<2)+b|0]&65535;if((c[a+5820|0]|0)>(16-k|0)){var m=a+5816|0;c[m]=(c[m]&65535|(l&65535)<<c[a+5820|0])&65535;var m=c[a+5816|0]&255,p=a+20|0,q=c[p];c[p]=q+1|0;c[c[a+8|0]+q|0]=m;m=(c[a+5816|0]&65535)>>8&255;p=a+20|0;q=c[p];c[p]=q+1|0;c[c[a+8|0]+q|0]=m;c[a+5816|0]=(l&65535)>>16-c[a+5820|0]&65535;l=a+5820|0;c[l]=k-16+c[l]|0}else m=a+5816|0,c[m]=(c[m]&65535|l<<c[a+5820|0])&65535,l=a+5820|0,c[l]=c[l]+
k|0;k=l=c[(h<<2)+uc|0];0!=(l|0)&&(f=f-c[(h<<2)+Ac|0]|0,h=k,(c[a+5820|0]|0)>(16-h|0)?(k=a+5816|0,c[k]=(c[k]&65535|(f&65535)<<c[a+5820|0])&65535,k=c[a+5816|0]&255,l=a+20|0,m=c[l],c[l]=m+1|0,c[c[a+8|0]+m|0]=k,k=(c[a+5816|0]&65535)>>8&255,l=a+20|0,m=c[l],c[l]=m+1|0,c[c[a+8|0]+m|0]=k,c[a+5816|0]=(f&65535)>>16-c[a+5820|0]&65535,f=a+5820|0,c[f]=h-16+c[f]|0):(k=a+5816|0,c[k]=(c[k]&65535|(f&65535)<<c[a+5820|0])&65535,f=a+5820|0,c[f]=c[f]+h|0));f=e=h=e-1|0;h=256>h>>>0?c[ca.__dist_code+f|0]&255:c[ca.__dist_code+
(f>>>7)+256|0]&255;f=c[(h<<2)+d+2|0]&65535;k=c[(h<<2)+d|0]&65535;(c[a+5820|0]|0)>(16-f|0)?(l=a+5816|0,c[l]=(c[l]&65535|(k&65535)<<c[a+5820|0])&65535,l=c[a+5816|0]&255,m=a+20|0,p=c[m],c[m]=p+1|0,c[c[a+8|0]+p|0]=l,l=(c[a+5816|0]&65535)>>8&255,m=a+20|0,p=c[m],c[m]=p+1|0,c[c[a+8|0]+p|0]=l,c[a+5816|0]=(k&65535)>>16-c[a+5820|0]&65535,k=a+5820|0,c[k]=f-16+c[k]|0):(l=a+5816|0,c[l]=(c[l]&65535|k<<c[a+5820|0])&65535,k=a+5820|0,c[k]=c[k]+f|0);k=f=c[(h<<2)+Hc|0];0!=(f|0)&&(e=e-c[(h<<2)+Nb|0]|0,h=k,(c[a+5820|
0]|0)>(16-h|0)?(f=a+5816|0,c[f]=(c[f]&65535|(e&65535)<<c[a+5820|0])&65535,f=c[a+5816|0]&255,k=a+20|0,l=c[k],c[k]=l+1|0,c[c[a+8|0]+l|0]=f,f=(c[a+5816|0]&65535)>>8&255,k=a+20|0,l=c[k],c[k]=l+1|0,c[c[a+8|0]+l|0]=f,c[a+5816|0]=(e&65535)>>16-c[a+5820|0]&65535,e=a+5820|0,c[e]=h-16+c[e]|0):(f=a+5816|0,c[f]=(c[f]&65535|(e&65535)<<c[a+5820|0])&65535,e=a+5820|0,c[e]=c[e]+h|0))}if(g>>>0>=c[a+5792|0]>>>0)break a}while(0);d=c[b+1026|0]&65535;g=c[b+1024|0]&65535;(c[a+5820|0]|0)>(16-d|0)?(n=a+5816|0,c[n]=(c[n]&
65535|(g&65535)<<c[a+5820|0])&65535,n=c[a+5816|0]&255,e=a+20|0,h=c[e],c[e]=h+1|0,c[c[a+8|0]+h|0]=n,n=(c[a+5816|0]&65535)>>8&255,e=a+20|0,h=c[e],c[e]=h+1|0,c[c[a+8|0]+h|0]=n,c[a+5816|0]=(g&65535)>>16-c[a+5820|0]&65535,g=a+5820|0,c[g]=d-16+c[g]|0):(n=a+5816|0,c[n]=(c[n]&65535|g<<c[a+5820|0])&65535,g=a+5820|0,c[g]=c[g]+d|0);c[a+5812|0]=c[b+1026|0]&65535}function ia(a){if(8<(c[a+5820|0]|0)){var b=c[a+5816|0]&255,d=a+20|0,e=c[d];c[d]=e+1|0;c[c[a+8|0]+e|0]=b;b=(c[a+5816|0]&65535)>>8&255;d=a+20|0;e=c[d];
c[d]=e+1|0;c[c[a+8|0]+e|0]=b}else 0>=(c[a+5820|0]|0)||(b=c[a+5816|0]&255,d=a+20|0,e=c[d],c[d]=e+1|0,c[c[a+8|0]+e|0]=b);c[a+5816|0]=0;c[a+5820|0]=0}function za(a,b,d,e){var f,g;f=b-257|0;if(11<(c[a+5820|0]|0)){var h=a+5816|0;c[h]=(c[h]&65535|(f&65535)<<c[a+5820|0])&65535;h=c[a+5816|0]&255;g=a+20|0;var k=c[g];c[g]=k+1|0;c[c[a+8|0]+k|0]=h;h=(c[a+5816|0]&65535)>>8&255;g=a+20|0;k=c[g];c[g]=k+1|0;c[c[a+8|0]+k|0]=h;c[a+5816|0]=(f&65535)>>16-c[a+5820|0]&65535;f=a+5820|0;c[f]=-11+c[f]|0}else h=a+5816|0,c[h]=
(c[h]&65535|(f&65535)<<c[a+5820|0])&65535,f=a+5820|0,c[f]=c[f]+5|0;f=d-1|0;11<(c[a+5820|0]|0)?(h=a+5816|0,c[h]=(c[h]&65535|(f&65535)<<c[a+5820|0])&65535,h=c[a+5816|0]&255,g=a+20|0,k=c[g],c[g]=k+1|0,c[c[a+8|0]+k|0]=h,h=(c[a+5816|0]&65535)>>8&255,g=a+20|0,k=c[g],c[g]=k+1|0,c[c[a+8|0]+k|0]=h,c[a+5816|0]=(f&65535)>>16-c[a+5820|0]&65535,f=a+5820|0,c[f]=-11+c[f]|0):(h=a+5816|0,c[h]=(c[h]&65535|(f&65535)<<c[a+5820|0])&65535,f=a+5820|0,c[f]=c[f]+5|0);f=e-4|0;12<(c[a+5820|0]|0)?(h=a+5816|0,c[h]=(c[h]&65535|
(f&65535)<<c[a+5820|0])&65535,h=c[a+5816|0]&255,g=a+20|0,k=c[g],c[g]=k+1|0,c[c[a+8|0]+k|0]=h,h=(c[a+5816|0]&65535)>>8&255,g=a+20|0,k=c[g],c[g]=k+1|0,c[c[a+8|0]+k|0]=h,c[a+5816|0]=(f&65535)>>16-c[a+5820|0]&65535,f=a+5820|0,c[f]=-12+c[f]|0):(h=a+5816|0,c[h]=(c[h]&65535|(f&65535)<<c[a+5820|0])&65535,f=a+5820|0,c[f]=c[f]+4|0);f=0;h=(f|0)<(e|0);a:do if(h)for(;;){g=c[((c[ca._bl_order+f|0]&255)<<2)+a+2686|0]&65535;if(13<(c[a+5820|0]|0)){k=a+5816|0;c[k]=(c[k]&65535|(g&65535)<<c[a+5820|0])&65535;var k=c[a+
5816|0]&255,l=a+20|0,n=c[l];c[l]=n+1|0;c[c[a+8|0]+n|0]=k;k=(c[a+5816|0]&65535)>>8&255;l=a+20|0;n=c[l];c[l]=n+1|0;c[c[a+8|0]+n|0]=k;c[a+5816|0]=(g&65535)>>16-c[a+5820|0]&65535;g=a+5820|0;c[g]=-13+c[g]|0}else k=a+5816|0,c[k]=(c[k]&65535|g<<c[a+5820|0])&65535,g=a+5820|0,c[g]=c[g]+3|0;f=f+1|0;if((f|0)>=(e|0))break a}while(0);Ka(a,a+148|0,b-1|0);Ka(a,a+2440|0,d-1|0)}function Ka(a,b,d){var e,f,g,h,k,l,n,m,p,q,r,s,t,u,v,w,z,A,C,D,E;g=-1;k=c[b+2|0]&65535;l=0;n=7;m=4;0==(k|0)&&(n=138,m=3);f=0;var G=(f|0)<=
(d|0);a:do if(G)for(;;){h=k;k=c[(f+1<<2)+b+2|0]&65535;var F=l+1|0;l=F;e=(F|0)<(n|0)?(h|0)==(k|0)?40:5:5;if(5==e){var H=(l|0)<(m|0);b:do if(H)for(;;){p=c[(h<<2)+a+2686|0]&65535;var I=c[(h<<2)+a+2684|0]&65535;if((c[a+5820|0]|0)>(16-p|0)){q=I;var J=a+5816|0;c[J]=(c[J]&65535|(q&65535)<<c[a+5820|0])&65535;var K=c[a+5816|0]&255,L=a+20|0,N=c[L];c[L]=N+1|0;c[c[a+8|0]+N|0]=K;var M=(c[a+5816|0]&65535)>>8&255,O=a+20|0,P=c[O];c[O]=P+1|0;c[c[a+8|0]+P|0]=M;c[a+5816|0]=(q&65535)>>16-c[a+5820|0]&65535;var Q=a+5820|
0;c[Q]=p-16+c[Q]|0}else{var S=a+5816|0;c[S]=(c[S]&65535|I<<c[a+5820|0])&65535;var R=a+5820|0;c[R]=c[R]+p|0}var T=l-1|0;l=T;if(0==(T|0))break b}else if(0!=(h|0)){if((h|0)!=(g|0)){r=c[(h<<2)+a+2686|0]&65535;var V=c[(h<<2)+a+2684|0]&65535;if((c[a+5820|0]|0)>(16-r|0)){s=V;var U=a+5816|0;c[U]=(c[U]&65535|(s&65535)<<c[a+5820|0])&65535;var W=c[a+5816|0]&255,X=a+20|0,Y=c[X];c[X]=Y+1|0;c[c[a+8|0]+Y|0]=W;var Z=(c[a+5816|0]&65535)>>8&255,ba=a+20|0,ca=c[ba];c[ba]=ca+1|0;c[c[a+8|0]+ca|0]=Z;c[a+5816|0]=(s&65535)>>
16-c[a+5820|0]&65535;var da=a+5820|0;c[da]=r-16+c[da]|0}else{var ea=a+5816|0;c[ea]=(c[ea]&65535|V<<c[a+5820|0])&65535;var aa=a+5820|0;c[aa]=c[aa]+r|0}l=l-1|0}t=c[a+2750|0]&65535;var fa=c[a+2748|0]&65535;if((c[a+5820|0]|0)>(16-t|0)){u=fa;var ha=a+5816|0;c[ha]=(c[ha]&65535|(u&65535)<<c[a+5820|0])&65535;var ja=c[a+5816|0]&255,ia=a+20|0,ka=c[ia];c[ia]=ka+1|0;c[c[a+8|0]+ka|0]=ja;var la=(c[a+5816|0]&65535)>>8&255,ma=a+20|0,na=c[ma];c[ma]=na+1|0;c[c[a+8|0]+na|0]=la;c[a+5816|0]=(u&65535)>>16-c[a+5820|0]&
65535;var oa=a+5820|0;c[oa]=t-16+c[oa]|0}else{var qa=a+5816|0;c[qa]=(c[qa]&65535|fa<<c[a+5820|0])&65535;var ta=a+5820|0;c[ta]=c[ta]+t|0}var ra=l-3|0;if(14<(c[a+5820|0]|0)){v=ra;var sa=a+5816|0;c[sa]=(c[sa]&65535|(v&65535)<<c[a+5820|0])&65535;var va=c[a+5816|0]&255,xa=a+20|0,ya=c[xa];c[xa]=ya+1|0;c[c[a+8|0]+ya|0]=va;var Ca=(c[a+5816|0]&65535)>>8&255,za=a+20|0,Aa=c[za];c[za]=Aa+1|0;c[c[a+8|0]+Aa|0]=Ca;c[a+5816|0]=(v&65535)>>16-c[a+5820|0]&65535;var Ba=a+5820|0;c[Ba]=-14+c[Ba]|0}else{var Da=a+5816|0;
c[Da]=(c[Da]&65535|(ra&65535)<<c[a+5820|0])&65535;var Ea=a+5820|0;c[Ea]=c[Ea]+2|0}}else{var Ja=a+2684|0;if(10>=(l|0)){w=c[Ja+70|0]&65535;var Ia=c[a+2752|0]&65535;if((c[a+5820|0]|0)>(16-w|0)){z=Ia;var Ka=a+5816|0;c[Ka]=(c[Ka]&65535|(z&65535)<<c[a+5820|0])&65535;var Qa=c[a+5816|0]&255,Ma=a+20|0,Na=c[Ma];c[Ma]=Na+1|0;c[c[a+8|0]+Na|0]=Qa;var Oa=(c[a+5816|0]&65535)>>8&255,Va=a+20|0,Sa=c[Va];c[Va]=Sa+1|0;c[c[a+8|0]+Sa|0]=Oa;c[a+5816|0]=(z&65535)>>16-c[a+5820|0]&65535;var Ta=a+5820|0;c[Ta]=w-16+c[Ta]|0}else{var Za=
a+5816|0;c[Za]=(c[Za]&65535|Ia<<c[a+5820|0])&65535;var Wa=a+5820|0;c[Wa]=c[Wa]+w|0}var Xa=l-3|0;if(13<(c[a+5820|0]|0)){A=Xa;var $a=a+5816|0;c[$a]=(c[$a]&65535|(A&65535)<<c[a+5820|0])&65535;var bb=c[a+5816|0]&255,db=a+20|0,cb=c[db];c[db]=cb+1|0;c[c[a+8|0]+cb|0]=bb;var gb=(c[a+5816|0]&65535)>>8&255,eb=a+20|0,fb=c[eb];c[eb]=fb+1|0;c[c[a+8|0]+fb|0]=gb;c[a+5816|0]=(A&65535)>>16-c[a+5820|0]&65535;var hb=a+5820|0;c[hb]=-13+c[hb]|0}else{var nb=a+5816|0;c[nb]=(c[nb]&65535|(Xa&65535)<<c[a+5820|0])&65535;var Pa=
a+5820|0;c[Pa]=c[Pa]+3|0}}else{C=c[Ja+74|0]&65535;var Jb=c[a+2756|0]&65535;if((c[a+5820|0]|0)>(16-C|0)){D=Jb;var jb=a+5816|0;c[jb]=(c[jb]&65535|(D&65535)<<c[a+5820|0])&65535;var ob=c[a+5816|0]&255,lb=a+20|0,Db=c[lb];c[lb]=Db+1|0;c[c[a+8|0]+Db|0]=ob;var Fa=(c[a+5816|0]&65535)>>8&255,pa=a+20|0,pb=c[pa];c[pa]=pb+1|0;c[c[a+8|0]+pb|0]=Fa;c[a+5816|0]=(D&65535)>>16-c[a+5820|0]&65535;var rb=a+5820|0;c[rb]=C-16+c[rb]|0}else{var mb=a+5816|0;c[mb]=(c[mb]&65535|Jb<<c[a+5820|0])&65535;var qb=a+5820|0;c[qb]=c[qb]+
C|0}var sb=l-11|0;if(9<(c[a+5820|0]|0)){E=sb;var vb=a+5816|0;c[vb]=(c[vb]&65535|(E&65535)<<c[a+5820|0])&65535;var Eb=c[a+5816|0]&255,wb=a+20|0,Ab=c[wb];c[wb]=Ab+1|0;c[c[a+8|0]+Ab|0]=Eb;var Fb=(c[a+5816|0]&65535)>>8&255,Bb=a+20|0,Gb=c[Bb];c[Bb]=Gb+1|0;c[c[a+8|0]+Gb|0]=Fb;c[a+5816|0]=(E&65535)>>16-c[a+5820|0]&65535;var Hb=a+5820|0;c[Hb]=-9+c[Hb]|0}else{var Ib=a+5816|0;c[Ib]=(c[Ib]&65535|(sb&65535)<<c[a+5820|0])&65535;var Ga=a+5820|0;c[Ga]=c[Ga]+7|0}}}while(0);l=0;g=h;0==(k|0)?(n=138,m=3):(h|0)==(k|
0)?(n=6,m=3):(n=7,m=4)}f=f+1|0;if(!((f|0)<=(d|0)))break a}while(0)}function ba(a,b,d){var e,f,g,h,k,l,n,m;g=-1;k=c[b+2|0]&65535;l=0;n=7;m=4;0==(k|0)&&(n=138,m=3);c[(d+1<<2)+b+2|0]=-1;f=0;var p=(f|0)<=(d|0);a:do if(p)for(;;)if(h=k,k=c[(f+1<<2)+b+2|0]&65535,l=e=l+1|0,e=(e|0)<(n|0)?(h|0)==(k|0)?19:5:5,5==e&&((l|0)<(m|0)?(g=(h<<2)+a+2684|0,c[g]=(c[g]&65535)+l&65535):(0!=(h|0)?((h|0)!=(g|0)&&(l=(h<<2)+a+2684|0,c[l]=c[l]+1&65535),l=a+2748|0):(g=a+2684|0,l=10>=(l|0)?g+68|0:g+72|0),c[l]=c[l]+1&65535),l=0,
g=h,0==(k|0)?(n=138,m=3):(h|0)==(k|0)?(n=6,m=3):(n=7,m=4)),f=f+1|0,!((f|0)<=(d|0)))break a;while(0)}function v(a,b,d){var e,f;e=c[(d<<2)+a+2908|0];for(f=d<<1;(f|0)<=(c[a+5200|0]|0);){var g=(f|0)<(c[a+5200|0]|0);do if(g){if((c[(c[(f+1<<2)+a+2908|0]<<2)+b|0]&65535|0)>=(c[(c[(f<<2)+a+2908|0]<<2)+b|0]&65535|0)){if((c[(c[(f+1<<2)+a+2908|0]<<2)+b|0]&65535|0)!=(c[(c[(f<<2)+a+2908|0]<<2)+b|0]&65535|0))break;if(!((c[a+c[(f+1<<2)+a+2908|0]+5208|0]&255|0)<=(c[a+c[(f<<2)+a+2908|0]+5208|0]&255|0)))break}f=f+1|
0}while(0);if((c[(e<<2)+b|0]&65535|0)<(c[(c[(f<<2)+a+2908|0]<<2)+b|0]&65535|0))break;if((c[(e<<2)+b|0]&65535|0)==(c[(c[(f<<2)+a+2908|0]<<2)+b|0]&65535|0)&&(c[e+(a+5208)|0]&255|0)<=(c[a+c[(f<<2)+a+2908|0]+5208|0]&255|0))break;c[(d<<2)+a+2908|0]=c[(f<<2)+a+2908|0];d=f;f<<=1}c[(d<<2)+a+2908|0]=e}function Oa(a,b){var d,e,f,g,h,k,l,n,m,p,q,r;d=c[b|0];e=c[b+4|0];f=c[c[b+8|0]|0];g=c[c[b+8|0]+4|0];h=c[c[b+8|0]+8|0];k=c[c[b+8|0]+16|0];for(m=r=0;c[(m<<1)+a+2876|0]=0,m=l=m+1|0,15>=(l|0););c[(c[(c[a+5204|0]<<
2)+a+2908|0]<<2)+d+2|0]=0;l=m=c[a+5204|0]+1|0;var s=573>(m|0);a:do if(s)for(;;){n=c[(l<<2)+a+2908|0];m=(c[((c[(n<<2)+d+2|0]&65535)<<2)+d+2|0]&65535)+1|0;(m|0)>(k|0)&&(m=k,r=r+1|0);c[(n<<2)+d+2|0]=m&65535;if(!((n|0)>(e|0))){p=(m<<1)+a+2876|0;c[p]=c[p]+1&65535;p=0;(n|0)>=(h|0)&&(p=c[(n-h<<2)+g|0]);q=c[(n<<2)+d|0];var t=a+5800|0;c[t]=c[t]+(p+m)*(q&65535)|0;0!=(f|0)&&(m=a+5804|0,c[m]=c[m]+((c[(n<<2)+f+2|0]&65535)+p)*(q&65535)|0)}l=m=l+1|0;if(573<=(m|0))break a}while(0);f=0==(r|0);a:do if(!f){for(;;){m=
k-1|0;n=0==(c[(m<<1)+a+2876|0]&65535|0);g=m;b:do if(n)for(h=g;;){if(h=m=h-1|0,0!=(c[(m<<1)+a+2876|0]&65535|0)){var u=h;break b}}else u=g;while(0);n=(u<<1)+a+2876|0;c[n]=c[n]-1&65535;m=(m+1<<1)+a+2876|0;c[m]=(c[m]&65535)+2&65535;m=(k<<1)+a+2876|0;c[m]=c[m]-1&65535;r=m=r-2|0;if(0>=(m|0))break}m=n=k;if(0!=(n|0))for(;;){n=g=c[(m<<1)+a+2876|0]&65535;g=0!=(g|0);b:do if(g)for(;;)if(l=h=l-1|0,h=c[(h<<2)+a+2908|0],(h|0)>(e|0)?h=n:((c[(h<<2)+d+2|0]&65535|0)!=(m|0)&&(s=a+5800|0,c[s]=c[s]+(c[(h<<2)+d|0]&65535)*
(m-(c[(h<<2)+d+2|0]&65535))|0,c[(h<<2)+d+2|0]=m&65535),n=h=n-1|0),0==(h|0))break b;while(0);m=n=m-1|0;if(0==(n|0))break a}}while(0)}function db(a,b,d){var e=ya;ya+=32;var f,g;f=0;for(g=1;;){var h=(c[(g-1<<1)+d|0]&65535)+(f&65535)<<1&65535;f=h;c[(g<<1)+e|0]=h;g=h=g+1|0;if(!(15>=(h|0)))break}d=0;f=(d|0)<=(b|0);a:do if(f)for(;;){g=h=c[(d<<2)+a+2|0]&65535;if(0!=(h|0)){var k=(g<<1)+e|0,h=c[k];c[k]=h+1&65535;for(var l=void 0,n=void 0,k=h&65535,l=g,n=0;!(n|=k&1,k>>>=1,n<<=1,l=g=l-1|0,0>=(g|0)););c[(d<<2)+
a|0]=n>>>1&65535}d=d+1|0;if(!((d|0)<=(b|0)))break a}while(0);ya=e}function Ta(a,b,d){var e,f,g;f=d;d=a>>>16&65535;a&=65535;var h=b;if(1==(f|0))a=a+(c[h|0]&255)|0,65521<=a>>>0&&(a=a-65521|0),d=b=d+a|0,65521<=b>>>0&&(d=d-65521|0),a|=d<<16;else if(0==(h|0))a=1;else{h=f;if(16>h>>>0){f=h-1|0;var k=0!=(h|0);a:do if(k)for(;;)if(g=b,b=g+1|0,a=a+(c[g]&255)|0,d=d+a|0,g=f,f=g-1|0,0==(g|0))break a;while(0);65521<=a>>>0&&(a=a-65521|0);d=(d>>>0)%65521}else{var l=5552<=h>>>0;do if(l){for(e=h;;){f=e-5552|0;for(g=
347;a=a+(c[b|0]&255)|0,d=d+a|0,a=a+(c[b+1|0]&255)|0,d=d+a|0,a=a+(c[b+2|0]&255)|0,d=d+a|0,a=a+(c[b+3|0]&255)|0,d=d+a|0,a=a+(c[b+4|0]&255)|0,d=d+a|0,a=a+(c[b+5|0]&255)|0,d=d+a|0,a=a+(c[b+6|0]&255)|0,d=d+a|0,a=a+(c[b+7|0]&255)|0,d=d+a|0,a=a+(c[b+8|0]&255)|0,d=d+a|0,a=a+(c[b+9|0]&255)|0,d=d+a|0,a=a+(c[b+10|0]&255)|0,d=d+a|0,a=a+(c[b+11|0]&255)|0,d=d+a|0,a=a+(c[b+12|0]&255)|0,d=d+a|0,a=a+(c[b+13|0]&255)|0,d=d+a|0,a=a+(c[b+14|0]&255)|0,d=d+a|0,a=a+(c[b+15|0]&255)|0,d=d+a|0,b=b+16|0,g=e=g-1|0,0!=(e|0););
a=(a>>>0)%65521;d=(d>>>0)%65521;g=f;if(!(5552<=g>>>0))break;e=g}e=0!=(g|0)?19:24}else e=19;while(0);if(19==e){g=f;h=16<=g>>>0;a:do if(h)for(;;){if(f=f-16|0,a=a+(c[b|0]&255)|0,d=d+a|0,a=a+(c[b+1|0]&255)|0,d=d+a|0,a=a+(c[b+2|0]&255)|0,d=d+a|0,a=a+(c[b+3|0]&255)|0,d=d+a|0,a=a+(c[b+4|0]&255)|0,d=d+a|0,a=a+(c[b+5|0]&255)|0,d=d+a|0,a=a+(c[b+6|0]&255)|0,d=d+a|0,a=a+(c[b+7|0]&255)|0,d=d+a|0,a=a+(c[b+8|0]&255)|0,d=d+a|0,a=a+(c[b+9|0]&255)|0,d=d+a|0,a=a+(c[b+10|0]&255)|0,d=d+a|0,a=a+(c[b+11|0]&255)|0,d=d+a|
0,a=a+(c[b+12|0]&255)|0,d=d+a|0,a=a+(c[b+13|0]&255)|0,d=d+a|0,a=a+(c[b+14|0]&255)|0,d=d+a|0,a=a+(c[b+15|0]&255)|0,d=d+a|0,b=b+16|0,l=f,!(16<=l>>>0)){k=l;break a}}else k=g;while(0);f=k-1|0;k=0!=(k|0);a:do if(k)for(;;)if(g=b,b=g+1|0,a=a+(c[g]&255)|0,d=d+a|0,g=f,f=g-1|0,0==(g|0))break a;while(0);a=(a>>>0)%65521;d=(d>>>0)%65521}}a|=d<<16}return a}function Ma(a,b,d){a^=-1;for(var e=d;0!=(e|0)&&0!=(b&3|0);)e=b,b=e+1|0,a=a>>>8^c[(((c[e]&255^a)&255)<<2)+ja|0],d=e=d-1|0;var e=d,f=32<=e>>>0;a:do if(f)for(;;){var g=
b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>24<<2)+ja|0];g=b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>24<<2)+ja|0];g=b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>24<<2)+ja|0];g=b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>
24<<2)+ja|0];g=b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>24<<2)+ja|0];g=b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>24<<2)+ja|0];g=b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>24<<2)+ja|0];g=b;b=g+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+
1024|0]^c[(a>>>24<<2)+ja|0];d=g=d-32|0;if(!(32<=g>>>0)){var h=g;break a}}else h=e;while(0);h=4<=h>>>0;e=b;a:do if(h)for(f=e;;){b=f+4|0;a^=c[f];a=c[((a>>>8&255)<<2)+ja+2048|0]^c[((a&255)<<2)+ja+3072|0]^c[((a>>>16&255)<<2)+ja+1024|0]^c[(a>>>24<<2)+ja|0];d=f=d-4|0;if(!(4<=f>>>0)){var k=b,l=f;break a}f=b}else k=e,l=d;while(0);b=k;k=0!=(l|0);a:do if(k)for(;;)if(l=b,b=l+1|0,a=a>>>8^c[(((c[l]&255^a)&255)<<2)+ja|0],d=l=d-1|0,0==(l|0))break a;while(0);return a^-1}function xa(a,b,d){var e=ya;ya+=4;0==(b|0)?
a=0:(c[e]=1,a=0!=c[e]<<24>>24?Ma(a,b,d):va(a,b,d));ya=e;return a}function va(a,b,d){a=(((a&65280)<<8)+((a&255)<<24)+(a>>>8&65280)+(a>>>24&255)|0)^-1;for(var e=d;0!=(e|0)&&0!=(b&3|0);)e=b,b=e+1|0,a=a<<8^c[((c[e]&255^a>>>24)<<2)+ja+4096|0],d=e=d-1|0;b=b-4|0;var e=d,f=32<=e>>>0;a:do if(f)for(;;){var g=b+4|0;b=g;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];b=g=b+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<2)+ja+4096|
0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];b=g=b+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];b=g=b+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];b=g=b+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];b=g=b+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|
0]^c[((a&255)<<2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];b=g=b+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];b=g=b+4|0;a^=c[g];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];d=g=d-32|0;if(!(32<=g>>>0)){var h=g;break a}}else h=e;while(0);h=4<=h>>>0;b=e=b+4|0;a:do if(h)for(f=e;;){a^=c[f];a=c[((a>>>8&255)<<2)+ja+5120|0]^c[((a&255)<<
2)+ja+4096|0]^c[((a>>>16&255)<<2)+ja+6144|0]^c[(a>>>24<<2)+ja+7168|0];d=f=d-4|0;b=g=b+4|0;if(!(4<=f>>>0)){var k=f;break a}f=g}else k=d;while(0);k=0!=(k|0);a:do if(k)for(;;)if(h=b,b=h+1|0,a=a<<8^c[((c[h]&255^a>>>24)<<2)+ja+4096|0],d=h=d-1|0,0==(h|0))break a;while(0);a^=-1;return((a&65280)<<8)+((a&255)<<24)+(a>>>8&65280)+(a>>>24&255)|0}function Da(a,b,d,e,f,g){var h=ya;ya+=68;var k,l,n,m,p,q,r,s,t,u,v,w,z,A,C,D,E=h+4,G=h+36;for(l=0;c[(l<<1)+E|0]=0,l=q=l+1|0,15>=q>>>0;);n=0;q=n>>>0<d>>>0;a:do if(q)for(;;)if(p=
((c[(n<<1)+b|0]&65535)<<1)+E|0,c[p]=c[p]+1&65535,n=n+1|0,n>>>0>=d>>>0)break a;while(0);q=c[f];for(l=p=15;1<=l>>>0&&0==(c[(p<<1)+E|0]&65535|0);)p=l=p-1|0;l=p;q>>>0>l>>>0&&(q=l=p);var F=0==(l|0);a:do if(F)c[h|0]=64,c[h+1|0]=1,c[h+2|0]=0,l=e,m=c[l],c[l]=m+4|0,l=m,m=h,c[l]=c[m],c[l+1]=c[m+1],c[l+2]=c[m+2],c[l+3]=c[m+3],l=e,m=c[l],c[l]=m+4|0,l=m,m=h,c[l]=c[m],c[l+1]=c[m+1],c[l+2]=c[m+2],c[l+3]=c[m+3],c[f]=1,l=0;else{for(m=1;!(m>>>0>=p>>>0)&&0==(c[(m<<1)+E|0]&65535|0);)m=m+1|0;q>>>0<m>>>0&&(q=m);for(s=
u=l=1;15>=u>>>0;){t=s<<1;t=t-(c[(l<<1)+E|0]&65535)|0;if(0>(t|0)){l=-1;break a}l=u=l+1|0;s=t}l=0<(s|0);do if(l&&(0==(a|0)||1!=(p|0))){l=-1;break a}while(0);c[G+2|0]=0;for(l=1;!(c[(l+1<<1)+G|0]=(c[(l<<1)+E|0]&65535)+(c[(l<<1)+G|0]&65535)&65535,l=u=l+1|0,15<=u>>>0););n=0;l=n>>>0<d>>>0;b:do if(l)for(;;)if(0!=(c[(n<<1)+b|0]&65535|0)&&(u=((c[(n<<1)+b|0]&65535)<<1)+G|0,s=c[u],c[u]=s+1&65535,c[((s&65535)<<1)+g|0]=n&65535),n=n+1|0,n>>>0>=d>>>0)break b;while(0);l=a;0==l?(A=C=g,D=19):1==l?(A=Ic|0,A=A-514|0,
C=Kc|0,C=C-514|0,D=256):(A=Lc|0,C=Qc|0,D=-1);n=v=0;l=m;z=c[e];r=q;s=0;t=-1;u=1<<q;w=u-1|0;m=a;if(1==(m|0))if(852<=u>>>0)k=43;else{var H=a;k=40}else H=m,k=40;do if(40==k&&!(2==(H|0)&&592<=u>>>0)){var G=h+1|0,H=h|0,F=h+2|0,I=h,J=h|0,K=h+2|0,L=h|0,N=h+2|0;b:for(;;){c[G]=l-s&255;(c[(n<<1)+g|0]&65535|0)<(D|0)?(c[H]=0,c[F]=c[(n<<1)+g|0]):(c[(n<<1)+g|0]&65535|0)>(D|0)?(c[J]=c[((c[(n<<1)+g|0]&65535)<<1)+C|0]&255,c[K]=c[((c[(n<<1)+g|0]&65535)<<1)+A|0]):(c[L]=96,c[N]=0);d=1<<l-s;for(m=k=1<<r;;){k=k-d|0;var M=
((v>>>(s>>>0))+k<<2)+z|0;c[M]=c[I];c[M+1]=c[I+1];c[M+2]=c[I+2];c[M+3]=c[I+3];if(0==(k|0))break}d=M=1<<l-1;var O=0!=(v&M|0);do if(O){for(k=M;;){var P=k>>>1;d=P;if(0==(v&P|0))break;k=P}0!=(P|0)?k=54:(v=0,k=56)}else k=54;while(0);54==k&&(v&=d-1,v=v+d|0);n=n+1|0;d=(l<<1)+E|0;k=c[d]-1&65535;c[d]=k;if(0==(k&65535|0)){if((l|0)==(p|0))break;l=c[((c[(n<<1)+g|0]&65535)<<1)+b|0]&65535}if(!(l>>>0<=q>>>0)&&(w&v|0)!=(t|0)){0==(s|0)&&(s=q);z=(m<<2)+z|0;r=l-s|0;for(t=1<<r;!((s+r|0)>>>0>=p>>>0);){t=t-(c[(s+r<<1)+
E|0]&65535)|0;if(0>=(t|0))break;r=r+1|0;t<<=1}u=(1<<r)+u|0;d=a;if(1==(d|0))if(852<=u>>>0)k=72;else{var Q=a;k=70}else Q=d,k=70;do if(70==k&&!(2==(Q|0)&&592<=u>>>0)){t=w&v;c[(t<<2)+c[e]|0]=r&255;c[(t<<2)+c[e]+1|0]=q&255;c[(t<<2)+c[e]+2|0]=(z-c[e])/4&65535;continue b}while(0);l=1;break a}}c[h|0]=64;c[h+1|0]=l-s&255;c[h+2|0]=0;a=0!=(v|0);b:do if(a){b=h+1|0;for(g=h;;){0!=(s|0)&&(w&v|0)!=(t|0)&&(s=0,l=q,z=c[e],c[b]=l&255);E=(v>>>(s>>>0)<<2)+z|0;c[E]=c[g];c[E+1]=c[g+1];c[E+2]=c[g+2];c[E+3]=c[g+3];d=E=1<<
l-1;if(0!=(v&E|0)){for(;;){var S=E>>>1;d=S;if(0==(v&S|0))break;E=S}if(0==(S|0))break}v&=d-1;v=E=v+d|0;if(0==(E|0))break b}v=0}while(0);c[e]=(u<<2)+c[e]|0;c[f]=q;l=0;break a}while(0);l=1}while(0);ya=h;return l}function Sa(a,b){var d=ya;ya+=4;var e,f,g,h,k,l,n,m,p,q,r,s,t,u,v,w,z,A,C,E,D;f=c[a+28|0];g=c[a|0]-1|0;h=g+(c[a+4|0]-5)|0;k=c[a+12|0]-1|0;l=k+-(b+-c[a+16|0])|0;n=k+(c[a+16|0]-257)|0;m=c[f+40|0];p=c[f+44|0];q=c[f+48|0];r=c[f+52|0];s=c[f+56|0];t=c[f+60|0];u=c[f+76|0];v=c[f+80|0];w=(1<<c[f+84|0])-
1|0;z=(1<<c[f+88|0])-1|0;var G=d+1|0,F=d|0,H=d+2|0,I=d+2|0,J=d+2|0,K=d+1|0,L=d|0,M=d+2|0,N=d+2|0;a:for(;;){if(15>t>>>0){var O=g+1|0;g=O;s=((c[O]&255)<<t)+s|0;t=t+8|0;var P=g+1|0;g=P;s=((c[P]&255)<<t)+s|0;t=t+8|0}var Q=((w&s)<<2)+u|0;c[d]=c[Q];c[d+1]=c[Q+1];c[d+2]=c[Q+2];for(c[d+3]=c[Q+3];;){A=c[G]&255;s>>>=A>>>0;t=t-A|0;var S=c[F]&255;A=S;if(0==(S|0)){var R=c[I]&255,T=k+1|0;k=T;c[T]=R;e=59;break}if(0!=(A&16|0)){e=7;break}if(0==(A&64|0)){var V=(((1<<A)-1&s)+(c[H]&65535)<<2)+u|0;c[d]=c[V];c[d+1]=c[V+
1];c[d+2]=c[V+2];c[d+3]=c[V+3]}else{if(0!=(A&32|0)){c[f|0]=11;break a}c[a+24|0]=ca.__str271|0;c[f|0]=29;break a}}do if(7==e){C=c[J]&65535;A&=15;var U=t;if(0!=(A|0)){if(U>>>0<A>>>0){var X=g+1|0;g=X;s=((c[X]&255)<<t)+s|0;t=t+8|0}C=((1<<A)-1&s)+C|0;s>>>=A>>>0;var W=t=t-A|0}else W=U;if(15>W>>>0){var Y=g+1|0;g=Y;s=((c[Y]&255)<<t)+s|0;t=t+8|0;var Z=g+1|0;g=Z;s=((c[Z]&255)<<t)+s|0;t=t+8|0}var ba=((z&s)<<2)+v|0;c[d]=c[ba];c[d+1]=c[ba+1];c[d+2]=c[ba+2];for(c[d+3]=c[ba+3];;){A=c[K]&255;s>>>=A>>>0;t=t-A|0;A=
c[L]&255;if(0!=(A&16|0))break;if(0!=(A&64|0)){c[a+24|0]=ca.__str170|0;c[f|0]=29;break a}var da=(((1<<A)-1&s)+(c[M]&65535)<<2)+v|0;c[d]=c[da];c[d+1]=c[da+1];c[d+2]=c[da+2];c[d+3]=c[da+3]}E=c[N]&65535;A&=15;if(t>>>0<A>>>0){var ea=g+1|0;g=ea;s=((c[ea]&255)<<t)+s|0;t=t+8|0;if(!(t>>>0>=A>>>0)){var fa=g+1|0;g=fa;s=((c[fa]&255)<<t)+s|0;t=t+8|0}}E=((1<<A)-1&s)+E|0;s>>>=A>>>0;t=t-A|0;A=k-l|0;if(E>>>0>A>>>0){A=E-A|0;var aa=A>>>0>p>>>0;do if(aa&&0!=(c[f+7104|0]|0)){c[a+24|0]=ca.__str69|0;c[f|0]=29;break a}while(0);
D=r-1|0;var ha=0==(q|0);do if(ha){D=D+(m-A)|0;var ja=C;if(A>>>0>=ja>>>0){var ia=ja;e=40}else{for(C=C-A|0;;){var ka=D+1|0;D=ka;var la=c[ka],ma=k+1|0;k=ma;c[ma]=la;var na=A-1|0;A=na;if(0==(na|0))break}D=k+-E|0;e=39}}else if(q>>>0<A>>>0){D=D+q+m+-A|0;A=A-q|0;var oa=C;if(A>>>0>=oa>>>0)ia=oa,e=40;else{for(C=C-A|0;;){var qa=D+1|0;D=qa;var ta=c[qa],ra=k+1|0;k=ra;c[ra]=ta;var sa=A-1|0;A=sa;if(0==(sa|0))break}D=r-1|0;var va=C;if(q>>>0>=va>>>0)ia=va,e=40;else{A=q;for(C=C-A|0;;){var xa=D+1|0;D=xa;var Ca=c[xa],
za=k+1|0;k=za;c[za]=Ca;var Aa=A-1|0;A=Aa;if(0==(Aa|0))break}D=k+-E|0;e=39}}}else{D=D+(q-A)|0;var Ba=C;if(A>>>0>=Ba>>>0)ia=Ba,e=40;else{for(C=C-A|0;;){var Da=D+1|0;D=Da;var Ea=c[Da],Ja=k+1|0;k=Ja;c[Ja]=Ea;var Ia=A-1|0;A=Ia;if(0==(Ia|0))break}D=k+-E|0;e=39}}while(0);39==e&&(ia=C);var Ka=2<ia>>>0;b:do if(Ka)for(;;){var Ma=D+1|0;D=Ma;var Na=c[Ma],Qa=k+1|0;k=Qa;c[Qa]=Na;var Oa=D+1|0;D=Oa;var Va=c[Oa],Sa=k+1|0;k=Sa;c[Sa]=Va;var Ta=D+1|0;D=Ta;var Za=c[Ta],Wa=k+1|0;k=Wa;c[Wa]=Za;var Xa=C-3|0;C=Xa;if(2>=Xa>>>
0){var $a=Xa;break b}}else $a=C;while(0);if(0!=($a|0)){var bb=D+1|0;D=bb;var db=c[bb],cb=k+1|0;k=cb;c[cb]=db;if(!(1>=C>>>0)){var eb=D+1|0;D=eb;var gb=c[eb],hb=k+1|0;k=hb;c[hb]=gb}}}else{for(D=k+-E|0;;){var jb=D+1|0;D=jb;var fb=c[jb],pb=k+1|0;k=pb;c[pb]=fb;var nb=D+1|0;D=nb;var Pa=c[nb],ob=k+1|0;k=ob;c[ob]=Pa;var rb=D+1|0;D=rb;var mb=c[rb],lb=k+1|0;k=lb;c[lb]=mb;var Db=C-3|0;C=Db;if(2>=Db>>>0)break}if(0!=(C|0)){var Fa=D+1|0;D=Fa;var pa=c[Fa],qb=k+1|0;k=qb;c[qb]=pa;if(!(1>=C>>>0)){var sb=D+1|0;D=sb;
var vb=c[sb],wb=k+1|0;k=wb;c[wb]=vb}}}}while(0);if(g>>>0>=h>>>0)break;if(k>>>0>=n>>>0)break}C=t>>>3;g=g+-C|0;t=t-(C<<3)|0;s&=(1<<t)-1;c[a|0]=g+1|0;c[a+12|0]=k+1|0;c[a+4|0]=g>>>0<h>>>0?h+-g+5|0:-g+- -h+5|0;c[a+16|0]=k>>>0<n>>>0?n+-k+257|0:-k+- -n+257|0;c[f+56|0]=s;c[f+60|0]=t;ya=d}function qa(a){var b,d,e,f,g,h,k;g=244>=a>>>0;do{if(g){e=11>a>>>0?16:a+11&-8;b=e>>>3;f=c[V|0]>>>(b>>>0);if(0!=(f&3|0)){b=b+((f^-1)&1)|0;d=(b<<3)+V+40|0;a=c[d+8|0];g=c[a+8|0];if((d|0)==(g|0))c[V|0]&=1<<b^-1;else if(0!=(1==
(g>>>0>=c[V+16|0]>>>0&1)|0))c[d+8|0]=g,c[g+12|0]=d;else throw la(),"Reached an unreachable!";c[a+4|0]=b<<3|3;d=(b<<3)+a+4|0;c[d]|=1;d=a+8|0;b=39;break}if(e>>>0<=c[V+8|0]>>>0){b=31;break}if(0!=(f|0)){a=(-(1<<b<<1)|1<<b<<1)&f<<b;a&=-a;a=a-1|0;b=d=a>>>12&16;a>>>=d>>>0;d=g=a>>>5&8;b=g+b|0;a>>>=d>>>0;d=g=a>>>2&4;b=g+b|0;a>>>=d>>>0;d=g=a>>>1&2;b=g+b|0;a>>>=d>>>0;d=g=a>>>1&1;b=g+b|0;a>>>=d>>>0;b=a+b|0;d=(b<<3)+V+40|0;a=c[d+8|0];g=c[a+8|0];if((d|0)==(g|0))c[V|0]&=1<<b^-1;else if(0!=(1==(g>>>0>=c[V+16|0]>>>
0&1)|0))c[d+8|0]=g,c[g+12|0]=d;else throw la(),"Reached an unreachable!";b=(b<<3)-e|0;c[a+4|0]=e|3;d=a+e|0;c[d+4|0]=b|1;c[d+b|0]=b;f=g=c[V+8|0];if(0!=(g|0)){g=c[V+20|0];f>>>=3;k=h=(f<<3)+V+40|0;if(0!=(1<<f&c[V|0]|0))if(0!=(1==(c[h+8|0]>>>0>=c[V+16|0]>>>0&1)|0))k=c[h+8|0];else throw la(),"Reached an unreachable!";else c[V|0]|=1<<f;c[h+8|0]=g;c[k+12|0]=g;c[g+8|0]=k;c[g+12|0]=h}c[V+8|0]=b;c[V+20|0]=d;d=a+8|0;b=39;break}if(0==(c[V+4|0]|0)){b=31;break}b=ha(e)}else{if(4294967232<=a>>>0){e=-1;b=31;break}e=
a+11&-8;if(0==(c[V+4|0]|0)){b=31;break}b=Wa(e)}d=b;b=0!=(b|0)?39:31}while(0);31==b&&(e>>>0<=c[V+8|0]>>>0?(d=c[V+8|0]-e|0,a=c[V+20|0],16<=d>>>0?(b=a+e|0,c[V+20|0]=b,c[V+8|0]=d,c[b+4|0]=d|1,c[b+d|0]=d,c[a+4|0]=e|3):(e=c[V+8|0],c[V+8|0]=0,c[V+20|0]=0,c[a+4|0]=e|3,e=e+(a+4)|0,c[e]|=1),d=a+8|0):(a=e,e>>>0<c[V+12|0]>>>0?(d=c[V+12|0]-a|0,c[V+12|0]=d,a=c[V+24|0],b=a+e|0,c[V+24|0]=b,c[b+4|0]=d|1,c[a+4|0]=e|3,d=a+8|0):d=cb(a)));return d}function ha(a){var b,d,e,f,g,h,k,l,n;b=V;e=(-c[b+4|0]&c[b+4|0])-1|0;f=
d=e>>>12&16;e>>>=d>>>0;d=e>>>5&8;e>>>=d>>>0;g=e>>>2&4;e>>>=g>>>0;h=e>>>1&2;e>>>=h>>>0;n=e>>>1&1;d=e=c[(((e>>>(n>>>0))+(n+(h+(g+(d+f|0)|0)|0)|0)|0)<<2)+b+304|0];for(f=(c[d+4|0]&-8)-a|0;;){g=d+16|0;d=g=0!=(c[d+16|0]|0)?c[g|0]:c[g+4|0];if(0==(g|0))break;g=(c[d+4|0]&-8)-a|0;g>>>0>=f>>>0||(f=g,e=d)}g=0!=(1==(e>>>0>=c[b+16|0]>>>0&1)|0);do if(g&&(d=e+a|0,0!=(1==(e>>>0<d>>>0&1)|0))){h=c[e+24|0];n=(c[e+12|0]|0)!=(e|0);var m=e;do if(n)if(k=c[m+8|0],g=c[e+12|0],0!=(1==(k>>>0>=c[b+16|0]>>>0&1)|0))c[k+12|0]=g,
c[g+8|0]=k;else throw la(),"Reached an unreachable!";else if(k=g=m+20|0,g=l=c[g],0!=(l|0)||(k=g=e+16|0,g=l=c[g],0!=(l|0))){for(;;){var p=g+20|0;l=p;if(0==(c[p]|0)&&(l=p=g+16|0,0==(c[p]|0)))break;k=g=l;g=c[g]}if(0!=(1==(k>>>0>=c[b+16|0]>>>0&1)|0))c[k]=0;else throw la(),"Reached an unreachable!";}while(0);if(0!=(h|0)){n=(c[e+28|0]<<2)+b+304|0;if((e|0)==(c[n]|0))m=g,c[n]=m,0==(m|0)&&(n=b+4|0,c[n]&=1<<c[e+28|0]^-1);else if(0!=(1==(h>>>0>=c[b+16|0]>>>0&1)|0))n=g,m=h+16|0,(c[h+16|0]|0)==(e|0)?c[m|0]=n:
c[m+4|0]=n;else throw la(),"Reached an unreachable!";if(0!=(g|0))if(0!=(1==(g>>>0>=c[b+16|0]>>>0&1)|0)){c[g+24|0]=h;h=n=c[e+16|0];if(0!=(n|0))if(0!=(1==(h>>>0>=c[b+16|0]>>>0&1)|0))c[g+16|0]=h,c[h+24|0]=g;else throw la(),"Reached an unreachable!";h=n=c[e+20|0];if(0!=(n|0))if(0!=(1==(h>>>0>=c[b+16|0]>>>0&1)|0))c[g+20|0]=h,c[h+24|0]=g;else throw la(),"Reached an unreachable!";}else throw la(),"Reached an unreachable!";}if(16>f>>>0)c[e+4|0]=a+f|3,b=f+(a+(e+4))|0,c[b]|=1;else{c[e+4|0]=a|3;c[d+4|0]=f|1;
c[d+f|0]=f;g=c[b+8|0];if(0!=(g|0)){a=c[b+20|0];g>>>=3;n=h=(g<<3)+b+40|0;if(0!=(1<<g&c[b|0]|0))if(0!=(1==(c[h+8|0]>>>0>=c[b+16|0]>>>0&1)|0))n=c[h+8|0];else throw la(),"Reached an unreachable!";else m=b|0,c[m]|=1<<g;c[h+8|0]=a;c[n+12|0]=a;c[a+8|0]=n;c[a+12|0]=h}c[b+8|0]=f;c[b+20|0]=d}return e+8|0}while(0);la();throw"Reached an unreachable!";}function Wa(a){var b,d,e,f,g,h,k,l,n,m,p,q,r;e=V;f=0;g=-a|0;h=a>>>8;0==(h|0)?k=0:65535<h>>>0?k=31:(k=h,h=(k-256|0)>>>16&8,r=k<<h,k=(r-4096|0)>>>16&4,h=h+k|0,k=
r<<k,r=(k-16384|0)>>>16&2,k=-(r+h|0)+(k<<r>>>15)+14|0,k=(k<<1)+(a>>>((k+7|0)>>>0)&1)|0);h=r=c[(k<<2)+e+304|0];r=0!=(r|0);do if(r){b=a<<(31==(k|0)?0:-(k>>>1)+25|0);for(l=0;;){m=(c[h+4|0]&-8)-a|0;if(m>>>0<g>>>0&&(f=n=h,g=m,0==(m|0))){p=n;break}n=c[h+20|0];h=m=c[((b>>>31&1)<<2)+h+16|0];0!=(n|0)?(m=h,(n|0)==(m|0)?n=m:(l=n,n=h)):n=m;if(0==(n|0)){h=p=l;break}b<<=1}b=0==(p|0)?18:21}else b=18;while(0);18==b&&(0!=(f|0)?b=21:(p=(-(1<<k<<1)|1<<k<<1)&c[e+4|0],0==(p|0)?b=21:(q=(-p&p)-1|0,h=p=q>>>12&16,q>>>=p>>>
0,p=q>>>5&8,q>>>=p>>>0,k=q>>>2&4,q>>>=k>>>0,r=q>>>1&2,q>>>=r>>>0,b=q>>>1&1,h=q=c[(((q>>>(b>>>0))+(b+(r+(k+(p+h|0)|0)|0)|0)|0)<<2)+e+304|0],b=22)));21==b&&(q=h);q=0!=(q|0);a:do if(q)for(;;)if(p=(c[h+4|0]&-8)-a|0,p>>>0<g>>>0&&(g=p,f=h),p=h+16|0,h=p=0!=(c[h+16|0]|0)?c[p|0]:c[p+4|0],0==(p|0))break a;while(0);q=0!=(f|0);a:do{if(q){if(g>>>0>=(c[e+8|0]-a|0)>>>0){b=97;break}q=0!=(1==(f>>>0>=c[e+16|0]>>>0&1)|0);do if(q&&(d=f+a|0,0!=(1==(f>>>0<d>>>0&1)|0))){h=c[f+24|0];p=(c[f+12|0]|0)!=(f|0);k=f;do if(p)if(r=
c[k+8|0],q=c[f+12|0],0!=(1==(r>>>0>=c[e+16|0]>>>0&1)|0))c[r+12|0]=q,c[q+8|0]=r;else throw la(),"Reached an unreachable!";else if(r=q=k+20|0,q=b=c[q],0!=(b|0)||(r=q=f+16|0,q=b=c[q],0!=(b|0))){for(;;){b=l=q+20|0;if(0==(c[l]|0)&&(b=l=q+16|0,0==(c[l]|0)))break;r=q=b;q=c[q]}if(0!=(1==(r>>>0>=c[e+16|0]>>>0&1)|0))c[r]=0;else throw la(),"Reached an unreachable!";}while(0);if(0!=(h|0)){p=(c[f+28|0]<<2)+e+304|0;if((f|0)==(c[p]|0))k=q,c[p]=k,0==(k|0)&&(p=e+4|0,c[p]&=1<<c[f+28|0]^-1);else if(0!=(1==(h>>>0>=c[e+
16|0]>>>0&1)|0))p=q,k=h+16|0,(c[h+16|0]|0)==(f|0)?c[k|0]=p:c[k+4|0]=p;else throw la(),"Reached an unreachable!";if(0!=(q|0))if(0!=(1==(q>>>0>=c[e+16|0]>>>0&1)|0)){c[q+24|0]=h;h=p=c[f+16|0];if(0!=(p|0))if(0!=(1==(h>>>0>=c[e+16|0]>>>0&1)|0))c[q+16|0]=h,c[h+24|0]=q;else throw la(),"Reached an unreachable!";h=p=c[f+20|0];if(0!=(p|0))if(0!=(1==(h>>>0>=c[e+16|0]>>>0&1)|0))c[q+20|0]=h,c[h+24|0]=q;else throw la(),"Reached an unreachable!";}else throw la(),"Reached an unreachable!";}q=16>g>>>0;b:do if(q)c[f+
4|0]=a+g|3,h=g+(a+(f+4))|0,c[h]|=1;else if(c[f+4|0]=a|3,c[d+4|0]=g|1,c[d+g|0]=g,32>g>>>3>>>0){h=g>>>3;k=p=(h<<3)+e+40|0;if(0!=(1<<h&c[e|0]|0))if(0!=(1==(c[p+8|0]>>>0>=c[e+16|0]>>>0&1)|0))k=c[p+8|0];else throw la(),"Reached an unreachable!";else r=e|0,c[r]|=1<<h;c[p+8|0]=d;c[k+12|0]=d;c[d+8|0]=k;c[d+12|0]=p}else if(h=d,p=g>>>8,0==(p|0)?k=0:65535<p>>>0?k=31:(k=(p-256|0)>>>16&8,p=r=p<<k,r=(r-4096|0)>>>16&4,k=k+r|0,p=r=p<<r,r=b=(r-16384|0)>>>16&2,k=b+k|0,r=-k+(p<<r>>>15)+14|0,k=(r<<1)+(g>>>((r+7|0)>>>
0)&1)|0),p=(k<<2)+e+304|0,c[h+28|0]=k,c[h+20|0]=0,c[h+16|0]=0,0!=(1<<k&c[e+4|0]|0))for(p=c[p],k=g<<(31==(k|0)?0:-(k>>>1)+25|0);;)if((c[p+4|0]&-8|0)!=(g|0))if(r=((k>>>31&1)<<2)+p+16|0,k<<=1,b=r,0!=(c[r]|0))p=c[b];else{if(0!=(1==(b>>>0>=c[e+16|0]>>>0&1)|0)){c[r]=h;c[h+24|0]=p;e=h;c[h+12|0]=e;c[h+8|0]=e;break b}la();throw"Reached an unreachable!";}else{a=c[p+8|0];if(0!=(1==((p>>>0>=c[e+16|0]>>>0?a>>>0>=c[e+16|0]>>>0:0)&1)|0)){e=h;c[a+12|0]=e;c[p+8|0]=e;c[h+8|0]=a;c[h+12|0]=p;c[h+24|0]=0;break b}la();
throw"Reached an unreachable!";}else r=e+4|0,c[r]|=1<<k,c[p]=h,c[h+24|0]=p,p=h,c[h+12|0]=p,c[h+8|0]=p;while(0);d=f+8|0;b=98;break a}while(0);la();throw"Reached an unreachable!";}b=97}while(0);97==b&&(d=0);return d}function cb(a){var b,d,e,f,g,h,k,l,n,m,p;e=V;f=-1;g=0;0==(c[Va|0]|0)&&Na();n=0!=(c[e+440|0]&4|0);a:do{if(!n){h=-1;if(0==(c[e+24|0]|0))k=0,b=6;else if(b=l=Ja(e,c[e+24|0]),k=0,0==(l|0))b=6;else if(k=(c[Va+8|0]-1^-1)&a+-c[e+12|0]+c[Va+8|0]+47,2147483647<=k>>>0)b=16;else if(h=l=bb(k),(l|0)!=
(c[b|0]+c[b+4|0]|0))b=16;else{var q=h;f=q;g=k;b=17}6==b&&(b=l=bb(0),-1==(l|0)?b=16:(k=(c[Va+8|0]-1^-1)&a+c[Va+8|0]+47,0==(c[Va+4|0]-1&b|0)?l=k:k=l=(b-1+c[Va+4|0]&(c[Va+4|0]-1^-1))-b+k|0,2147483647<=l>>>0?b=16:(h=l=bb(k),(l|0)!=(b|0)?b=16:(f=q=b,g=k,b=17))));16==b&&(q=f);if(-1==(q|0)){var r=-1!=(h|0);b:do if(r){var s=2147483647>k>>>0;do if(!(!s||k>>>0>=(a+48|0)>>>0||(b=(c[Va+8|0]-1^-1)&a+-k+c[Va+8|0]+47,2147483647<=b>>>0))){l=bb(b);if(-1==(l|0)){bb(-k|0);break b}k=k+b|0}while(0);if(-1!=(h|0)){f=n=
h;g=k;m=n;b=29;break a}}while(0);k=e+440|0;c[k]|=4}}b=28}while(0);28==b&&(m=f);if(-1==(m|0))if(k=(c[Va+8|0]-1^-1)&a+c[Va+8|0]+47,2147483647<=k>>>0)b=36;else if(k=bb(k),n=bb(0),-1==(k|0))b=36;else if(-1==(n|0))b=36;else if(k>>>0>=n>>>0)b=36;else if(n=n-k|0,n>>>0<=(a+40|0)>>>0)b=36;else{f=k;g=n;var t=k;b=37}else b=36;36==b&&(t=f);t=-1!=(t|0);a:do if(t){k=e+432|0;n=c[k]+g|0;c[k]=n;n>>>0>c[e+436|0]>>>0&&(c[e+436|0]=c[e+432|0]);k=0!=(c[e+24|0]|0);n=e;b:do if(k){for(m=h=n+444|0;;){if(0==(h|0)){p=m;break}h=
m;if((f|0)==(c[m|0]+c[m+4|0]|0)){p=h;break}m=h=c[h+8|0]}h=0!=(p|0);do if(h&&0==(c[m+12|0]&8|0)&&c[e+24|0]>>>0>=c[m|0]>>>0&&!(c[e+24|0]>>>0>=(c[m|0]+c[m+4|0]|0)>>>0)){k=m+4|0;c[k]=c[k]+g|0;Za(e,c[e+24|0],g+c[e+12|0]|0);break b}while(0);f>>>0<c[e+16|0]>>>0&&(c[e+16|0]=f);for(q=m=e+444|0;;){h=m;if(0==(q|0)){var u=h;break}q=m;if((c[h|0]|0)==(f+g|0)){u=q;break}q=m=c[q+8|0]}h=0!=(u|0);do if(h&&0==(c[m+12|0]&8|0)){p=c[m|0];c[m|0]=f;u=m+4|0;c[u]=c[u]+g|0;d=eb(e,f,p,a);b=72;break a}while(0);Bb(e,f,g,0)}else{b=
0==(c[n+16|0]|0)?43:f>>>0<c[e+16|0]>>>0?43:44;43==b&&(c[e+16|0]=f);c[e+444|0]=f;c[e+448|0]=g;c[e+456|0]=0;c[e+36|0]=c[Va|0];c[e+32|0]=-1;m=e;q=void 0;for(h=0;!(b=q=(h<<3)+m+40|0,c[q+12|0]=b,c[q+8|0]=b,h=q=h+1|0,32<=q>>>0););m=e;(e|0)==(V|0)?Za(m,f,g-40|0):(m=m-8+(c[e-8+4|0]&-8)|0,Za(e,m,f+g-40+-m|0))}while(0);a>>>0>=c[e+12|0]>>>0?b=71:(d=e+12|0,k=c[d]-a|0,d=c[d]=k,k=c[e+24|0],n=k+a|0,c[e+24|0]=n,c[n+4|0]=d|1,c[k+4|0]=a|3,d=k+8|0,b=72)}else b=71;while(0);71==b&&(c[sa.ret]=12,d=0);return d}function Xa(a){var b,
d,e,f,g,h,k,l,n,m,p,q,r,s,t,u,v,w,A,z,C,D,E,G,F,H,I,J,K,L,M,N,O,P,Q,S,R,T,U,X,W,Y,Z,ba,ca,da,ea,fa=0!=(a|0);a:do if(fa){d=a-8|0;var aa=0!=(1==((d>>>0>=c[V+16|0]>>>0?1!=(c[d+4|0]&3|0):0)&1)|0);b:do if(aa){e=c[d+4|0]&-8;f=d+e|0;var ha=0!=(c[d+4|0]&1|0);do if(!ha){g=c[d|0];if(0==(c[d+4|0]&3|0)){e=e+(g+16)|0;break a}h=d+-g|0;e=e+g|0;d=h;if(0==(1==(h>>>0>=c[V+16|0]>>>0&1)|0))break b;if((d|0)==(c[V+20|0]|0)){if(3!=(c[f+4|0]&3|0))break;c[V+8|0]=e;c[f+4|0]&=-2;c[d+4|0]=e|1;c[d+e|0]=e;break a}var ia=d;if(32>
g>>>3>>>0)if(k=c[ia+8|0],l=c[d+12|0],n=g>>>3,(k|0)==(l|0))c[V|0]&=1<<n^-1;else{if((k|0)==((n<<3)+V+40|0))b=14;else if(k>>>0>=c[V+16|0]>>>0)b=14;else{var ja=0;b=16}14==b&&(ja=(l|0)==((n<<3)+V+40|0)?1:l>>>0>=c[V+16|0]>>>0);if(0!=(1==(ja&1)|0))c[k+12|0]=l,c[l+8|0]=k;else throw la(),"Reached an unreachable!";}else{m=ia;p=c[m+24|0];var ka=(c[m+12|0]|0)!=(m|0),ma=m;do if(ka)if(r=c[ma+8|0],q=c[m+12|0],0!=(1==(r>>>0>=c[V+16|0]>>>0&1)|0))c[r+12|0]=q,c[q+8|0]=r;else throw la(),"Reached an unreachable!";else{var na=
ma+20|0;s=na;var oa=c[na];q=oa;if(0!=(oa|0))b=25;else{var qa=m+16|0;s=qa;var ra=c[qa];q=ra;if(0==(ra|0))break}for(;;){var sa=q+20|0;t=sa;if(0==(c[sa]|0)){var ta=q+16|0;t=ta;if(0==(c[ta]|0))break}var va=t;s=va;q=c[va]}if(0!=(1==(s>>>0>=c[V+16|0]>>>0&1)|0))c[s]=0;else throw la(),"Reached an unreachable!";}while(0);if(0!=(p|0)){u=(c[m+28|0]<<2)+V+304|0;if((m|0)==(c[u]|0)){var xa=q;c[u]=xa;0==(xa|0)&&(c[V+4|0]&=1<<c[m+28|0]^-1)}else if(0!=(1==(p>>>0>=c[V+16|0]>>>0&1)|0)){var ya=q,za=p+16|0;(c[p+16|0]|
0)==(m|0)?c[za|0]=ya:c[za+4|0]=ya}else throw la(),"Reached an unreachable!";if(0!=(q|0))if(0!=(1==(q>>>0>=c[V+16|0]>>>0&1)|0)){c[q+24|0]=p;var Aa=c[m+16|0];v=Aa;if(0!=(Aa|0))if(0!=(1==(v>>>0>=c[V+16|0]>>>0&1)|0))c[q+16|0]=v,c[v+24|0]=q;else throw la(),"Reached an unreachable!";var Ba=c[m+20|0];w=Ba;if(0!=(Ba|0))if(0!=(1==(w>>>0>=c[V+16|0]>>>0&1)|0))c[q+20|0]=w,c[w+24|0]=q;else throw la(),"Reached an unreachable!";}else throw la(),"Reached an unreachable!";}}}while(0);if(0!=(1==((d>>>0<f>>>0?0!=(c[f+
4|0]&1|0):0)&1)|0)){var Da=0!=(c[f+4|0]&2|0),Ea=f;do if(Da)c[Ea+4|0]&=-2,c[d+4|0]=e|1,c[d+e|0]=e;else{if((Ea|0)==(c[V+24|0]|0)){A=c[V+12|0]=c[V+12|0]+e|0;c[V+24|0]=d;c[d+4|0]=A|1;(d|0)==(c[V+20|0]|0)&&(c[V+20|0]=0,c[V+8|0]=0);if(A>>>0<=c[V+28|0]>>>0)break a;Ca();break a}if((f|0)==(c[V+20|0]|0)){z=c[V+8|0]=c[V+8|0]+e|0;c[V+20|0]=d;c[d+4|0]=z|1;c[d+z|0]=z;break a}C=c[f+4|0]&-8;e=e+C|0;var Ja=32>C>>>3>>>0,Ia=f;do if(Ja)if(D=c[Ia+8|0],E=c[f+12|0],G=C>>>3,(D|0)==(E|0))c[V|0]&=1<<G^-1;else{if((D|0)==((G<<
3)+V+40|0))b=69;else if(D>>>0>=c[V+16|0]>>>0)b=69;else{var Ka=0;b=71}69==b&&(Ka=(E|0)==((G<<3)+V+40|0)?1:E>>>0>=c[V+16|0]>>>0);if(0!=(1==(Ka&1)|0))c[D+12|0]=E,c[E+8|0]=D;else throw la(),"Reached an unreachable!";}else{F=Ia;H=c[F+24|0];var Ma=(c[F+12|0]|0)!=(F|0),Na=F;do if(Ma)if(J=c[Na+8|0],I=c[F+12|0],0!=(1==(J>>>0>=c[V+16|0]>>>0&1)|0))c[J+12|0]=I,c[I+8|0]=J;else throw la(),"Reached an unreachable!";else{var Oa=Na+20|0;K=Oa;var Qa=c[Oa];I=Qa;if(0!=(Qa|0))b=80;else{var Sa=F+16|0;K=Sa;var Ta=c[Sa];
I=Ta;if(0==(Ta|0))break}for(;;){var Va=I+20|0;L=Va;if(0==(c[Va]|0)){var Wa=I+16|0;L=Wa;if(0==(c[Wa]|0))break}var Xa=L;K=Xa;I=c[Xa]}if(0!=(1==(K>>>0>=c[V+16|0]>>>0&1)|0))c[K]=0;else throw la(),"Reached an unreachable!";}while(0);if(0!=(H|0)){M=(c[F+28|0]<<2)+V+304|0;if((F|0)==(c[M]|0)){var Za=I;c[M]=Za;0==(Za|0)&&(c[V+4|0]&=1<<c[F+28|0]^-1)}else if(0!=(1==(H>>>0>=c[V+16|0]>>>0&1)|0)){var $a=I,bb=H+16|0;(c[H+16|0]|0)==(F|0)?c[bb|0]=$a:c[bb+4|0]=$a}else throw la(),"Reached an unreachable!";if(0!=(I|
0))if(0!=(1==(I>>>0>=c[V+16|0]>>>0&1)|0)){c[I+24|0]=H;var cb=c[F+16|0];N=cb;if(0!=(cb|0))if(0!=(1==(N>>>0>=c[V+16|0]>>>0&1)|0))c[I+16|0]=N,c[N+24|0]=I;else throw la(),"Reached an unreachable!";var db=c[F+20|0];O=db;if(0!=(db|0))if(0!=(1==(O>>>0>=c[V+16|0]>>>0&1)|0))c[I+20|0]=O,c[O+24|0]=I;else throw la(),"Reached an unreachable!";}else throw la(),"Reached an unreachable!";}}while(0);c[d+4|0]=e|1;c[d+e|0]=e;if((d|0)==(c[V+20|0]|0)){c[V+8|0]=e;break a}}while(0);if(32>e>>>3>>>0){P=e>>>3;S=Q=(P<<3)+V+
40|0;if(0!=(1<<P&c[V|0]|0))if(0!=(1==(c[Q+8|0]>>>0>=c[V+16|0]>>>0&1)|0))S=c[Q+8|0];else throw la(),"Reached an unreachable!";else c[V|0]|=1<<P;c[Q+8|0]=d;c[S+12|0]=d;c[d+8|0]=S;c[d+12|0]=Q;break a}R=d;X=e>>>8;if(0==(X|0))U=0;else if(65535<X>>>0)U=31;else{W=X;Y=(W-256|0)>>>16&8;var eb=W<<Y;W=eb;Z=(eb-4096|0)>>>16&4;Y=Y+Z|0;var gb=W<<Z;W=gb;var hb=(gb-16384|0)>>>16&2;Z=hb;Y=hb+Y|0;var jb=W<<Z;W=jb;Z=-Y+(jb>>>15)+14|0;U=(Z<<1)+(e>>>((Z+7|0)>>>0)&1)|0}T=(U<<2)+V+304|0;c[R+28|0]=U;c[R+20|0]=0;c[R+16|0]=
0;var pb=0!=(1<<U&c[V+4|0]|0);c:do if(pb)for(ba=c[T],ca=e<<(31==(U|0)?0:-(U>>>1)+25|0);;)if((c[ba+4|0]&-8|0)!=(e|0)){da=((ca>>>31&1)<<2)+ba+16|0;ca<<=1;var fb=da;if(0!=(c[da]|0))ba=c[fb];else{if(0!=(1==(fb>>>0>=c[V+16|0]>>>0&1)|0)){c[da]=R;c[R+24|0]=ba;var ob=R;c[R+12|0]=ob;c[R+8|0]=ob;break c}la();throw"Reached an unreachable!";}}else{ea=c[ba+8|0];if(0!=(1==((ba>>>0>=c[V+16|0]>>>0?ea>>>0>=c[V+16|0]>>>0:0)&1)|0)){var nb=R;c[ea+12|0]=nb;c[ba+8|0]=nb;c[R+8|0]=ea;c[R+12|0]=ba;c[R+24|0]=0;break c}la();
throw"Reached an unreachable!";}else{c[V+4|0]|=1<<U;c[T]=R;c[R+24|0]=T;var Pa=R;c[R+12|0]=Pa;c[R+8|0]=Pa}while(0);var rb=c[V+32|0]-1|0;c[V+32|0]=rb;if(0!=(rb|0))break a;var qb=void 0,mb=void 0,lb=void 0,qb=V,mb=0,sb=c[(qb+444|0)+8|0],lb=sb,Fa=0!=(sb|0);c:do if(Fa)for(;;){var pa=c[lb+8|0],mb=mb+1|0,lb=pa;if(0==(pa|0))break c}while(0);c[qb+32|0]=4294967295<mb>>>0?mb:-1;break a}}while(0);la();throw"Reached an unreachable!";}while(0)}function Ja(a,b){var d,e;e=a+444|0;a:for(;;){var f=b>>>0>=c[e|0]>>>
0;do if(f&&!(b>>>0>=(c[e|0]+c[e+4|0]|0)>>>0)){d=e;break a}while(0);e=f=c[e+8|0];if(0==(f|0)){d=0;break}}return d}function Za(a,b,d){var e;e=0==(b+8&7|0)?0:8-(b+8&7)&7;b=b+e|0;d=d-e|0;c[a+24|0]=b;c[a+12|0]=d;c[b+4|0]=d|1;c[d+(b+4)|0]=40;c[a+28|0]=c[Va+16|0]}function Ca(){var a,b,d,e,f,g;b=V;e=d=0;0==(c[Va|0]|0)&&Na();if(4294967232>d>>>0&&0!=(c[b+24|0]|0)){d=d+40|0;if(c[b+12|0]>>>0>d>>>0){a=c[Va+8|0];f=(Math.floor(((c[b+12|0]-1+-d+a|0)>>>0)/(a>>>0))-1)*a|0;d=Ja(b,c[b+24|0]);if(0!=(c[d+12|0]&8|0))a=
12;else if(2147483647<=f>>>0&&(f=-2147483648-a|0),a=bb(0),(a|0)!=(c[d|0]+c[d+4|0]|0))a=12;else if(f=bb(-f|0),g=bb(0),-1==(f|0))a=12;else if(g>>>0>=a>>>0)a=12;else{var h=a-g|0;e=h;a=13}12==a&&(h=e);0!=(h|0)&&(d=d+4|0,c[d]=c[d]-e|0,d=b+432|0,c[d]=c[d]-e|0,Za(b,c[b+24|0],c[b+12|0]-e|0))}0==(e|0)&&(c[b+12|0]>>>0<=c[b+28|0]>>>0||(c[b+28|0]=-1))}}function Na(){var a,b;a=0==(c[Va|0]|0);a:do if(a){b=a=kc(8);var d=0!=(b-1&b|0);do if(!d&&0==(a-1&a|0)){c[Va+8|0]=b;c[Va+4|0]=a;c[Va+12|0]=-1;c[Va+16|0]=2097152;
c[Va+20|0]=0;c[V+440|0]=c[Va+20|0];a=Math.floor(Date.now()/1E3)^1431655765;a|=8;a&=-8;c[Va|0]=a;break a}while(0);la();throw"Reached an unreachable!";}while(0)}function eb(a,b,d,e){var f,g,h,k,l,n,m,p,q,r,s,t;b=b+(0==(b+8&7|0)?0:8-(b+8&7)&7)|0;d=d+(0==(d+8&7|0)?0:8-(d+8&7)&7)|0;g=b+e|0;h=(d-b|0)-e|0;c[b+4|0]=e|3;e=(d|0)==(c[a+24|0]|0);a:do if(e)k=a+12|0,r=c[k]+h|0,k=c[k]=r,c[a+24|0]=g,c[g+4|0]=k|1;else if((d|0)==(c[a+20|0]|0))k=a+8|0,r=c[k]+h|0,k=c[k]=r,c[a+20|0]=g,c[g+4|0]=k|1,c[g+k|0]=k;else{if(1==
(c[d+4|0]&3|0)){k=c[d+4|0]&-8;r=32>k>>>3>>>0;s=d;do if(r)if(l=c[s+8|0],n=c[d+12|0],m=k>>>3,(l|0)==(n|0))f=a|0,c[f]&=1<<m^-1;else if((l|0)==((m<<3)+a+40|0)?f=14:l>>>0>=c[a+16|0]>>>0?f=14:(t=0,f=16),14==f&&(t=(n|0)==((m<<3)+a+40|0)?1:n>>>0>=c[a+16|0]>>>0),0!=(1==(t&1)|0))c[l+12|0]=n,c[n+8|0]=l;else throw la(),"Reached an unreachable!";else{m=s;l=c[m+24|0];n=(c[m+12|0]|0)!=(m|0);var u=m;do if(n)if(p=c[u+8|0],f=c[m+12|0],0!=(1==(p>>>0>=c[a+16|0]>>>0&1)|0))c[p+12|0]=f,c[f+8|0]=p;else throw la(),"Reached an unreachable!";
else if(p=f=u+20|0,f=q=c[f],0!=(q|0)||(p=f=m+16|0,f=q=c[f],0!=(q|0))){for(;;){var v=f+20|0;q=v;if(0==(c[v]|0)&&(q=v=f+16|0,0==(c[v]|0)))break;p=f=q;f=c[f]}if(0!=(1==(p>>>0>=c[a+16|0]>>>0&1)|0))c[p]=0;else throw la(),"Reached an unreachable!";}while(0);if(0!=(l|0)){n=(c[m+28|0]<<2)+a+304|0;if((m|0)==(c[n]|0))u=f,c[n]=u,0==(u|0)&&(n=a+4|0,c[n]&=1<<c[m+28|0]^-1);else if(0!=(1==(l>>>0>=c[a+16|0]>>>0&1)|0))n=f,u=l+16|0,(c[l+16|0]|0)==(m|0)?c[u|0]=n:c[u+4|0]=n;else throw la(),"Reached an unreachable!";
if(0!=(f|0))if(0!=(1==(f>>>0>=c[a+16|0]>>>0&1)|0)){c[f+24|0]=l;l=n=c[m+16|0];if(0!=(n|0))if(0!=(1==(l>>>0>=c[a+16|0]>>>0&1)|0))c[f+16|0]=l,c[l+24|0]=f;else throw la(),"Reached an unreachable!";m=l=c[m+20|0];if(0!=(l|0))if(0!=(1==(m>>>0>=c[a+16|0]>>>0&1)|0))c[f+20|0]=m,c[m+24|0]=f;else throw la(),"Reached an unreachable!";}else throw la(),"Reached an unreachable!";}}while(0);d=d+k|0;h=h+k|0}k=d+4|0;c[k]&=-2;c[g+4|0]=h|1;c[g+h|0]=h;if(32>h>>>3>>>0){k=h>>>3;s=r=(k<<3)+a+40|0;if(0!=(1<<k&c[a|0]|0))if(0!=
(1==(c[r+8|0]>>>0>=c[a+16|0]>>>0&1)|0))s=c[r+8|0];else throw la(),"Reached an unreachable!";else m=a|0,c[m]|=1<<k;c[r+8|0]=g;c[s+12|0]=g;c[g+8|0]=s;c[g+12|0]=r}else if(k=g,r=h>>>8,0==(r|0)?s=0:65535<r>>>0?s=31:(s=(r-256|0)>>>16&8,r=m=r<<s,m=(m-4096|0)>>>16&4,s=s+m|0,r=m=r<<m,m=f=(m-16384|0)>>>16&2,s=f+s|0,m=-s+(r<<m>>>15)+14|0,s=(m<<1)+(h>>>((m+7|0)>>>0)&1)|0),r=(s<<2)+a+304|0,c[k+28|0]=s,c[k+20|0]=0,c[k+16|0]=0,0!=(1<<s&c[a+4|0]|0))for(r=c[r],s=h<<(31==(s|0)?0:-(s>>>1)+25|0);;)if((c[r+4|0]&-8|0)!=
(h|0))if(m=((s>>>31&1)<<2)+r+16|0,s<<=1,f=m,0!=(c[m]|0))r=c[f];else{if(0!=(1==(f>>>0>=c[a+16|0]>>>0&1)|0)){c[m]=k;c[k+24|0]=r;a=k;c[k+12|0]=a;c[k+8|0]=a;break a}la();throw"Reached an unreachable!";}else{t=c[r+8|0];if(0!=(1==((r>>>0>=c[a+16|0]>>>0?t>>>0>=c[a+16|0]>>>0:0)&1)|0)){a=k;c[t+12|0]=a;c[r+8|0]=a;c[k+8|0]=t;c[k+12|0]=r;c[k+24|0]=0;break a}la();throw"Reached an unreachable!";}else m=a+4|0,c[m]|=1<<s,c[r]=k,c[k+24|0]=r,r=k,c[k+12|0]=r,c[k+8|0]=r}while(0);return b+8|0}function Bb(a,b,d,e){var f,
g,h,k,l;f=c[a+24|0];g=Ja(a,f);h=c[g|0]+c[g+4|0]|0;g=h+-47|0;g=g+(0==(g+8&7|0)?0:8-(g+8&7)&7)|0;g=g>>>0<(f+16|0)>>>0?f:g;k=g+8|0;l=g+24|0;Za(a,b,d-40|0);c[g+4|0]=27;for(var m=a+444|0,n=k,p=m+16;m<p;m++,n++)c[n]=c[m];c[a+444|0]=b;c[a+448|0]=d;c[a+456|0]=e;c[a+452|0]=k;b=l+4|0;c[l+4|0]=7;d=(b+4|0)>>>0<h>>>0;a:do if(d)for(;;)if(l=b,b=l+4|0,c[l+4|0]=7,(b+4|0)>>>0>=h>>>0)break a;while(0);h=(g|0)!=(f|0);a:do if(h)if(b=f,d=g-f|0,e=b+d|0,e=e+4|0,c[e]&=-2,c[b+4|0]=d|1,c[b+d|0]=d,32>d>>>3>>>0){d>>>=3;l=e=(d<<
3)+a+40|0;if(0!=(1<<d&c[a|0]|0))if(0!=(1==(c[e+8|0]>>>0>=c[a+16|0]>>>0&1)|0))l=c[e+8|0];else throw la(),"Reached an unreachable!";else k=a|0,c[k]|=1<<d;c[e+8|0]=b;c[l+12|0]=b;c[b+8|0]=l;c[b+12|0]=e}else if(e=d>>>8,0==(e|0)?l=0:65535<e>>>0?l=31:(l=(e-256|0)>>>16&8,e=k=e<<l,k=(k-4096|0)>>>16&4,l=l+k|0,e=k=e<<k,k=m=(k-16384|0)>>>16&2,l=m+l|0,k=-l+(e<<k>>>15)+14|0,l=(k<<1)+(d>>>((k+7|0)>>>0)&1)|0),e=(l<<2)+a+304|0,c[b+28|0]=l,c[b+20|0]=0,c[b+16|0]=0,0!=(1<<l&c[a+4|0]|0))for(e=c[e],l=d<<(31==(l|0)?0:-(l>>>
1)+25|0);;)if((c[e+4|0]&-8|0)!=(d|0))if(k=((l>>>31&1)<<2)+e+16|0,l<<=1,m=k,0!=(c[k]|0))e=c[m];else{if(0!=(1==(m>>>0>=c[a+16|0]>>>0&1)|0)){c[k]=b;c[b+24|0]=e;a=b;c[b+12|0]=a;c[b+8|0]=a;break a}la();throw"Reached an unreachable!";}else{f=c[e+8|0];if(0!=(1==((e>>>0>=c[a+16|0]>>>0?f>>>0>=c[a+16|0]>>>0:0)&1)|0)){a=b;c[f+12|0]=a;c[e+8|0]=a;c[b+8|0]=f;c[b+12|0]=e;c[b+24|0]=0;break a}la();throw"Reached an unreachable!";}else d=a+4|0,c[d]|=1<<l,c[e]=b,c[b+24|0]=e,d=b,c[b+12|0]=d,c[b+8|0]=d;while(0)}function sa(a){sa.ret||
(sa.ret=g([0],"i32",da));return c[sa.ret]=a}function qb(a,b,d,e){var f=oa.streams[a];if(!f||f.object.isDevice)return sa(rb),-1;if(f.isRead){if(f.object.isFolder)return sa(Eb),-1;if(0>d||0>e)return sa(mb),-1;for(a=0;f.ungotten.length&&0<d;)c[b++]=f.ungotten.pop(),d--,a++;f=f.object.contents;d=Math.min(f.length-e,d);for(var g=0;g<d;g++)c[b+g]=f[e+g],a++;return a}sa(pb);return-1}function Pb(a,b,d){var e=oa.streams[a];if(e){if(e.isRead){if(0>d)return sa(mb),-1;if(e.object.isDevice){if(e.object.input){for(a=
0;e.ungotten.length&&0<d;)c[b++]=e.ungotten.pop(),d--,a++;for(var f=0;f<d;f++){try{var g=e.object.input()}catch(h){return sa(Sb),-1}if(null===g||void 0===g)break;a++;c[b+f]=g}return a}sa(Tb);return-1}g=e.ungotten.length;a=qb(a,b,d,e.position);-1!=a&&(e.position+=e.ungotten.length-g+a);return a}sa(pb);return-1}sa(rb);return-1}function Ia(a,b,c,d){c*=b;if(0==c)return 0;a=Pb(d,a,c);d=oa.streams[d];if(-1==a)return d&&(d.error=!0),-1;a<c&&(d.eof=!0);return Math.floor(a/b)}function Ea(a){return Number(a in
oa.streams&&oa.streams[a].error)}function ob(a,b,c,d){throw"Assertion failed: "+k(d)+", at: "+[k(a),b,k(c)];}function Cc(a,b,d){var e=oa.streams[a];if(e){if(e.isWrite){if(0>d)return sa(mb),-1;if(e.object.isDevice){if(e.object.output){for(var f=0;f<d;f++)try{e.object.output(c[b+f])}catch(g){return sa(Sb),-1}e.object.timestamp=Date.now();return f}sa(Tb);return-1}f=e.position;a=oa.streams[a];if(!a||a.object.isDevice)sa(rb),b=-1;else if(a.isWrite)if(a.object.isFolder)sa(Eb),b=-1;else if(0>d||0>f)sa(mb),
b=-1;else{for(var h=a.object.contents;h.length<f;)h.push(0);for(var k=0;k<d;k++)h[f+k]=c[b+k];a.object.timestamp=Date.now();b=k}else sa(pb),b=-1;-1!=b&&(e.position+=b);return b}sa(pb);return-1}sa(rb);return-1}function z(a,b,c,d){c*=b;if(0==c)return 0;a=Cc(d,a,c);return-1==a?(oa.streams[d]&&(oa.streams[d].error=!0),-1):Math.floor(a/b)}function la(a){throw"ABORT: "+a+", at "+Error().stack;}function kc(a){switch(a){case 8:return sb;case 54:case 56:case 21:case 61:case 63:case 22:case 67:case 23:case 24:case 25:case 26:case 27:case 69:case 28:case 101:case 70:case 71:case 29:case 30:case 199:case 75:case 76:case 32:case 43:case 44:case 80:case 46:case 47:case 45:case 48:case 49:case 42:case 82:case 33:case 7:case 108:case 109:case 107:case 112:case 119:case 121:return 200809;
case 13:case 104:case 94:case 95:case 34:case 35:case 77:case 81:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 94:case 95:case 110:case 111:case 113:case 114:case 115:case 116:case 117:case 118:case 120:case 40:case 16:case 79:case 19:return-1;case 92:case 93:case 5:case 72:case 6:case 74:case 92:case 93:case 96:case 97:case 98:case 99:case 102:case 103:case 105:return 1;case 38:case 66:case 50:case 51:case 4:return 1024;case 15:case 64:case 41:return 32;case 55:case 37:case 17:return 2147483647;
case 18:case 1:return 47839;case 59:case 57:return 99;case 68:case 58:return 2048;case 0:return 2097152;case 3:return 65536;case 14:return 32768;case 73:return 32767;case 39:return 16384;case 60:return 1E3;case 106:return 700;case 52:return 256;case 62:return 255;case 2:return 100;case 65:return 64;case 36:return 20;case 100:return 16;case 20:return 6;case 53:return 4}sa(mb);return-1}function bb(a){var b=bb;b.called||(vb=vb+4095>>12<<12,b.called=!0);b=vb;0!=a&&Ba.staticAlloc(a);return b}function hb(a){ta.preRun&&
ta.preRun();a=a||ta.arguments;l(jb);var b=null;ta._main&&(b=ta.callMain(a),l(sc),rc.print());ta.postRun&&ta.postRun();return b}var rb,pb,Eb,mb,Sb,Tb,xc="object"===typeof window,Dc="function"===typeof importScripts;if("object"===typeof process){var Ub=function(a){process.stdout.write(a+"\n")},Xb=function(a){process.stderr.write(a+"\n")},yc=require("fs"),$a=function(a){var b=yc.readFileSync(a).toString();!b&&"/"!=a[0]&&(a=__dirname.split("/").slice(0,-1).join("/")+"/src/"+a,b=yc.readFileSync(a).toString());
return b};process.argv.slice(2)}else if(xc)Ub=Xb=function(a){console.log(a)},$a=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText};else if(Dc)var Vb=importScripts;else throw"Unknown runtime environment. Where are we?";"undefined"==typeof Vb&&"undefined"!=typeof $a&&(Vb=function(a){d($a(a))});"undefined"===typeof Xb&&(Xb=function(){});"undefined"===typeof Ub&&(Ub=Xb);var ta={},Ba={stackSave:function(){return ya},stackRestore:function(a){ya=a},forceAlign:function(a,
b){b=b||4;if(1==b)return a;if(isNumber(a)&&isNumber(b))return Math.ceil(a/b)*b;if(isNumber(b)&&isPowerOfTwo(b)){var c=log2(b);return"(((("+a+")+"+(b-1)+")>>"+c+")<<"+c+")"}return"Math.ceil(("+a+")/"+b+")*"+b},isNumberType:function(a){return a in Ba.INT_TYPES||a in Ba.FLOAT_TYPES},isPointerType:function(a){return"*"==a.charAt(a.length-1)},isStructType:function(a){return isPointerType(a)?!1:/^\[\d+\ x\ (.*)\]/.test(a)||/<?{ [^}]* }>?/.test(a)?!0:"%"==a[0]},INT_TYPES:{i1:0,i8:0,i16:0,i32:0,i64:0},FLOAT_TYPES:{"float":0,
"double":0},bitshift64:function(a,b,c,d){var f=Math.pow(2,d)-1;if(32>d)switch(c){case "shl":return[a<<d,b<<d|(a&f<<32-d)>>>32-d];case "ashr":return[(a>>>d|(b&f)<<32-d)>>0>>>0,b>>d>>>0];case "lshr":return[(a>>>d|(b&f)<<32-d)>>>0,b>>>d]}else if(32==d)switch(c){case "shl":return[0,a];case "ashr":return[b,0>(b|0)?f:0];case "lshr":return[b,0]}else switch(c){case "shl":return[0,a<<d-32];case "ashr":return[b>>d-32>>>0,0>(b|0)?f:0];case "lshr":return[b>>>d-32,0]}e("unknown bitshift64 op: "+[value,c,d])},
or64:function(a,b){var c=a|0|b|0,d=4294967296*(Math.round(a/4294967296)|Math.round(b/4294967296));return c+d},and64:function(a,b){var c=(a|0)&(b|0),d=4294967296*(Math.round(a/4294967296)&Math.round(b/4294967296));return c+d},xor64:function(a,b){var c=(a|0)^(b|0),d=4294967296*(Math.round(a/4294967296)^Math.round(b/4294967296));return c+d},getNativeTypeSize:function(a){if(1==Ba.QUANTUM_SIZE)return 1;var b={"%i1":1,"%i8":1,"%i16":2,"%i32":4,"%i64":8,"%float":4,"%double":8}["%"+a];b||("*"==a.charAt(a.length-
1)?b=Ba.QUANTUM_SIZE:"i"==a[0]&&(a=parseInt(a.substr(1)),f(0==a%8),b=a/8));return b},getNativeFieldSize:function(a){return Math.max(Ba.getNativeTypeSize(a),Ba.QUANTUM_SIZE)},dedup:function(a,b){var c={};return b?a.filter(function(a){return c[a[b]]?!1:c[a[b]]=!0}):a.filter(function(a){return c[a]?!1:c[a]=!0})},set:function(){for(var a="object"===typeof arguments[0]?arguments[0]:arguments,b={},c=0;c<a.length;c++)b[a[c]]=0;return b},calculateStructAlignment:function(a){a.flatSize=0;a.alignSize=0;var b=
[],c=-1;a.flatIndexes=a.fields.map(function(d){var e;if(Ba.isNumberType(d)||Ba.isPointerType(d))d=e=Ba.getNativeTypeSize(d);else if(Ba.isStructType(d))e=Types.types[d].flatSize,d=Types.types[d].alignSize;else throw"Unclear type in struct: "+d+", in "+a.name_+" :: "+dump(Types.types[a.name_]);d=a.packed?1:Math.min(d,Ba.QUANTUM_SIZE);a.alignSize=Math.max(a.alignSize,d);d=Ba.alignMemory(a.flatSize,d);a.flatSize=d+e;0<=c&&b.push(d-c);return c=d});a.flatSize=Ba.alignMemory(a.flatSize,a.alignSize);0==b.length?
a.flatFactor=a.flatSize:1==Ba.dedup(b).length&&(a.flatFactor=b[0]);a.needsFlattening=1!=a.flatFactor;return a.flatIndexes},generateStructInfo:function(a,b,c){var d,e;if(b){c=c||0;d=("undefined"===typeof Types?Ba.typeInfo:Types.types)[b];if(!d)return null;f(d.fields.length===a.length,"Number of named fields must match the type for "+b);e=d.flatIndexes}else d={fields:a.map(function(a){return a[0]})},e=Ba.calculateStructAlignment(d);var g={__size__:d.flatSize};b?a.forEach(function(a,b){if("string"===
typeof a)g[a]=e[b]+c;else{var f,h;for(h in a)f=h;g[f]=Ba.generateStructInfo(a[f],d.fields[b],e[b])}}):a.forEach(function(a,b){g[a[1]]=e[b]});return g},stackAlloc:function(a){var b=ya;ya+=a;return b},staticAlloc:function(a){var b=vb;vb+=a;vb=vb+3>>2<<2;return b},alignMemory:function(a,b){return Math.ceil(a/(b?b:4))*(b?b:4)},makeBigInt:function(a,b,c){return c?(a>>>0)+4294967296*(b>>>0):(a>>>0)+4294967296*(b|0)},QUANTUM_SIZE:4,__dummy__:0},rc={MAX_ALLOWED:0,corrections:0,sigs:{},note:function(a,b){b||
(this.corrections++,this.corrections>=this.MAX_ALLOWED&&e("\n\nToo many corrections!"))},print:function(){}},Zb=this;ta.ccall=function(a,b,c,d){try{var e=eval("_"+a)}catch(g){try{e=Zb.Module["_"+a]}catch(h){}}f(e,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)");var l=0;a=d?d.map(function(a){if("string"==c[l++]){var b=ya;Ba.stackAlloc(a.length+1);m(a,b);a=b}return a}):[];return function(a,b){return"string"==b?k(a):a}(e.apply(null,a),b)};ta.setValue=h;ta.getValue=
function(a,b){b=b||"i8";"*"==b.charAt(b.length-1)&&(b="i32");switch(b){case "i1":return c[a];case "i8":return c[a];case "i16":return c[a];case "i32":return c[a];case "i64":return c[a];case "float":return c[a];case "double":return c[a];default:e("invalid type for setValue: "+b)}return null};var da=2;ta.ALLOC_NORMAL=0;ta.ALLOC_STACK=1;ta.ALLOC_STATIC=da;ta.allocate=g;ta.Pointer_stringify=k;ta.Array_stringify=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b};var Aa,sb=
4096,c,ya,vb,nc=ta.TOTAL_STACK||5242880,wb=ta.TOTAL_MEMORY||10485760,Nc=ta.FAST_MEMORY||2097152;c=[];for(var Ab=0;Ab<Nc;Ab++)c[Ab]=0;var Yb=q("(null)");vb=Yb.length;for(Ab=0;Ab<Yb.length;Ab++)c[Ab]=Yb[Ab];ta.HEAP=c;vb=(ya=Ba.alignMemory(vb))+nc+4095>>12<<12;var jb=[],sc=[];ta.Array_copy=n;ta.String_len=p;ta.String_copy=function(a,b){var c=p(a);b&&c++;var d=n(a,c);b&&(d[c-1]=0);return d};ta.intArrayFromString=q;ta.intArrayToString=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];255<d&&(d&=
255);b.push(String.fromCharCode(d))}return b.join("")};ta.writeStringToMemory=m;var ca=[];t.X=1;s.X=1;u.X=1;ta._main=r;r.X=1;w.X=1;A.X=1;C.X=1;G.X=1;F.X=1;I.X=1;E.X=1;P.X=1;H.X=1;M.X=1;K.X=1;N.X=1;L.X=1;J.X=1;Q.X=1;O.X=1;T.X=1;ea.X=1;X.X=1;Z.X=1;U.X=1;Y.X=1;R.X=1;fa.X=1;ka.X=1;W.X=1;S.X=1;ma.X=1;na.X=1;ra.X=1;ia.X=1;za.X=1;Ka.X=1;ba.X=1;v.X=1;Oa.X=1;db.X=1;Ta.X=1;Ma.X=1;va.X=1;Da.X=1;Sa.X=1;qa.X=1;ha.X=1;Wa.X=1;cb.X=1;Xa.X=1;Za.X=1;Ca.X=1;eb.X=1;Bb.X=1;pb=13;rb=9;mb=22;Sb=5;Eb=21;Tb=6;var zc=0,Ec=
0,ic=0,gb=0,oa={currentPath:"/",nextInode:2,streams:[null],ignorePermissions:!0,absolutePath:function(a,b){if("string"!==typeof a)return null;void 0===b&&(b=oa.currentPath);a&&"/"==a[0]&&(b="");for(var c=(b+"/"+a).split("/").reverse(),d=[""];c.length;){var e=c.pop();""==e||"."==e||(".."==e?1<d.length&&d.pop():d.push(e))}return 1==d.length?"/":d.join("/")},analyzePath:function(a,b,c){var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};
a=oa.absolutePath(a);if("/"==a)d.isRoot=!0,d.exists=d.parentExists=!0,d.name="/",d.path=d.parentPath="/",d.object=d.parentObject=oa.root;else if(null!==a){c=c||0;a=a.slice(1).split("/");for(var e=oa.root,f=[""];a.length;){1==a.length&&e.isFolder&&(d.parentExists=!0,d.parentPath=1==f.length?"/":f.join("/"),d.parentObject=e,d.name=a[0]);var g=a.shift();if(e.isFolder)if(e.read){if(!e.contents.hasOwnProperty(g)){d.error=2;break}}else{d.error=pb;break}else{d.error=20;break}e=e.contents[g];if(e.link&&(!b||
0!=a.length)){if(40<c){d.error=40;break}d=oa.absolutePath(e.link,f.join("/"));return oa.analyzePath([d].concat(a).join("/"),b,c+1)}f.push(g);0==a.length&&(d.exists=!0,d.path=f.join("/"),d.object=e)}}return d},findObject:function(a,b){oa.ensureRoot();var c=oa.analyzePath(a,b);if(c.exists)return c.object;sa(c.error);return null},createObject:function(a,b,c,d,e){a||(a="/");"string"===typeof a&&(a=oa.findObject(a));if(!a)throw sa(pb),Error("Parent path must exist.");if(!a.isFolder)throw sa(20),Error("Parent must be a folder.");
if(!a.write&&!oa.ignorePermissions)throw sa(pb),Error("Parent folder must be writeable.");if(!b||"."==b||".."==b)throw sa(2),Error("Name must not be empty.");if(a.contents.hasOwnProperty(b))throw sa(17),Error("Can't overwrite object.");a.contents[b]={read:void 0===d?!0:d,write:void 0===e?!1:e,timestamp:Date.now(),inodeNumber:oa.nextInode++};for(var f in c)c.hasOwnProperty(f)&&(a.contents[b][f]=c[f]);return a.contents[b]},createFolder:function(a,b,c,d){return oa.createObject(a,b,{isFolder:!0,isDevice:!1,
contents:{}},c,d)},createPath:function(a,b,c,d){a=oa.findObject(a);if(null===a)throw Error("Invalid parent.");for(b=b.split("/").reverse();b.length;){var e=b.pop();e&&(a.contents.hasOwnProperty(e)||oa.createFolder(a,e,c,d),a=a.contents[e])}return a},createFile:function(a,b,c,d,e){c.isFolder=!1;return oa.createObject(a,b,c,d,e)},createDataFile:function(a,b,c,d,e){if("string"===typeof c){for(var f=[],g=0;g<c.length;g++)f.push(c.charCodeAt(g));c=f}return oa.createFile(a,b,{isDevice:!1,contents:c},d,
e)},createLazyFile:function(a,b,c,d,e){return oa.createFile(a,b,{isDevice:!1,url:c},d,e)},createLink:function(a,b,c,d,e){return oa.createFile(a,b,{isDevice:!1,link:c},d,e)},createDevice:function(a,b,c,d){if(!c&&!d)throw Error("A device must have at least one callback defined.");return oa.createFile(a,b,{isDevice:!0,input:c,output:d},Boolean(c),Boolean(d))},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;var b=!0;if("undefined"!==typeof XMLHttpRequest){var c=new XMLHttpRequest;
c.open("GET",a.url,!1);"undefined"!=typeof Uint8Array&&(c.responseType="arraybuffer");c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined");c.send(null);200!=c.status&&0!=c.status&&(b=!1);a.contents=void 0!==c.response?new Uint8Array(c.response||[]):q(c.responseText||"",!0)}else if("undefined"!==typeof $a)try{a.contents=q($a(a.url),!0)}catch(d){b=!1}else throw Error("Cannot load without read() or XMLHttpRequest.");b||sa(Sb);return b},ensureRoot:function(){oa.root||(oa.root=
{read:!0,write:!0,isFolder:!0,isDevice:!1,timestamp:Date.now(),inodeNumber:1,contents:{}})},init:function(a,b,c){f(!oa.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");oa.init.initialized=!0;oa.ensureRoot();a||(a=function(){if(!a.cache||!a.cache.length){var b;"undefined"!=typeof window&&"function"==typeof window.prompt?b=window.prompt("Input: "):"function"==
typeof readline&&(b=readline());b||(b="");a.cache=q(b+"\n",!0)}return a.cache.shift()});b||(b=function(a){null===a||10===a?(b.printer(b.buffer.join("")),b.buffer=[]):b.buffer.push(String.fromCharCode(a))});b.printer||(b.printer=Ub);b.buffer||(b.buffer=[]);c||(c=b);oa.createFolder("/","tmp",!0,!0);var d=oa.createFolder("/","dev",!0,!0),e=oa.createDevice(d,"stdin",a),h=oa.createDevice(d,"stdout",null,b);c=oa.createDevice(d,"stderr",null,c);oa.createDevice(d,"tty",a,b);oa.streams[1]={path:"/dev/stdin",
object:e,position:0,isRead:!0,isWrite:!1,isAppend:!1,error:!1,eof:!1,ungotten:[]};oa.streams[2]={path:"/dev/stdout",object:h,position:0,isRead:!1,isWrite:!0,isAppend:!1,error:!1,eof:!1,ungotten:[]};oa.streams[3]={path:"/dev/stderr",object:c,position:0,isRead:!1,isWrite:!0,isAppend:!1,error:!1,eof:!1,ungotten:[]};zc=g([1],"void*",da);Ec=g([2],"void*",da);ic=g([3],"void*",da);oa.createPath("/","dev/shm/tmp",!0,!0);oa.streams[zc]=oa.streams[1];oa.streams[Ec]=oa.streams[2];oa.streams[ic]=oa.streams[3];
gb=g([g([0,0,0,0,zc,0,0,0,Ec,0,0,0,ic,0,0,0],"void*",da)],"void*",da)},quit:function(){oa.init.initialized&&(0<oa.streams[2].object.output.buffer.length&&oa.streams[2].object.output(10),0<oa.streams[3].object.output.buffer.length&&oa.streams[3].object.output(10))}};jb.unshift({func:function(){oa.ignorePermissions=!1;oa.init.initialized||oa.init()}});sc.push({func:function(){oa.quit()}});sa(0);ta.callMain=function(a){function b(){for(var a=0;3>a;a++)d.push(0)}var c=a.length+1,d=[g(q("/bin/this.program"),
"i8",da)];b();for(var e=0;e<c-1;e+=1)d.push(g(q(a[e]),"i8",da)),b();d.push(0);d=g(d,"i32",da);return r(c,d,0)};var Ib,Oc,$b,Pc,Fb,ac,Fc,Gc,tc,uc,Ac,Hc,Nb,Gb,ja,Ic,Kc,Lc,Qc,V,Va;ca.__str=g([49,46,50,46,53,0],"i8",da);ca.__str1=g([122,112,105,112,101,46,99,0],"i8",da);ca.___func___def=g([100,101,102,0],"i8",da);ca.__str2=g([114,101,116,32,33,61,32,90,95,83,84,82,69,65,77,95,69,82,82,79,82,0],"i8",da);ca.__str3=g([115,116,114,109,46,97,118,97,105,108,95,105,110,32,61,61,32,48,0],"i8",da);ca.__str4=g([114,
101,116,32,61,61,32,90,95,83,84,82,69,65,77,95,69,78,68,0],"i8",da);ca.___func___inf=g([105,110,102,0],"i8",da);ca.__str5=g([122,112,105,112,101,58,32,0],"i8",da);ca.__str6=g([101,114,114,111,114,32,114,101,97,100,105,110,103,32,115,116,100,105,110,10,0],"i8",da);ca.__str7=g([101,114,114,111,114,32,119,114,105,116,105,110,103,32,115,116,100,111,117,116,10,0],"i8",da);ca.__str8=g([105,110,118,97,108,105,100,32,99,111,109,112,114,101,115,115,105,111,110,32,108,101,118,101,108,10,0],"i8",da);ca.__str9=
g([105,110,118,97,108,105,100,32,111,114,32,105,110,99,111,109,112,108,101,116,101,32,100,101,102,108,97,116,101,32,100,97,116,97,10,0],"i8",da);ca.__str10=g([111,117,116,32,111,102,32,109,101,109,111,114,121,10,0],"i8",da);ca.__str11=g([122,108,105,98,32,118,101,114,115,105,111,110,32,109,105,115,109,97,116,99,104,33,10,0],"i8",da);ca.__str12=g([45,100,0],"i8",da);ca.__str13=g([122,112,105,112,101,32,117,115,97,103,101,58,32,122,112,105,112,101,32,91,45,100,93,32,60,32,115,111,117,114,99,101,32,
62,32,100,101,115,116,10,0],"i8",da);Ib=g([0,0,0,0,0,0,0,0,6,0,0,0,4,0,4,0,8,0,4,0,8,0,0,0,4,0,5,0,16,0,8,0,8,0,0,0,4,0,6,0,32,0,32,0,8,0,0,0,4,0,4,0,16,0,16,0,10,0,0,0,8,0,16,0,32,0,32,0,10,0,0,0,8,0,16,0,128,0,128,0,10,0,0,0,8,0,32,0,128,0,256,0,10,0,0,0,32,0,128,0,258,0,1024,0,10,0,0,0,32,0,258,0,258,0,4096,0,10,0,0,0],["i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,
"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0,"i16",0,"i16",0,"i16",0,"i16",0,"*",0,0,0],da);Oc=g([16,0,17,0,18,0,0,0,8,0,7,0,9,0,6,0,10,0,5,0,11,0,4,0,12,0,3,0,13,0,2,0,14,0,1,0,15,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],da);ca.__str115=
g([105,110,99,111,114,114,101,99,116,32,104,101,97,100,101,114,32,99,104,101,99,107,0],"i8",da);ca.__str216=g([117,110,107,110,111,119,110,32,99,111,109,112,114,101,115,115,105,111,110,32,109,101,116,104,111,100,0],"i8",da);ca.__str317=g([105,110,118,97,108,105,100,32,119,105,110,100,111,119,32,115,105,122,101,0],"i8",da);ca.__str418=g([117,110,107,110,111,119,110,32,104,101,97,100,101,114,32,102,108,97,103,115,32,115,101,116,0],"i8",da);ca.__str519=g([104,101,97,100,101,114,32,99,114,99,32,109,105,
115,109,97,116,99,104,0],"i8",da);ca.__str620=g([105,110,118,97,108,105,100,32,98,108,111,99,107,32,116,121,112,101,0],"i8",da);ca.__str721=g([105,110,118,97,108,105,100,32,115,116,111,114,101,100,32,98,108,111,99,107,32,108,101,110,103,116,104,115,0],"i8",da);ca.__str822=g([116,111,111,32,109,97,110,121,32,108,101,110,103,116,104,32,111,114,32,100,105,115,116,97,110,99,101,32,115,121,109,98,111,108,115,0],"i8",da);ca.__str923=g([105,110,118,97,108,105,100,32,99,111,100,101,32,108,101,110,103,116,
104,115,32,115,101,116,0],"i8",da);ca.__str1024=g([105,110,118,97,108,105,100,32,98,105,116,32,108,101,110,103,116,104,32,114,101,112,101,97,116,0],"i8",da);ca.__str1125=g([105,110,118,97,108,105,100,32,99,111,100,101,32,45,45,32,109,105,115,115,105,110,103,32,101,110,100,45,111,102,45,98,108,111,99,107,0],"i8",da);ca.__str1226=g([105,110,118,97,108,105,100,32,108,105,116,101,114,97,108,47,108,101,110,103,116,104,115,32,115,101,116,0],"i8",da);ca.__str1327=g([105,110,118,97,108,105,100,32,100,105,
115,116,97,110,99,101,115,32,115,101,116,0],"i8",da);ca.__str17=g([105,110,99,111,114,114,101,99,116,32,100,97,116,97,32,99,104,101,99,107,0],"i8",da);ca.__str18=g([105,110,99,111,114,114,101,99,116,32,108,101,110,103,116,104,32,99,104,101,99,107,0],"i8",da);$b=g([96,7,0,0,0,8,80,0,0,8,16,0,20,8,115,0,18,7,31,0,0,8,112,0,0,8,48,0,0,9,192,0,16,7,10,0,0,8,96,0,0,8,32,0,0,9,160,0,0,8,0,0,0,8,128,0,0,8,64,0,0,9,224,0,16,7,6,0,0,8,88,0,0,8,24,0,0,9,144,0,19,7,59,0,0,8,120,0,0,8,56,0,0,9,208,0,17,7,17,
0,0,8,104,0,0,8,40,0,0,9,176,0,0,8,8,0,0,8,136,0,0,8,72,0,0,9,240,0,16,7,4,0,0,8,84,0,0,8,20,0,21,8,227,0,19,7,43,0,0,8,116,0,0,8,52,0,0,9,200,0,17,7,13,0,0,8,100,0,0,8,36,0,0,9,168,0,0,8,4,0,0,8,132,0,0,8,68,0,0,9,232,0,16,7,8,0,0,8,92,0,0,8,28,0,0,9,152,0,20,7,83,0,0,8,124,0,0,8,60,0,0,9,216,0,18,7,23,0,0,8,108,0,0,8,44,0,0,9,184,0,0,8,12,0,0,8,140,0,0,8,76,0,0,9,248,0,16,7,3,0,0,8,82,0,0,8,18,0,21,8,163,0,19,7,35,0,0,8,114,0,0,8,50,0,0,9,196,0,17,7,11,0,0,8,98,0,0,8,34,0,0,9,164,0,0,8,2,0,0,8,
130,0,0,8,66,0,0,9,228,0,16,7,7,0,0,8,90,0,0,8,26,0,0,9,148,0,20,7,67,0,0,8,122,0,0,8,58,0,0,9,212,0,18,7,19,0,0,8,106,0,0,8,42,0,0,9,180,0,0,8,10,0,0,8,138,0,0,8,74,0,0,9,244,0,16,7,5,0,0,8,86,0,0,8,22,0,64,8,0,0,19,7,51,0,0,8,118,0,0,8,54,0,0,9,204,0,17,7,15,0,0,8,102,0,0,8,38,0,0,9,172,0,0,8,6,0,0,8,134,0,0,8,70,0,0,9,236,0,16,7,9,0,0,8,94,0,0,8,30,0,0,9,156,0,20,7,99,0,0,8,126,0,0,8,62,0,0,9,220,0,18,7,27,0,0,8,110,0,0,8,46,0,0,9,188,0,0,8,14,0,0,8,142,0,0,8,78,0,0,9,252,0,96,7,0,0,0,8,81,0,0,
8,17,0,21,8,131,0,18,7,31,0,0,8,113,0,0,8,49,0,0,9,194,0,16,7,10,0,0,8,97,0,0,8,33,0,0,9,162,0,0,8,1,0,0,8,129,0,0,8,65,0,0,9,226,0,16,7,6,0,0,8,89,0,0,8,25,0,0,9,146,0,19,7,59,0,0,8,121,0,0,8,57,0,0,9,210,0,17,7,17,0,0,8,105,0,0,8,41,0,0,9,178,0,0,8,9,0,0,8,137,0,0,8,73,0,0,9,242,0,16,7,4,0,0,8,85,0,0,8,21,0,16,8,258,0,19,7,43,0,0,8,117,0,0,8,53,0,0,9,202,0,17,7,13,0,0,8,101,0,0,8,37,0,0,9,170,0,0,8,5,0,0,8,133,0,0,8,69,0,0,9,234,0,16,7,8,0,0,8,93,0,0,8,29,0,0,9,154,0,20,7,83,0,0,8,125,0,0,8,61,
0,0,9,218,0,18,7,23,0,0,8,109,0,0,8,45,0,0,9,186,0,0,8,13,0,0,8,141,0,0,8,77,0,0,9,250,0,16,7,3,0,0,8,83,0,0,8,19,0,21,8,195,0,19,7,35,0,0,8,115,0,0,8,51,0,0,9,198,0,17,7,11,0,0,8,99,0,0,8,35,0,0,9,166,0,0,8,3,0,0,8,131,0,0,8,67,0,0,9,230,0,16,7,7,0,0,8,91,0,0,8,27,0,0,9,150,0,20,7,67,0,0,8,123,0,0,8,59,0,0,9,214,0,18,7,19,0,0,8,107,0,0,8,43,0,0,9,182,0,0,8,11,0,0,8,139,0,0,8,75,0,0,9,246,0,16,7,5,0,0,8,87,0,0,8,23,0,64,8,0,0,19,7,51,0,0,8,119,0,0,8,55,0,0,9,206,0,17,7,15,0,0,8,103,0,0,8,39,0,0,9,
174,0,0,8,7,0,0,8,135,0,0,8,71,0,0,9,238,0,16,7,9,0,0,8,95,0,0,8,31,0,0,9,158,0,20,7,99,0,0,8,127,0,0,8,63,0,0,9,222,0,18,7,27,0,0,8,111,0,0,8,47,0,0,9,190,0,0,8,15,0,0,8,143,0,0,8,79,0,0,9,254,0,96,7,0,0,0,8,80,0,0,8,16,0,20,8,115,0,18,7,31,0,0,8,112,0,0,8,48,0,0,9,193,0,16,7,10,0,0,8,96,0,0,8,32,0,0,9,161,0,0,8,0,0,0,8,128,0,0,8,64,0,0,9,225,0,16,7,6,0,0,8,88,0,0,8,24,0,0,9,145,0,19,7,59,0,0,8,120,0,0,8,56,0,0,9,209,0,17,7,17,0,0,8,104,0,0,8,40,0,0,9,177,0,0,8,8,0,0,8,136,0,0,8,72,0,0,9,241,0,16,
7,4,0,0,8,84,0,0,8,20,0,21,8,227,0,19,7,43,0,0,8,116,0,0,8,52,0,0,9,201,0,17,7,13,0,0,8,100,0,0,8,36,0,0,9,169,0,0,8,4,0,0,8,132,0,0,8,68,0,0,9,233,0,16,7,8,0,0,8,92,0,0,8,28,0,0,9,153,0,20,7,83,0,0,8,124,0,0,8,60,0,0,9,217,0,18,7,23,0,0,8,108,0,0,8,44,0,0,9,185,0,0,8,12,0,0,8,140,0,0,8,76,0,0,9,249,0,16,7,3,0,0,8,82,0,0,8,18,0,21,8,163,0,19,7,35,0,0,8,114,0,0,8,50,0,0,9,197,0,17,7,11,0,0,8,98,0,0,8,34,0,0,9,165,0,0,8,2,0,0,8,130,0,0,8,66,0,0,9,229,0,16,7,7,0,0,8,90,0,0,8,26,0,0,9,149,0,20,7,67,0,
0,8,122,0,0,8,58,0,0,9,213,0,18,7,19,0,0,8,106,0,0,8,42,0,0,9,181,0,0,8,10,0,0,8,138,0,0,8,74,0,0,9,245,0,16,7,5,0,0,8,86,0,0,8,22,0,64,8,0,0,19,7,51,0,0,8,118,0,0,8,54,0,0,9,205,0,17,7,15,0,0,8,102,0,0,8,38,0,0,9,173,0,0,8,6,0,0,8,134,0,0,8,70,0,0,9,237,0,16,7,9,0,0,8,94,0,0,8,30,0,0,9,157,0,20,7,99,0,0,8,126,0,0,8,62,0,0,9,221,0,18,7,27,0,0,8,110,0,0,8,46,0,0,9,189,0,0,8,14,0,0,8,142,0,0,8,78,0,0,9,253,0,96,7,0,0,0,8,81,0,0,8,17,0,21,8,131,0,18,7,31,0,0,8,113,0,0,8,49,0,0,9,195,0,16,7,10,0,0,8,
97,0,0,8,33,0,0,9,163,0,0,8,1,0,0,8,129,0,0,8,65,0,0,9,227,0,16,7,6,0,0,8,89,0,0,8,25,0,0,9,147,0,19,7,59,0,0,8,121,0,0,8,57,0,0,9,211,0,17,7,17,0,0,8,105,0,0,8,41,0,0,9,179,0,0,8,9,0,0,8,137,0,0,8,73,0,0,9,243,0,16,7,4,0,0,8,85,0,0,8,21,0,16,8,258,0,19,7,43,0,0,8,117,0,0,8,53,0,0,9,203,0,17,7,13,0,0,8,101,0,0,8,37,0,0,9,171,0,0,8,5,0,0,8,133,0,0,8,69,0,0,9,235,0,16,7,8,0,0,8,93,0,0,8,29,0,0,9,155,0,20,7,83,0,0,8,125,0,0,8,61,0,0,9,219,0,18,7,23,0,0,8,109,0,0,8,45,0,0,9,187,0,0,8,13,0,0,8,141,0,0,
8,77,0,0,9,251,0,16,7,3,0,0,8,83,0,0,8,19,0,21,8,195,0,19,7,35,0,0,8,115,0,0,8,51,0,0,9,199,0,17,7,11,0,0,8,99,0,0,8,35,0,0,9,167,0,0,8,3,0,0,8,131,0,0,8,67,0,0,9,231,0,16,7,7,0,0,8,91,0,0,8,27,0,0,9,151,0,20,7,67,0,0,8,123,0,0,8,59,0,0,9,215,0,18,7,19,0,0,8,107,0,0,8,43,0,0,9,183,0,0,8,11,0,0,8,139,0,0,8,75,0,0,9,247,0,16,7,5,0,0,8,87,0,0,8,23,0,64,8,0,0,19,7,51,0,0,8,119,0,0,8,55,0,0,9,207,0,17,7,15,0,0,8,103,0,0,8,39,0,0,9,175,0,0,8,7,0,0,8,135,0,0,8,71,0,0,9,239,0,16,7,9,0,0,8,95,0,0,8,31,0,0,
9,159,0,20,7,99,0,0,8,127,0,0,8,63,0,0,9,223,0,18,7,27,0,0,8,111,0,0,8,47,0,0,9,191,0,0,8,15,0,0,8,143,0,0,8,79,0,0,9,255,0],["i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",
0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0],da);Pc=g([16,5,1,0,23,5,257,0,19,5,17,0,27,5,4097,0,17,5,5,0,25,5,1025,0,21,5,65,0,29,5,16385,0,16,5,3,0,24,5,513,0,20,5,33,0,28,5,8193,0,18,5,9,0,26,5,2049,0,22,5,129,0,64,5,0,0,16,5,2,0,23,5,385,0,19,5,25,0,27,5,6145,0,17,5,7,
0,25,5,1537,0,21,5,97,0,29,5,24577,0,16,5,4,0,24,5,769,0,20,5,49,0,28,5,12289,0,18,5,13,0,26,5,3073,0,22,5,193,0,64,5,0,0],["i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,
"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0,"i8","i8","i16",0],da);ca.__dist_code=g([0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,
13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,
22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29],"i8",da);ca.__length_code=g([0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,
21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,
28],"i8",da);Fb=g([0,0,0,0,0,0,0,0,257,0,0,0,286,0,0,0,15,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);ac=g([0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,15,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);Fc=g([0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,7,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);Gc=g([12,0,8,0,140,0,8,0,76,0,8,0,204,0,8,0,44,0,8,0,172,0,8,0,108,0,8,0,236,0,8,0,28,0,8,0,156,0,8,0,92,0,8,0,220,0,8,0,60,0,8,0,188,0,8,0,124,0,8,0,252,
0,8,0,2,0,8,0,130,0,8,0,66,0,8,0,194,0,8,0,34,0,8,0,162,0,8,0,98,0,8,0,226,0,8,0,18,0,8,0,146,0,8,0,82,0,8,0,210,0,8,0,50,0,8,0,178,0,8,0,114,0,8,0,242,0,8,0,10,0,8,0,138,0,8,0,74,0,8,0,202,0,8,0,42,0,8,0,170,0,8,0,106,0,8,0,234,0,8,0,26,0,8,0,154,0,8,0,90,0,8,0,218,0,8,0,58,0,8,0,186,0,8,0,122,0,8,0,250,0,8,0,6,0,8,0,134,0,8,0,70,0,8,0,198,0,8,0,38,0,8,0,166,0,8,0,102,0,8,0,230,0,8,0,22,0,8,0,150,0,8,0,86,0,8,0,214,0,8,0,54,0,8,0,182,0,8,0,118,0,8,0,246,0,8,0,14,0,8,0,142,0,8,0,78,0,8,0,206,0,8,
0,46,0,8,0,174,0,8,0,110,0,8,0,238,0,8,0,30,0,8,0,158,0,8,0,94,0,8,0,222,0,8,0,62,0,8,0,190,0,8,0,126,0,8,0,254,0,8,0,1,0,8,0,129,0,8,0,65,0,8,0,193,0,8,0,33,0,8,0,161,0,8,0,97,0,8,0,225,0,8,0,17,0,8,0,145,0,8,0,81,0,8,0,209,0,8,0,49,0,8,0,177,0,8,0,113,0,8,0,241,0,8,0,9,0,8,0,137,0,8,0,73,0,8,0,201,0,8,0,41,0,8,0,169,0,8,0,105,0,8,0,233,0,8,0,25,0,8,0,153,0,8,0,89,0,8,0,217,0,8,0,57,0,8,0,185,0,8,0,121,0,8,0,249,0,8,0,5,0,8,0,133,0,8,0,69,0,8,0,197,0,8,0,37,0,8,0,165,0,8,0,101,0,8,0,229,0,8,0,21,
0,8,0,149,0,8,0,85,0,8,0,213,0,8,0,53,0,8,0,181,0,8,0,117,0,8,0,245,0,8,0,13,0,8,0,141,0,8,0,77,0,8,0,205,0,8,0,45,0,8,0,173,0,8,0,109,0,8,0,237,0,8,0,29,0,8,0,157,0,8,0,93,0,8,0,221,0,8,0,61,0,8,0,189,0,8,0,125,0,8,0,253,0,8,0,19,0,9,0,275,0,9,0,147,0,9,0,403,0,9,0,83,0,9,0,339,0,9,0,211,0,9,0,467,0,9,0,51,0,9,0,307,0,9,0,179,0,9,0,435,0,9,0,115,0,9,0,371,0,9,0,243,0,9,0,499,0,9,0,11,0,9,0,267,0,9,0,139,0,9,0,395,0,9,0,75,0,9,0,331,0,9,0,203,0,9,0,459,0,9,0,43,0,9,0,299,0,9,0,171,0,9,0,427,0,9,0,
107,0,9,0,363,0,9,0,235,0,9,0,491,0,9,0,27,0,9,0,283,0,9,0,155,0,9,0,411,0,9,0,91,0,9,0,347,0,9,0,219,0,9,0,475,0,9,0,59,0,9,0,315,0,9,0,187,0,9,0,443,0,9,0,123,0,9,0,379,0,9,0,251,0,9,0,507,0,9,0,7,0,9,0,263,0,9,0,135,0,9,0,391,0,9,0,71,0,9,0,327,0,9,0,199,0,9,0,455,0,9,0,39,0,9,0,295,0,9,0,167,0,9,0,423,0,9,0,103,0,9,0,359,0,9,0,231,0,9,0,487,0,9,0,23,0,9,0,279,0,9,0,151,0,9,0,407,0,9,0,87,0,9,0,343,0,9,0,215,0,9,0,471,0,9,0,55,0,9,0,311,0,9,0,183,0,9,0,439,0,9,0,119,0,9,0,375,0,9,0,247,0,9,0,503,
0,9,0,15,0,9,0,271,0,9,0,143,0,9,0,399,0,9,0,79,0,9,0,335,0,9,0,207,0,9,0,463,0,9,0,47,0,9,0,303,0,9,0,175,0,9,0,431,0,9,0,111,0,9,0,367,0,9,0,239,0,9,0,495,0,9,0,31,0,9,0,287,0,9,0,159,0,9,0,415,0,9,0,95,0,9,0,351,0,9,0,223,0,9,0,479,0,9,0,63,0,9,0,319,0,9,0,191,0,9,0,447,0,9,0,127,0,9,0,383,0,9,0,255,0,9,0,511,0,9,0,0,0,7,0,64,0,7,0,32,0,7,0,96,0,7,0,16,0,7,0,80,0,7,0,48,0,7,0,112,0,7,0,8,0,7,0,72,0,7,0,40,0,7,0,104,0,7,0,24,0,7,0,88,0,7,0,56,0,7,0,120,0,7,0,4,0,7,0,68,0,7,0,36,0,7,0,100,0,7,0,
20,0,7,0,84,0,7,0,52,0,7,0,116,0,7,0,3,0,8,0,131,0,8,0,67,0,8,0,195,0,8,0,35,0,8,0,163,0,8,0,99,0,8,0,227,0,8,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],da);tc=g([0,0,5,0,16,0,5,0,8,0,5,0,24,0,5,0,4,0,5,0,20,0,5,0,12,0,5,0,28,0,5,0,2,0,5,0,18,0,5,0,10,0,5,0,26,0,5,0,6,0,5,0,22,0,5,0,14,0,5,0,30,0,5,0,1,0,5,0,17,0,5,0,9,0,5,0,25,0,5,0,5,0,5,0,21,0,5,0,13,0,5,0,29,0,5,0,3,0,5,0,19,0,5,0,11,0,5,0,27,0,5,0,7,0,5,0,23,0,5,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],da);uc=g([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,
"i32",0,0,0,"i32",0,0,0],da);Ac=g([0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,10,0,0,0,12,0,0,0,14,0,0,0,16,0,0,0,20,0,0,0,24,0,0,0,28,0,0,0,32,0,0,0,40,0,0,0,48,0,0,0,56,0,0,0,64,0,0,0,80,0,0,0,96,0,0,0,112,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);Hc=g([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,8,0,0,0,9,0,0,0,9,0,0,0,10,0,0,0,10,0,0,0,11,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);Nb=g([0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,8,0,0,0,12,0,0,0,16,0,0,0,24,0,0,0,32,0,0,0,48,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,192,0,0,0,256,0,0,0,384,0,0,0,512,0,0,0,768,0,0,0,1024,0,0,0,1536,0,0,0,2048,0,0,0,3072,0,0,0,4096,0,0,
0,6144,0,0,0,8192,0,0,0,12288,0,0,0,16384,0,0,0,24576,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);ca._bl_order=g([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],"i8",da);Gb=
g([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,7,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);ja=g([0,0,0,0,1996959894,0,0,0,-301047508,0,0,0,-1727442502,0,0,0,124634137,0,0,0,1886057615,0,0,0,-379345611,0,
0,0,-1637575261,0,0,0,249268274,0,0,0,2044508324,0,0,0,-522852066,0,0,0,-1747789432,0,0,0,162941995,0,0,0,2125561021,0,0,0,-407360249,0,0,0,-1866523247,0,0,0,498536548,0,0,0,1789927666,0,0,0,-205950648,0,0,0,-2067906082,0,0,0,450548861,0,0,0,1843258603,0,0,0,-187386543,0,0,0,-2083289657,0,0,0,325883990,0,0,0,1684777152,0,0,0,-43845254,0,0,0,-1973040660,0,0,0,335633487,0,0,0,1661365465,0,0,0,-99664541,0,0,0,-1928851979,0,0,0,997073096,0,0,0,1281953886,0,0,0,-715111964,0,0,0,-1570279054,0,0,0,1006888145,
0,0,0,1258607687,0,0,0,-770865667,0,0,0,-1526024853,0,0,0,901097722,0,0,0,1119000684,0,0,0,-608450090,0,0,0,-1396901568,0,0,0,853044451,0,0,0,1172266101,0,0,0,-589951537,0,0,0,-1412350631,0,0,0,651767980,0,0,0,1373503546,0,0,0,-925412992,0,0,0,-1076862698,0,0,0,565507253,0,0,0,1454621731,0,0,0,-809855591,0,0,0,-1195530993,0,0,0,671266974,0,0,0,1594198024,0,0,0,-972236366,0,0,0,-1324619484,0,0,0,795835527,0,0,0,1483230225,0,0,0,-1050600021,0,0,0,-1234817731,0,0,0,1994146192,0,0,0,31158534,0,0,0,-1731059524,
0,0,0,-271249366,0,0,0,1907459465,0,0,0,112637215,0,0,0,-1614814043,0,0,0,-390540237,0,0,0,2013776290,0,0,0,251722036,0,0,0,-1777751922,0,0,0,-519137256,0,0,0,2137656763,0,0,0,141376813,0,0,0,-1855689577,0,0,0,-429695999,0,0,0,1802195444,0,0,0,476864866,0,0,0,-2056965928,0,0,0,-228458418,0,0,0,1812370925,0,0,0,453092731,0,0,0,-2113342271,0,0,0,-183516073,0,0,0,1706088902,0,0,0,314042704,0,0,0,-1950435094,0,0,0,-54949764,0,0,0,1658658271,0,0,0,366619977,0,0,0,-1932296973,0,0,0,-69972891,0,0,0,1303535960,
0,0,0,984961486,0,0,0,-1547960204,0,0,0,-725929758,0,0,0,1256170817,0,0,0,1037604311,0,0,0,-1529756563,0,0,0,-740887301,0,0,0,1131014506,0,0,0,879679996,0,0,0,-1385723834,0,0,0,-631195440,0,0,0,1141124467,0,0,0,855842277,0,0,0,-1442165665,0,0,0,-586318647,0,0,0,1342533948,0,0,0,654459306,0,0,0,-1106571248,0,0,0,-921952122,0,0,0,1466479909,0,0,0,544179635,0,0,0,-1184443383,0,0,0,-832445281,0,0,0,1591671054,0,0,0,702138776,0,0,0,-1328506846,0,0,0,-942167884,0,0,0,1504918807,0,0,0,783551873,0,0,0,-1212326853,
0,0,0,-1061524307,0,0,0,-306674912,0,0,0,-1698712650,0,0,0,62317068,0,0,0,1957810842,0,0,0,-355121351,0,0,0,-1647151185,0,0,0,81470997,0,0,0,1943803523,0,0,0,-480048366,0,0,0,-1805370492,0,0,0,225274430,0,0,0,2053790376,0,0,0,-468791541,0,0,0,-1828061283,0,0,0,167816743,0,0,0,2097651377,0,0,0,-267414716,0,0,0,-2029476910,0,0,0,503444072,0,0,0,1762050814,0,0,0,-144550051,0,0,0,-2140837941,0,0,0,426522225,0,0,0,1852507879,0,0,0,-19653770,0,0,0,-1982649376,0,0,0,282753626,0,0,0,1742555852,0,0,0,-105259153,
0,0,0,-1900089351,0,0,0,397917763,0,0,0,1622183637,0,0,0,-690576408,0,0,0,-1580100738,0,0,0,953729732,0,0,0,1340076626,0,0,0,-776247311,0,0,0,-1497606297,0,0,0,1068828381,0,0,0,1219638859,0,0,0,-670225446,0,0,0,-1358292148,0,0,0,906185462,0,0,0,1090812512,0,0,0,-547295293,0,0,0,-1469587627,0,0,0,829329135,0,0,0,1181335161,0,0,0,-882789492,0,0,0,-1134132454,0,0,0,628085408,0,0,0,1382605366,0,0,0,-871598187,0,0,0,-1156888829,0,0,0,570562233,0,0,0,1426400815,0,0,0,-977650754,0,0,0,-1296233688,0,0,0,
733239954,0,0,0,1555261956,0,0,0,-1026031705,0,0,0,-1244606671,0,0,0,752459403,0,0,0,1541320221,0,0,0,-1687895376,0,0,0,-328994266,0,0,0,1969922972,0,0,0,40735498,0,0,0,-1677130071,0,0,0,-351390145,0,0,0,1913087877,0,0,0,83908371,0,0,0,-1782625662,0,0,0,-491226604,0,0,0,2075208622,0,0,0,213261112,0,0,0,-1831694693,0,0,0,-438977011,0,0,0,2094854071,0,0,0,198958881,0,0,0,-2032938284,0,0,0,-237706686,0,0,0,1759359992,0,0,0,534414190,0,0,0,-2118248755,0,0,0,-155638181,0,0,0,1873836001,0,0,0,414664567,
0,0,0,-2012718362,0,0,0,-15766928,0,0,0,1711684554,0,0,0,285281116,0,0,0,-1889165569,0,0,0,-127750551,0,0,0,1634467795,0,0,0,376229701,0,0,0,-1609899400,0,0,0,-686959890,0,0,0,1308918612,0,0,0,956543938,0,0,0,-1486412191,0,0,0,-799009033,0,0,0,1231636301,0,0,0,1047427035,0,0,0,-1362007478,0,0,0,-640263460,0,0,0,1088359270,0,0,0,936918E3,0,0,0,-1447252397,0,0,0,-558129467,0,0,0,1202900863,0,0,0,817233897,0,0,0,-1111625188,0,0,0,-893730166,0,0,0,1404277552,0,0,0,615818150,0,0,0,-1160759803,0,0,0,-841546093,
0,0,0,1423857449,0,0,0,601450431,0,0,0,-1285129682,0,0,0,-1000256840,0,0,0,1567103746,0,0,0,711928724,0,0,0,-1274298825,0,0,0,-1022587231,0,0,0,1510334235,0,0,0,755167117,0,0,0,0,0,0,0,421212481,0,0,0,842424962,0,0,0,724390851,0,0,0,1684849924,0,0,0,2105013317,0,0,0,1448781702,0,0,0,1329698503,0,0,0,-925267448,0,0,0,-775767223,0,0,0,-84940662,0,0,0,-470492725,0,0,0,-1397403892,0,0,0,-1246855603,0,0,0,-1635570290,0,0,0,-2020074289,0,0,0,1254232657,0,0,0,1406739216,0,0,0,2029285587,0,0,0,1643069842,
0,0,0,783210325,0,0,0,934667796,0,0,0,479770071,0,0,0,92505238,0,0,0,-2112120743,0,0,0,-1694455528,0,0,0,-1339163941,0,0,0,-1456026726,0,0,0,-428384931,0,0,0,-9671652,0,0,0,-733921313,0,0,0,-849736034,0,0,0,-1786501982,0,0,0,-1935731229,0,0,0,-1481488864,0,0,0,-1096190111,0,0,0,-236396122,0,0,0,-386674457,0,0,0,-1008827612,0,0,0,-624577947,0,0,0,1566420650,0,0,0,1145479147,0,0,0,1869335592,0,0,0,1987116393,0,0,0,959540142,0,0,0,539646703,0,0,0,185010476,0,0,0,303839341,0,0,0,-549046541,0,0,0,-966981710,
0,0,0,-311405455,0,0,0,-194288336,0,0,0,-1154812937,0,0,0,-1573797194,0,0,0,-1994616459,0,0,0,-1878548428,0,0,0,396344571,0,0,0,243568058,0,0,0,631889529,0,0,0,1018359608,0,0,0,1945336319,0,0,0,1793607870,0,0,0,1103436669,0,0,0,1490954812,0,0,0,-260485371,0,0,0,-379421116,0,0,0,-1034998393,0,0,0,-615244602,0,0,0,-1810527743,0,0,0,-1928414400,0,0,0,-1507596157,0,0,0,-1086793278,0,0,0,950060301,0,0,0,565965900,0,0,0,177645455,0,0,0,328046286,0,0,0,1556873225,0,0,0,1171730760,0,0,0,1861902987,0,0,0,
2011255754,0,0,0,-1162125996,0,0,0,-1549767659,0,0,0,-2004009002,0,0,0,-1852436841,0,0,0,-556296112,0,0,0,-942888687,0,0,0,-320734510,0,0,0,-168113261,0,0,0,1919080284,0,0,0,1803150877,0,0,0,1079293406,0,0,0,1498383519,0,0,0,370020952,0,0,0,253043481,0,0,0,607678682,0,0,0,1025720731,0,0,0,1711106983,0,0,0,2095471334,0,0,0,1472923941,0,0,0,1322268772,0,0,0,26324643,0,0,0,411738082,0,0,0,866634785,0,0,0,717028704,0,0,0,-1390091857,0,0,0,-1270886162,0,0,0,-1626176723,0,0,0,-2046184852,0,0,0,-918018901,
0,0,0,-799861270,0,0,0,-75610583,0,0,0,-496666776,0,0,0,792689142,0,0,0,908347575,0,0,0,487136116,0,0,0,68299317,0,0,0,1263779058,0,0,0,1380486579,0,0,0,2036719216,0,0,0,1618931505,0,0,0,-404294658,0,0,0,-16923969,0,0,0,-707751556,0,0,0,-859070403,0,0,0,-2088093958,0,0,0,-1701771333,0,0,0,-1313057672,0,0,0,-1465424583,0,0,0,998479947,0,0,0,580430090,0,0,0,162921161,0,0,0,279890824,0,0,0,1609522511,0,0,0,1190423566,0,0,0,1842954189,0,0,0,1958874764,0,0,0,-212200893,0,0,0,-364829950,0,0,0,-1049857855,
0,0,0,-663273088,0,0,0,-1758013625,0,0,0,-1909594618,0,0,0,-1526680123,0,0,0,-1139047292,0,0,0,1900120602,0,0,0,1750776667,0,0,0,1131931800,0,0,0,1517083097,0,0,0,355290910,0,0,0,204897887,0,0,0,656092572,0,0,0,1040194781,0,0,0,-1181220846,0,0,0,-1602014893,0,0,0,-1951505776,0,0,0,-1833610287,0,0,0,-571161322,0,0,0,-990907305,0,0,0,-272455788,0,0,0,-153512235,0,0,0,-1375224599,0,0,0,-1222865496,0,0,0,-1674453397,0,0,0,-2060783830,0,0,0,-898926099,0,0,0,-747616084,0,0,0,-128115857,0,0,0,-515495378,
0,0,0,1725839073,0,0,0,2143618976,0,0,0,1424512099,0,0,0,1307796770,0,0,0,45282277,0,0,0,464110244,0,0,0,813994343,0,0,0,698327078,0,0,0,-456806728,0,0,0,-35741703,0,0,0,-688665542,0,0,0,-806814341,0,0,0,-2136380484,0,0,0,-1716364547,0,0,0,-1298200258,0,0,0,-1417398145,0,0,0,740041904,0,0,0,889656817,0,0,0,506086962,0,0,0,120682355,0,0,0,1215357364,0,0,0,1366020341,0,0,0,2051441462,0,0,0,1667084919,0,0,0,-872753330,0,0,0,-756947441,0,0,0,-104024628,0,0,0,-522746739,0,0,0,-1349119414,0,0,0,-1232264437,
0,0,0,-1650429752,0,0,0,-2068102775,0,0,0,52649286,0,0,0,439905287,0,0,0,823476164,0,0,0,672009861,0,0,0,1733269570,0,0,0,2119477507,0,0,0,1434057408,0,0,0,1281543041,0,0,0,-2126985953,0,0,0,-1742474146,0,0,0,-1290885219,0,0,0,-1441425700,0,0,0,-447479781,0,0,0,-61918886,0,0,0,-681418087,0,0,0,-830909480,0,0,0,1239502615,0,0,0,1358593622,0,0,0,2077699477,0,0,0,1657543892,0,0,0,764250643,0,0,0,882293586,0,0,0,532408465,0,0,0,111204816,0,0,0,1585378284,0,0,0,1197851309,0,0,0,1816695150,0,0,0,1968414767,
0,0,0,974272232,0,0,0,587794345,0,0,0,136598634,0,0,0,289367339,0,0,0,-1767409180,0,0,0,-1883486043,0,0,0,-1533994138,0,0,0,-1115018713,0,0,0,-221528864,0,0,0,-338653791,0,0,0,-1057104286,0,0,0,-639176925,0,0,0,347922877,0,0,0,229101820,0,0,0,646611775,0,0,0,1066513022,0,0,0,1892689081,0,0,0,1774917112,0,0,0,1122387515,0,0,0,1543337850,0,0,0,-597333067,0,0,0,-981574924,0,0,0,-296548041,0,0,0,-146261898,0,0,0,-1207325007,0,0,0,-1592614928,0,0,0,-1975530445,0,0,0,-1826292366,0,0,0,0,0,0,0,29518391,
0,0,0,59036782,0,0,0,38190681,0,0,0,118073564,0,0,0,114017003,0,0,0,76381362,0,0,0,89069189,0,0,0,236147128,0,0,0,265370511,0,0,0,228034006,0,0,0,206958561,0,0,0,152762724,0,0,0,148411219,0,0,0,178138378,0,0,0,190596925,0,0,0,472294256,0,0,0,501532999,0,0,0,530741022,0,0,0,509615401,0,0,0,456068012,0,0,0,451764635,0,0,0,413917122,0,0,0,426358261,0,0,0,305525448,0,0,0,334993663,0,0,0,296822438,0,0,0,275991697,0,0,0,356276756,0,0,0,352202787,0,0,0,381193850,0,0,0,393929805,0,0,0,944588512,0,0,0,965684439,
0,0,0,1003065998,0,0,0,973863097,0,0,0,1061482044,0,0,0,1049003019,0,0,0,1019230802,0,0,0,1023561829,0,0,0,912136024,0,0,0,933002607,0,0,0,903529270,0,0,0,874031361,0,0,0,827834244,0,0,0,815125939,0,0,0,852716522,0,0,0,856752605,0,0,0,611050896,0,0,0,631869351,0,0,0,669987326,0,0,0,640506825,0,0,0,593644876,0,0,0,580921211,0,0,0,551983394,0,0,0,556069653,0,0,0,712553512,0,0,0,733666847,0,0,0,704405574,0,0,0,675154545,0,0,0,762387700,0,0,0,749958851,0,0,0,787859610,0,0,0,792175277,0,0,0,1889177024,
0,0,0,1901651959,0,0,0,1931368878,0,0,0,1927033753,0,0,0,2006131996,0,0,0,1985040171,0,0,0,1947726194,0,0,0,1976933189,0,0,0,2122964088,0,0,0,2135668303,0,0,0,2098006038,0,0,0,2093965857,0,0,0,2038461604,0,0,0,2017599123,0,0,0,2047123658,0,0,0,2076625661,0,0,0,1824272048,0,0,0,1836991623,0,0,0,1866005214,0,0,0,1861914857,0,0,0,1807058540,0,0,0,1786244187,0,0,0,1748062722,0,0,0,1777547317,0,0,0,1655668488,0,0,0,1668093247,0,0,0,1630251878,0,0,0,1625932113,0,0,0,1705433044,0,0,0,1684323811,0,0,0,1713505210,
0,0,0,1742760333,0,0,0,1222101792,0,0,0,1226154263,0,0,0,1263738702,0,0,0,1251046777,0,0,0,1339974652,0,0,0,1310460363,0,0,0,1281013650,0,0,0,1301863845,0,0,0,1187289752,0,0,0,1191637167,0,0,0,1161842422,0,0,0,1149379777,0,0,0,1103966788,0,0,0,1074747507,0,0,0,1112139306,0,0,0,1133218845,0,0,0,1425107024,0,0,0,1429406311,0,0,0,1467333694,0,0,0,1454888457,0,0,0,1408811148,0,0,0,1379576507,0,0,0,1350309090,0,0,0,1371438805,0,0,0,1524775400,0,0,0,1528845279,0,0,0,1499917702,0,0,0,1487177649,0,0,0,1575719220,
0,0,0,1546255107,0,0,0,1584350554,0,0,0,1605185389,0,0,0,-516613248,0,0,0,-520654409,0,0,0,-491663378,0,0,0,-478960167,0,0,0,-432229540,0,0,0,-402728597,0,0,0,-440899790,0,0,0,-461763323,0,0,0,-282703304,0,0,0,-287039473,0,0,0,-324886954,0,0,0,-312413087,0,0,0,-399514908,0,0,0,-370308909,0,0,0,-341100918,0,0,0,-362193731,0,0,0,-49039120,0,0,0,-53357881,0,0,0,-23630690,0,0,0,-11204951,0,0,0,-98955220,0,0,0,-69699045,0,0,0,-107035582,0,0,0,-128143755,0,0,0,-218044088,0,0,0,-222133377,0,0,0,-259769050,
0,0,0,-247048431,0,0,0,-200719980,0,0,0,-171234397,0,0,0,-141715974,0,0,0,-162529331,0,0,0,-646423200,0,0,0,-658884777,0,0,0,-620984050,0,0,0,-616635591,0,0,0,-562956868,0,0,0,-541876341,0,0,0,-571137582,0,0,0,-600355867,0,0,0,-680850216,0,0,0,-693541137,0,0,0,-722478922,0,0,0,-718425471,0,0,0,-798841852,0,0,0,-777990605,0,0,0,-739872662,0,0,0,-769385891,0,0,0,-983630320,0,0,0,-996371417,0,0,0,-958780802,0,0,0,-954711991,0,0,0,-1034463540,0,0,0,-1013629701,0,0,0,-1043103070,0,0,0,-1072568171,0,0,
0,-884101208,0,0,0,-896547425,0,0,0,-926319674,0,0,0,-922021391,0,0,0,-867956876,0,0,0,-846828221,0,0,0,-809446630,0,0,0,-838682323,0,0,0,-1850763712,0,0,0,-1871840137,0,0,0,-1842658770,0,0,0,-1813436391,0,0,0,-1767489892,0,0,0,-1755032405,0,0,0,-1792873742,0,0,0,-1797226299,0,0,0,-1615017992,0,0,0,-1635865137,0,0,0,-1674046570,0,0,0,-1644529247,0,0,0,-1732939996,0,0,0,-1720253165,0,0,0,-1691239606,0,0,0,-1695297155,0,0,0,-1920387792,0,0,0,-1941217529,0,0,0,-1911692962,0,0,0,-1882223767,0,0,0,-1971282452,
0,0,0,-1958545445,0,0,0,-1996207742,0,0,0,-2000280651,0,0,0,-2087033720,0,0,0,-2108158273,0,0,0,-2145472282,0,0,0,-2116232495,0,0,0,-2070688684,0,0,0,-2058246557,0,0,0,-2028529606,0,0,0,-2032831987,0,0,0,-1444753248,0,0,0,-1474250089,0,0,0,-1436154674,0,0,0,-1415287047,0,0,0,-1360299908,0,0,0,-1356262837,0,0,0,-1385190382,0,0,0,-1397897691,0,0,0,-1477345E3,0,0,0,-1506546897,0,0,0,-1535814282,0,0,0,-1514717375,0,0,0,-1594349116,0,0,0,-1590017037,0,0,0,-1552089686,0,0,0,-1564567651,0,0,0,-1245416496,
0,0,0,-1274668569,0,0,0,-1237276738,0,0,0,-1216164471,0,0,0,-1295131892,0,0,0,-1290817221,0,0,0,-1320611998,0,0,0,-1333041835,0,0,0,-1143528856,0,0,0,-1173010337,0,0,0,-1202457082,0,0,0,-1181639631,0,0,0,-1126266188,0,0,0,-1122180989,0,0,0,-1084596518,0,0,0,-1097321235,0,0,0,0,0,0,0,-1195612315,0,0,0,-1442199413,0,0,0,313896942,0,0,0,-1889364137,0,0,0,937357362,0,0,0,627793884,0,0,0,-1646839623,0,0,0,-978048785,0,0,0,2097696650,0,0,0,1874714724,0,0,0,-687765759,0,0,0,1255587768,0,0,0,-227878691,0,
0,0,-522225869,0,0,0,1482887254,0,0,0,1343838111,0,0,0,-391827206,0,0,0,-99573996,0,0,0,1118632049,0,0,0,-545537848,0,0,0,1741137837,0,0,0,1970407491,0,0,0,-842109146,0,0,0,-1783791760,0,0,0,756094997,0,0,0,1067759611,0,0,0,-2028416866,0,0,0,449832999,0,0,0,-1569484990,0,0,0,-1329192788,0,0,0,142231497,0,0,0,-1607291074,0,0,0,412010587,0,0,0,171665333,0,0,0,-1299775280,0,0,0,793786473,0,0,0,-1746116852,0,0,0,-2057703198,0,0,0,1038456711,0,0,0,1703315409,0,0,0,-583343948,0,0,0,-812691622,0,0,0,1999841343,
0,0,0,-354152314,0,0,0,1381529571,0,0,0,1089329165,0,0,0,-128860312,0,0,0,-265553759,0,0,0,1217896388,0,0,0,1512189994,0,0,0,-492939441,0,0,0,2135519222,0,0,0,-940242797,0,0,0,-717183107,0,0,0,1845280792,0,0,0,899665998,0,0,0,-1927039189,0,0,0,-1617553211,0,0,0,657096608,0,0,0,-1157806311,0,0,0,37822588,0,0,0,284462994,0,0,0,-1471616777,0,0,0,-1693165507,0,0,0,598228824,0,0,0,824021174,0,0,0,-1985873965,0,0,0,343330666,0,0,0,-1396004849,0,0,0,-1098971167,0,0,0,113467524,0,0,0,1587572946,0,0,0,-434366537,
0,0,0,-190203815,0,0,0,1276501820,0,0,0,-775755899,0,0,0,1769898208,0,0,0,2076913422,0,0,0,-1015592853,0,0,0,-888336478,0,0,0,1941006535,0,0,0,1627703081,0,0,0,-642211764,0,0,0,1148164341,0,0,0,-53215344,0,0,0,-295284610,0,0,0,1457141531,0,0,0,247015245,0,0,0,-1241169880,0,0,0,-1531908154,0,0,0,470583459,0,0,0,-2116308966,0,0,0,963106687,0,0,0,735213713,0,0,0,-1821499404,0,0,0,992409347,0,0,0,-2087022490,0,0,0,-1859174520,0,0,0,697522413,0,0,0,-1270587308,0,0,0,217581361,0,0,0,508405983,0,0,0,-1494102086,
0,0,0,-23928852,0,0,0,1177467017,0,0,0,1419450215,0,0,0,-332959742,0,0,0,1911572667,0,0,0,-917753890,0,0,0,-604405712,0,0,0,1665525589,0,0,0,1799331996,0,0,0,-746338311,0,0,0,-1053399017,0,0,0,2039091058,0,0,0,-463652917,0,0,0,1558270126,0,0,0,1314193216,0,0,0,-152528859,0,0,0,-1366587277,0,0,0,372764438,0,0,0,75645176,0,0,0,-1136777315,0,0,0,568925988,0,0,0,-1722451903,0,0,0,-1948198993,0,0,0,861712586,0,0,0,-312887749,0,0,0,1441124702,0,0,0,1196457648,0,0,0,-1304107,0,0,0,1648042348,0,0,0,-628668919,
0,0,0,-936187417,0,0,0,1888390786,0,0,0,686661332,0,0,0,-1873675855,0,0,0,-2098964897,0,0,0,978858298,0,0,0,-1483798141,0,0,0,523464422,0,0,0,226935048,0,0,0,-1254447507,0,0,0,-1119821404,0,0,0,100435649,0,0,0,390670639,0,0,0,-1342878134,0,0,0,841119475,0,0,0,-1969352298,0,0,0,-1741963656,0,0,0,546822429,0,0,0,2029308235,0,0,0,-1068978642,0,0,0,-755170880,0,0,0,1782671013,0,0,0,-141140452,0,0,0,1328167289,0,0,0,1570739863,0,0,0,-450629134,0,0,0,1298864389,0,0,0,-170426784,0,0,0,-412954226,0,0,0,1608431339,
0,0,0,-1039561134,0,0,0,2058742071,0,0,0,1744848601,0,0,0,-792976964,0,0,0,-1998638614,0,0,0,811816591,0,0,0,584513889,0,0,0,-1704288764,0,0,0,129869501,0,0,0,-1090403880,0,0,0,-1380684234,0,0,0,352848211,0,0,0,494030490,0,0,0,-1513215489,0,0,0,-1216641519,0,0,0,264757620,0,0,0,-1844389427,0,0,0,715964072,0,0,0,941166918,0,0,0,-2136639965,0,0,0,-658086283,0,0,0,1618608400,0,0,0,1926213374,0,0,0,-898381413,0,0,0,1470427426,0,0,0,-283601337,0,0,0,-38979159,0,0,0,1158766284,0,0,0,1984818694,0,0,0,-823031453,
0,0,0,-599513459,0,0,0,1693991400,0,0,0,-114329263,0,0,0,1100160564,0,0,0,1395044826,0,0,0,-342174017,0,0,0,-1275476247,0,0,0,189112716,0,0,0,435162722,0,0,0,-1588827897,0,0,0,1016811966,0,0,0,-2077804837,0,0,0,-1768777419,0,0,0,774831696,0,0,0,643086745,0,0,0,-1628905732,0,0,0,-1940033262,0,0,0,887166583,0,0,0,-1456066866,0,0,0,294275499,0,0,0,54519365,0,0,0,-1149009632,0,0,0,-471821962,0,0,0,1532818963,0,0,0,1240029693,0,0,0,-246071656,0,0,0,1820460577,0,0,0,-734109372,0,0,0,-963916118,0,0,0,2117577167,
0,0,0,-696303304,0,0,0,1858283101,0,0,0,2088143283,0,0,0,-993333546,0,0,0,1495127663,0,0,0,-509497078,0,0,0,-216785180,0,0,0,1269332353,0,0,0,332098007,0,0,0,-1418260814,0,0,0,-1178427044,0,0,0,25085497,0,0,0,-1666580864,0,0,0,605395429,0,0,0,916469259,0,0,0,-1910746770,0,0,0,-2040129881,0,0,0,1054503362,0,0,0,745528876,0,0,0,-1798063799,0,0,0,151290352,0,0,0,-1313282411,0,0,0,-1559410309,0,0,0,464596510,0,0,0,1137851976,0,0,0,-76654291,0,0,0,-371460413,0,0,0,1365741990,0,0,0,-860837601,0,0,0,1946996346,
0,0,0,1723425172,0,0,0,-570095887,0,0,0,0,0,0,0,-1775237257,0,0,0,744558318,0,0,0,-1169094247,0,0,0,432303367,0,0,0,-1879807376,0,0,0,900031465,0,0,0,-1550490466,0,0,0,847829774,0,0,0,-1531388807,0,0,0,518641120,0,0,0,-1998990697,0,0,0,726447625,0,0,0,-1115901570,0,0,0,120436967,0,0,0,-1860321392,0,0,0,1678817053,0,0,0,-232738710,0,0,0,1215412723,0,0,0,-566116732,0,0,0,2111101466,0,0,0,-337322643,0,0,0,1370871028,0,0,0,-947530877,0,0,0,1452829715,0,0,0,-1062704284,0,0,0,2063164157,0,0,0,-322345590,
0,0,0,1331429652,0,0,0,-647231901,0,0,0,1664946170,0,0,0,-183695219,0,0,0,-937398725,0,0,0,1578133836,0,0,0,-465477419,0,0,0,1920034722,0,0,0,-773586116,0,0,0,1205077067,0,0,0,-41611822,0,0,0,1807026853,0,0,0,-89606859,0,0,0,1821946434,0,0,0,-691422245,0,0,0,1090108588,0,0,0,-479406030,0,0,0,1969020741,0,0,0,-821176612,0,0,0,1497223595,0,0,0,-1406084826,0,0,0,973135441,0,0,0,-2142119992,0,0,0,375509183,0,0,0,-1242254303,0,0,0,600093526,0,0,0,-1718240561,0,0,0,262520248,0,0,0,-1632107992,0,0,0,143131999,
0,0,0,-1294398266,0,0,0,619252657,0,0,0,-2021888209,0,0,0,290220120,0,0,0,-1424137791,0,0,0,1026385590,0,0,0,-1874731914,0,0,0,108124929,0,0,0,-1138699624,0,0,0,705746415,0,0,0,-1987726991,0,0,0,532002310,0,0,0,-1511735393,0,0,0,869578984,0,0,0,-1563883656,0,0,0,888733711,0,0,0,-1901590122,0,0,0,412618465,0,0,0,-1156748673,0,0,0,759000328,0,0,0,-1754504047,0,0,0,22832102,0,0,0,-195990677,0,0,0,1650551836,0,0,0,-667916923,0,0,0,1308648178,0,0,0,-309000596,0,0,0,2074411291,0,0,0,-1040971646,0,0,0,1472466933,
0,0,0,-958812059,0,0,0,1357494034,0,0,0,-356991349,0,0,0,2089335292,0,0,0,-551690910,0,0,0,1227741717,0,0,0,-209923188,0,0,0,1699534075,0,0,0,1482797645,0,0,0,-833505990,0,0,0,1946205347,0,0,0,-500122668,0,0,0,1101389642,0,0,0,-678045635,0,0,0,1841615268,0,0,0,-67840301,0,0,0,1793681731,0,0,0,-52859340,0,0,0,1183344557,0,0,0,-793222950,0,0,0,1932330052,0,0,0,-451083469,0,0,0,1598818986,0,0,0,-914616867,0,0,0,1014039888,0,0,0,-1438580185,0,0,0,269487038,0,0,0,-2044719927,0,0,0,632645719,0,0,0,-1283100896,
0,0,0,164914873,0,0,0,-1612422706,0,0,0,251256414,0,0,0,-1731602135,0,0,0,580440240,0,0,0,-1264003129,0,0,0,389919577,0,0,0,-2129808338,0,0,0,995933623,0,0,0,-1385383232,0,0,0,545503469,0,0,0,-1229733990,0,0,0,216184323,0,0,0,-1697468044,0,0,0,961009130,0,0,0,-1351101795,0,0,0,354867972,0,0,0,-2095653773,0,0,0,302736355,0,0,0,-2076482412,0,0,0,1047162125,0,0,0,-1470469510,0,0,0,198119140,0,0,0,-1644230253,0,0,0,665714698,0,0,0,-1315043459,0,0,0,1150488560,0,0,0,-761067385,0,0,0,1760690462,0,0,0,-20838807,
0,0,0,1566008055,0,0,0,-882416256,0,0,0,1899392025,0,0,0,-419009682,0,0,0,1981535486,0,0,0,-533998711,0,0,0,1518000656,0,0,0,-867508889,0,0,0,1876933113,0,0,0,-101728626,0,0,0,1136572183,0,0,0,-712069024,0,0,0,-391915818,0,0,0,2123616673,0,0,0,-993863624,0,0,0,1391648591,0,0,0,-244859951,0,0,0,1733803174,0,0,0,-586762945,0,0,0,1261875784,0,0,0,-634712616,0,0,0,1276840623,0,0,0,-162921674,0,0,0,1618609217,0,0,0,-1007722273,0,0,0,1440704424,0,0,0,-275878351,0,0,0,2042521926,0,0,0,-1934401077,0,0,0,
444819132,0,0,0,-1596821723,0,0,0,920807506,0,0,0,-1787360052,0,0,0,54987707,0,0,0,-1189739998,0,0,0,791020885,0,0,0,-1103381819,0,0,0,671858098,0,0,0,-1839549397,0,0,0,74101596,0,0,0,-1476405310,0,0,0,835702965,0,0,0,-1952523988,0,0,0,497999451,0,0,0,-1329437541,0,0,0,653419500,0,0,0,-1667011979,0,0,0,177433858,0,0,0,-1459222116,0,0,0,1060507371,0,0,0,-2056845454,0,0,0,324468741,0,0,0,-2109030507,0,0,0,343587042,0,0,0,-1372868229,0,0,0,941340172,0,0,0,-1685138798,0,0,0,230610405,0,0,0,-1209017220,
0,0,0,568318731,0,0,0,-724380794,0,0,0,1122161905,0,0,0,-122430104,0,0,0,1854134815,0,0,0,-854147455,0,0,0,1529264630,0,0,0,-512249745,0,0,0,2001188632,0,0,0,-430307192,0,0,0,1885999103,0,0,0,-902101402,0,0,0,1544225041,0,0,0,-6396529,0,0,0,1773036280,0,0,0,-738235551,0,0,0,1171221526,0,0,0,2028079776,0,0,0,-288223785,0,0,0,1417872462,0,0,0,-1028455623,0,0,0,1629906855,0,0,0,-149528368,0,0,0,1296525641,0,0,0,-612929986,0,0,0,1248514478,0,0,0,-598026535,0,0,0,1712054080,0,0,0,-264513481,0,0,0,1403960489,
0,0,0,-979452962,0,0,0,2144318023,0,0,0,-369117904,0,0,0,485670333,0,0,0,-1966949686,0,0,0,814986067,0,0,0,-1499220956,0,0,0,87478458,0,0,0,-1828268083,0,0,0,693624404,0,0,0,-1083713245,0,0,0,779773619,0,0,0,-1203084860,0,0,0,35350621,0,0,0,-1809092822,0,0,0,935201716,0,0,0,-1584526141,0,0,0,467600730,0,0,0,-1913716179,0,0,0,0,0,0,0,1093737241,0,0,0,-2107492814,0,0,0,-1017959125,0,0,0,80047204,0,0,0,1173649277,0,0,0,-2035852714,0,0,0,-946454193,0,0,0,143317448,0,0,0,1237041873,0,0,0,-1964445702,0,
0,0,-874908445,0,0,0,206550444,0,0,0,1300147893,0,0,0,-1909619810,0,0,0,-820209529,0,0,0,1360183882,0,0,0,270784851,0,0,0,-747572104,0,0,0,-1841172639,0,0,0,1440198190,0,0,0,350663991,0,0,0,-675964900,0,0,0,-1769700603,0,0,0,1503140738,0,0,0,413728923,0,0,0,-604361296,0,0,0,-1697958231,0,0,0,1566406630,0,0,0,476867839,0,0,0,-549502508,0,0,0,-1643226419,0,0,0,-1574665067,0,0,0,-485122164,0,0,0,541504167,0,0,0,1635232190,0,0,0,-1495144207,0,0,0,-405736472,0,0,0,612622019,0,0,0,1706214874,0,0,0,-1431413411,
0,0,0,-341883324,0,0,0,684485487,0,0,0,1778217078,0,0,0,-1368706759,0,0,0,-279303648,0,0,0,738789131,0,0,0,1832393746,0,0,0,-214546721,0,0,0,-1308140090,0,0,0,1901359341,0,0,0,811953140,0,0,0,-135058757,0,0,0,-1228787294,0,0,0,1972444297,0,0,0,882902928,0,0,0,-71524585,0,0,0,-1165130738,0,0,0,2044635429,0,0,0,955232828,0,0,0,-8785037,0,0,0,-1102518166,0,0,0,2098971969,0,0,0,1009442392,0,0,0,89094640,0,0,0,1149133545,0,0,0,-2027073598,0,0,0,-971221797,0,0,0,25826708,0,0,0,1086000781,0,0,0,-2081938522,
0,0,0,-1025951553,0,0,0,231055416,0,0,0,1291107105,0,0,0,-1884842486,0,0,0,-828994285,0,0,0,151047260,0,0,0,1211225925,0,0,0,-1956447634,0,0,0,-900472457,0,0,0,1415429050,0,0,0,359440547,0,0,0,-700478072,0,0,0,-1760651631,0,0,0,1352194014,0,0,0,296340679,0,0,0,-755310100,0,0,0,-1815348491,0,0,0,1557619314,0,0,0,501643627,0,0,0,-558541760,0,0,0,-1618718887,0,0,0,1477578262,0,0,0,421729551,0,0,0,-630179804,0,0,0,-1690229955,0,0,0,-1486095003,0,0,0,-430250372,0,0,0,621398871,0,0,0,1681444942,0,0,0,-1548840703,
0,0,0,-492860904,0,0,0,567060275,0,0,0,1627241514,0,0,0,-1344199507,0,0,0,-288342092,0,0,0,763564703,0,0,0,1823607174,0,0,0,-1423685431,0,0,0,-367701040,0,0,0,692485883,0,0,0,1752655330,0,0,0,-159826129,0,0,0,-1220008906,0,0,0,1947928861,0,0,0,891949572,0,0,0,-222538933,0,0,0,-1282586542,0,0,0,1893623161,0,0,0,837779040,0,0,0,-17570073,0,0,0,-1077740034,0,0,0,2089930965,0,0,0,1033948108,0,0,0,-97088893,0,0,0,-1157131878,0,0,0,2018819249,0,0,0,962963368,0,0,0,1268286267,0,0,0,178886690,0,0,0,-906316535,
0,0,0,-1999917552,0,0,0,1331556191,0,0,0,242021446,0,0,0,-851453587,0,0,0,-1945189772,0,0,0,1125276403,0,0,0,35865066,0,0,0,-1049596735,0,0,0,-2143193128,0,0,0,1205286551,0,0,0,115748238,0,0,0,-977993563,0,0,0,-2071716932,0,0,0,445268337,0,0,0,1539005032,0,0,0,-1729595581,0,0,0,-640062374,0,0,0,508505365,0,0,0,1602106892,0,0,0,-1674765529,0,0,0,-585367490,0,0,0,302028985,0,0,0,1395753888,0,0,0,-1872580981,0,0,0,-783043182,0,0,0,382072029,0,0,0,1475669956,0,0,0,-1800944913,0,0,0,-711534090,0,0,0,-373553234,
0,0,0,-1467147081,0,0,0,1809723804,0,0,0,720317061,0,0,0,-310809654,0,0,0,-1404538669,0,0,0,1864064504,0,0,0,774522593,0,0,0,-516497818,0,0,0,-1610103425,0,0,0,1666508884,0,0,0,577106765,0,0,0,-437014014,0,0,0,-1530746597,0,0,0,1737589808,0,0,0,648060713,0,0,0,-1196505628,0,0,0,-106963203,0,0,0,986510294,0,0,0,2080237775,0,0,0,-1133794944,0,0,0,-44387687,0,0,0,1040818098,0,0,0,2134410411,0,0,0,-1339810772,0,0,0,-250280139,0,0,0,843459102,0,0,0,1937191175,0,0,0,-1260294072,0,0,0,-170890415,0,0,0,914572922,
0,0,0,2008178019,0,0,0,1322777291,0,0,0,266789330,0,0,0,-860500743,0,0,0,-1920673824,0,0,0,1242732207,0,0,0,186879414,0,0,0,-932142947,0,0,0,-1992180860,0,0,0,1180508931,0,0,0,124532762,0,0,0,-1002498767,0,0,0,-2062676440,0,0,0,1117278055,0,0,0,61428862,0,0,0,-1057326763,0,0,0,-2117377460,0,0,0,533018753,0,0,0,1593058200,0,0,0,-1649996109,0,0,0,-594143830,0,0,0,453006565,0,0,0,1513181180,0,0,0,-1721605417,0,0,0,-665617970,0,0,0,391110985,0,0,0,1451162192,0,0,0,-1792157829,0,0,0,-736310174,0,0,0,327847213,
0,0,0,1388025396,0,0,0,-1847018721,0,0,0,-791044090,0,0,0,-319586722,0,0,0,-1379769017,0,0,0,1855015020,0,0,0,799036277,0,0,0,-399109574,0,0,0,-1459156701,0,0,0,1783899144,0,0,0,728055569,0,0,0,-461789290,0,0,0,-1521959793,0,0,0,1713082788,0,0,0,657099453,0,0,0,-524497934,0,0,0,-1584541461,0,0,0,1658781120,0,0,0,602924761,0,0,0,-1109279724,0,0,0,-53434611,0,0,0,1065585190,0,0,0,2125631807,0,0,0,-1188769680,0,0,0,-132789399,0,0,0,994502210,0,0,0,2054683995,0,0,0,-1251252772,0,0,0,-195395899,0,0,0,
923358190,0,0,0,1983400183,0,0,0,-1313994312,0,0,0,-258010463,0,0,0,869023626,0,0,0,1929192595,0,0,0,0,0,0,0,929743361,0,0,0,1859421187,0,0,0,1505641986,0,0,0,-592967417,0,0,0,-339555578,0,0,0,-1300460284,0,0,0,-2062135547,0,0,0,-1202646258,0,0,0,-1891905265,0,0,0,-695888115,0,0,0,-504408820,0,0,0,1694046729,0,0,0,1402198024,0,0,0,170761738,0,0,0,1028086795,0,0,0,1889740316,0,0,0,1204413469,0,0,0,511156767,0,0,0,689791006,0,0,0,-1408553189,0,0,0,-1688081126,0,0,0,-1025529064,0,0,0,-172660455,0,0,
0,-923650798,0,0,0,-6752493,0,0,0,-1507413743,0,0,0,-1857260784,0,0,0,341457941,0,0,0,590413332,0,0,0,2056173590,0,0,0,1306819095,0,0,0,-532263624,0,0,0,-684945607,0,0,0,-1902982853,0,0,0,-1174926534,0,0,0,1022247999,0,0,0,193234494,0,0,0,1379582012,0,0,0,1699742269,0,0,0,1477926454,0,0,0,1870502967,0,0,0,918805045,0,0,0,27858996,0,0,0,-2067835087,0,0,0,-1277848272,0,0,0,-362032334,0,0,0,-587132621,0,0,0,-1864013020,0,0,0,-1483757275,0,0,0,-30281945,0,0,0,-916771546,0,0,0,1280139811,0,0,0,2066194466,
0,0,0,580511264,0,0,0,368256033,0,0,0,682915882,0,0,0,534690347,0,0,0,1180761129,0,0,0,1896496680,0,0,0,-199462611,0,0,0,-1015631060,0,0,0,-1698106066,0,0,0,-1381877969,0,0,0,-1064461712,0,0,0,-135833487,0,0,0,-1369891213,0,0,0,-1724654478,0,0,0,472224631,0,0,0,726618486,0,0,0,1928402804,0,0,0,1167840629,0,0,0,2027719038,0,0,0,1337346943,0,0,0,369626493,0,0,0,560123772,0,0,0,-1535868807,0,0,0,-1826733448,0,0,0,-895482758,0,0,0,-37042565,0,0,0,-1339114388,0,0,0,-2025554323,0,0,0,-554026897,0,0,0,-376374674,
0,0,0,1820767595,0,0,0,1542223722,0,0,0,38941032,0,0,0,892924777,0,0,0,142585698,0,0,0,1058368867,0,0,0,1722493793,0,0,0,1371662688,0,0,0,-724064667,0,0,0,-474127260,0,0,0,-1174199706,0,0,0,-1922441113,0,0,0,550229832,0,0,0,396432713,0,0,0,1310675787,0,0,0,2037748042,0,0,0,-60563889,0,0,0,-888595378,0,0,0,-1833477556,0,0,0,-1512204211,0,0,0,-1734687674,0,0,0,-1343224249,0,0,0,-162643899,0,0,0,-1054571964,0,0,0,1144180033,0,0,0,1935150912,0,0,0,719735106,0,0,0,495749955,0,0,0,1349054804,0,0,0,1728197461,
0,0,0,1052538199,0,0,0,165066582,0,0,0,-1933510573,0,0,0,-1146471854,0,0,0,-501973936,0,0,0,-713114031,0,0,0,-398859686,0,0,0,-548200357,0,0,0,-2031262119,0,0,0,-1316510632,0,0,0,881978205,0,0,0,66791772,0,0,0,1514499934,0,0,0,1831841119,0,0,0,-2145700383,0,0,0,-1217267744,0,0,0,-288378398,0,0,0,-643468317,0,0,0,1555250406,0,0,0,1809448679,0,0,0,845658341,0,0,0,84769508,0,0,0,944383727,0,0,0,253813998,0,0,0,1453236972,0,0,0,1643405549,0,0,0,-454938648,0,0,0,-746000919,0,0,0,-1976128533,0,0,0,-1118017046,
0,0,0,-256371715,0,0,0,-942484996,0,0,0,-1637050370,0,0,0,-1459202561,0,0,0,739252986,0,0,0,461035771,0,0,0,1120182009,0,0,0,1974361336,0,0,0,1223229683,0,0,0,2139341554,0,0,0,641565936,0,0,0,290932465,0,0,0,-1807676940,0,0,0,-1557410827,0,0,0,-90862089,0,0,0,-838905866,0,0,0,1616738521,0,0,0,1463270104,0,0,0,243924186,0,0,0,971194075,0,0,0,-1124765218,0,0,0,-1952468001,0,0,0,-769526307,0,0,0,-448055332,0,0,0,-670274601,0,0,0,-278484522,0,0,0,-1227296812,0,0,0,-2119029291,0,0,0,77882064,0,0,0,869179601,
0,0,0,1785784019,0,0,0,1561994450,0,0,0,285105861,0,0,0,664050884,0,0,0,2116737734,0,0,0,1228937415,0,0,0,-866756670,0,0,0,-79915581,0,0,0,-1568484415,0,0,0,-1779953216,0,0,0,-1464906293,0,0,0,-1614442550,0,0,0,-964965944,0,0,0,-250541111,0,0,0,1946633420,0,0,0,1131251405,0,0,0,450085071,0,0,0,767099598,0,0,0,1083617169,0,0,0,2013031824,0,0,0,776088466,0,0,0,422111635,0,0,0,-1673615722,0,0,0,-1420532585,0,0,0,-219536747,0,0,0,-981409644,0,0,0,-121127777,0,0,0,-810713442,0,0,0,-1777125220,0,0,0,-1585841507,
0,0,0,611300760,0,0,0,319125401,0,0,0,1253781915,0,0,0,2110911386,0,0,0,808814989,0,0,0,123685772,0,0,0,1591807374,0,0,0,1770770319,0,0,0,-325222262,0,0,0,-604552565,0,0,0,-2109143927,0,0,0,-1255946616,0,0,0,-2006672765,0,0,0,-1089578878,0,0,0,-424665472,0,0,0,-774185855,0,0,0,1422693252,0,0,0,1671844229,0,0,0,974657415,0,0,0,225629574,0,0,0,-1596923223,0,0,0,-1749409624,0,0,0,-838572374,0,0,0,-110189397,0,0,0,2088299438,0,0,0,1259481519,0,0,0,313290669,0,0,0,633777580,0,0,0,411169191,0,0,0,803943334,
0,0,0,1985312164,0,0,0,1094694821,0,0,0,-1003882336,0,0,0,-213697887,0,0,0,-1426228061,0,0,0,-1650999646,0,0,0,-797719371,0,0,0,-417790284,0,0,0,-1096335178,0,0,0,-1983020361,0,0,0,215731634,0,0,0,1001459635,0,0,0,1645169073,0,0,0,1432718256,0,0,0,1747113915,0,0,0,1598559674,0,0,0,116806584,0,0,0,832344505,0,0,0,-1265967428,0,0,0,-2082464579,0,0,0,-631350593,0,0,0,-315320130,0,0,0,0,0,0,0,1701297336,0,0,0,-1949824598,0,0,0,-290474734,0,0,0,1469538959,0,0,0,854646327,0,0,0,-597726427,0,0,0,-1187457123,
0,0,0,-282544955,0,0,0,-1974531971,0,0,0,1692450159,0,0,0,25625047,0,0,0,-1195387318,0,0,0,-573019406,0,0,0,863494112,0,0,0,1443914584,0,0,0,-1621681840,0,0,0,-97475096,0,0,0,345968890,0,0,0,1912122434,0,0,0,-926909473,0,0,0,-1381513369,0,0,0,1124627061,0,0,0,644861645,0,0,0,1887415701,0,0,0,353898797,0,0,0,-71850945,0,0,0,-1630529401,0,0,0,669568794,0,0,0,1116697506,0,0,0,-1407138128,0,0,0,-918062584,0,0,0,1051669152,0,0,0,1539870232,0,0,0,-1251525878,0,0,0,-805271630,0,0,0,1765298223,0,0,0,207613079,
0,0,0,-487564923,0,0,0,-2020088515,0,0,0,-779647387,0,0,0,-1260373283,0,0,0,1515163599,0,0,0,1059599223,0,0,0,-2045713174,0,0,0,-478717870,0,0,0,232320320,0,0,0,1757368824,0,0,0,-1577571344,0,0,0,-996174008,0,0,0,707797594,0,0,0,1331142370,0,0,0,-160478849,0,0,0,-1828129337,0,0,0,2108113109,0,0,0,415300717,0,0,0,1322295093,0,0,0,733422477,0,0,0,-988244321,0,0,0,-1602278873,0,0,0,424148410,0,0,0,2082488578,0,0,0,-1836059632,0,0,0,-135771992,0,0,0,1029182619,0,0,0,1480566819,0,0,0,-1232069327,0,0,0,
-738745975,0,0,0,1791981076,0,0,0,262720172,0,0,0,-519602242,0,0,0,-2074033402,0,0,0,-764370850,0,0,0,-1223222042,0,0,0,1505274356,0,0,0,1021252940,0,0,0,-2048408879,0,0,0,-528449943,0,0,0,238013307,0,0,0,1799911363,0,0,0,-1576071733,0,0,0,-949440141,0,0,0,700908641,0,0,0,1285601497,0,0,0,-174559420,0,0,0,-1862282244,0,0,0,2119198446,0,0,0,456645206,0,0,0,1294448910,0,0,0,675284406,0,0,0,-957370204,0,0,0,-1551365092,0,0,0,447798145,0,0,0,2144823097,0,0,0,-1854352853,0,0,0,-199266669,0,0,0,66528827,
0,0,0,1720752771,0,0,0,-2009124975,0,0,0,-312962263,0,0,0,1415595188,0,0,0,822605836,0,0,0,-542618338,0,0,0,-1160777306,0,0,0,-320892162,0,0,0,-1984418234,0,0,0,1729600340,0,0,0,40904684,0,0,0,-1152847759,0,0,0,-567325495,0,0,0,813758939,0,0,0,1441219939,0,0,0,-1667219605,0,0,0,-104365101,0,0,0,392705729,0,0,0,1913621113,0,0,0,-885563932,0,0,0,-1370431140,0,0,0,1090475086,0,0,0,630778102,0,0,0,1938328494,0,0,0,384775958,0,0,0,-129990140,0,0,0,-1658372420,0,0,0,606071073,0,0,0,1098405273,0,0,0,-1344806773,
0,0,0,-894411725,0,0,0,1001806317,0,0,0,1590814037,0,0,0,-1333899193,0,0,0,-719721217,0,0,0,1814117218,0,0,0,155617242,0,0,0,-404147512,0,0,0,-2104586640,0,0,0,-727782104,0,0,0,-1309060720,0,0,0,1599530114,0,0,0,976312378,0,0,0,-2096525401,0,0,0,-428985569,0,0,0,146900493,0,0,0,1839610549,0,0,0,-1528741699,0,0,0,-1048118267,0,0,0,791234839,0,0,0,1246688687,0,0,0,-210361806,0,0,0,-1777230198,0,0,0,2025728920,0,0,0,500799264,0,0,0,1271526520,0,0,0,783173824,0,0,0,-1073611310,0,0,0,-1520025238,0,0,0,
475961079,0,0,0,2033789519,0,0,0,-1751736483,0,0,0,-219077659,0,0,0,85551949,0,0,0,1618925557,0,0,0,-1898880281,0,0,0,-340337057,0,0,0,1385040322,0,0,0,938063226,0,0,0,-649723800,0,0,0,-1138639664,0,0,0,-365830264,0,0,0,-1890163920,0,0,0,1643763234,0,0,0,77490842,0,0,0,-1113146105,0,0,0,-658439745,0,0,0,913224877,0,0,0,1393100821,0,0,0,-1706135011,0,0,0,-14037339,0,0,0,294026167,0,0,0,1960953615,0,0,0,-841412462,0,0,0,-1463899094,0,0,0,1175525688,0,0,0,594978176,0,0,0,1969669848,0,0,0,268532320,0,
0,0,-22098062,0,0,0,-1681296438,0,0,0,586261591,0,0,0,1201019119,0,0,0,-1455837699,0,0,0,-866250427,0,0,0,116280694,0,0,0,1669984718,0,0,0,-1926871844,0,0,0,-398329756,0,0,0,1366896633,0,0,0,874419009,0,0,0,-625924525,0,0,0,-1076454677,0,0,0,-372835917,0,0,0,-1935588085,0,0,0,1645146137,0,0,0,124341409,0,0,0,-1101948100,0,0,0,-617207932,0,0,0,899256982,0,0,0,1358835246,0,0,0,-1715907546,0,0,0,-52500322,0,0,0,309419404,0,0,0,1997988148,0,0,0,-835832151,0,0,0,-1421243887,0,0,0,1172717315,0,0,0,545358779,
0,0,0,1989271779,0,0,0,334912603,0,0,0,-44439223,0,0,0,-1740745231,0,0,0,554074732,0,0,0,1147223764,0,0,0,-1429304378,0,0,0,-810993794,0,0,0,943816662,0,0,0,1562821486,0,0,0,-1282836868,0,0,0,-688993596,0,0,0,1876303193,0,0,0,179413473,0,0,0,-467790605,0,0,0,-2122733493,0,0,0,-680932589,0,0,0,-1307674709,0,0,0,1554105017,0,0,0,969309697,0,0,0,-2130794084,0,0,0,-442952412,0,0,0,188129334,0,0,0,1850809486,0,0,0,-1491704186,0,0,0,-1032725954,0,0,0,752774956,0,0,0,1236915092,0,0,0,-259980279,0,0,0,-1780041551,
0,0,0,2068385187,0,0,0,506376475,0,0,0,1212076611,0,0,0,760835835,0,0,0,-1007232023,0,0,0,-1500420271,0,0,0,531214540,0,0,0,2060323956,0,0,0,-1805534874,0,0,0,-251263522,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,
"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,
0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,
0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",
0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],da);ca.__str455=g([115,116,114,101,97,109,32,101,114,114,111,114,0],"i8",da);ca.__str657=g([105,110,115,117,102,102,105,99,105,101,110,116,32,109,101,109,111,114,121,0],"i8",da);ca.__str758=g([98,117,102,102,101,114,32,101,114,114,111,114,0],"i8",da);Ic=g([3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,13,0,15,0,17,0,19,0,23,0,27,0,31,0,35,0,43,0,51,0,59,0,67,0,83,0,99,0,115,0,131,0,163,0,195,0,227,0,258,0,0,0,0,0],["i16",0,"i16",0,"i16",0,
"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],da);Kc=g([16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,17,0,17,0,17,0,17,0,18,0,18,0,18,0,18,0,19,0,19,0,19,0,19,0,20,0,20,0,20,0,20,0,21,0,21,0,21,0,21,0,16,0,73,0,195,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],da);Lc=g([1,0,2,0,3,0,4,0,5,0,7,0,9,0,13,0,17,0,25,0,33,0,49,0,65,0,97,0,129,0,193,0,257,0,385,0,513,0,769,0,1025,0,1537,0,2049,0,3073,0,4097,0,6145,0,8193,0,12289,0,16385,0,24577,0,0,0,0,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],da);Qc=g([16,0,16,0,16,0,16,0,17,0,17,0,18,0,18,0,19,0,19,0,20,0,20,0,21,0,21,0,22,0,22,0,23,0,23,0,24,0,24,0,25,0,25,0,26,0,26,0,27,0,27,0,28,0,28,0,29,0,29,0,64,0,64,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",
0,"i16",0],da);ca.__str69=g([105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,32,116,111,111,32,102,97,114,32,98,97,99,107,0],"i8",da);ca.__str170=g([105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,32,99,111,100,101,0],"i8",da);ca.__str271=g([105,110,118,97,108,105,100,32,108,105,116,101,114,97,108,47,108,101,110,103,116,104,32,99,111,100,101,0],"i8",da);V=g(468,["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,
0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,
"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"i32",0,0,0,"i32",0,0,
0,"i32",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0,"i32",0,0,0],da);Va=g(24,"i32",da);c[Fb]=Gc|0;c[Fb+4]=uc|0;c[ac]=tc|0;c[ac+4]=Hc|0;c[Fc+4]=Gb|0;Aa=[0,0,function(a,b,c){0!=(a|0)&&(b=-c+c+b|0);return qa(c*b|0)},0,function(a,b){Xa(b)},0,K,0,N,0,L,0];ta.FUNCTION_TABLE=Aa;ta.run=hb;var wc=b[a];return function(){var c,d,e;oa.init(function(){if(d<c.length){var a=c.charCodeAt(d)&255;d++;return a}return null},function(a){e+=String.fromCharCode(a&255)});return{inflate:function(a){c=a;d=
0;e="";if(0!=hb(["-d"]))throw Error("Could not inflate string");return e},deflate:function(a){c=a;d=0;e="";if(0!=hb([]))throw Error("Could not deflate string");return e},noConflict:function(){void 0===wc?delete b[a]:b[a]=wc;return this}}}()});var \u00dc=function(a){a.scene={};a.wgl_renderer={};var b=null;a.init=function(){a._.preloader.on();b=document.getElementById("wgl");a.scene=new THREE.Scene;a.wgl_renderer=new THREE.WebGLRenderer({alpha:!0});a.wgl_renderer.setSize(b.offsetWidth,b.offsetHeight);a.wgl_renderer.setClearColor(0,0);b.appendChild(a.wgl_renderer.domElement)};window.addEventListener("resize",function(){a.wgl_renderer&&a._.omnibus&&(a.wgl_renderer.setSize(b.offsetWidth,b.offsetHeight),a._.omnibus.update())});a.setStartingLocation=
function(b,e){var f=new a._.unitBuilder(19.486971,-99.117902,[1]);a.scene.add(f.unit);f=new a._.unitBuilder(19.487229,-99.117819,[0,1]);f.unit.position.x=1E3;a.scene.add(f.unit);f=new a._.unitBuilder(19.487556,-99.117715,[0],function(){a._.preloader.off()});f.unit.position.x=2E3;a.scene.add(f.unit);a.scene.add(a._.omnibus.van)};a.animate=function(){requestAnimationFrame(a.animate);a._.masterAnimate.bang();a.wgl_renderer.render(a.scene,a._.omnibus.camera)};return a}(\u00dc||{});\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};\u00dc._.littleEndian=function(){var a=new ArrayBuffer(2);(new DataView(a)).setInt16(0,256,!0);return 256===(new Int16Array(a))[0]}();\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};
\u00dc._.imageOps=function(a){a.canvasCopyPrep=function(a,d){var e=a.width,f=a.height,h=a.getContext("2d"),g=h.getImageData(0,0,e,f),k=new Int32Array(g.data.buffer);this.img=document.createElement("canvas");this.img.width=e;this.img.height=f;var l=this.img.getContext("2d"),n=l.createImageData(e,f),p=new Int32Array(n.data.buffer);d(e,f,k,p,g,n,h,l);l.putImageData(n,0,0)};a.canvasDataPrep=function(a){this.w=a.width;this.h=a.height;this.ctx=a.getContext("2d");this.dat=this.ctx.getImageData(0,0,this.w,
this.h);this.px=new Int32Array(this.dat.data.buffer);this.putData=function(){this.ctx.putImageData(this.dat,0,0)}};a.copy=function(a){var d=document.createElement("canvas");d.width=a.width;d.height=a.height;d.getContext("2d").drawImage(a,0,0);return d};a.flipX=function(b){return(new a.canvasCopyPrep(b,function(a,b,f,h){for(y=0;y<b;y++)for(x=0;x<a;x++)h[a-x+y*a]=f[x+y*a]})).img};a.flipY=function(b){return(new a.canvasCopyPrep(b,function(a,b,f,h){for(y=0;y<srh;y++)for(a=srh-y,x=0;x<srw;x++)h[x+a*srw]=
f[x+y*srw]})).img};a.backwards=function(b){return(new a.canvasCopyPrep(b,function(a,b,f,h){a*=b;for(texel=0;texel<a;texel++)h[texel]=f[a-1-texel]})).img};a.resize=function(a,d,e,f){var h=a.width,g=a.height,k=document.createElement("canvas");f?(k.width=d,k.height=e):(k.width=h*d,k.height=g*e);k.getContext("2d").drawImage(a,0,0,k.width,k.height);return k};a.alphaIntersect=function(b,d,e){var f=-16777216;e&&(f=-1);return(new a.canvasCopyPrep(b,function(b,e,k,l){b=a.resize(d,b,e,!0);b=new a.canvasDataPrep(b);
for(texel=0;texel<k.length;texel++)l[texel]=b.px[texel]===f?0:-16777216})).img};a.cropInPlace=function(a,d,e,f,h,g){var k=document.createElement("canvas");k.width=a.width;k.height=a.height;var l=k.getContext("2d");g?(e=k.width-e-d,h=k.height-h-f):(d*=k.width,e=k.width*(1-e)-d,f*=k.height,h=k.height*(1-h)-f);l.drawImage(a,d,f,e,h,d,f,e,h);return k};a.makeDisplacementMap=function(b,d,e){var f=document.createElement("canvas");f.width=d;f.height=e;e=new a.canvasDataPrep(f);var h=\u00dc._.littleEndian;
for(i=0;i<b.length;i++){var g=(i/d|0)*d+(d-i%d),k=b[i],l=0,l=1E4<k?255:k/199*255;e.px[g]=h?-16777216|l<<16|l<<8|l:l<<24|l<<16|l<<8|255}e.putData();return f};a.cannyEdge=function(b){return(new a.canvasCopyPrep(b,function(a,b,f,h,g){a=new jsfeat.matrix_t(a,b,jsfeat.U8C1_t);jsfeat.imgproc.grayscale(g.data,a.data);jsfeat.imgproc.canny(a,a,95,105);if(\u00dc._.littleEndian)for(txl=0;txl<h.length;txl++)g=a.data[txl],h[txl]=-16777216|g<<16|g<<8|g;else for(txl=0;txl<h.length;txl++)g=a.data[txl],h[txl]=g<<
24|g<<16|g<<8|255})).img};return a}({});\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};\u00dc._.masterAnimate=function(a){var b=[];a.start=function(a){if("function"===typeof a)b.push(a);else throw"masterRender only takes functions";};a.stop=function(a){a=b.indexOf(a);if(-1<a)b.splice(a,1);else throw"masterRender cannot find that to stop";};a.bang=function(){for(i=0;i<b.length;i++)b[i]()};return a}({});\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};
\u00dc._.omnibus=function(a){function b(a){m=a.clientX;t=a.clientY;n=!0}function d(){u=s=0;n=!1}function e(a){n&&(p=a.clientX,q=a.clientY,s=(t-q)/window.innerWidth*2,u=(p-m)/window.innerHeight*6,t=q,m=p)}function f(a){switch(a.keyCode){case 87:r=50;break;case 65:w=-50;break;case 83:r=-50;break;case 68:w=50}}function h(a){switch(a.keyCode){case 87:r=0;break;case 65:w=0;break;case 83:r=0;break;case 68:w=0}}function g(a){a.addEventListener("mousedown",b,!1);a.addEventListener("mouseup",d,!1);a.addEventListener("mousemove",
e,!1);document.addEventListener("keydown",f,!1);document.addEventListener("keyup",h,!1)}a.van=new THREE.Object3D;var k=new THREE.Vector3(1,0,0),l=new THREE.Vector3(0,0,-1);a.camera=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,4E4);a.van.add(k);a.van.add(l);a.van.add(a.camera);var n=!1,p=0,q=0,m=0,t=0,s=0,u=0,r=0,w=0;$(document).ready(function(){var b=document.getElementById("wgl");a.update=function(){a.camera.projectionMatrix.makePerspective(70,b.offsetWidth/b.offsetHeight,
1,4E4)};a.setCursor=function(a){b.style.cursor=a};g(b)});\u00dc._.masterAnimate.start(function(){a.van.rotation.y+=-u;a.camera.rotation.x+=-s;a.van.translateOnAxis(k,w);a.van.translateOnAxis(l,r)});return a}({});\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};\u00dc._.preloader=function(a){var b=new Image;b.src="../static/virgo_preload_draft.gif";a.on=function(){var a=document.getElementById("preloader");b.onload=function(){a.appendChild(b)}};a.off=function(){var a=$("#preloader");a.fadeOut(100,"linear",function(){a.css("display","none")});\u00dc._.omnibus.setCursor("all-scroll")};return a}({});\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};
\u00dc._.project=function(a){var b=new THREE.WebGLRenderer,d=function(a){this.w=a.width;this.h=a.height;this.scene=new THREE.Scene;this.camera=new THREE.PerspectiveCamera(90,1,1E-4,1E4);var b=new THREE.Texture(a);a=new THREE.SphereGeometry(100,100,100);b=new THREE.MeshBasicMaterial({map:b});a=new THREE.Mesh(a,b);a.scale.x=-1;a.material.map.needsUpdate=!0;this.scene.add(a);this.scene.add(this.camera);this.snapshot=function(a,b,d,e){this.camera.lookAt(new THREE.Vector3(a,b,d));e.render(this.scene,this.camera);
return \u00dc._.imageOps.copy(e.domElement)}};a.sphereToCube=function(a){a=new d(a);var f=Math.floor(Math.sqrt(a.w*a.h/6));b.setSize(f,f);var f=a.snapshot(-1,0,0,b),h=a.snapshot(1,0,0,b),g=a.snapshot(0,-1,0,b),k=a.snapshot(0,1,0,b),l=a.snapshot(0,0,-1,b);a=a.snapshot(0,0,1,b);return[f,h,g,k,l,a]};return a}({});\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};
\u00dc._.shaders={basicDisplacement:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap,{enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1}}]),vertexShader:["uniform bool enableDisplacement;\n#ifdef VERTEX_TEXTURES\n\tuniform sampler2D tDisplacement;\n\tuniform float uDisplacementScale;\n\tuniform float uDisplacementBias;\n#endif",THREE.ShaderChunk.map_pars_vertex,
THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"varying vec3 vWorldPosition;\nvarying vec3 vViewPosition;\nvoid main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,
THREE.ShaderChunk.skinnormal_vertex,"\t#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"\tvec3 displacedPosition;\n\t#ifdef VERTEX_TEXTURES\n\t\tif ( enableDisplacement ) {\n\t\t\tvec3 dv = texture2D( tDisplacement, uv ).xyz;\n\t\t\tfloat df = uDisplacementScale * dv.x + uDisplacementBias;\n\t\t\tdisplacedPosition = position + normalize( normal ) * df;\n\t\t}\n\t#endif\n\tvec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );\n\tvec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\tvWorldPosition = worldPosition.xyz;\n\tvViewPosition = -mvPosition.xyz;\n\t#ifdef USE_SHADOWMAP\n\t\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\t\t}\n\t#endif\n}"].join("\n"),
fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tgl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,
THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")}};\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};
\u00dc._.unitBuilder=function(a,b,d,e){this.unit=new THREE.Object3D;this.location=new google.maps.LatLng(a,b);this.knockouts=d;this.callback=e;var f=this;a=new GSVPANO.PanoLoader;a.setZoom(3);var h=new GSVPANO.PanoDepthLoader,g=function(a){var b={},d=0,e=0,f=[],g={};a.setMapData=function(a){b=a};a.setDispDataAndMakeMap=function(a,b,h){d=a;e=b;f=h;g=\u00dc._.imageOps.makeDisplacementMap(f,e,d)};a.getPanos=function(){return[b,g]};return a}({});a.load(this.location);a.onPanoramaLoad=function(){g.setMapData(this.canvas[0]);
h.load(this.panoId)};h.onDepthLoad=function(){g.setDispDataAndMakeMap(this.depthMap.height,this.depthMap.width,this.depthMap.depthMap);var a=6-f.knockouts.length,b=g.getPanos(),d=\u00dc._.project.sphereToCube(b[0]),e=\u00dc._.project.sphereToCube(b[1]),h=[],b=[],m=0;for(i=0;6>i;i++)-1===f.knockouts.indexOf(i)&&(h[m]=d[i],b[m]=e[i],m++);d=[];for(i=0;i<a;i++)d[i]=\u00dc._.imageOps.cannyEdge(h[i]);e=[];for(i=0;i<a;i++)e[i]=\u00dc._.imageOps.alphaIntersect(h[i],d[i]);h=[];d=[];for(i=0;i<a;i++)h[i]=new THREE.Texture(e[i]),
d[i]=new THREE.Texture(b[i]);THREE.ShaderMaterial.prototype.map=null;THREE.ShaderMaterial.prototype.tDisplacement=null;b=[];for(i=0;i<a;i++)e=\u00dc._.shaders.basicDisplacement,m=THREE.UniformsUtils.clone(e.uniforms),m.enableDisplacement.value=!0,m.map.value=h[i],m.tDisplacement.value=d[i],m.uDisplacementBias.value=0,m.uDisplacementScale.value=0,b[i]=new THREE.ShaderMaterial({uniforms:m,fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,map:h[i],tDisplacement:d[i],transparent:!0});d=[];for(i=
0;i<a;i++)d[i]=new THREE.PlaneGeometry(1E3,1E3,1,1);h=[];for(i=0;i<a;i++)h[i]=new THREE.Mesh(d[i],b[i]),h[i].material.map.needsUpdate=!0,h[i].material.tDisplacement.needsUpdate=!0;for(i=a=0;6>i;i++)if(-1===f.knockouts.indexOf(i)){switch(i){case 0:h[a].rotation.y=Math.PI/2;h[a].position.x=-500;break;case 1:h[a].rotation.y=-Math.PI/2;h[a].position.x=500;break;case 2:h[a].rotation.x=-Math.PI/2;h[a].rotation.z=.5*Math.PI;h[a].position.y=-500;break;case 3:h[a].rotation.x=Math.PI/2;h[a].rotation.z=-Math.PI/
2;h[a].position.y=500;break;case 4:h[a].position.z=-500;break;case 5:h[a].rotation.y=Math.PI,h[a].position.z=500}f.unit.add(h[a]);a++}if(f.callback&&"function"===typeof f.callback)f.callback();else if(f.callback&&"function"!==typeof f.callback)throw"invalid unitBuilder callback!!";}};\u00dc=\u00dc||{};\u00dc._=\u00dc._||{};\u00dc._.worldBuilder=function(a){}({});$(document).ready(function(){\u00dc.init();\u00dc.setStartingLocation(19.486357,-99.118097);\u00dc.animate()});
