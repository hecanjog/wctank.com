#!/usr/bin/python2

"""
WcTank.com

Usage:
    wct dev
    wct bootstrap
    wct run 

Options:
    dev         Bootstrap and run server locally, use raw source files.
    bootstrap   Create and populate posts and jobs db
    run         Only run server, use compiled sources.
"""

from wctank import app, db, populate, controller
from docopt import docopt

if __name__ == '__main__':
    args = docopt(__doc__)

    def bootstrap():
        db.create_all()
        populate.updateDb()

    if args['dev'] == True:
        controller.dev_template = True
        bootstrap()
        app.run('0.0.0.0')

    if args['bootstrap'] == True:
        bootstrap()
    
    if args['run'] == True:
        app.run('0.0.0.0')

